!(function (t) {
  function e(n) {
    if (i[n]) return i[n].exports;
    const r = (i[n] = { i: n, l: !1, exports: {} });
    return t[n].call(r.exports, r, r.exports, e), (r.l = !0), r.exports;
  }
  var i = {};
  (e.m = t),
  (e.c = i),
  (e.i = function (t) {
    return t;
  }),
  (e.d = function (t, i, n) {
    e.o(t, i) ||
        Object.defineProperty(t, i, {
          configurable: !1,
          enumerable: !0,
          get: n,
        });
  }),
  (e.n = function (t) {
    const i =
        t && t.__esModule
          ? function () {
            return t.default;
          }
          : function () {
            return t;
          };
    return e.d(i, 'a', i), i;
  }),
  (e.o = function (t, e) {
    return Object.prototype.hasOwnProperty.call(t, e);
  }),
  (e.p = '/'),
  e((e.s = 740));
}([
  function (t, e, i) {
    let n = i(9),
      r = i(36),
      a = i(25),
      o = i(26),
      s = i(37),
      u = function t(e, i, u) {
        let l,
          c,
          h,
          d,
          f = e & t.F,
          p = e & t.G,
          g = e & t.S,
          y = e & t.P,
          v = e & t.B,
          m = p ? n : g ? n[i] || (n[i] = {}) : (n[i] || {}).prototype,
          b = p ? r : r[i] || (r[i] = {}),
          _ = b.prototype || (b.prototype = {});
        p && (u = i);
        for (l in u) {
          (c = !f && m && void 0 !== m[l]),
          (h = (c ? m : u)[l]),
          (d =
              v && c
                ? s(h, n)
                : y && typeof h === 'function'
                  ? s(Function.call, h)
                  : h),
          m && o(m, l, h, e & t.U),
          b[l] != h && a(b, l, d),
          y && _[l] != h && (_[l] = h);
        }
      };
    (n.core = r),
    (u.F = 1),
    (u.G = 2),
    (u.S = 4),
    (u.P = 8),
    (u.B = 16),
    (u.W = 32),
    (u.U = 64),
    (u.R = 128),
    (t.exports = u);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      function e(t) {
        return {
          place(e) {
            const i = { x: e.x, y: e.y };
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/place',
                  targets: t,
                  data: i,
                  resetActivityQueue: e.resetActivityQueue,
                  addAsLast: e.addAsLast,
                }),
              this
            );
          },
          move(e) {
            let i = y.default.getInstance(),
              n = i.getCoords(t, e);
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/move',
                  targets: t,
                  data: n,
                  resetActivityQueue: e.resetActivityQueue,
                  addAsLast: e.addAsLast,
                }),
              this
            );
          },
          follow(e) {
            const i = e.targetEntity;
            if (!i) return this;
            const n = t.filter(t => e.targetEntity !== t);
            return n.length === 0
              ? this
              : (d.default
                .getInstance()
                .add({
                  id: 'entity/follow',
                  targets: n,
                  data: { targetEntity: i.getGUID() },
                  resetActivityQueue: e.resetActivityQueue,
                  addAsLast: e.addAsLast,
                }),
              this);
          },
          patrol(e) {
            const i = y.default.getInstance();
            return (
              (e.coords = i.getCoords(t, e)),
              d.default
                .getInstance()
                .add({
                  id: 'entity/patrol',
                  targets: t,
                  data: e,
                  resetActivityQueue: e.resetActivityQueue,
                  addAsLast: e.addAsLast,
                }),
              this
            );
          },
          holdPosition(e) {
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/holdposition',
                  targets: t,
                  resetActivityQueue: e.resetActivityQueue,
                  addAsLast: e.addAsLast,
                }),
              this
            );
          },
          stop(e) {
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/stop',
                  targets: t,
                  resetActivityQueue: e.resetActivityQueue,
                  addAsLast: e.addAsLast,
                }),
              this
            );
          },
          remove(e) {
            return (
              d.default
                .getInstance()
                .add({ id: 'entity/remove', targets: t, data: e }),
              this
            );
          },
          reset() {
            return (
              d.default.getInstance().add({ id: 'entity/reset', targets: t }),
              this
            );
          },
          fire(e) {
            let i = e.targetEntity,
              n = [],
              r = 0;
            return i
              ? (t.forEach((t, e) => {
                n[e] = t
                  .getWeaponManager()
                  .getWeaponsCanFireEntity(i)
                  .map(t => (r += 1), t.getGUID());
              }),
              r &&
                  d.default
                    .getInstance()
                    .add({
                      id: 'entity/fire',
                      targets: t,
                      data: { weaponGUIDs: n, targetEntity: i.getGUID() },
                      resetActivityQueue: e.resetActivityQueue,
                      addAsLast: e.addAsLast,
                    }),
              this)
              : this;
          },
          attack(e) {
            if (!e.targetEntity) return this;
            let i = c({}, e, { targetEntity: e.targetEntity.getGUID() }),
              n = t.filter(t => e.targetEntity !== t);
            return n.length === 0
              ? this
              : (d.default
                .getInstance()
                .add({
                  id: 'entity/attack',
                  targets: n,
                  resetActivityQueue: e.resetActivityQueue,
                  addAsLast: e.addAsLast,
                  data: i,
                }),
              this);
          },
          damage(e) {
            let i = e.weapon,
              n = i
                ? {
                  damage: i.getDamage(),
                  damageShield: i.getDamageShield(),
                  splashRange: i.getSplashRange(),
                  doesSplashDamageAllies: i.doesSplashDamageAllies(),
                  damageHullDirectly: i.doesDamageHullDirectly(),
                  CHF: i.canHitFighters(),
                  CHB: i.canHitBuildings(),
                  doesSmashDamage: i.isSmasher(),
                  ignoreArmor: i.hasArmourPiercing(),
                  killOwner: i.doesKillOwner(),
                }
                : e,
              r = i ? i.getEntity() : e.emitterEntity;
            return (
              r &&
                ((n.emitterEntity = r.getGUID()),
                (n.emitterTeam = r.getTeam())),
              d.default
                .getInstance()
                .add({ id: 'entity/damage', targets: t, data: n }),
              this
            );
          },
          repair(e) {
            return (
              d.default
                .getInstance()
                .add({ id: 'entity/repair', targets: t, data: e }),
              this
            );
          },
          castSpell(e) {
            const i = c({}, e, {
              targetEntity: e.targetEntity && e.targetEntity.getGUID(),
            });
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/castspell',
                  targets: t,
                  resetActivityQueue: e.resetActivityQueue,
                  addAsLast: e.addAsLast,
                  data: i,
                }),
              this
            );
          },
          getToDock(e) {
            const i = e.targetEntity;
            return i
              ? new Promise(((n) => {
                d.default
                  .getInstance()
                  .add({
                    id: 'entity/getToDock',
                    targets: t,
                    data: {
                      targetEntity: i.getGUID(),
                      addAsLast: e.addAsLast,
                    },
                    resetActivityQueue: e.resetActivityQueue,
                    addAsLast: e.addAsLast,
                    callback: n,
                  });
              }))
              : this;
          },
          dock(e) {
            const i = e.targetEntity;
            return i
              ? (d.default
                .getInstance()
                .add({
                  id: 'entity/dock',
                  targets: t,
                  data: { targetEntity: i.getGUID() },
                  resetActivityQueue: e.resetActivityQueue,
                  addAsLast: e.addAsLast,
                }),
              this)
              : this;
          },
          undock(e) {
            let i = (e && e.resetActivityQueue) || !1,
              n = (e && e.addAsLast) || !1,
              r = e || {},
              a = r.clearBound,
              o = r.onlyRepaired,
              s = r.targetEntity;
            return new Promise(((e) => {
              d.default.getInstance().add({
                id: 'entity/undock',
                targets: t,
                data: {
                  rnd: t.map((t) => {
                    for (
                      var e = t.getDataObject().getMaxHangar(),
                        i = [],
                        n = e - 1;
                      n >= 0;
                      n -= 1
                    ) { i.push({ x: Math.random(), y: Math.random() }); }
                    return i;
                  }),
                  targetEntity: s && s.getGUID(),
                  clearBound: a,
                  onlyRepaired: o,
                },
                resetActivityQueue: i,
                addAsLast: n,
                callback: e,
              });
            }));
          },
          mine(e) {
            const i = e.targetEntity;
            return i
              ? (d.default
                .getInstance()
                .add({
                  id: 'entity/mine',
                  targets: t,
                  data: { targetEntity: i.getGUID() },
                  resetActivityQueue: e.resetActivityQueue,
                  addAsLast: e.addAsLast,
                }),
              this)
              : this;
          },
          alterCargo(e) {
            return new Promise(((i) => {
              d.default
                .getInstance()
                .add({
                  id: 'entity/cargo/alter',
                  targets: t,
                  data: e,
                  callback: i(),
                });
            }));
          },
          attach(e) {
            const i = e.targetEntity;
            return i
              ? (d.default
                .getInstance()
                .add({
                  id: 'entity/cargo/attach',
                  targets: t,
                  data: { targetEntity: i.getGUID() },
                }),
              this)
              : this;
          },
          detach() {
            return (
              d.default
                .getInstance()
                .add({ id: 'entity/cargo/detach', targets: t }),
              this
            );
          },
          addProduction(e) {
            return (
              d.default
                .getInstance()
                .add({ id: 'entity/production/add', targets: t, data: e }),
              this
            );
          },
          cancelProduction(e) {
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/production/cancel',
                  targets: t,
                  data: { productionSlotIdx: e },
                }),
              this
            );
          },
          addResearch(e) {
            return (
              d.default
                .getInstance()
                .add({ id: 'entity/research/add', targets: t, data: e }),
              this
            );
          },
          cancelResearch() {
            return (
              d.default
                .getInstance()
                .add({ id: 'entity/research/cancel', targets: t }),
              this
            );
          },
          createConstructionSite(e) {
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/construction/create',
                  targets: t,
                  resetActivityQueue: e.resetActivityQueue,
                  addAsLast: e.addAsLast,
                  data: e,
                }),
              this
            );
          },
          cancelConstruction() {
            return (
              d.default
                .getInstance()
                .add({ id: 'entity/construction/cancel', targets: t }),
              this
            );
          },
          construct(e) {
            let i = e.targetEntity,
              n = e.resetActivityQueue,
              r = e.addAsLast;
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/construct',
                  targets: t,
                  data: { targetEntity: i.getGUID() },
                  resetActivityQueue: n,
                  addAsLast: r,
                }),
              this
            );
          },
          constructionCompleted() {
            return (
              d.default
                .getInstance()
                .add({ id: 'entity/construction/completed', targets: t }),
              this
            );
          },
          returnResourceToStation(e) {
            let i = e.targetEntity,
              n = e.resetActivityQueue,
              r = e.addAsLast;
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/mine/returnCargo',
                  targets: t,
                  data: { targetEntity: i.getGUID() },
                  resetActivityQueue: n,
                  addAsLast: r,
                }),
              this
            );
          },
          returnResourceToCommand(e) {
            let i = e.targetEntity,
              n = e.resetActivityQueue,
              r = e.addAsLast;
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/cargo/returncommand',
                  targets: t,
                  data: { targetEntity: i.getGUID() },
                  resetActivityQueue: n,
                  addAsLast: r,
                }),
              this
            );
          },
          setRallyPoint(e) {
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/setrallypoint',
                  targets: t,
                  data: { coords: e },
                }),
              this
            );
          },
          createDeploymentSite(e) {
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/deployment/create',
                  targets: t,
                  resetActivityQueue: e.resetActivityQueue,
                  addAsLast: e.addAsLast,
                  data: e,
                }),
              this
            );
          },
          addSpell(e) {
            const i = e.emitterEntity && e.emitterEntity.getGUID();
            return (
              t.forEach(t => t.getSpellManager().willActivate(e.spellId)),
              d.default
                .getInstance()
                .add({
                  id: 'entity/spell/add',
                  targets: t,
                  data: c({}, e, { emitterEntity: i }),
                }),
              this
            );
          },
          removeSpell(e) {
            return (
              d.default
                .getInstance()
                .add({ id: 'entity/spell/remove', targets: t, data: e }),
              this
            );
          },
          transform(e) {
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/transform',
                  targets: t,
                  resetActivityQueue: e.resetActivityQueue,
                  addAsLast: e.addAsLast,
                }),
              this
            );
          },
          upgrade(e) {
            return (
              d.default
                .getInstance()
                .add({
                  id: 'entity/upgrade',
                  targets: t,
                  upgradeTo: e.upgradeTo,
                }),
              this
            );
          },
          sprout(e) {
            return (
              d.default
                .getInstance()
                .add({ id: 'entity/sprout', targets: t, data: e }),
              this
            );
          },
        };
      }
      function i(i) {
        let n = t.getSelector(t.entities()),
          r = n(i);
        return e([].concat.call(r));
      }
      return (
        (i.add = function (t) {
          return new Promise(((e, i) => {
            t || i(),
            t.guid || (t.guid = p.default.getGUID()),
            t.createdAt || (t.createdAt = new Date().getTime()),
            t.homeStation && (t.homeStation = t.homeStation.getGUID()),
            d.default
              .getInstance()
              .add({
                id: 'entity/create',
                data: t,
                callback: e.bind(null, t.guid),
              });
          }));
        }),
        i
      );
    }
    function a(t) {
      function e(t) {
        return {
          alter(e) {
            t.forEach((t) => {
              const i = c({ guid: t.getGUID() }, e);
              d.default
                .getInstance()
                .add({ id: 'player/resource/alter', data: i });
            });
          },
          researchCompleted(e) {
            t.forEach((t) => {
              const i = c({ guid: t.getGUID() }, e);
              d.default
                .getInstance()
                .add({ id: 'player/research/completed', data: i });
            });
          },
        };
      }
      function i(i) {
        let n = void 0;
        return (
          typeof i === 'string' || typeof i === 'number'
            ? i === ':user'
              ? (n = t.getUser())
              : void 0 !== i && (n = t.getPlayerByGUID(i))
            : (n =
                (void 0 === i ? 'undefined' : l(i)) === 'object'
                  ? i
                  : t.getPlayers()),
          e([].concat.call(n))
        );
      }
      return (
        (i.add = function (t) {
          return new Promise(((e, i) => {
            t || i(),
            t.guid || (t.guid = p.default.getGUID()),
            d.default
              .getInstance()
              .add({
                id: 'player/create',
                data: t,
                callback: e.bind(null, t.guid),
              });
          }));
        }),
        i
      );
    }
    function o(t) {
      function e(t) {
        return {
          remove() {
            d.default.getInstance().add({ id: 'effect/remove', targets: t });
          },
        };
      }
      function i(i) {
        let n = void 0;
        return (
          (void 0 === i ? 'undefined' : l(i)) === 'object'
            ? (n = i)
            : void 0 !== i && (n = t.getEffectByGUID(i)),
          e([].concat.call(n))
        );
      }
      return (
        (i.add = function (t) {
          return new Promise(((e, i) => {
            t || i(),
            t.guid || (t.guid = p.default.getGUID()),
            d.default
              .getInstance()
              .add({
                id: 'effect/create',
                data: t,
                callback: e.bind(null, t.guid),
              });
          }));
        }),
        i
      );
    }
    function s() {
      return { local: new p.default.EventDispatcher() };
    }
    function u(t) {
      return {
        entities: r(t.entityManager),
        players: a(t.playerManager),
        effects: o(t.effectManager),
      };
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var l =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          },
      c =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      h = i(203),
      d = n(h),
      f = i(3),
      p = n(f),
      g = i(510),
      y = n(g),
      v = void 0;
    e.default = {
      getInstance() {
        return v || (v = s()), v;
      },
      createSyncedEmitter(t) {
        (v = this.getInstance()), (v.synced = u(t));
      },
    };
  },
  function (t, e, i) {
    Object.defineProperty(e, '__esModule', { value: !0 });
    let n = window.location.origin || '',
      r = window.location.pathname || '',
      a = (e.BASE_URL = `${n}${r.replace('index.html', '')}`),
      o = ((e.PUBLIC_URL = a), (e.DEFAULT_CANVAS_WIDTH = 1280)),
      s = (e.DEFAULT_CANVAS_HEIGHT = 720),
      u =
        ((e.DESIRED_FPS_STEP = 0.016666666666666666),
        (e.DESIRED_FPS_ELAPSED = 16),
        (e.SUPPORTED_LOCALES = ['en_US', 'en_GB'])),
      l =
        ((e.DEFAUT_LOCALE = u[0]),
        (e.TILE_WIDTH = 40),
        (e.TILE_HEIGHT = 40),
        (e.SCROLL_SPEED = 10),
        (e.ENTITY_SIZES = {
          xsm: { width: 25, height: 25 },
          sm: { width: 50, height: 50 },
          m: { width: 75, height: 75 },
          l: { width: 100, height: 100 },
          xl: { width: 125, height: 125 },
          xxl: { width: 150, height: 150 },
        }),
        (e.ENTITY_GUI_SIZES = {
          big: [100, 124],
          extrabig: [125, 999],
          medium: [50, 99],
          small: [0, 49],
        }),
        (e.SLOW_MANOUVERABAILITY_TRESHOLD = 25),
        (e.MAX_SELECTABLE_UNITS = 24),
        (e.SHIELD_CHARGE_RATE_IN_TURNS = 100),
        (e.SHIELD_ACTIVITY_TRESHOLD = 10),
        (e.POWER_CHARGE_RATE_IN_TURNS = 100),
        (e.ANIMATION_IDLE_FOREVER = 'idle-forever'),
        (e.ANIMATION_DEPLOY = 'deploy'),
        (e.ANIMATION_REVERSE_DEPLOY = 'reverse-deploy'),
        (e.ANIMATION_WITHERS = 'withers'),
        (e.ANIMATION_REVERSE_WITHERS = 'reverse-withers'),
        (e.LOW_HP_TRESHOLD = 0.25),
        (e.ANIMATION_OFFSET_WHEN_ICONS_ARE_INTEGRATED = 3),
        (e.ENTITY_DEFAULT_VISION_RANGE = 200),
        (e.ENTITY_DFEAULT_VISION_OFFSET = 2),
        (e.MELEE_RANGE = 120),
        (e.ENTITY_ICON_CONSTRUCT = 0),
        (e.ENTITY_ICON = 1),
        (e.ENTITY_ICON_DIMENSIONS = { width: 128, height: 111 }),
        (e.ENTITY_ICON_SMALL = 2),
        (e.ENTITY_ICON_SMALL_DIMENSIONS = { width: 51, height: 51 }),
        (e.WEAPON_INSTANCE_DELAY = 10),
        (e.WEAPON_ACCURACY_SPREAD_IN_DEGREES = 60)),
      c =
        ((e.WEAPON_ACCURACY_SPREAD_IN_RADIAN = Phaser.Math.degToRad(l)),
        (e.RESOURCE_TYPE_TITANIUM = 1));
    (e.RESOURCE_TYPE_SILICIUM = 2),
    (e.RESOURCE_TYPE_URANIUM = 3),
    (e.DEFAULT_RESOURCE_PRIORITY = c),
    (e.REPAIR_HANGAR_RETURN_TRESHOLD = 0.5),
    (e.REPAIR_HANGAR_REPAIR_RATE = 400),
    (e.GROUP_EFFECTS = 'effects'),
    (e.GROUP_ENTITIES = 'entities'),
    (e.GROUP_FOGOFWAR = 'fogofwar'),
    (e.GROUP_GUI = 'gui'),
    (e.GROUP_TOOLTIPS = 'tooltips'),
    (e.DEFAULT_STARFIELD_BACKGROUND_TILE = 'starfield-1'),
    (e.DEFAULT_FONT = { font: '11px BerlinSansFB-Reg', color: '#77C7D2' }),
    (e.MENU_FONT = {
      font: '11px conthraxsemibold',
      color: '#99eded',
      onHover: '#ffffff',
      onDisabled: '#999999',
    }),
    (e.NOTIFICATION_PANEL = {
      x: 180,
      y: s - 76,
      width: 861,
      height: 63,
      fadeAnimationDuration: 500,
      displayTime: 3e3,
    }),
    (e.MISSION_OBJECTIVE_BAR = { x: 20, y: 20 }),
    (e.MISSION_NOTIFICATIONS = { x: 20, y: 60 }),
    (e.INGAME_TIMER_DISPLAY = { x: o / 2, y: 90 }),
    (e.CLICK_ANIMATIONS = {
      frameRate: 20,
      animations: {
        'click-move': [
          'click_move_00000.png',
          'click_move_00001.png',
          'click_move_00002.png',
          'click_move_00003.png',
          'click_move_00004.png',
          'click_move_00005.png',
          'click_move_00006.png',
          'click_move_00007.png',
          'click_move_00008.png',
          'click_move_00009.png',
          'click_move_00010.png',
          'click_move_00011.png',
          'click_move_00012.png',
          'click_move_00013.png',
          'click_move_00014.png',
        ],
        'click-rallyPoint': [
          'click_rallypoint_00000.png',
          'click_rallypoint_00001.png',
          'click_rallypoint_00002.png',
          'click_rallypoint_00003.png',
          'click_rallypoint_00004.png',
          'click_rallypoint_00005.png',
          'click_rallypoint_00006.png',
          'click_rallypoint_00007.png',
          'click_rallypoint_00008.png',
          'click_rallypoint_00009.png',
          'click_rallypoint_00010.png',
          'click_rallypoint_00011.png',
          'click_rallypoint_00012.png',
          'click_rallypoint_00013.png',
          'click_rallypoint_00014.png',
        ],
        'click-enemy': [
          'click_targetenemy_00000.png',
          'click_targetenemy_00001.png',
          'click_targetenemy_00002.png',
          'click_targetenemy_00003.png',
          'click_targetenemy_00004.png',
          'click_targetenemy_00005.png',
          'click_targetenemy_00006.png',
          'click_targetenemy_00007.png',
          'click_targetenemy_00008.png',
          'click_targetenemy_00009.png',
          'click_targetenemy_00010.png',
          'click_targetenemy_00011.png',
          'click_targetenemy_00012.png',
          'click_targetenemy_00013.png',
          'click_targetenemy_00014.png',
        ],
        'click-friendly': [
          'click_targetfriend_00000.png',
          'click_targetfriend_00001.png',
          'click_targetfriend_00002.png',
          'click_targetfriend_00003.png',
          'click_targetfriend_00004.png',
          'click_targetfriend_00005.png',
          'click_targetfriend_00006.png',
          'click_targetfriend_00007.png',
          'click_targetfriend_00008.png',
          'click_targetfriend_00009.png',
          'click_targetfriend_00010.png',
          'click_targetfriend_00011.png',
          'click_targetfriend_00012.png',
          'click_targetfriend_00013.png',
          'click_targetfriend_00014.png',
        ],
        'click-neutral': [
          'click_targetneutral_00000.png',
          'click_targetneutral_00001.png',
          'click_targetneutral_00002.png',
          'click_targetneutral_00003.png',
          'click_targetneutral_00004.png',
          'click_targetneutral_00005.png',
          'click_targetneutral_00006.png',
          'click_targetneutral_00007.png',
          'click_targetneutral_00008.png',
          'click_targetneutral_00009.png',
          'click_targetneutral_00010.png',
          'click_targetneutral_00011.png',
          'click_targetneutral_00012.png',
          'click_targetneutral_00013.png',
          'click_targetneutral_00014.png',
        ],
      },
    }),
    (e.PORTRAITS = {
      tip: { name: 'TIPS AND TRICKS:' },
      hurricane: {
        name: 'Hurricane Pilot',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_01.png',
      },
      orca: {
        name: 'Orca Pilot',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_02.png',
      },
      hailstorm: {
        name: 'Hailstorm Captain',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_03.png',
      },
      stgeorge: {
        name: 'St. George Commander',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_04.png',
      },
      avenger: {
        name: 'Avenger Commander',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_05.png',
      },
      icarus: {
        name: 'Icarus Pilot',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_06.png',
      },
      engineershuttle: {
        name: 'Engineer Shuttle Operator',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_07.png',
      },
      kutuzov: {
        name: 'Kutuzov Captain',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_08.png',
      },
      pasteur: {
        name: 'Pasteur Scientist',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_09.png',
      },
      dresda: {
        name: 'Dresda Commander',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_10.png',
      },
      crow: {
        name: 'Crow Pilot',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_11.png',
      },
      teller: {
        name: 'Teller Operator',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_12.png',
      },
      galileo: {
        name: 'Galileo Captain',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_13.png',
      },
      khan: {
        name: 'Khan Captain',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_14.png',
      },
      gunboat: {
        name: 'Gunboat Pilot',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_15.png',
      },
      pirateicarus: {
        name: 'Pirate Icarus Operator',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_16.png',
      },
      trinity: {
        name: 'Trinity Operator',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_17.png',
      },
      cormoran: {
        name: 'Cormoran Pilot',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_18.png',
      },
      antonvargas: {
        name: 'Anton Vargas',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_19.png',
      },
      bencobler: {
        name: 'Benjamin Cobler',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_20.png',
      },
      gregleskovsky: {
        name: 'Greg Leskovsky',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_21.png',
      },
      salamonzamor: {
        name: 'Salamon Zamor',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_22.png',
      },
      sterlingbuckner: {
        name: 'Sterling Buckner',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_23.png',
      },
      victorkomarov: {
        name: 'Victor Komarov',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_24.png',
      },
      veravargas: {
        name: 'Vera Vargas',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_25.png',
      },
      jacquesboyer: {
        name: 'Jacques Boyer',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_26.png',
      },
      aida: {
        name: 'AIDA',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_27.png',
      },
      eirascientist: {
        name: 'EIRA Scientist',
        spritesheet: 'gui-dialog-portraits-fed',
        frameName: 'ingame_fed_13.png',
      },
      nephral: {
        name: 'Nephral',
        spritesheet: 'gui-dialog-portraits-ath',
        frameName: 'ingame_ath_10.png',
      },
    }),
    (e.DIALOG_DISPLAY = { x: 300, y: s - 250 }),
    (e.TOTAL_NUMBER_OF_PLAYERS = 8),
    (e.PLAYER_MANAGER_COLORS = [
      '0x08A2EA',
      '0x10B308',
      '0xF28209',
      '0xBA10D9',
      '0xD40F0F',
      '0xF8F8F9',
      '0xE5C410',
      '0x65615D',
    ]),
    (e.RACE_FEDERATION = 1),
    (e.RACE_SYLON = 2),
    (e.RACE_ATHRAEL = 3),
    (e.RACE_THORUN = 4),
    (e.RACE_ZHOGARN = 5),
    (e.DEFAULT_AUDIO_SPRITE = 'sfx');
  },
  function (t, e, i) {
    Object.defineProperty(e, '__esModule', { value: !0 });
    const n =
      typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
        ? function (t) {
          return typeof t;
        }
        : function (t) {
          return t &&
              typeof Symbol === 'function' &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
            ? 'symbol'
            : typeof t;
        };
    e.default = {
      RGBToHex(t, e, i) {
        let n = Math.round(256 * t),
          r = Math.round(256 * e),
          a = Math.round(256 * i);
        return (
          (n = n.toString(16)),
          (r = r.toString(16)),
          (a = a.toString(16)),
          n.length === 1 && (n = `0${n}`),
          r.length === 1 && (r = `0${r}`),
          i.length === 1 && (a = `0${a}`),
          `#${n}${r}${a}`
        );
      },
      rnd(t, e) {
        return Math.floor(Math.random() * (e - t + 1)) + t;
      },
      between(t, e, i) {
        return t >= e && t <= i;
      },
      getDiffBetweenRadialValues(t, e, i) {
        const n = i / 2;
        return n - Math.abs(Math.abs(t - e) - n);
      },
      isNumeric(t) {
        return Number(parseFloat(t)) === t;
      },
      calculateStepTo(t, e, i, n) {
        for (var r = 0; t !== e && r < i;) { (t = (t + n) % i), t < 0 && (t = i - 1), (r += 1); }
        return r;
      },
      getColorFromRatio(t, e) {
        let i = '#00FF00';
        return (
          t < 0.67 && t > 0.33 ? (i = '#FFFF6B') : t < 0.34 && (i = '#FF0000'),
          e !== 'hex' ? i.replace('#', '0x') : i
        );
      },
      getGUID() {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (t) => {
          const e = (16 * Math.random()) | 0;
          return (t === 'x' ? e : (3 & e) | 8).toString(16);
        });
      },
      matrix(t, e, i) {
        for (var n = [], r = 0; r < e; r += 1) {
          for (var a = [], o = 0; o < t; o += 1) {
            let s = void 0;
            typeof i === 'function' && (s = i()), (a[o] = s || i || 0);
          }
          n[r] = a;
        }
        return n;
      },
      interval(t, e, i) {
        let n = e || 0;
        return function () {
          (n += 1) > e &&
            ((n = 0),
            t.apply(i || null, Array.prototype.slice.call(arguments)));
        };
      },
      intervalMilliseconds(t, e, i) {
        let n,
          r = new Date().getTime();
        return function () {
          (n = new Date().getTime()),
          n - r > e &&
              t.apply(i || null, Array.prototype.slice.call(arguments)),
          (r = n);
        };
      },
      distanceBetween(t, e) {
        let i = t.sprite.x - e.sprite.x,
          n = t.sprite.y - e.sprite.y;
        return Math.sqrt(i * i + n * n);
      },
      distanceBetweenSprites(t, e) {
        let i = t.x - e.x,
          n = t.y - e.y;
        return Math.sqrt(i * i + n * n);
      },
      distanceBetweenEntityAndCoords(t, e) {
        let i = t.sprite.x - e.x,
          n = t.sprite.y - e.y;
        return Math.sqrt(i * i + n * n);
      },
      getAngleBetweenCoords(t, e) {
        return Phaser.Math.radToDeg(Math.atan2(e.y - t.y, e.x - t.x));
      },
      setMatrixValues(t, e) {
        for (let i = t.length - 1; i >= 0; i -= 1) { for (let n = t[i].length - 1; n >= 0; n -= 1) t[i][n] = e; }
        return t;
      },
      areCoordsEqual(t, e) {
        let i = t.x,
          n = t.y,
          r = e.x,
          a = e.y;
        return i === r && n === a;
      },
      deepClone: function t(e) {
        let i,
          r,
          a;
        i = Array.isArray(e) ? [] : {};
        for (a in e) {
          Object.prototype.hasOwnProperty.call(e, a) &&
            ((r = e[a]),
            (i[a] =
              (void 0 === r ? 'undefined' : n(r)) === 'object' ? t(r) : r));
        }
        return i;
      },
      postponify(t) {
        return function () {
          setTimeout(t, 0);
        };
      },
      randomizeCoordinates(t, e) {
        for (
          var i = t.length,
            n = i === 1 ? 0 : Math.max(8 * i, 50),
            r = [],
            a = i - 1;
          a >= 0;
          a -= 1
        ) {
          r.push({
            x: e.x - n / 2 + this.rnd(0, n),
            y: e.y - n / 2 + this.rnd(0, n),
          });
        }
        return r;
      },
      EventDispatcher: (function () {
        function t() {
          (this.events = {}), (this.dirty = !1);
        }
        return (
          (t.prototype.events = {}),
          (t.prototype.addEventListener = function (t, e) {
            return (
              this.events[t] || (this.events[t] = []),
              this.events[t].push(e),
              this
            );
          }),
          (t.prototype.removeEventListener = function (t, e) {
            if (!this.events[t]) return this;
            const i = this.events[t].indexOf(e);
            return e && this.events[t][i]
              ? ((this.events[t][i] = null), (this.dirty = !0), this)
              : (this.events[t].forEach((t) => {
                t && t.splice && t.splice(0);
              }),
              (this.dirty = !0),
              this);
          }),
          (t.prototype.dispatch = function (t, e) {
            if (this.events[t]) {
              for (const i in this.events[t]) {
                this.events[t][i] &&
                  (typeof this.events[t][i] === 'function'
                    ? this.events[t][i](e)
                    : n(this.events[t][i]) === 'object' &&
                      this.events[t][i][1].call(this.events[t][i][0], e));
              }
              this.dirty && this.clean();
            }
          }),
          (t.prototype.reset = function () {
            const t = this;
            this.events &&
              Object.keys(this.events)
                .map(e => t.events[e])
                .forEach(t => t.splice(0)),
            (this.events = {});
          }),
          (t.prototype.clean = function () {
            const t = this;
            Object.keys(this.events).forEach((e) => {
              t.events[e] = t.events[e].filter(t => t);
            }),
            (this.dirty = !1);
          }),
          t
        );
      }()),
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(76),
      s = n(o),
      u = i(181),
      l = n(u),
      c = i(643),
      h = n(c),
      d = i(2),
      f = [],
      p = void 0,
      g = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'reset',
              value() {
                f.forEach(t => t.destroy()),
                (f = []),
                (this.user = void 0);
              },
            },
            {
              key: 'addPlayer',
              value(t) {
                if (!t) { throw new Error('Invalid configuration for constructing a Player instance!'); }
                const e = new h.default(t);
                return (
                  f.push(e),
                  t &&
                    t.bot &&
                    ((t.player = e), l.default.getInstance().addBot(t)),
                  e
                );
              },
            },
            {
              key: 'getPlayers',
              value() {
                return f;
              },
            },
            {
              key: 'getUser',
              value() {
                if (!this.user) {
                  for (let t = f.length - 1; t >= 0 && !this.user; t -= 1) { f[t].isControlledByUser() && (this.user = f[t]); }
                }
                return this.user;
              },
            },
            {
              key: 'getPlayerByGUID',
              value(t) {
                if (!t) { throw new Error('First parameter must be a valid guid!'); }
                for (let e = f.length - 1; e >= 0; e -= 1) { if (f[e].getGUID() === t) return f[e]; }
                return null;
              },
            },
            {
              key: 'getPlayerByTeam',
              value(t) {
                if (!t) { throw new Error('First parameter must be a valid Team Id!'); }
                for (let e = f.length - 1; e >= 0; e -= 1) { if (f[e].getTeam() === t) return f[e]; }
                return null;
              },
            },
            {
              key: 'getPlayersNumber',
              value() {
                return f.length;
              },
            },
            {
              key: 'getColors',
              value() {
                return d.PLAYER_MANAGER_COLORS;
              },
            },
            {
              key: 'isPlayerHostileToPlayer',
              value(t, e) {
                return (
                  !t.isIndependent() &&
                  !e.isIndependent() &&
                  !s.default.getInstance().isPlayerAlliedWith(t, e) &&
                  t.getTeam() !== e.getTeam()
                );
              },
            },
            {
              key: 'isEntityHostileToPlayer',
              value(t, e) {
                return this.isPlayerHostileToPlayer(e, t.getPlayer());
              },
            },
            {
              key: 'isUserAuthorised',
              value() {
                return (
                  void 0 === this.authorised &&
                    (this.authorised = this.getUser().isAuthorised()),
                  this.authorised
                );
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance(t) {
        return p || (p = new g()), t && p.reset(), p;
      },
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = (function () {
        function t() {
          n(this, t);
        }
        return r(t, [{ key: 'execute', value() {} }]), t;
      }());
    e.default = a;
  },
  function (t, e, i) {
    const n = i(13);
    t.exports = function (t) {
      if (!n(t)) throw TypeError(`${t} is not an object!`);
      return t;
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(2),
      o = void 0,
      s = void 0,
      u = void 0,
      l = (function () {
        function t() {
          n(this, t), this.loadLanguageFragments(), this.initLocale();
        }
        return (
          r(t, [
            {
              key: 'loadLanguageFragments',
              value() {
                const t = this;
                (this.fragments = {}),
                a.SUPPORTED_LOCALES.forEach((e) => {
                  t.fragments[e] = s.cache.getJSON(e);
                });
              },
            },
            {
              key: 'initLocale',
              value() {
                (o =
                  navigator.languages && navigator.languages.length
                    ? navigator.languages[0]
                    : navigator.language),
                a.SUPPORTED_LOCALES.every(t => o !== t) && (o = a.DEFAUT_LOCALE);
              },
            },
            {
              key: 'translate',
              value(t) {
                return t ? this.fragments[o][t] || t : '';
              },
            },
            {
              key: 'getLocale',
              value() {
                return o;
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      setGame(t) {
        s = t;
      },
      getInstance() {
        if (!s) { throw new Error('Invoke setGame first to pass required Phaser.Game instance!'); }
        return u || (u = new l()), u;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(2),
      u = i(437),
      l = n(u),
      c = i(1),
      h = n(c),
      d = i(438),
      f = n(d),
      p = i(3),
      g = n(p),
      y = i(439),
      v = n(y),
      m = i(182),
      b = n(m),
      _ = window.fivenations,
      w = {},
      x = [],
      P = void 0,
      k = void 0,
      T = {},
      O = (function () {
        function t() {
          r(this, t);
        }
        return (
          o(t, [
            {
              key: 'loadAudioSprite',
              value(t) {
                const e =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 1;
                T[t] || ((w[t] = new l.default(P, t, e)), (T[t] = !0));
              },
            },
            {
              key: 'addEventListeners',
              value() {
                let t = this,
                  e = h.default.getInstance().local;
                Object.keys(f.default).forEach((i) => {
                  t.bindListener(e, i, f.default[i]);
                });
              },
            },
            {
              key: 'bindListener',
              value(t, e, i) {
                const n = this;
                t.addEventListener(e, function () {
                  (i.test && !i.test()) ||
                    (i.sprite && i.marker && n.playAudioSprite(i),
                    i.callback && i.callback(...arguments));
                });
              },
            },
            {
              key: 'playAudioSprite',
              value(t) {
                let e = t.sprite,
                  i = t.marker,
                  n = t.randomizePitch,
                  r = t.pitch;
                if (!w[e]) return null;
                let a = { sprite: e, marker: i, time: new Date().getTime() },
                  o = x.findIndex(t => t.sprite === e && t.marker === i);
                if (o !== -1) {
                  if (a.time - x[o].time < 50) return null;
                  x[o] = a;
                } else x.push(a);
                let s = t.volume;
                s
                  ? (s *= v.default.getMasterVolume(t))
                  : (s = b.default.getMasterVolume());
                const u = w[e].play(i, 0, s, !1, !1);
                return (
                  n
                    ? (r = 1 + 0.1 * (Math.floor(5 * Math.random()) - 2))
                    : r || (r = 1),
                  u._sound ? ((u._sound.playbackRate.value = r), u) : null
                );
              },
            },
            {
              key: 'playAudioSpriteByConfig',
              value(t) {
                if (!t || !t.length) return null;
                let e = t.volume || b.default.getMasterVolume(),
                  i = t.sprite || s.DEFAULT_AUDIO_SPRITE,
                  n = t.pitch || 1,
                  r = void 0;
                if (t.length > 1) { r = t[Math.round(Math.random() * (t.length - 1))]; } else if (t.length === 1) {
                  const o = a(t, 1);
                  r = o[0];
                }
                return this.playAudioSprite({
                  randomizePitch: !0,
                  sprite: i,
                  marker: r,
                  volume: e,
                  pitch: n,
                });
              },
            },
            {
              key: 'stopAll',
              value() {
                Object.keys(w).forEach(t => w[t].stop());
              },
            },
            {
              key: 'calculateVolumeByCamera',
              value(t) {
                let e = {
                    x: P.camera.x + _.window.halfWidth,
                    y: P.camera.y + _.window.halfHeight,
                  },
                  i = g.default.distanceBetweenSprites(t, e);
                return i <= _.window.halfWidth / 2
                  ? b.default.getMasterVolume()
                  : (_.window.halfWidth / 2 / i) * b.default.getMasterVolume();
              },
            },
            {
              key: 'mute',
              value() {
                Object.keys(w)
                  .map(t => w[t].sprites)
                  .forEach(t => t.forEach((t) => {
                    t.mute = !0;
                  }));
              },
            },
            {
              key: 'unmute',
              value() {
                Object.keys(w)
                  .map(t => w[t].sprites)
                  .forEach(t => t.forEach((t) => {
                    t.mute = !1;
                  }));
              },
            },
            {
              key: 'setVolume',
              value(t) {
                t > 1 ||
                  t < 0 ||
                  Object.keys(w)
                    .map(t => w[t].sprites)
                    .forEach(e => e.forEach((e) => {
                      t === 0
                        ? (e.mute = !0)
                        : ((e.mute = !1), b.default.setMasterVolume(t));
                    }));
              },
            },
            {
              key: 'getVolume',
              value() {
                return b.default.getMasterVolume();
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      setGame(t) {
        P = t;
      },
      getInstance() {
        if (!P) { throw new Error('Invoke setGame first to pass the Phaser Game entity!'); }
        return k || (k = new O()), k;
      },
    };
  },
  function (t, e, i) {
    const n = (t.exports =
      typeof window !== 'undefined' && window.Math == Math
        ? window
        : typeof self !== 'undefined' && self.Math == Math
          ? self
          : Function('return this')());
    typeof __g === 'number' && (__g = n);
  },
  function (t, e, i) {
    function n() {
      return s || (s = new o.default()), s;
    }
    function r(t, e) {
      n().add(t, e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 }), (e.install = r);
    var a = i(440),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a));
    i(478),
    i(481),
    i(482),
    i(485),
    i(488),
    i(486),
    i(487),
    i(489),
    i(491),
    i(492),
    i(493),
    i(495),
    i(496),
    i(498),
    i(500),
    i(501),
    i(502),
    i(506),
    i(504),
    i(484),
    i(490),
    i(483),
    i(494),
    i(497),
    i(503),
    i(477),
    i(499),
    i(505),
    i(480),
    i(479);
    var s = void 0;
    e.default = { getInstance: n };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      const e = /:player\(([1-9+])\)/;
      return function (i) {
        let n = void 0;
        if (typeof i === 'function') n = t.filter(i);
        else if (typeof i === 'string') {
          if (i === ':selected') n = j;
          else if (i === ':not(hibernated)') { n = t.filter(t => !t.isHibernated()); } else if (i === ':user') { n = t.filter(t => t.isEntityControlledByUser()); } else if (i === ':user+sharedvision') {
            let r = T.default.getInstance().getUser(),
              a = g.default.getInstance();
            n = t.filter((t) => {
              const e = t.getPlayer();
              return e === r || a.isVisionSharedBetweenPlayers(r, e);
            });
          } else if (i === ':onscreen') {
            let o = R.window,
              u = o.width,
              l = o.height;
            n = t.filter((t) => {
              const e = t.getSprite();
              return (
                !!C.default.between(e.x - L.camera.x, 0, u) &&
                !!C.default.between(e.y - L.camera.y, 0, l)
              );
            });
          } else if (i === ':user:selected') {
            (n = j.filter(t => !!t.isEntityControlledByUser() && !!t.isSelected())),
            n.length > 1 &&
                (n = n.filter(t => !t.hasNoUserControl()));
          } else if (i === ':user:selected:not(building)') {
            n = j.filter(t => !(
              !t.isEntityControlledByUser() ||
                !t.isSelected() ||
                t.hasNoUserControl() ||
                t.getDataObject().isBuilding()
            ));
          } else {
            if (!e.test(i)) {
              return (
                (n = t.filter(t => t.getGUID() === i)),
                n[0]
              );
            }
            const c = parseInt(i.match(e)[1], 10);
            n = t.filter(t => t.getDataObject().getTeam() === c);
          }
        } else n = (void 0 === i ? 'undefined' : s(i)) === 'object' ? i : t;
        return [].concat.call(n);
      };
    }
    function a() {
      if (!L) { throw new Error('Invoke setGame first to pass the Phaser Game entity!'); }
      (this.entityGroup = l.default.getInstance().getGroup(A.GROUP_ENTITIES)),
      (this.effectGroup = l.default.getInstance().getGroup(A.GROUP_EFFECTS)),
      (this.updateEntityDistancesOptimised = C.default.interval(
        this.updateEntityDistances,
        50,
        this,
      )),
      (this.shipNameManager = E.default.getInstance(!0));
      const t = P.default.getInstance();
      (this.selectionChange = function (e) {
        e.isSelected()
          ? j.some(t => t.getGUID() === e.getGUID()) || j.push(e)
          : (j = j.filter(t => t.getGUID() !== e.getGUID())),
        j.some(t => t.getDataObject().getConstructionProximity() > 0)
          ? t.local.dispatch('gui/buildingplacement/show')
          : t.local.dispatch('gui/buildingplacement/hide');
      }),
      t.local.addEventListener(
        'gui/selection/change',
        this.selectionChange.bind(this),
      );
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var o =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      s =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          },
      u = i(14),
      l = n(u),
      c = i(188),
      h = n(c),
      d = i(105),
      f = n(d),
      p = i(76),
      g = n(p),
      y = i(508),
      v = n(y),
      m = i(511),
      b = n(m),
      _ = i(445),
      w = n(_),
      x = i(1),
      P = n(x),
      k = i(4),
      T = n(k),
      O = i(512),
      E = n(O),
      S = i(3),
      C = n(S),
      I = i(23),
      M = n(I),
      A = i(2),
      R = window.fivenations,
      L = void 0,
      D = void 0,
      B = [],
      j = [];
    (a.prototype = {
      add(t) {
        if (!t) return null;
        Object.keys(R.entities).indexOf(t.id) === -1 &&
          console.warn(`The requrested entity (${t.id}) is not registered!`);
        let e = void 0,
          i = t.team || 1;
        e =
          window.editor &&
          window.dataEditorStorage &&
          window.dataEditorStorage[t.id]
            ? JSON.parse(window.dataEditorStorage[t.id])
            : L.cache.getJSON(t.id);
        const n = new f.default(e);
        n.setTeam(i);
        const r = new h.default(o({ entityManager: this, dataObject: n }, t));
        return (
          t.oldData && r.inheritOldHpData(t.oldData),
          t.isSelected && r.select(),
          t.headToCoords && r.headToCoords(t.headToCoords),
          t.inConstruction && r.inConstruction(),
          t.inDeployment && r.inDeployment(),
          t.shipName
            ? n.setShipName(t.shipName)
            : n.setShipName(this.shipNameManager.getShipNameByEntity(r)),
          t.readyQuote &&
            r.getPlayer() === T.default.getInstance().getUser() &&
            P.default.getInstance().local.dispatch('user/entity/complete', r),
          n.isSpaceObject() ? B.push(r) : B.unshift(r),
          this.notifyListenersThatEntityCountHasChanged(),
          this.sortEntityGroup(),
          r
        );
      },
      remove(t, e) {
        for (var i = this, n = B.length - 1; n >= 0; n -= 1) { t === B[n] && B.splice(n, 1); }
        t.getNumberOfDockedEntities() > 0 &&
          t.getDockedEntities().forEach((t) => {
            i.remove(t);
          }),
        (j = j.filter(e => e.getGUID() !== t.getGUID())),
        t.remove(e),
        (t = null),
        this.updateEntityDistances(),
        this.notifyListenersThatEntityCountHasChanged(),
        this.sortEntityGroup();
      },
      update(t) {
        this.updateLogic(t), this.updateZDepth();
      },
      updateLogic(t) {
        this.updateEntityDistancesOptimised(),
        this.updateEntities(t),
        this.updateVisibility();
      },
      updateZDepth() {
        this.entityGroup.children.sort((t, e) => {
          const i = t._entity;
          if (i && i.hasFlyOverObstacles()) {
            const n = e._entity;
            return n && n.hasFlyOverObstacles()
              ? t.y === e.y
                ? t.x < e.x
                  ? -1
                  : 1
                : t.y < e.y
                  ? -1
                  : 1
              : 0;
          }
          return t._selector || e._selector
            ? 0
            : t.y === e.y
              ? t.x < e.x
                ? -1
                : 1
              : t.y < e.y
                ? -1
                : 1;
        }),
        this.entityGroup.updateZ();
      },
      sortEntityGroup() {
        this.entityGroup.children.sort((t) => {
          const e = t._entity;
          return e && e.hasFlyOverObstacles() ? 1 : -1;
        }),
        this.entityGroup.children.sort((t, e) => (t._selector && !e._selector
          ? -1
          : !t._selector && e._selector
            ? 1
            : 0)),
        this.entityGroup.updateZ();
      },
      updateVisibility() {
        for (let t = R.game.map.getFogOfWar(), e = 0; e < B.length; e += 1) {
          if (B[e].getDataObject().isSpaceObject()) return;
          B[e].updateVisibility(t);
        }
      },
      reset() {
        for (; B.length;) B.pop().delete();
        j = [];
      },
      unselectAll(t) {
        B.forEach((e) => {
          t !== e && e.isSelected() && e.unselect();
        });
      },
      entities: r(B),
      createQuadTree(t) {
        if (!t) throw new Error('Invalid Map instance has been passed!');
        this.quadTree = new w.default({
          x: 0,
          y: 0,
          width: t.getScreenWidth(),
          height: t.getScreenHeight(),
        });
      },
      updateEntityDistances() {
        this.preSettingClosestEntities(),
        this.setClosestEntitiesForAllEntities();
      },
      preSettingClosestEntities() {
        this.quadTree.clear();
        for (let t = B.length - 1; t >= 0; t -= 1) {
          this.quadTree.insert(B[t].getSprite()),
          B[t].resetDetectedByTeam(),
          B[t].setBeingSeenBySpy(!1);
        }
      },
      setClosestEntitiesForAllEntities() {
        for (let t = B.length - 1; t >= 0; t -= 1) { this.setClosestEntities(B[t]); }
      },
      notifyListenersThatEntityCountHasChanged() {
        const t = P.default.getInstance();
        t.local.dispatch('entity/number/change'),
        t.local.dispatch('user/resource/alter'),
        t.local.dispatch('gui/controlpage/update');
      },
      setClosestEntities(t) {
        if (t) {
          for (
            var e = this.getEntitiesInApproximity(t),
              i = null,
              n = null,
              r = null,
              a = [],
              o = e.length - 1;
            o >= 0;
            o -= 1
          ) {
            let s = e[o],
              u = s.candidate,
              l = s.inRange,
              c = s.inSpyingRange,
              h = s.inDetectRange;
            if (!u.isHibernated()) {
              let d = t.getPlayer(),
                f = u.getPlayer(),
                p = g.default.getInstance();
              t.isEnemy(u)
                ? (!r && l && (r = u),
                u.isTargetableByEntity(t) && !i && l && (i = u),
                h && u.setDetectedByTeam(t.getTeam()),
                c && u.setBeingSeenBySpy(!0))
                : (d === f || p.isPlayerAlliedWith(d, f)) &&
                  (a.push(u), !n && u.isTargetableByEntity(t) && l && (n = u));
            }
          }
          t.setClosestAttackableHostileEntity(i),
          t.setClosestAttackableAllyEntity(n),
          t.setClosestHostileEntityInRange(r),
          t.setClosestAllyEntitiesInRange(a);
        }
      },
      addEnergyShield(t) {
        const e = new v.default(L);
        return e.appendTo(t), e;
      },
      addJetEngine(t) {
        const e = new b.default(L);
        return e.appendTo(t), e;
      },
      updateEntities(t) {
        for (let e = 0; e < B.length; e += 1) {
          if (B[e].getDataObject().isSpaceObject()) return;
          B[e].update(t);
        }
      },
      findClosestMinableAsteroid(t) {
        if (!t) return null;
        const e = t.getSprite();
        return this.entities(':not(hibernated)')
          .filter(t => t.isMinable())
          .sort((t, i) => (
            C.default.distanceBetweenSprites(e, t.getSprite()) -
              C.default.distanceBetweenSprites(e, i.getSprite())
          ))
          .shift();
      },
      getMergedAbilities(t) {
        let e = void 0,
          i = void 0;
        if (!t || !t.length) return [];
        const n = t.slice(0);
        for (
          e = n
            .shift()
            .getAbilityManager()
            .getAbilities();
          (i = n.shift());

        ) {
          e = e.filter((function (t) {
            return function (e) {
              return (
                t
                  .getAbilityManager()
                  .getAbilities()
                  .indexOf(e) !==
                  -1
              );
            };
          }(i)));
        }
        return e.slice(0);
      },
      getEntitiesInApproximity(t) {
        let e =
            Math.max(
              t.getWeaponManager().getMaxRange(),
              A.ENTITY_DEFAULT_VISION_RANGE,
            ) + 80,
          i = t.getDataObject().getVisionRange(),
          n = Math.max(e, i),
          r = t.getSprite(),
          a = this.quadTree.retrieve({
            x: r.x - n,
            y: r.y - n,
            width: r.x + n,
            height: r.y + n,
          }),
          o = t.getSpyingWeapon() && t.getSpyingWeapon().getRange(),
          s = t.getDetectorWeapon() && t.getDetectorWeapon().getRange();
        return a
          .map(t => ({
            distance: C.default.distanceBetweenSprites(r, t),
            targetScore: t._entity.getDataObject().getTargetScore(),
            candidate: t,
          }))
          .filter(t => (
            t.candidate !== r &&
              !t.candidate._entity.isHibernated() &&
              t.distance <= n
          ))
          .sort((t, e) => (t.targetScore === e.targetScore
            ? e.distance - t.distance
            : t.targetScore - e.targetScore))
          .map(t => ({
            inVision: t.distance <= i,
            inRange: t.distance <= e,
            inSpyingRange: o && t.distance <= o,
            candidate: t.candidate._entity,
            distance: t.distance,
            inDetectRange: s && t.distance <= s,
          }));
      },
      getEntitiesInRange(t, e, i) {
        const n = t.getSprite();
        return this.quadTree
          .retrieve({
            x: n.x - e, y: n.y - e, width: n.x + e, height: n.y + e,
          })
          .map(t => ({
            distance: C.default.distanceBetweenSprites(n, t),
            candidate: t,
          }))
          .filter(t => (
            t.candidate !== n &&
              !t.candidate._entity.isHibernated() &&
              !(!i && t.candidate._entity.getDataObject().isSpaceObject()) &&
              t.distance <= e
          ))
          .map(t => t.candidate._entity);
      },
      getGame() {
        return L;
      },
      getSelector(t) {
        return r(t);
      },
      getHoveredEntity() {
        for (
          let t = this.entities(':not(hibernated)'), e = t.length - 1;
          e >= 0;
          e -= 1
        ) { if (!t[e].isNotClickable() && t[e].isHover()) return t[e]; }
        return null;
      },
      getRequiredResources(t) {
        return M.default.getInstance().getRequiredResources(t);
      },
      getTileDimensions(t) {
        let e = L.cache.getJSON(t),
          i = (0, d.getDimensionsBySize)(e);
        return {
          width: Math.max(Math.floor(i.width / A.TILE_WIDTH), 1) + 1,
          height: Math.max(Math.floor(i.height / A.TILE_HEIGHT), 1) + 1,
        };
      },
      canEntityBePlacedAt(t) {
        let e = t.x,
          i = t.y,
          n = t.id,
          r = t.team,
          a = t.entity,
          o = this.getTileDimensions(n),
          s = o.width,
          u = o.height,
          l = R.game.map,
          c = l.getCollisionMap(),
          h = l.getTileChunk({
            width: s, height: u, x: e, y: i,
          }),
          d = Math.floor(e / A.TILE_WIDTH),
          f = Math.floor(i / A.TILE_HEIGHT);
        if (
          d < 1 ||
          d + s > l.getWidth() + 1 ||
          f < 1 ||
          f + u > l.getHeight() + 1
        ) { return !1; }
        const p = { coords: { x: h.tileX, y: h.tileY }, id: n, team: r };
        if (this.isOutOfBuildingSite(p)) return !1;
        if (this.isTooCloseToResources(p)) return !1;
        if (this.isTooCloseToEconomyStructures(p)) return !1;
        const g = c.getMatrixChunk(h, (t, e, i) => (!i ||
            i === parseInt(i, 10) ||
            !a ||
            (a !== i.entity && i.entity.isObstacleForBuildingSites())
          ? -1
          : 0));
        return !c.isChunkOccupied(g);
      },
      isOutOfBuildingSite(t) {
        let e = t.id,
          i = t.coords,
          n = t.team;
        if (L.cache.getJSON(e).canBeBuiltAnywhere || window.mapEditorMode) { return !1; }
        let r = { x: i.x * A.TILE_WIDTH, y: i.y * A.TILE_HEIGHT },
          a = n ? `:player(${n})` : ':user';
        return !this.entities(a)
          .filter(t => t.getDataObject().getConstructionProximity() > 0)
          .some((t) => {
            let e = t.getSprite(),
              i = t.getDataObject(),
              n = i.getConstructionProximity();
            return C.default.distanceBetweenSprites(e, r) <= n;
          });
      },
      isInConstructionProximity(t) {
        let e = t.getTeam(),
          i = e ? `:player(${e})` : ':user';
        return this.entities(i)
          .filter(t => t.getDataObject().getConstructionProximity() > 0)
          .some((e) => {
            let i = e.getSprite(),
              n = e.getDataObject(),
              r = n.getConstructionProximity();
            return C.default.distanceBetweenSprites(i, t.getSprite()) <= r;
          });
      },
      isTooCloseToResources(t) {
        let e = t.id,
          i = t.coords,
          n = L.cache.getJSON(e),
          r = n.minDistanceToResources;
        if (!r) return !1;
        let a = this.getTileDimensions(e),
          o = Math.floor(a.width / 2);
        return this.entities()
          .filter(t => t.isMinable())
          .some((t) => {
            let e = t.getDataObject(),
              n = t.getTileObj(),
              a = o + Math.floor(e.getTileWidth() / 2);
            return C.default.distanceBetweenSprites(n, i) - a <= r;
          });
      },
      getNearbyResourceEntity(t) {
        let e = t.x,
          i = t.y;
        return (
          (e = Math.floor(e / A.TILE_WIDTH)),
          (i = Math.floor(i / A.TILE_HEIGHT)),
          this.entities().find((t) => {
            if (!t.isMinable()) return !1;
            const n = t.getTileObj();
            return C.default.distanceBetweenSprites(n, { x: e, y: i }) <= 3;
          }) || !1
        );
      },
      isTooCloseToEconomyStructures(t) {
        let e = t.id,
          i = t.coords,
          n = t.team,
          r = L.cache.getJSON(e),
          a = r.minDistanceToStructures;
        if (!a) return !1;
        let o = n ? `:player(${n})` : ':user',
          s = Object.keys(a),
          u = this.getTileDimensions(e),
          l = Math.floor(u.width / 2);
        return this.entities(o)
          .filter(t => s.indexOf(t.getDataObject().getId()) !== -1)
          .some((t) => {
            let e = t.getDataObject(),
              n = e.getId(),
              r = a[n],
              o = t.getTileObj(),
              s = l + Math.floor(e.getTileWidth() / 2);
            return C.default.distanceBetweenSprites(o, i) - s <= r;
          });
      },
      hasSelectionLimitReached() {
        return this.entities(':selected').length >= A.MAX_SELECTABLE_UNITS;
      },
    }),
    (e.default = {
      setGame(t) {
        L = t;
      },
      getInstance(t) {
        if (!L) { throw new Error('Invoke setGame first to pass the Phaser Game entity!'); }
        return (D && !t) || ((D = new a()), D.reset()), D;
      },
    });
  },
  function (t, e, i) {
    t.exports = function (t) {
      try {
        return !!t();
      } catch (t) {
        return !0;
      }
    };
  },
  function (t, e, i) {
    const n =
      typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
        ? function (t) {
          return typeof t;
        }
        : function (t) {
          return t &&
              typeof Symbol === 'function' &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
            ? 'symbol'
            : typeof t;
        };
    t.exports = function (t) {
      return (void 0 === t ? 'undefined' : n(t)) === 'object'
        ? t !== null
        : typeof t === 'function';
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = void 0,
      s = [
        'starfield',
        'color-indicators',
        'selectors-buildings',
        'energy-shields-buildings',
        'selectors',
        'muzzleflashes',
        'projectiles',
        'entities',
        'energy-shields',
        'effects',
        'prior-gui-elements',
        'fogofwar',
        'gui',
        'tooltips',
      ],
      u = (function () {
        function t() {
          const e = this;
          n(this, t);
          const i = r(Phaser.GAMES, 1);
          (this.game = i[0]),
          (this.groups = {}),
          s.forEach((t) => {
            e.groups[t] = e.game.add.group();
          });
        }
        return (
          a(t, [
            {
              key: 'getGroup',
              value(t) {
                if (!t) throw new Error('Invalid Id to retrieve a group!');
                if (!this.groups[t]) {
                  throw new Error(`The group cannot be identified through the passed id! ${
                    t}`);
                }
                return this.groups[t];
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance(t) {
        return (o && !t) || (o = new u()), o;
      },
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = (function () {
        function t(e) {
          n(this, t),
          e &&
              ((this.entity = e),
              (this.manager = this.entity.getActivityManager())),
          (this.killable = !0);
        }
        return (
          r(t, [
            {
              key: 'activate',
              value() {
                this.active = !0;
              },
            },
            {
              key: 'deactivate',
              value() {
                this.active = !1;
              },
            },
            {
              key: 'kill',
              value() {
                this.manager && this.manager.remove(this);
              },
            },
            {
              key: 'setManager',
              value(t) {
                this.manager = t;
              },
            },
            {
              key: 'isActivated',
              value() {
                return this.active;
              },
            },
            {
              key: 'isKillable',
              value() {
                return this.killable;
              },
            },
            {
              key: 'getManager',
              value() {
                return this.manager;
              },
            },
          ]),
          t
        );
      }());
    e.default = a;
  },
  function (t, e, i) {
    let n = i(80)('wks'),
      r = i(63),
      a = i(9).Symbol,
      o = typeof a === 'function';
    (t.exports = function (t) {
      return n[t] || (n[t] = (o && a[t]) || (o ? a : r)(`Symbol.${t}`));
    }).store = n;
  },
  function (t, e, i) {
    let n = i(39),
      r = Math.min;
    t.exports = function (t) {
      return t > 0 ? r(n(t), 9007199254740991) : 0;
    };
  },
  function (t, e, i) {
    t.exports = !i(12)(() => (
      Object.defineProperty({}, 'a', {
        get() {
          return 7;
        },
      }).a !=
        7
    ));
  },
  function (t, e, i) {
    let n = i(6),
      r = i(153),
      a = i(44),
      o = Object.defineProperty;
    e.f = i(18)
      ? Object.defineProperty
      : function (t, e, i) {
        if ((n(t), (e = a(e, !0)), n(i), r)) {
          try {
            return o(t, e, i);
          } catch (t) {}
        }
        if ('get' in i || 'set' in i) { throw TypeError('Accessors not supported!'); }
        return 'value' in i && (t[e] = i.value), t;
      };
  },
  function (t, e, i) {
    const n = i(42);
    t.exports = function (t) {
      return Object(n(t));
    };
  },
  function (t, e, i) {
    t.exports = function (t) {
      if (typeof t !== 'function') throw TypeError(`${t} is not a function!`);
      return t;
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(3),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = void 0,
      u = void 0,
      l = void 0,
      c = void 0,
      h = (function () {
        function t() {
          n(this, t), this.init(), this.registerEventListeners();
        }
        return (
          r(t, [
            {
              key: 'init',
              value() {
                (s = new o.default.EventDispatcher()),
                (u = l.input.keyboard.createCursorKeys());
              },
            },
            {
              key: 'registerEventListeners',
              value() {
                if (
                  (l.input.keyboard
                    .addKey(Phaser.Keyboard.DELETE)
                    .onDown.add(() => {
                      s.dispatch('key/delete');
                    }),
                  l.input.keyboard
                    .addKey(Phaser.Keyboard.ESC)
                    .onDown.add(() => {
                      s.dispatch('key/esc');
                    }),
                  l.input.keyboard
                    .addKey(Phaser.Keyboard.BACKSPACE)
                    .onDown.add(() => {
                      s.dispatch('key/backspace');
                    }),
                  l.input.keyboard
                    .addKey(Phaser.Keyboard.SPACEBAR)
                    .onDown.add(() => {
                      s.dispatch('key/space');
                    }),
                  l.input.keyboard
                    .addKey(Phaser.Keyboard.F1)
                    .onDown.add(() => {
                      s.dispatch('key/f1');
                    }),
                  !window.editor)
                ) {
                  for (let t = 9; t >= 0; t -= 1) {
                    !(function (t) {
                      l.input.keyboard
                        .addKey(t.toString().charCodeAt(0))
                        .onDown.add(() => s.dispatch(`key/${t}`));
                    }(t));
                  }
                }
                l.input.keyboard.onUpCallback = function (t) {
                  s.dispatch('key/any', t.key), s.dispatch(`key/${t.key}`);
                };
              },
            },
            {
              key: 'update',
              value() {
                this.listenToCursorKeys();
              },
            },
            {
              key: 'listenToCursorKeys',
              value() {
                u.up.isDown
                  ? s.dispatch('cursor/up')
                  : u.down.isDown && s.dispatch('cursor/down'),
                u.left.isDown
                  ? s.dispatch('cursor/left')
                  : u.right.isDown && s.dispatch('cursor/right');
              },
            },
            {
              key: 'reset',
              value() {
                s.reset();
              },
            },
            {
              key: 'on',
              value(t, e) {
                return s.addEventListener(t, e), this;
              },
            },
            {
              key: 'remove',
              value(t, e) {
                s.removeEventListener(t, e);
              },
            },
            {
              key: 'isDown',
              value(t) {
                return l.input.keyboard.isDown(t);
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      setGame(t) {
        l = t;
      },
      getInstance(t) {
        if (!l) { throw new Error('Invoke setGame first to pass the Phaser Game entity!'); }
        return (c && !t) || (c = new h()), c;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(186),
      u = n(s),
      l = i(11),
      c = n(l),
      h = void 0,
      d = (function () {
        function t() {
          r(this, t),
          (this.researchManager = u.default.getInstance()),
          (this.entityManager = c.default.getInstance());
        }
        return (
          o(t, [
            {
              key: 'getTechById',
              value(t) {
                let e = a(Phaser.GAMES, 1),
                  i = e[0];
                return (
                  this.researchManager.getResearchById(t) ||
                  i.cache.getJSON(t) ||
                  !1
                );
              },
            },
            {
              key: 'getTechTypeById',
              value(t) {
                return this.researchManager.getResearchById(t) ? 2 : 1;
              },
            },
            {
              key: 'getTranslationKey',
              value(t) {
                return this.isResearch(t) ? `researches.${t}` : `entities.${t}`;
              },
            },
            {
              key: 'getRequiredResources',
              value(t) {
                const e = this.getTechById(t);
                return {
                  titanium: e.titanium,
                  silicium: e.silicium,
                  uranium: e.uranium,
                  energy: e.energy,
                  space: e.space,
                };
              },
            },
            {
              key: 'isResearch',
              value(t) {
                return this.getTechTypeById(t) === 2;
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance(t) {
        return (h && !t) || (h = new d()), h;
      },
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = void 0,
      o = void 0,
      s = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'start',
              value(t) {
                return this.cancel(), this.setActivity(t), o;
              },
            },
            {
              key: 'cancel',
              value() {
                this.hasActiveSelection() && (o.deactivate(), (o = null));
              },
            },
            {
              key: 'willBeCanceled',
              value() {
                const t = this;
                setTimeout(() => t.cancel(), 0);
              },
            },
            {
              key: 'setActivity',
              value(t) {
                return (o = new t(this)), o.activate(), o;
              },
            },
            {
              key: 'hasActiveSelection',
              value() {
                return o;
              },
            },
            {
              key: 'getSelectedActivity',
              value() {
                return o;
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return a || (a = new s()), a;
      },
    };
  },
  function (t, e, i) {
    let n = i(19),
      r = i(59);
    t.exports = i(18)
      ? function (t, e, i) {
        return n.f(t, e, r(1, i));
      }
      : function (t, e, i) {
        return (t[e] = i), t;
      };
  },
  function (t, e, i) {
    let n = i(9),
      r = i(25),
      a = i(29),
      o = i(63)('src'),
      s = i(215),
      u = (`${s}`).split('toString');
    (i(36).inspectSource = function (t) {
      return s.call(t);
    }),
    (t.exports = function (t, e, i, s) {
      const l = typeof i === 'function';
      l && (a(i, 'name') || r(i, 'name', e)),
      t[e] !== i &&
            (l && (a(i, o) || r(i, o, t[e] ? `${t[e]}` : u.join(String(e)))),
            t === n
              ? (t[e] = i)
              : s
                ? t[e]
                  ? (t[e] = i)
                  : r(t, e, i)
                : (delete t[e], r(t, e, i)));
    })(Function.prototype, 'toString', function () {
      return (typeof this === 'function' && this[o]) || s.call(this);
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(12),
      a = i(42),
      o = /"/g,
      s = function (t, e, i, n) {
        let r = String(a(t)),
          s = `<${e}`;
        return (
          i !== '' &&
            (s += ` ${i}="${String(n).replace(o, '&quot;')}"`),
          `${s}>${r}</${e}>`
        );
      };
    t.exports = function (t, e) {
      const i = {};
      (i[t] = e(s)),
      n(
        n.P +
            n.F *
              r(() => {
                const e = ''[t]('"');
                return e !== e.toLowerCase() || e.split('"').length > 3;
              }),
        'String',
        i,
      );
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      if (Array.isArray(t)) {
        for (var e = 0, i = Array(t.length); e < t.length; e++) i[e] = t[e];
        return i;
      }
      return Array.from(t);
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(3),
      l = n(u),
      c = i(14),
      h = n(c),
      d = i(105),
      f = n(d),
      p = i(1),
      g = n(p),
      y = i(137),
      v = n(y),
      m = i(446),
      b = n(m),
      _ = i(8),
      w = n(_),
      x = window.fivenations,
      P = [],
      k = void 0,
      T = void 0,
      O = (function () {
        function t() {
          if ((a(this, t), !k)) {
            throw new Error('Invoke setGame first to pass the Phaser Game entity!');
          }
        }
        return (
          s(t, [
            {
              key: 'add',
              value(t) {
                const e = this;
                if (!t.id) return null;
                let i = void 0,
                  n = void 0,
                  r = k.add.sprite(0, 0, t.id);
                n =
                  window.editor &&
                  window.dataEditorStorage &&
                  window.dataEditorStorage[t.id]
                    ? JSON.parse(window.dataEditorStorage[t.id])
                    : k.cache.getJSON(t.id);
                let a = new f.default(n),
                  s = new b.default(o({}, t, {
                    guid: t.guid || l.default.getGUID(),
                    manager: this,
                    sprite: r,
                    dataObject: a,
                  }));
                (t.x || t.y) && ((r.x = t.x || 0), (r.y = t.y || 0)),
                void 0 !== t.rotation
                  ? (r.rotation = t.rotation)
                  : void 0 !== t.angle && (r.angle = t.angle),
                t.velocity &&
                    (void 0 !== t.rotation
                      ? (i = k.physics.arcade.velocityFromRotation(
                        t.rotation,
                        t.velocity,
                      ))
                      : void 0 !== t.angle
                        ? (i = k.physics.arcade.velocityFromAngle(
                          t.angle,
                          t.velocity,
                        ))
                        : (t.velocity.x || t.velocity.y) &&
                        (i = new Phaser.Point(
                          t.velocity.x || 0,
                          t.velocity.y || 0,
                        )),
                    i && (r.body.velocity = i),
                    (r.body._origVelocity = t.velocity),
                    (r.body._origAcceleration = t.acceleration)),
                t.acceleration &&
                    (void 0 !== t.rotation
                      ? (i = k.physics.arcade.accelerationFromRotation(
                        t.rotation,
                        t.acceleration,
                      ))
                      : void 0 !== t.angle
                        ? (i = k.physics.arcade.accelerationFromAngle(
                          t.angle,
                          t.acceleration,
                        ))
                        : (t.acceleration.x || t.acceleration.y) &&
                        (i = new Phaser.Point(
                          t.acceleration.x || 0,
                          t.acceleration.y || 0,
                        )),
                    i && (r.body.acceleration = i)),
                t.maxVelocity && r.body.maxVelocity.set(t.maxVelocity),
                r.body.drag.set(t.drag || 0);
                let u = a.getTargetGraphicsGroup() || 'effects',
                  c = h.default.getInstance().getGroup(u);
                (r._group = c), c.add(r), t.callback && t.callback(s);
                const d = a.getEvent('create');
                if (d) {
                  let p = r.x,
                    g = r.y,
                    y = s.getEmitter();
                  if (y instanceof v.default) {
                    const m = y.getManager().getEntity();
                    if (y.hasInstantCollision()) {
                      let _ = (m && m.getProjectileOffsetByHeading()) || {},
                        x = _.x || 0,
                        T = _.y || 0;
                      (p = m.sprite.x + x), (g = m.sprite.y + T);
                    }
                  }
                  if (
                    ((d.effects || []).forEach((t) => {
                      e.add({ id: t, x: p, y: g });
                    }),
                    d.execute)
                  ) {
                    let O = d.execute,
                      E = O.target === 'self' ? s : null,
                      S = this[O.command] && this[O.command].bind(this);
                    S && S(E);
                  }
                  const C = d.audio;
                  if (C) {
                    let I = w.default.getInstance(),
                      M = I.calculateVolumeByCamera(r);
                    (C.volume = M), I.playAudioSpriteByConfig(C);
                  }
                }
                return P.push(s), s;
              },
            },
            {
              key: 'remove',
              value(t) {
                if (t) {
                  for (let e = P.length - 1; e >= 0; e -= 1) { t === P[e] && P.splice(e, 1); }
                  t.remove(), (t = null);
                }
              },
            },
            {
              key: 'reset',
              value() {
                for (; P.length;) P.pop().remove();
              },
            },
            {
              key: 'update',
              value(t) {
                for (
                  let e = x.game.map.getFogOfWar(), i = P.length - 1;
                  i >= 0;
                  i -= 1
                ) {
                  t && this.isEffectExpired(P[i])
                    ? g.default
                      .getInstance()
                      .synced.effects(P[i])
                      .remove()
                    : (this.updateVisibility(P[i], e),
                    this.updateExpiry(P[i]),
                    this.followTarget(P[i]),
                    this.emitTrails(P[i]),
                    this.idle(P[i]),
                    x.debugMode && k.debug.body(P[i].sprite));
                }
              },
            },
            {
              key: 'updateVisibility',
              value(t, e) {
                let i = t.getTile(),
                  n = e.isVisible(...r(i));
                t.getSprite().renderable = n;
              },
            },
            {
              key: 'updateExpiry',
              value(t) {
                if (
                  (t.ttl > 0 && (t.ttl -= 1),
                  t.emitterIsWeapon && t.shouldBeRemovedIfOutOfRange)
                ) {
                  let e = t.getEmitter(),
                    i = e.getEntity(),
                    n = e.getRange();
                  l.default.distanceBetween(i, t) > n && (t.ttl = 0);
                }
              },
            },
            {
              key: 'isEffectExpired',
              value(t) {
                return !t.ttlDisabled && t.ttl === 0;
              },
            },
            {
              key: 'getGame',
              value() {
                return k;
              },
            },
            {
              key: 'getEffectByGUID',
              value(t) {
                for (let e = P.length - 1; e >= 0; e -= 1) { if (P[e].getGUID() === t) return P[e]; }
                return null;
              },
            },
            {
              key: 'getAnimationManager',
              value() {
                return this.animationManager;
              },
            },
            {
              key: 'explode',
              value(t) {
                const e = this;
                if (t && t.getDataObject) {
                  let i = void 0,
                    n = void 0,
                    r = void 0,
                    a = void 0,
                    s = t.getDataObject().getEvent('remove');
                  if (s) {
                    const u = t.getSprite();
                    if (
                      s.effects &&
                      s.effects.length &&
                      (s.randomize
                        ? ((i =
                            s.effects[l.default.rnd(0, s.effects.length - 1)]),
                        this.add({
                          id: i, x: u.x, y: u.y, emitter: t,
                        }))
                        : s.effects.forEach((i) => {
                          (t.isInConstruction &&
                              t.isInConstruction() &&
                              i.indexOf('wreckage') !== -1) ||
                              e.add({
                                x: u.x, y: u.y, emitter: t, id: i,
                              });
                        }),
                      s.audio)
                    ) {
                      let c = w.default.getInstance(),
                        h = c.calculateVolumeByCamera(u),
                        d = o({}, s.audio, { volume: h });
                      c.playAudioSpriteByConfig(d);
                    }
                    if (s.wrecks && s.wrecks.length) {
                      let f = u.body,
                        p = u.x,
                        g = u.y,
                        y = (f && f.velocity) || 0,
                        v = void 0;
                      for (
                        n = s.minWrecks || 0, r = s.maxWrecks || 0, a = n;
                        a <= r;
                        a += 1
                      ) {
                        (i = s.wrecks[l.default.rnd(0, s.wrecks.length - 1)]),
                        s.wrecksKeepVelocity
                          ? (v = 40)
                          : ((y = {
                            x:
                                  (Math.random() - 0.5) *
                                  l.default.rnd(75, 100),
                            y:
                                  (Math.random() - 0.5) *
                                  l.default.rnd(75, 100),
                          }),
                          (p = u.x + l.default.rnd(0, 30) - 15),
                          (g = u.y + l.default.rnd(0, 30) - 15)),
                        this.add({
                          id: i, x: p, y: g, velocity: y, drag: v,
                        });
                      }
                    }
                  }
                }
              },
            },
            {
              key: 'followTarget',
              value(t) {
                if (t.willFollowTarget()) {
                  let e = t.getTargetEntity(),
                    i = void 0,
                    n = void 0,
                    r = void 0;
                  if (e) {
                    if (
                      ((n = t.getSprite()),
                      (r = e.getSprite()),
                      !t._isHomingModeActivated &&
                        n.body.speed >= n.body.maxVelocity.x &&
                        (t._isHomingModeActivated = !0),
                      t._isHomingModeActivated)
                    ) {
                      if (
                        ((i = k.physics.arcade.angleBetween(n, r)),
                        n.rotation !== i)
                      ) {
                        let a = i - n.rotation;
                        a > Math.PI && (a -= 2 * Math.PI),
                        a < -Math.PI && (a += 2 * Math.PI),
                        a > 0 ? (n.angle += 5) : (n.angle -= 5),
                        Math.abs(a) < n.game.math.degToRad(5) &&
                            (n.rotation = i);
                      }
                      k.physics.arcade.velocityFromRotation(
                        n.rotation,
                        n.body.speed,
                        n.body.velocity,
                      );
                    }
                  } else t.ttl = 0;
                }
              },
            },
            {
              key: 'emitTrails',
              value(t) {
                t.hasTrails() &&
                  t.ttl % t.getTrailsRate() == 0 &&
                  this.add({
                    id: t.getTrailsEffect(),
                    x: t.getSprite().x + l.default.rnd(0, 10) - 5,
                    y: t.getSprite().y + l.default.rnd(0, 10) - 5,
                  });
              },
            },
            {
              key: 'idle',
              value(t) {
                if (
                  t.hasIdle() &&
                  t.shouldIdleEffectsGetRandomized() &&
                  Math.floor(Math.random() * t.getIdleRandomRate()) === 0
                ) {
                  let e = t.getIdleEffects(),
                    i = l.default.rnd(0, e.length - 1),
                    n = t.getIdleEffectOffset();
                  this.add({
                    id: e[i],
                    x: t.getSprite().x + n.x,
                    y: t.getSprite().y + n.y,
                  });
                }
              },
            },
            {
              key: 'flash',
              value(t) {
                const e = this;
                if (t) {
                  const i = t.getSprite();
                  (i.alpha = 0),
                  k.add
                    .tween(i)
                    .to(
                      { alpha: 1 },
                      200,
                      Phaser.Easing.Bounce.InOut,
                      !0,
                      0,
                      0,
                      !0,
                    )
                    .onComplete.add(() => e.remove(t));
                }
              },
            },
            {
              key: 'emitLowHPEffect',
              value(t) {
                let e = t.getSprite(),
                  i = t.getDataObject(),
                  n = i.getEvent('lowHP'),
                  r = n && n.effects ? n.effects : ['blow-1', 'smoke-trail-1'],
                  a = l.default.rnd(0, r.length),
                  o = i.getWidth(),
                  s = i.getHeight(),
                  u = {
                    x: o / -2 + l.default.rnd(0, o),
                    y: s / -2 + l.default.rnd(0, s),
                  };
                this.add({ id: r[a], x: e.x + u.x, y: e.y + u.y });
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      setGame(t) {
        k = t;
      },
      getInstance(t) {
        if (!k) {
          throw new Error('Invoke setGame first to pass the Phaser Game entity!');
        }
        return (T && !t) || ((T = new O()), T.reset()), T;
      },
    };
  },
  function (t, e, i) {
    const n = {}.hasOwnProperty;
    t.exports = function (t, e) {
      return n.call(t, e);
    };
  },
  function (t, e, i) {
    let n = i(79),
      r = i(59),
      a = i(32),
      o = i(44),
      s = i(29),
      u = i(153),
      l = Object.getOwnPropertyDescriptor;
    e.f = i(18)
      ? l
      : function (t, e) {
        if (((t = a(t)), (e = o(e, !0)), u)) {
          try {
            return l(t, e);
          } catch (t) {}
        }
        if (s(t, e)) return r(!n.f.call(t, e), t[e]);
      };
  },
  function (t, e, i) {
    let n = i(29),
      r = i(20),
      a = i(125)('IE_PROTO'),
      o = Object.prototype;
    t.exports =
      Object.getPrototypeOf ||
      function (t) {
        return (
          (t = r(t)),
          n(t, a)
            ? t[a]
            : typeof t.constructor === 'function' && t instanceof t.constructor
              ? t.constructor.prototype
              : t instanceof Object
                ? o
                : null
        );
      };
  },
  function (t, e, i) {
    let n = i(78),
      r = i(42);
    t.exports = function (t) {
      return n(r(t));
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(444),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = void 0,
      u = (function () {
        function t() {
          n(this, t), this.reset();
        }
        return (
          r(t, [
            {
              key: 'setPlayerSummaryCollectors',
              value(t) {
                const e = this;
                t.getPlayers().forEach((t) => {
                  let i = t.getTeam(),
                    n = t.isControlledByUser();
                  (e.collectors[i] = new o.default(t)),
                  e.collectors[i].setGameSummaryCollector(e),
                  n && (e.userId = i);
                });
              },
            },
            {
              key: 'reset',
              value() {
                this.collectors = {};
              },
            },
            {
              key: 'setMissionTime',
              value(t) {
                this.missionTime = t;
              },
            },
            {
              key: 'getMissionTime',
              value() {
                return this.missionTime;
              },
            },
            {
              key: 'getMissionOutcome',
              value() {
                return this.getUserSummaryCollector().isVictorious()
                  ? 'victory'
                  : 'defeat';
              },
            },
            {
              key: 'getPlayerSummaryCollector',
              value(t) {
                const e = t.getTeam();
                return this.collectors[e];
              },
            },
            {
              key: 'getUserSummaryCollector',
              value() {
                return this.collectors[this.userId];
              },
            },
            {
              key: 'getPlayerSummaryCollectors',
              value() {
                const t = this;
                return Object.keys(this.collectors).map(e => t.collectors[e]);
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance(t) {
        return (s && !t) || (s = new u()), s;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(3),
      c = n(l),
      h = i(534),
      d = n(h),
      f = i(48),
      p = n(f),
      g = i(22),
      y = n(g),
      v = (function (t) {
        function e() {
          let t;
          r(this, e);
          for (var i = arguments.length, n = Array(i), o = 0; o < i; o++) { n[o] = arguments[o]; }
          const s = a(
            this,
            (t = e.__proto__ || Object.getPrototypeOf(e)).call.apply(
              t,
              [this].concat(n),
            ),
          );
          return s.init(), s;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'init',
              value() {
                (this.dispatcher = new c.default.EventDispatcher()),
                this.prepareCallbacks();
              },
            },
            {
              key: 'prepareCallbacks',
              value() {
                const t = this;
                (this.onSelect = function (e) {
                  t.dispatcher.dispatch('select', e),
                  !1 !== t.cancelable &&
                      t.getActivityManager().willBeCanceled();
                }),
                (this.onCancel = function () {
                  t.dispatcher.dispatch('cancel'),
                  t.getActivityManager().cancel();
                });
              },
            },
            {
              key: 'activate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                p.default
                  .getInstance()
                  .on('leftbutton/down/activity', this.onSelect),
                p.default
                  .getInstance()
                  .on('rightbutton/down/activity', this.onCancel),
                y.default.getInstance().on('key/esc', this.onCancel);
              },
            },
            {
              key: 'deactivate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'deactivate',
                  this,
                ).call(this),
                p.default
                  .getInstance()
                  .remove('leftbutton/down/activity', this.onSelect),
                p.default
                  .getInstance()
                  .remove('rightbutton/down/activity', this.onCancel),
                y.default.getInstance().remove('key/esc', this.onCancel);
              },
            },
            {
              key: 'on',
              value(t, e) {
                this.dispatcher.addEventListener(t, e);
              },
            },
            {
              key: 'doNotCancel',
              value() {
                this.cancelable = !1;
              },
            },
            {
              key: 'doCancel',
              value() {
                this.cancelable = !0;
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = v;
  },
  function (t, e, i) {
    const n = {}.toString;
    t.exports = function (t) {
      return n.call(t).slice(8, -1);
    };
  },
  function (t, e, i) {
    const n = (t.exports = { version: '2.6.10' });
    typeof __e === 'number' && (__e = n);
  },
  function (t, e, i) {
    const n = i(21);
    t.exports = function (t, e, i) {
      if ((n(t), void 0 === e)) return t;
      switch (i) {
        case 1:
          return function (i) {
            return t.call(e, i);
          };
        case 2:
          return function (i, n) {
            return t.call(e, i, n);
          };
        case 3:
          return function (i, n, r) {
            return t.call(e, i, n, r);
          };
      }
      return function () {
        return t.apply(e, arguments);
      };
    };
  },
  function (t, e, i) {
    const n = i(12);
    t.exports = function (t, e) {
      return (
        !!t &&
        n(() => {
          e ? t.call(null, () => {}, 1) : t.call(null);
        })
      );
    };
  },
  function (t, e, i) {
    let n = Math.ceil,
      r = Math.floor;
    t.exports = function (t) {
      return isNaN((t = +t)) ? 0 : (t > 0 ? r : n)(t);
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(74),
      s = n(o),
      u = i(48),
      l = n(u),
      c = i(1),
      h = n(c),
      d = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            { key: 'execute', value(t) {} },
            { key: 'bulkExecute', value(t) {} },
            {
              key: 'test',
              value() {
                return !0;
              },
            },
            {
              key: 'displayClickAnimation',
              value(t, e) {
                s.default.getInstance().putClickAnim(t, e);
              },
            },
            {
              key: 'getCoords',
              value() {
                return l.default.getInstance().getRealCoords();
              },
            },
            {
              key: 'getEventEmitter',
              value(t) {
                return h.default.getInstance().synced.entities(t);
              },
            },
          ]),
          t
        );
      }());
    e.default = d;
  },
  function (t, e, i) {
    let n = i(37),
      r = i(78),
      a = i(20),
      o = i(17),
      s = i(109);
    t.exports = function (t, e) {
      let i = t == 1,
        u = t == 2,
        l = t == 3,
        c = t == 4,
        h = t == 6,
        d = t == 5 || h,
        f = e || s;
      return function (e, s, p) {
        for (
          var g,
            y,
            v = a(e),
            m = r(v),
            b = n(s, p, 3),
            _ = o(m.length),
            w = 0,
            x = i ? f(e, _) : u ? f(e, 0) : void 0;
          _ > w;
          w++
        ) {
          if ((d || w in m) && ((g = m[w]), (y = b(g, w, v)), t)) {
            if (i) x[w] = y;
            else if (y) {
              switch (t) {
                case 3:
                  return !0;
                case 5:
                  return g;
                case 6:
                  return w;
                case 2:
                  x.push(g);
              }
            } else if (c) return !1;
          }
        }
        return h ? -1 : l || c ? c : x;
      };
    };
  },
  function (t, e, i) {
    t.exports = function (t) {
      if (void 0 == t) throw TypeError(`Can't call method on  ${t}`);
      return t;
    };
  },
  function (t, e, i) {
    let n = i(0),
      r = i(36),
      a = i(12);
    t.exports = function (t, e) {
      let i = (r.Object || {})[t] || Object[t],
        o = {};
      (o[t] = e(i)),
      n(
        n.S +
            n.F *
              a(() => {
                i(1);
              }),
        'Object',
        o,
      );
    };
  },
  function (t, e, i) {
    const n = i(13);
    t.exports = function (t, e) {
      if (!n(t)) return t;
      let i,
        r;
      if (e && typeof (i = t.toString) === 'function' && !n((r = i.call(t)))) { return r; }
      if (typeof (i = t.valueOf) === 'function' && !n((r = i.call(t)))) return r;
      if (!e && typeof (i = t.toString) === 'function' && !n((r = i.call(t)))) { return r; }
      throw TypeError("Can't convert object to primitive value");
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = {},
      o = void 0,
      s = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'add',
              value(t, e) {
                a[t] = e;
              },
            },
            {
              key: 'run',
              value(t) {
                if (a[t]) {
                  for (
                    var e = arguments.length,
                      i = Array(e > 1 ? e - 1 : 0),
                      n = 1;
                    n < e;
                    n++
                  ) { i[n - 1] = arguments[n]; }
                  a[t].apply(null, i);
                }
              },
            },
            {
              key: 'has',
              value(t) {
                return !!a[t];
              },
            },
            {
              key: 'setCurrentScript',
              value(t) {
                this.currentScript = t;
              },
            },
            {
              key: 'runCurrentScript',
              value() {
                this.currentScript || (this.currentScript = 'default');
                for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
                a[this.currentScript].apply(null, e);
              },
            },
            {
              key: 'getCurrentScript',
              value() {
                return this.currentScript;
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return o || (o = new s()), o;
      },
    };
  },
  function (t, e, i) {
    let n =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          },
      r = i(175),
      a = i(0),
      o = i(80)('metadata'),
      s = o.store || (o.store = new (i(179))()),
      u = function (t, e, i) {
        let n = s.get(t);
        if (!n) {
          if (!i) return;
          s.set(t, (n = new r()));
        }
        let a = n.get(e);
        if (!a) {
          if (!i) return;
          n.set(e, (a = new r()));
        }
        return a;
      },
      l = function (t, e, i) {
        const n = u(e, i, !1);
        return void 0 !== n && n.has(t);
      },
      c = function (t, e, i) {
        const n = u(e, i, !1);
        return void 0 === n ? void 0 : n.get(t);
      },
      h = function (t, e, i, n) {
        u(i, n, !0).set(t, e);
      },
      d = function (t, e) {
        let i = u(t, e, !1),
          n = [];
        return (
          i &&
            i.forEach((t, e) => {
              n.push(e);
            }),
          n
        );
      },
      f = function (t) {
        return void 0 === t || (void 0 === t ? 'undefined' : n(t)) == 'symbol'
          ? t
          : String(t);
      },
      p = function (t) {
        a(a.S, 'Reflect', t);
      };
    t.exports = {
      store: s,
      map: u,
      has: l,
      get: c,
      set: h,
      keys: d,
      key: f,
      exp: p,
    };
  },
  function (t, e, i) {
    const n =
      typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
        ? function (t) {
          return typeof t;
        }
        : function (t) {
          return t &&
              typeof Symbol === 'function' &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
            ? 'symbol'
            : typeof t;
        };
    if (i(18)) {
      var r = i(51),
        a = i(9),
        o = i(12),
        s = i(0),
        u = i(101),
        l = i(130),
        c = i(37),
        h = i(54),
        d = i(59),
        f = i(25),
        p = i(60),
        g = i(39),
        y = i(17),
        v = i(173),
        m = i(62),
        b = i(44),
        _ = i(29),
        w = i(67),
        x = i(13),
        P = i(20),
        k = i(116),
        T = i(56),
        O = i(31),
        E = i(57).f,
        S = i(132),
        C = i(63),
        I = i(16),
        M = i(41),
        A = i(89),
        R = i(81),
        L = i(133),
        D = i(68),
        B = i(94),
        j = i(61),
        F = i(108),
        U = i(145),
        G = i(19),
        N = i(30),
        W = G.f,
        H = N.f,
        X = a.RangeError,
        V = a.TypeError,
        z = a.Uint8Array,
        Y = Array.prototype,
        q = l.ArrayBuffer,
        K = l.DataView,
        Q = M(0),
        J = M(2),
        Z = M(3),
        $ = M(4),
        tt = M(5),
        et = M(6),
        it = A(!0),
        nt = A(!1),
        rt = L.values,
        at = L.keys,
        ot = L.entries,
        st = Y.lastIndexOf,
        ut = Y.reduce,
        lt = Y.reduceRight,
        ct = Y.join,
        ht = Y.sort,
        dt = Y.slice,
        ft = Y.toString,
        pt = Y.toLocaleString,
        gt = I('iterator'),
        yt = I('toStringTag'),
        vt = C('typed_constructor'),
        mt = C('def_constructor'),
        bt = u.CONSTR,
        _t = u.TYPED,
        wt = u.VIEW,
        xt = M(1, (t, e) => Et(R(t, t[mt]), e)),
        Pt = o(() => new z(new Uint16Array([1]).buffer)[0] === 1),
        kt =
          !!z &&
          !!z.prototype.set &&
          o(() => {
            new z(1).set({});
          }),
        Tt = function (t, e) {
          const i = g(t);
          if (i < 0 || i % e) throw X('Wrong offset!');
          return i;
        },
        Ot = function (t) {
          if (x(t) && _t in t) return t;
          throw V(`${t} is not a typed array!`);
        },
        Et = function (t, e) {
          if (!(x(t) && vt in t)) { throw V('It is not a typed array constructor!'); }
          return new t(e);
        },
        St = function (t, e) {
          return Ct(R(t, t[mt]), e);
        },
        Ct = function (t, e) {
          for (var i = 0, n = e.length, r = Et(t, n); n > i;) r[i] = e[i++];
          return r;
        },
        It = function (t, e, i) {
          W(t, e, {
            get() {
              return this._d[i];
            },
          });
        },
        Mt = function (t) {
          let e,
            i,
            n,
            r,
            a,
            o,
            s = P(t),
            u = arguments.length,
            l = u > 1 ? arguments[1] : void 0,
            h = void 0 !== l,
            d = S(s);
          if (void 0 != d && !k(d)) {
            for (o = d.call(s), n = [], e = 0; !(a = o.next()).done; e++) { n.push(a.value); }
            s = n;
          }
          for (
            h && u > 2 && (l = c(l, arguments[2], 2)),
            e = 0,
            i = y(s.length),
            r = Et(this, i);
            i > e;
            e++
          ) { r[e] = h ? l(s[e], e) : s[e]; }
          return r;
        },
        At = function () {
          for (var t = 0, e = arguments.length, i = Et(this, e); e > t;) { i[t] = arguments[t++]; }
          return i;
        },
        Rt =
          !!z &&
          o(() => {
            pt.call(new z(1));
          }),
        Lt = function () {
          return pt.apply(Rt ? dt.call(Ot(this)) : Ot(this), arguments);
        },
        Dt = {
          copyWithin(t, e) {
            return U.call(
              Ot(this),
              t,
              e,
              arguments.length > 2 ? arguments[2] : void 0,
            );
          },
          every(t) {
            return $(Ot(this), t, arguments.length > 1 ? arguments[1] : void 0);
          },
          fill(t) {
            return F.apply(Ot(this), arguments);
          },
          filter(t) {
            return St(
              this,
              J(Ot(this), t, arguments.length > 1 ? arguments[1] : void 0),
            );
          },
          find(t) {
            return tt(
              Ot(this),
              t,
              arguments.length > 1 ? arguments[1] : void 0,
            );
          },
          findIndex(t) {
            return et(
              Ot(this),
              t,
              arguments.length > 1 ? arguments[1] : void 0,
            );
          },
          forEach(t) {
            Q(Ot(this), t, arguments.length > 1 ? arguments[1] : void 0);
          },
          indexOf(t) {
            return nt(
              Ot(this),
              t,
              arguments.length > 1 ? arguments[1] : void 0,
            );
          },
          includes(t) {
            return it(
              Ot(this),
              t,
              arguments.length > 1 ? arguments[1] : void 0,
            );
          },
          join(t) {
            return ct.apply(Ot(this), arguments);
          },
          lastIndexOf(t) {
            return st.apply(Ot(this), arguments);
          },
          map(t) {
            return xt(
              Ot(this),
              t,
              arguments.length > 1 ? arguments[1] : void 0,
            );
          },
          reduce(t) {
            return ut.apply(Ot(this), arguments);
          },
          reduceRight(t) {
            return lt.apply(Ot(this), arguments);
          },
          reverse() {
            for (
              var t, e = this, i = Ot(e).length, n = Math.floor(i / 2), r = 0;
              r < n;

            ) { (t = e[r]), (e[r++] = e[--i]), (e[i] = t); }
            return e;
          },
          some(t) {
            return Z(Ot(this), t, arguments.length > 1 ? arguments[1] : void 0);
          },
          sort(t) {
            return ht.call(Ot(this), t);
          },
          subarray(t, e) {
            let i = Ot(this),
              n = i.length,
              r = m(t, n);
            return new (R(i, i[mt]))(
              i.buffer,
              i.byteOffset + r * i.BYTES_PER_ELEMENT,
              y((void 0 === e ? n : m(e, n)) - r),
            );
          },
        },
        Bt = function (t, e) {
          return St(this, dt.call(Ot(this), t, e));
        },
        jt = function (t) {
          Ot(this);
          let e = Tt(arguments[1], 1),
            i = this.length,
            n = P(t),
            r = y(n.length),
            a = 0;
          if (r + e > i) throw X('Wrong length!');
          for (; a < r;) this[e + a] = n[a++];
        },
        Ft = {
          entries() {
            return ot.call(Ot(this));
          },
          keys() {
            return at.call(Ot(this));
          },
          values() {
            return rt.call(Ot(this));
          },
        },
        Ut = function (t, e) {
          return (
            x(t) &&
            t[_t] &&
            (void 0 === e ? 'undefined' : n(e)) != 'symbol' &&
            e in t &&
            String(+e) == String(e)
          );
        },
        Gt = function (t, e) {
          return Ut(t, (e = b(e, !0))) ? d(2, t[e]) : H(t, e);
        },
        Nt = function (t, e, i) {
          return !(Ut(t, (e = b(e, !0))) && x(i) && _(i, 'value')) ||
            _(i, 'get') ||
            _(i, 'set') ||
            i.configurable ||
            (_(i, 'writable') && !i.writable) ||
            (_(i, 'enumerable') && !i.enumerable)
            ? W(t, e, i)
            : ((t[e] = i.value), t);
        };
      bt || ((N.f = Gt), (G.f = Nt)),
      s(s.S + s.F * !bt, 'Object', {
        getOwnPropertyDescriptor: Gt,
        defineProperty: Nt,
      }),
      o(() => {
        ft.call({});
      }) &&
          (ft = pt = function () {
            return ct.call(this);
          });
      const Wt = p({}, Dt);
      p(Wt, Ft),
      f(Wt, gt, Ft.values),
      p(Wt, {
        slice: Bt,
        set: jt,
        constructor() {},
        toString: ft,
        toLocaleString: Lt,
      }),
      It(Wt, 'buffer', 'b'),
      It(Wt, 'byteOffset', 'o'),
      It(Wt, 'byteLength', 'l'),
      It(Wt, 'length', 'e'),
      W(Wt, yt, {
        get() {
          return this[_t];
        },
      }),
      (t.exports = function (t, e, i, n) {
        n = !!n;
        let l = `${t + (n ? 'Clamped' : '')}Array`,
          c = `get${t}`,
          d = `set${t}`,
          p = a[l],
          g = p || {},
          m = p && O(p),
          b = !p || !u.ABV,
          _ = {},
          P = p && p.prototype,
          k = function (t, i) {
            const n = t._d;
            return n.v[c](i * e + n.o, Pt);
          },
          S = function (t, i, r) {
            const a = t._d;
            n && (r = (r = Math.round(r)) < 0 ? 0 : r > 255 ? 255 : 255 & r),
            a.v[d](i * e + a.o, r, Pt);
          },
          C = function (t, e) {
            W(t, e, {
              get() {
                return k(this, e);
              },
              set(t) {
                return S(this, e, t);
              },
              enumerable: !0,
            });
          };
        b
          ? ((p = i((t, i, n, r) => {
            h(t, p, l, '_d');
            let a,
              o,
              s,
              u,
              c = 0,
              d = 0;
            if (x(i)) {
              if (
                !(
                  i instanceof q ||
                      (u = w(i)) == 'ArrayBuffer' ||
                      u == 'SharedArrayBuffer'
                )
              ) { return _t in i ? Ct(p, i) : Mt.call(p, i); }
              (a = i), (d = Tt(n, e));
              const g = i.byteLength;
              if (void 0 === r) {
                if (g % e) throw X('Wrong length!');
                if ((o = g - d) < 0) throw X('Wrong length!');
              } else if ((o = y(r) * e) + d > g) throw X('Wrong length!');
              s = o / e;
            } else (s = v(i)), (o = s * e), (a = new q(o));
            for (
              f(t, '_d', {
                b: a, o: d, l: o, e: s, v: new K(a),
              });
              c < s;

            ) { C(t, c++); }
          })),
          (P = p.prototype = T(Wt)),
          f(P, 'constructor', p))
          : (o(() => {
            p(1);
          }) &&
                o(() => {
                  new p(-1);
                }) &&
                B((t) => {
                  new p(), new p(null), new p(1.5), new p(t);
                }, !0)) ||
              ((p = i((t, i, n, r) => {
                h(t, p, l);
                let a;
                return x(i)
                  ? i instanceof q ||
                    (a = w(i)) == 'ArrayBuffer' ||
                    a == 'SharedArrayBuffer'
                    ? void 0 !== r
                      ? new g(i, Tt(n, e), r)
                      : void 0 !== n
                        ? new g(i, Tt(n, e))
                        : new g(i)
                    : _t in i
                      ? Ct(p, i)
                      : Mt.call(p, i)
                  : new g(v(i));
              })),
              Q(m !== Function.prototype ? E(g).concat(E(m)) : E(g), (t) => {
                t in p || f(p, t, g[t]);
              }),
              (p.prototype = P),
              r || (P.constructor = p));
        let I = P[gt],
          M = !!I && (I.name == 'values' || void 0 == I.name),
          A = Ft.values;
        f(p, vt, !0),
        f(P, _t, l),
        f(P, wt, !0),
        f(P, mt, p),
        (n ? new p(1)[yt] == l : yt in P) ||
              W(P, yt, {
                get() {
                  return l;
                },
              }),
        (_[l] = p),
        s(s.G + s.W + s.F * (p != g), _),
        s(s.S, l, { BYTES_PER_ELEMENT: e }),
        s(
          s.S +
                s.F *
                  o(() => {
                    g.of.call(p, 1);
                  }),
          l,
          { from: Mt, of: At },
        ),
        'BYTES_PER_ELEMENT' in P || f(P, 'BYTES_PER_ELEMENT', e),
        s(s.P, l, Dt),
        j(l),
        s(s.P + s.F * kt, l, { set: jt }),
        s(s.P + s.F * !M, l, Ft),
        r || P.toString == ft || (P.toString = ft),
        s(
          s.P +
                s.F *
                  o(() => {
                    new p(1).slice();
                  }),
          l,
          { slice: Bt },
        ),
        s(
          s.P +
                s.F *
                  (o(() => (
                    [1, 2].toLocaleString() != new p([1, 2]).toLocaleString()
                  )) ||
                    !o(() => {
                      P.toLocaleString.call([1, 2]);
                    })),
          l,
          { toLocaleString: Lt },
        ),
        (D[l] = M ? I : A),
        r || M || f(P, gt, A);
      });
    } else t.exports = function () {};
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(3),
      s = n(o),
      u = i(136),
      l = n(u),
      c = i(74),
      h = n(c),
      d = i(2),
      f = void 0,
      p = void 0,
      g = (function () {
        function t() {
          r(this, t), this.init(), this.registerEventListeners();
        }
        return (
          a(t, [
            {
              key: 'init',
              value() {
                (this.dispatcher = new s.default.EventDispatcher()),
                (this.fullScreenManager = l.default.getInstance()),
                (this.multiselector = {}),
                (this.multiselectorRect = new Phaser.Rectangle(0, 0, 0, 0)),
                (this.multiselector.active = !1),
                (this.scrollDelayCount = 0);
              },
            },
            {
              key: 'registerEventListeners',
              value() {
                const t = this;
                f.input.addMoveCallback(this.dispatcher.dispatch.bind(this.dispatcher, 'move', this)),
                f.input.onUp.add(() => {
                  t.dispatcher.dispatch('up'),
                  t.multiselector.active &&
                        ((t.multiselectorRect.width > 0 ||
                          t.multiselectorRect.height > 0) &&
                          t.dispatcher.dispatch(
                            'multiselector/up',
                            t.multiselectorRect,
                          ),
                        (t.multiselector.active = !1),
                        (t.multiselectorRect.x = 0),
                        (t.multiselectorRect.y = 0),
                        (t.multiselectorRect.width = 0),
                        (t.multiselectorRect.height = 0));
                }),
                f.input.onDown.add(() => {
                  if (f.input.mousePointer.leftButton.isDown) {
                    t.dispatcher.dispatch('leftbutton/down', t);
                    const e = h.default.getInstance();
                    e.getTutorialDisplay().isActivated() ||
                        e.getMinimap().isHover() ||
                        ((t.multiselector.active = !0),
                        (t.multiselector.x =
                          f.camera.x + f.input.mousePointer.x),
                        (t.multiselector.y =
                          f.camera.y + f.input.mousePointer.y),
                        (t.multiselectorRect.width = 0),
                        (t.multiselectorRect.height = 0));
                  } else f.input.mousePointer.rightButton.isDown && t.dispatcher.dispatch('rightbutton/down', t);
                  t.dispatcher.dispatch('down');
                });
              },
            },
            {
              key: 'emitScrollEvents',
              value() {
                if (
                  !h.default.getInstance().isHover() ||
                  !f.input.mousePointer.leftButton.isDown ||
                  this.multiselector.active
                ) {
                  let t = this.fullScreenManager.isFullScreen(),
                    e = this.fullScreenManager.getCustomCursor(f),
                    i = f.input.mousePointer.x,
                    n = f.input.mousePointer.y,
                    r = void 0;
                  t
                    ? (e.isHuggingTheLeftSideOfTheScreen()
                      ? (this.scrollDelayCount > 12 &&
                            this.dispatcher.dispatch('scroll/left'),
                      (r = 2))
                      : e.isHuggingTheRightSideOfTheScreen() &&
                          (this.scrollDelayCount > 12 &&
                            this.dispatcher.dispatch('scroll/right'),
                          (r = 8)),
                    e.isHuggingTheTopOfTheScreen()
                      ? (this.scrollDelayCount > 12 &&
                            this.dispatcher.dispatch('scroll/up'),
                      (r = r ? r - 1 : 4))
                      : e.isHuggingTheBottomOfTheScreen() &&
                          (this.scrollDelayCount > 12 &&
                            this.dispatcher.dispatch('scroll/down'),
                          (r = r ? r + 1 : 6)),
                    r
                      ? (this.scrollDelayCount += 1)
                      : (this.scrollDelayCount = 0))
                    : (i < 10
                      ? this.dispatcher.dispatch('scroll/left')
                      : i + 10 > d.DEFAULT_CANVAS_WIDTH &&
                          this.dispatcher.dispatch('scroll/right'),
                    n < 10
                      ? this.dispatcher.dispatch('scroll/up')
                      : n + 10 > d.DEFAULT_CANVAS_HEIGHT &&
                          this.dispatcher.dispatch('scroll/down')),
                  r
                    ? (this.dispatcher.dispatch('scrollarea/in', r),
                    (this.scrollAreaTouched = !0))
                    : this.scrollAreaTouched &&
                        (this.dispatcher.dispatch('scrollarea/out'),
                        (this.scrollAreaTouched = !1));
                }
              },
            },
            {
              key: 'on',
              value(t, e) {
                this.dispatcher.addEventListener(t, e);
              },
            },
            {
              key: 'remove',
              value(t, e) {
                this.dispatcher.removeEventListener(t, e);
              },
            },
            {
              key: 'dispatch',
              value() {
                let t;
                (t = this.dispatcher).dispatch.apply(t, arguments);
              },
            },
            {
              key: 'stopMultiselection',
              value() {
                (this.multiselector.active = 0),
                (this.multiselectorRect.width = 0),
                (this.multiselectorRect.height = 0);
              },
            },
            {
              key: 'update',
              value() {
                const t = f.input.mousePointer;
                this.emitScrollEvents(),
                t.leftButton.isDown &&
                    this.dispatcher.dispatch('leftbutton/move', this),
                t.leftButton.isDown &&
                    this.multiselector.active &&
                    ((this.multiselectorRect.x = Math.min(
                      this.multiselector.x,
                      t.x + f.camera.x,
                    )),
                    (this.multiselectorRect.y = Math.min(
                      this.multiselector.y,
                      t.y + f.camera.y,
                    )),
                    (this.multiselectorRect.width = Math.abs(this.multiselector.x - (f.camera.x + t.x))),
                    (this.multiselectorRect.height = Math.abs(this.multiselector.y - (f.camera.y + t.y)))),
                f.debug.geom(this.multiselectorRect, '#0fffff', !1);
              },
            },
            {
              key: 'isLeftButtonDown',
              value() {
                return f.input.mousePointer.leftButton.isDown;
              },
            },
            {
              key: 'isRightButtonDown',
              value() {
                return f.input.mousePointer.rightButton.isDown;
              },
            },
            {
              key: 'isHover',
              value(t) {
                let e = t.offsetX || 0,
                  i = t.offsetY || 0,
                  n = f.input.mousePointer.x,
                  r = f.input.mousePointer.y;
                return (
                  t.fixedToCamera ||
                    t.parent.fixedToCamera ||
                    ((n += f.camera.x), (r += f.camera.y)),
                  !(
                    n < t.x + e ||
                    n > t.x + (e + t.width) ||
                    r < t.y + i ||
                    r > t.y + (i + t.height)
                  )
                );
              },
            },
            {
              key: 'isHoverEntity',
              value(t) {
                let e = t.getSprite(),
                  i = f.input.mousePointer.x,
                  n = f.input.mousePointer.y;
                return (
                  e.fixedToCamera || ((i += f.camera.x), (n += f.camera.y)),
                  !(
                    i < e.x + e.hitArea.x ||
                    i > e.x + (e.hitArea.x + e.hitArea.width) ||
                    n < e.y + e.hitArea.y ||
                    n > e.y + (e.hitArea.y + e.hitArea.height)
                  )
                );
              },
            },
            {
              key: 'isMultiselectionActive',
              value() {
                return this.multiselector.active;
              },
            },
            {
              key: 'getRealCoords',
              value() {
                return {
                  x: f.camera.x + f.input.mousePointer.x,
                  y: f.camera.y + f.input.mousePointer.y,
                };
              },
            },
            {
              key: 'getScreenCoords',
              value() {
                return { x: f.input.mousePointer.x, y: f.input.mousePointer.y };
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      setGame(t) {
        f = t;
      },
      getInstance(t) {
        if (!f) {
          throw new Error('Invoke setGame first to pass the Phaser Game entity!');
        }
        return (p && !t) || (p = new g()), p;
      },
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = (function () {
        function t() {
          n(this, t), (this.onCreate = new Phaser.Signal());
        }
        return (
          r(t, [
            {
              key: 'create',
              value() {
                this.executeOnCreate();
              },
            },
            {
              key: 'executeOnCreate',
              value() {
                this.onCreate.dispatch();
              },
            },
            {
              key: 'wait',
              value(t) {
                const e = this;
                return new Promise(((i) => {
                  e.game.add
                    .tween(e.game.stage)
                    .to({ x: 0 }, t, Phaser.Easing.Exponential.InOut, !0)
                    .onComplete.addOnce(i);
                }));
              },
            },
          ]),
          t
        );
      }());
    e.default = a;
  },
  function (t, e, i) {
    let n = i(16)('unscopables'),
      r = Array.prototype;
    void 0 == r[n] && i(25)(r, n, {}),
    (t.exports = function (t) {
      r[n][t] = !0;
    });
  },
  function (t, e, i) {
    t.exports = !1;
  },
  function (t, e, i) {
    var n =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          },
      r = i(63)('meta'),
      a = i(13),
      o = i(29),
      s = i(19).f,
      u = 0,
      l =
        Object.isExtensible ||
        function () {
          return !0;
        },
      c = !i(12)(() => l(Object.preventExtensions({}))),
      h = function (t) {
        s(t, r, { value: { i: `O${++u}`, w: {} } });
      },
      d = function (t, e) {
        if (!a(t)) {
          return (void 0 === t ? 'undefined' : n(t)) == 'symbol'
            ? t
            : (typeof t === 'string' ? 'S' : 'P') + t;
        }
        if (!o(t, r)) {
          if (!l(t)) return 'F';
          if (!e) return 'E';
          h(t);
        }
        return t[r].i;
      },
      f = function (t, e) {
        if (!o(t, r)) {
          if (!l(t)) return !0;
          if (!e) return !1;
          h(t);
        }
        return t[r].w;
      },
      p = function (t) {
        return c && g.NEED && l(t) && !o(t, r) && h(t), t;
      },
      g = (t.exports = {
        KEY: r,
        NEED: !1,
        fastKey: d,
        getWeak: f,
        onFreeze: p,
      });
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s() {
      d.default
        .getInstance()
        .playAudioSprite({ sprite: 'menu', marker: 'button-onclick' });
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var u =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      l = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      c = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      h = i(8),
      d = n(h),
      f = i(72),
      p = n(f),
      g = {
        spritesheet: { id: 'mainmenu-elements' },
        sizes: {
          xsm: {
            out: 'mainmenu_btn_extrasm_base.png',
            over: 'mainmenu_btn_extrasm_base.png',
            down: 'mainmenu_btn_extrasm_onclick.png',
            style: {
              font: '13px BerlinSansFB-Reg',
              fill: '#99eded',
              boundsAlignH: 'center',
              wordWrap: !0,
              align: 'center',
            },
          },
          sm: {
            out: 'mainmenu_btn_sm_base.png',
            over: 'mainmenu_btn_sm_base.png',
            down: 'mainmenu_btn_sm_onclick.png',
            style: {
              font: '16px BerlinSansFB-Reg',
              fill: '#99eded',
              boundsAlignH: 'center',
              wordWrap: !0,
              align: 'center',
            },
          },
          m: {
            out: 'mainmenu_btn_mid_base.png',
            over: 'mainmenu_btn_mid_base.png',
            down: 'mainmenu_btn_mid_onclick.png',
            style: {
              font: '19px BerlinSansFB-Reg',
              fill: '#99eded',
              boundsAlignH: 'center',
              wordWrap: !0,
              align: 'center',
            },
          },
          l: {
            out: 'mainmenu_btn_long_base.png',
            over: 'mainmenu_btn_long_base.png',
            down: 'mainmenu_btn_long_onclick.png',
            style: {
              font: '22px BerlinSansFB-Reg',
              fill: '#99eded',
              boundsAlignH: 'center',
              wordWrap: !0,
              align: 'center',
            },
          },
          'fat-s': {
            out: 'briefing_btn_short_base.png',
            over: 'briefing_btn_short_base.png',
            down: 'briefing_btn_short_onclick.png',
            style: {
              font: '22px BerlinSansFB-Reg',
              fill: '#99eded',
              boundsAlignH: 'center',
              wordWrap: !0,
              align: 'center',
            },
          },
          'fat-l': {
            out: 'briefing_btn_long_base.png',
            over: 'briefing_btn_long_base.png',
            down: 'briefing_btn_long_onclick.png',
            style: {
              font: '22px BerlinSansFB-Reg',
              fill: '#99eded',
              boundsAlignH: 'center',
              wordWrap: !0,
              align: 'center',
            },
          },
        },
      },
      y = window.fivenations,
      v = (function (t) {
        function e(t) {
          r(this, e);
          let i = l(Phaser.GAMES, 1),
            n = i[0],
            o = a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, n),
            );
          return (
            o.initFilter(),
            o.initComponents(t),
            o.setCoordinates(t),
            o.update(t),
            o
          );
        }
        return (
          o(e, t),
          c(e, [
            {
              key: 'initFilter',
              value() {
                this.filterGray = new p.default(this.game);
              },
            },
            {
              key: 'initComponents',
              value(t) {
                let e = this,
                  i = t.size,
                  n = t.onClick,
                  r = t.customOverFrame,
                  a = t.customOutFrame,
                  o = t.customDownFrame,
                  l = t.fixedToCamera,
                  c = t.label,
                  h = t.noAudio,
                  d = g.sizes[i || 'sm'],
                  f = function () {
                    h || s(), n && n.call(e);
                  },
                  p = r || d.over,
                  y = a || d.out,
                  v = o || d.down;
                (this.sprite = this.game.add.button(
                  0,
                  0,
                  g.spritesheet.id,
                  f,
                  this,
                  p,
                  y,
                  v,
                )),
                this.sprite.anchor.set(0.5),
                l && (this.fixedToCamera = !0),
                (this.text = this.game.add.text(
                  0,
                  0,
                  c,
                  u({}, d.style, { wordWrapWidth: this.sprite.width }),
                )),
                this.text.anchor.set(0.5),
                this.add(this.sprite),
                this.add(this.text);
              },
            },
            {
              key: 'setCoordinates',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = t.fixedToCamera,
                  r = e || y.window.width / 2,
                  a = i || y.window.height / 2;
                (this.x = r),
                (this.y = a),
                n &&
                    ((this.fixedToCamera = !0), this.cameraOffset.setTo(r, a));
              },
            },
            {
              key: 'update',
              value(t) {
                t && t.text && (this.text = t.text);
              },
            },
            {
              key: 'enable',
              value() {
                (this.filters = null), (this.inputEnabled = !0);
              },
            },
            {
              key: 'disable',
              value() {
                (this.filters = [this.filterGray]), (this.inputEnabled = !1);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = v;
  },
  function (t, e, i) {
    t.exports = function (t, e, i, n) {
      if (!(t instanceof e) || (void 0 !== n && n in t)) { throw TypeError(`${i}: incorrect invocation!`); }
      return t;
    };
  },
  function (t, e, i) {
    let n = i(37),
      r = i(156),
      a = i(116),
      o = i(6),
      s = i(17),
      u = i(132),
      l = {},
      c = {},
      h = (t.exports = function (t, e, i, h, d) {
        let f,
          p,
          g,
          y,
          v = d
            ? function () {
              return t;
            }
            : u(t),
          m = n(i, h, e ? 2 : 1),
          b = 0;
        if (typeof v !== 'function') throw TypeError(`${t} is not iterable!`);
        if (a(v)) {
          for (f = s(t.length); f > b; b++) {
            if ((y = e ? m(o((p = t[b]))[0], p[1]) : m(t[b])) === l || y === c) { return y; }
          }
        } else {
          for (g = v.call(t); !(p = g.next()).done;) { if ((y = r(g, m, p.value, e)) === l || y === c) return y; }
        }
      });
    (h.BREAK = l), (h.RETURN = c);
  },
  function (t, e, i) {
    var n = i(6),
      r = i(162),
      a = i(112),
      o = i(125)('IE_PROTO'),
      s = function () {},
      u = function () {
        let t,
          e = i(111)('iframe'),
          n = a.length;
        for (
          e.style.display = 'none',
          i(114).appendChild(e),
          e.src = 'javascript:',
          t = e.contentWindow.document,
          t.open(),
          t.write('<script>document.F=Object</script>'),
          t.close(),
          u = t.F;
          n--;

        ) { delete u.prototype[a[n]]; }
        return u();
      };
    t.exports =
      Object.create ||
      function (t, e) {
        let i;
        return (
          t !== null
            ? ((s.prototype = n(t)),
            (i = new s()),
            (s.prototype = null),
            (i[o] = t))
            : (i = u()),
          void 0 === e ? i : r(i, e)
        );
      };
  },
  function (t, e, i) {
    let n = i(164),
      r = i(112).concat('length', 'prototype');
    e.f =
      Object.getOwnPropertyNames ||
      function (t) {
        return n(t, r);
      };
  },
  function (t, e, i) {
    let n = i(164),
      r = i(112);
    t.exports =
      Object.keys ||
      function (t) {
        return n(t, r);
      };
  },
  function (t, e, i) {
    t.exports = function (t, e) {
      return {
        enumerable: !(1 & t),
        configurable: !(2 & t),
        writable: !(4 & t),
        value: e,
      };
    };
  },
  function (t, e, i) {
    const n = i(26);
    t.exports = function (t, e, i) {
      for (const r in e) n(t, r, e[r], i);
      return t;
    };
  },
  function (t, e, i) {
    let n = i(9),
      r = i(19),
      a = i(18),
      o = i(16)('species');
    t.exports = function (t) {
      const e = n[t];
      a &&
        e &&
        !e[o] &&
        r.f(e, o, {
          configurable: !0,
          get() {
            return this;
          },
        });
    };
  },
  function (t, e, i) {
    let n = i(39),
      r = Math.max,
      a = Math.min;
    t.exports = function (t, e) {
      return (t = n(t)), t < 0 ? r(t + e, 0) : a(t, e);
    };
  },
  function (t, e, i) {
    let n = 0,
      r = Math.random();
    t.exports = function (t) {
      return 'Symbol('.concat(
        void 0 === t ? '' : t,
        ')_',
        (++n + r).toString(36),
      );
    };
  },
  function (t, e, i) {
    const n = i(13);
    t.exports = function (t, e) {
      if (!n(t) || t._t !== e) { throw TypeError(`Incompatible receiver, ${e} required!`); }
      return t;
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = window.fivenations,
      o = (function () {
        function t(e) {
          n(this, t),
          e &&
              ((this.playerId = e.playerId),
              (this.player = e.player),
              (this.active = e.active),
              (this.eventDispatcher = e.eventDispatcher),
              (this.buildOrderName = e.playerConfig.bot.buildOrder),
              (this.layout = e.playerConfig.bot.layout),
              (this.layoutRotation = e.playerConfig.bot.layoutRotation),
              (this.race = e.playerConfig.race),
              (this.enemy = e.playerConfig.bot.enemy)),
          (this.game = a.game),
          (this.entityManager = this.game.entityManager),
          (this.eventEmitter = this.game.eventEmitter),
          (this.resourceChecker = this.game.resourceChecker),
          (this.locationManager = this.game.locationManager),
          (this.enemyPlayerId = this.enemy || 1),
          (this.timers = []),
          this.active && this.reset();
        }
        return (
          r(t, [
            {
              key: 'on',
              value(t, e) {
                this.eventDispatcher.addEventListener(t, e);
              },
            },
            {
              key: 'reset',
              value() {
                this.removeEvents();
              },
            },
            {
              key: 'removeEvents',
              value() {
                const t = this;
                this.timers.forEach(e => t.game.time.events.remove(e));
              },
            },
            { key: 'update', value() {} },
            {
              key: 'isActive',
              value() {
                return this.active;
              },
            },
            {
              key: 'setActive',
              value(t) {
                (this.active = t), t ? this.reset() : this.removeEvents();
              },
            },
          ]),
          t
        );
      }());
    e.default = o;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = window.fivenations,
      s = (function () {
        function t(e) {
          n(this, t);
          const i = r(Phaser.GAMES, 1);
          (this.game = i[0]), (this.entity = e), (this.killable = !0);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value() {
                (this.manager.activeSpells[this.getId()] = !0),
                (this.active = !0);
              },
            },
            {
              key: 'deactivate',
              value() {
                (this.manager.activeSpells[this.getId()] = !1),
                (this.active = !1);
              },
            },
            {
              key: 'update',
              value() {
                this.ttl > 0
                  ? (this.ttl -= o.game.time.fpsMultiplier)
                  : this.ttl <= 0 && this.kill();
              },
            },
            {
              key: 'kill',
              value() {
                this.manager && this.manager.remove(this);
              },
            },
            {
              key: 'setManager',
              value(t) {
                this.manager = t;
              },
            },
            {
              key: 'isActivated',
              value() {
                return this.active;
              },
            },
            {
              key: 'isKillable',
              value() {
                return this.killable;
              },
            },
            {
              key: 'getManager',
              value() {
                return this.manager;
              },
            },
            {
              key: 'getId',
              value() {
                return 'unidentified';
              },
            },
            {
              key: 'getIconFrameName',
              value() {
                return '';
              },
            },
          ]),
          t
        );
      }());
    e.default = s;
  },
  function (t, e, i) {
    let n = i(35),
      r = i(16)('toStringTag'),
      a =
        n((function () {
          return arguments;
        }())) ==
        'Arguments',
      o = function (t, e) {
        try {
          return t[e];
        } catch (t) {}
      };
    t.exports = function (t) {
      let e,
        i,
        s;
      return void 0 === t
        ? 'Undefined'
        : t === null
          ? 'Null'
          : typeof (i = o((e = Object(t)), r)) === 'string'
            ? i
            : a
              ? n(e)
              : (s = n(e)) == 'Object' && typeof e.callee === 'function'
                ? 'Arguments'
                : s;
    };
  },
  function (t, e, i) {
    t.exports = {};
  },
  function (t, e, i) {
    let n = i(19).f,
      r = i(29),
      a = i(16)('toStringTag');
    t.exports = function (t, e, i) {
      t &&
        !r((t = i ? t : t.prototype), a) &&
        n(t, a, { configurable: !0, value: e });
    };
  },
  function (t, e, i) {
    var n = i(0),
      r = i(42),
      a = i(12),
      o = i(128),
      s = `[${o}]`,
      u = '',
      l = RegExp(`^${s}${s}*`),
      c = RegExp(`${s + s}*$`),
      h = function (t, e, i) {
        let r = {},
          s = a(() => !!o[t]() || u[t]() != u),
          l = (r[t] = s ? e(d) : o[t]);
        i && (r[i] = l), n(n.P + n.F * s, 'String', r);
      },
      d = (h.trim = function (t, e) {
        return (
          (t = String(r(t))),
          1 & e && (t = t.replace(l, '')),
          2 & e && (t = t.replace(c, '')),
          t
        );
      });
    t.exports = h;
  },
  function (t, e, i) {
    let n,
      r =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          };
    n = (function () {
      return this;
    }());
    try {
      n = n || Function('return this')() || (0, eval)('this');
    } catch (t) {
      (typeof window === 'undefined' ? 'undefined' : r(window)) === 'object' &&
        (n = window);
    }
    t.exports = n;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            (i.uniforms.gray = { type: '1f', value: 1 }),
            (i.fragmentSrc = [
              'precision mediump float;',
              'varying vec2       vTextureCoord;',
              'varying vec4       vColor;',
              'uniform sampler2D  uSampler;',
              'uniform float      gray;',
              'void main(void) {',
              'gl_FragColor = texture2D(uSampler, vTextureCoord);',
              'gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126 * gl_FragColor.r + 0.7152 * gl_FragColor.g + 0.0722 * gl_FragColor.b), gray);',
              '}',
            ]),
            i
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'gray',
              set(t) {
                this.uniforms.gray.value = t;
              },
              get() {
                return this.uniforms.gray.value;
              },
            },
          ]),
          e
        );
      }(Phaser.Filter));
    e.default = s;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(8),
      u = n(s),
      l = i(7),
      c = n(l),
      h = window.fivenations,
      d = void 0,
      f = (function () {
        function t() {
          r(this, t), (this.translator = c.default.getInstance());
        }
        return (
          o(t, [
            {
              key: 'execute',
              value(t) {
                const e = this;
                if (!t) return Promise.resolve();
                let i = h.game,
                  n = i.GUI.getDialogDisplay(),
                  r = t.reduce((t, r) => {
                    let o = r.text,
                      s = r.portraitId,
                      u = r.length,
                      l = r.audio,
                      c = r.pauseGame,
                      h = {
                        text: e.translator.translate(o),
                        portraitId: s,
                        pauseGame: c,
                      };
                    return t.then(() => new Promise(((t, r) => {
                      const o = a({}, h, { onSkip: r });
                      if (e.forceStop) return void r();
                      Promise.resolve()
                        .then(() => n.addItem(o))
                        .then(() => (e.forceStop
                          ? Promise.reject()
                          : l
                            ? e.playAudio(l)
                            : i.wait(u || 5e3)))
                        .then(t)
                        .catch(r);
                    })));
                  }, Promise.resolve());
                return (
                  r
                    .catch(() => {})
                    .then(() => {
                      n.hide(), e.fadeOutAudio();
                    }),
                  (this.forceStop = !1),
                  r
                );
              },
            },
            {
              key: 'stop',
              value() {
                (this.forceStop = !0),
                this.currentAudio && this.currentAudio.stop();
              },
            },
            {
              key: 'playAudio',
              value(t) {
                const e = this;
                return new Promise(((i, n) => {
                  const r = u.default
                    .getInstance()
                    .playAudioSprite({ sprite: 'prequel-dialogs', marker: t });
                  r.onMarkerComplete.addOnce(() => {
                    e.forceStop && n(), i();
                  }),
                  (e.currentAudio = r);
                }));
              },
            },
            {
              key: 'fadeOutAudio',
              value() {
                const t = this;
                this.currentAudio &&
                  (this.currentAudio.fadeOut(),
                  this.currentAudio.onFadeComplete.addOnce(() => t.currentAudio.stop()));
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return d || (d = new f()), d;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r() {
      mt = l.default.getInstance().getGroup(c.GROUP_GUI);
    }
    function a() {
      let t = void 0;
      (jt = pt.add.image(0, 0, 'gui-markers')),
      (jt.visible = !1),
      jt.anchor.setTo(0.5, 0.5),
      [
        'click-move',
        'click-rallyPoint',
        'click-enemy',
        'click-friendly',
      ].forEach((e) => {
        (t = jt.animations.add(e, c.CLICK_ANIMATIONS.animations[e])),
        t.onStart.add(() => {
          jt.visible = !0;
        }),
        t.onComplete.add(() => {
          jt.visible = !1;
        });
      }),
      mt.add(jt);
    }
    function o() {
      let t = ft.window.width,
        e = d.default.getInstance();
      (Tt = new A.default()),
      Tt.appendTo(mt),
      (bt = new x.default()),
      bt.appendTo(mt),
      (_t = new k.default(gt)),
      _t.appendTo(bt, 0, c.DEFAULT_CANVAS_HEIGHT - _t.height),
      (wt = new I.default()),
      wt.appendTo(
        bt,
        c.DEFAULT_CANVAS_WIDTH - 238,
        c.DEFAULT_CANVAS_HEIGHT - wt.height,
      ),
      (xt = new O.default()),
      xt.appendTo(
        bt,
        c.DEFAULT_CANVAS_WIDTH - xt.width + 36,
        c.DEFAULT_CANVAS_HEIGHT - xt.height + 46,
      ),
      (Pt = new S.default()),
      Pt.appendTo(bt, 785, 20),
      (kt = new L.default(pt)),
      kt.appendTo(bt, c.NOTIFICATION_PANEL.x, c.NOTIFICATION_PANEL.y),
      (Et = new z.default()),
      Et.appendTo(bt, c.MISSION_OBJECTIVE_BAR.x, c.MISSION_OBJECTIVE_BAR.y),
      (St = new q.default()),
      St.appendTo(bt, c.MISSION_NOTIFICATIONS.x, c.MISSION_NOTIFICATIONS.y),
      (Ct = new Q.default()),
      Ct.appendTo(bt, c.DIALOG_DISPLAY.x, c.DIALOG_DISPLAY.y),
      (Bt = new rt.default()),
      Bt.appendTo(bt, c.INGAME_TIMER_DISPLAY.x, c.INGAME_TIMER_DISPLAY.y),
      (Ft = new m.default()),
      (Ot = new X.default()),
      mt.add(Ot),
      (Lt = new tt.default()),
      mt.add(Lt),
      (Dt = new it.default()),
      mt.add(Dt),
      (It = new ot.default({
        x: t - 65,
        y: 30,
        fixedToCamera: !0,
        label: e.translate('ingame.menu.menubutton').toLocaleUpperCase(),
        onClick() {
          ft.game.pause(), Mt.show();
        },
        customOverFrame: 'XXXbtn_objectives_base.png',
        customOutFrame: 'XXXbtn_objectives_base.png',
        customDownFrame: 'XXXbtn_objectives_onclick.png',
        offsetX: 15,
      })),
      mt.add(It),
      (Mt = new G.default({
        buttons: [
          {
            label: e.translate('ingamemenu.save'),
            y: -215,
            disabled: !0,
            onClick() {},
          },
          {
            label: e.translate('ingamemenu.load'),
            y: -165,
            disabled: !0,
            onClick() {},
          },
          {
            label: e.translate('ingamemenu.options'),
            y: -94,
            closeMenu: !0,
            onClick() {
              At.show();
            },
          },
          {
            label: e.translate('ingamemenu.objectives'),
            y: -44,
            disabled: !0,
            onClick() {},
          },
          {
            label: e.translate('ingamemenu.encyclopedia'),
            y: 6,
            disabled: !0,
            onClick() {},
          },
          {
            label: e.translate('ingamemenu.pause'),
            y: 56,
            onClick() {
              ft.game.pause();
            },
          },
          {
            label: e.translate('ingamemenu.restart'),
            y: 106,
            onClick() {
              const t = ft.game;
              t.exitScene().then(() => {
                t.game.state.start('game');
              });
            },
          },
          {
            label: e.translate('ingamemenu.quit'),
            y: 156,
            onClick() {
              const t = ft.game;
              t.exitScene().then(() => {
                t.game.state.start('game-summary');
              });
            },
          },
          {
            label: e.translate('ingamemenu.resume'),
            y: 229,
            closeMenu: !0,
            onClick() {
              ft.game.resume();
            },
          },
        ],
        separators: [-134, 189],
        pauseGame: !0,
        overlay: !0,
        hidden: !0,
      })),
      mt.add(Mt),
      (At = new W.default({
        text: e.translate('ingamemenu.options').toLocaleUpperCase(),
        buttons: [
          {
            label: e.translate('framework.cancel'),
            y: 229,
            closeMenu: !0,
            onClick() {
              Mt.show();
            },
          },
        ],
        inputs: [
          {
            label: e
              .translate('ingamemenu.option.volume')
              .toLocaleUpperCase(),
            y: -203,
            type: 'slider',
            value: ct.default.getInstance().getVolume(),
            onClickFunction: 'sound',
          },
          {
            label: e.translate('ingamemenu.option.music').toLocaleUpperCase(),
            y: -151,
            type: 'slider',
            value: dt.default.getInstance().getVolume(),
            onClickFunction: 'music',
          },
          {
            label: e
              .translate('ingamemenu.option.scrollspeed')
              .toLocaleUpperCase(),
            y: -93,
            type: 'slider',
            value: 0.5,
            disabled: !0,
          },
          {
            label: e
              .translate('ingamemenu.option.scrolldelay')
              .toLocaleUpperCase(),
            y: -27,
            type: 'checkbox',
            value: 1,
            disabled: !0,
          },
          {
            label: e
              .translate('ingamemenu.option.fullscreen')
              .toLocaleUpperCase(),
            y: 5,
            type: 'checkbox',
            value: 0,
            onClickFunction: ['fullscreen_off', 'fullscreen_on'],
          },
        ],
        separators: [-214, -103, -44, 184],
        pauseGame: !0,
        overlay: !0,
        hidden: !0,
      })),
      mt.add(At),
      (Rt = new F.default({
        text: e.translate('framework.question.exitmission'),
        okLabel: e.translate('framework.ok').toLocaleUpperCase(),
        cancelLabel: e.translate('framework.cancel').toLocaleUpperCase(),
        pauseGame: !0,
        onOK() {
          const t = ft.game;
          t.exitScene().then(() => {
            t.game.state.start('game-summary');
          });
        },
        overlay: !0,
        hidden: !0,
      })),
      mt.add(Rt),
      ut.default.initBeaconAnimations(pt);
    }
    function s() {
      r(), a(), o();
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var u = i(14),
      l = n(u),
      c = i(2),
      h = i(7),
      d = n(h),
      f = i(572),
      p = n(f),
      g = i(565),
      y = n(g),
      v = i(579),
      m = n(v),
      b = i(576),
      _ = n(b),
      w = i(563),
      x = n(w),
      P = i(193),
      k = n(P),
      T = i(594),
      O = n(T),
      E = i(569),
      S = n(E),
      C = i(548),
      I = n(C),
      M = i(537),
      A = n(M),
      R = i(562),
      L = n(R),
      D = i(139),
      B = n(D),
      j = i(541),
      F = n(j),
      U = i(555),
      G = n(U),
      N = i(556),
      W = n(N),
      H = i(577),
      X = n(H),
      V = i(561),
      z = n(V),
      Y = i(560),
      q = n(Y),
      K = i(546),
      Q = n(K),
      J = i(73),
      Z = n(J),
      $ = i(578),
      tt = n($),
      et = i(545),
      it = n(et),
      nt = i(557),
      rt = n(nt),
      at = i(104),
      ot = n(at),
      st = i(536),
      ut = n(st),
      lt = i(8),
      ct = n(lt),
      ht = i(82),
      dt = n(ht),
      ft = window.fivenations,
      pt = void 0,
      gt = void 0,
      yt = void 0,
      vt = void 0,
      mt = void 0,
      bt = void 0,
      _t = void 0,
      wt = void 0,
      xt = void 0,
      Pt = void 0,
      kt = void 0,
      Tt = void 0,
      Ot = void 0,
      Et = void 0,
      St = void 0,
      Ct = void 0,
      It = void 0,
      Mt = void 0,
      At = void 0,
      Rt = void 0,
      Lt = void 0,
      Dt = void 0,
      Bt = void 0,
      jt = void 0,
      Ft = void 0;
    (s.prototype = {
      putClickAnim(t, e) {
        const i =
          arguments.length > 2 && void 0 !== arguments[2]
            ? arguments[2]
            : 'click-move';
        (jt.x = t),
        (jt.y = e),
        jt.animations.stop(null, !0),
        jt.play(i, c.CLICK_ANIMATIONS.frameRate);
      },
      update() {
        _t.update(), wt.update();
      },
      addSelector(t) {
        if (!t) { throw new Error('First parameter must be an instance of Entity!'); }
        const e = new p.default(pt);
        return e.appendTo(t), e;
      },
      addProximityMonitor(t) {
        const e = new y.default();
        return e.appendTo(t), e;
      },
      addStatusDisplay(t) {
        const e = new _.default(pt);
        return e.appendTo(t), e;
      },
      addPopup() {
        let t =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
          e = new B.default(t);
        return mt.add(e), e;
      },
      addButton() {
        let t =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
          e = t.x,
          i = t.y,
          n = new ot.default(t);
        return (n.x = e || 0), (n.y = i || 0), mt.add(n), n;
      },
      lockSelection() {
        vt = !0;
      },
      unlockSelection() {
        vt = !1;
      },
      showNotification(t) {
        kt.show(t);
      },
      showMinimapNotification(t) {
        _t.showNotification(t);
      },
      reset() {
        Z.default.getInstance().stop();
      },
      getBuildingPlacementDisplay() {
        return Tt;
      },
      getTutorialDisplay() {
        return Ot;
      },
      getMissionObjectivesBar() {
        return Et;
      },
      getMissionNotifications() {
        return St;
      },
      getDialogDisplay() {
        return Ct;
      },
      getControlPanel() {
        return xt;
      },
      getVictoryDisplay() {
        return Lt;
      },
      getDefeatDisplay() {
        return Dt;
      },
      getInGameTimerDisplay() {
        return Bt;
      },
      getNotificationBar() {
        return kt;
      },
      getWeaponRangeMonitor() {
        return Ft;
      },
      getMinimap() {
        return _t;
      },
      isHover() {
        return _t.isHover() || wt.isHover();
      },
      isSelectionLocked() {
        return vt;
      },
    }),
    (e.default = {
      setGame(t) {
        return (pt = t), this;
      },
      setMap(t) {
        return (gt = t), this;
      },
      getInstance(t) {
        if (!pt) { throw new Error('Invoke setGame first to pass the Phaser Game entity!'); }
        return (yt && !t) || (yt = new s()), yt;
      },
    });
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 }),
    (e.SPRITESHEET_ID = void 0);
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(2),
      o = i(140),
      s = (e.SPRITESHEET_ID = 'production-tab-button'),
      u = window.fivenations,
      l = void 0,
      c = void 0,
      h = {},
      d = (function () {
        function t(e) {
          n(this, t), (this.game = e);
        }
        return (
          r(t, [
            {
              key: 'load',
              value() {
                const t = this;
                return new Promise(((e) => {
                  const i = {};
                  t.addSlotIcons(i),
                  t.addEntityIcons(i),
                  t.constructSpriteSheet(i),
                  t.preRenderTexture().then(e);
                }));
              },
            },
            {
              key: 'addSlotIcons',
              value(t) {
                for (let e = 1; e < o.SLOTS_COUNT; e += 1) {
                  const i = this.createElement({
                    assetId: 'gui',
                    id: `XXX_gui_construction_queue_${e}.png`,
                  });
                  t[`slot-${e}`] = i;
                }
              },
            },
            {
              key: 'addEntityIcons',
              value(t) {
                const e = this;
                Object.keys(u.entities)
                  .filter(t => e.game.cache.getJSON(t).type !== 'Space Object')
                  .forEach((i) => {
                    const n = e.createElement({
                      assetId: i,
                      idx: a.ENTITY_ICON_CONSTRUCT,
                    });
                    t[i] = n;
                  });
              },
            },
            {
              key: 'constructSpriteSheet',
              value(t) {
                let e = Object.keys(t).length,
                  i = Object.keys(t)[0],
                  n = t[i].width,
                  r = t[i].height,
                  a = Math.ceil(e / 25),
                  o = Math.floor(25 * n),
                  u = Math.floor(r * a),
                  l = this.game.add.bitmapData(o, u);
                Object.keys(t).forEach((e, i) => {
                  let a = t[e],
                    o = n * (i % 25),
                    s = r * Math.floor(i / 25);
                  l.draw(a, o, s), (h[e] = i);
                }),
                this.game.cache.addSpriteSheet(
                  s,
                  '',
                  l.canvas,
                  n,
                  r,
                  e,
                  0,
                  0,
                );
              },
            },
            {
              key: 'preRenderTexture',
              value() {
                return (
                  this.game.add.sprite(-50, -50, s),
                  new Promise((t => setTimeout(t, 1500)))
                );
              },
            },
            {
              key: 'createElement',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = t.id,
                  r = t.idx,
                  a = t.assetId,
                  o = this.game.make.sprite(e || 0, i || 0, a);
                return n ? (o.frameName = n) : r && (o.frame = r), o;
              },
            },
            {
              key: 'getIconFrames',
              value() {
                return h;
              },
            },
            {
              key: 'getFrameById',
              value(t) {
                return h[t];
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      setGame(t) {
        l = t;
      },
      getInstance() {
        if (!l) {
          throw new Error('Invoke setGame first to pass required Phaser.Game instance!');
        }
        return c || (c = new d(l)), c;
      },
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r() {
      s.default.getInstance().local.dispatch('fogofwar/vision/change');
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(1),
      s = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(o)),
      u = void 0,
      l = (function () {
        function t() {
          n(this, t), (this.diplomacy = {}), (this.vision = {});
        }
        return (
          a(t, [
            {
              key: 'reset',
              value() {
                (this.diplomacy = {}), (this.vision = {});
              },
            },
            {
              key: 'addAlliance',
              value(t, e) {
                const i =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 1;
                this.diplomacy[t] || (this.diplomacy[t] = {}),
                (this.diplomacy[t][e] = i);
              },
            },
            {
              key: 'removeAlliance',
              value(t, e) {
                this.addAlliance(t, e, 0);
              },
            },
            {
              key: 'addVision',
              value(t, e) {
                const i =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 1;
                this.vision[t] || (this.vision[t] = {}),
                (this.vision[t][e] = i),
                r();
              },
            },
            {
              key: 'removeVision',
              value(t, e) {
                this.addVision(t, e, 0), r();
              },
            },
            {
              key: 'getAlliesOfTeam',
              value(t) {
                const e = this;
                return this.diplomacy[t]
                  ? Object.keys(this.diplomacy[t]).filter(i => e.diplomacy[t][i])
                  : [];
              },
            },
            {
              key: 'getTeamWithSharedVisionOfTeam',
              value(t) {
                const e = this;
                return this.vision[t]
                  ? Object.keys(this.vision[t]).filter(i => e.vision[t][i])
                  : [];
              },
            },
            {
              key: 'isPlayerAlliedWith',
              value(t, e) {
                let i = t.getTeam(),
                  n = e.getTeam();
                return this.isTeamAlliedWith(i, n);
              },
            },
            {
              key: 'isTeamAlliedWith',
              value(t, e) {
                return (
                  !!this.diplomacy[t] &&
                  !!this.diplomacy[t][e] &&
                  this.diplomacy[t][e]
                );
              },
            },
            {
              key: 'isVisionSharedBetweenPlayers',
              value(t, e) {
                let i = t.getTeam(),
                  n = e.getTeam();
                return this.isVisionSharedBetweenTeams(i, n);
              },
            },
            {
              key: 'isVisionSharedBetweenTeams',
              value(t, e) {
                return (
                  !!this.vision[t] && !!this.vision[t][e] && this.vision[t][e]
                );
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance(t) {
        return (!t && u) || (u = new l()), u;
      },
    };
  },
  function (t, e, i) {
    const n = i(6);
    t.exports = function () {
      let t = n(this),
        e = '';
      return (
        t.global && (e += 'g'),
        t.ignoreCase && (e += 'i'),
        t.multiline && (e += 'm'),
        t.unicode && (e += 'u'),
        t.sticky && (e += 'y'),
        e
      );
    };
  },
  function (t, e, i) {
    const n = i(35);
    t.exports = Object('z').propertyIsEnumerable(0)
      ? Object
      : function (t) {
        return n(t) == 'String' ? t.split('') : Object(t);
      };
  },
  function (t, e, i) {
    e.f = {}.propertyIsEnumerable;
  },
  function (t, e, i) {
    let n = i(36),
      r = i(9),
      a = r['__core-js_shared__'] || (r['__core-js_shared__'] = {});
    (t.exports = function (t, e) {
      return a[t] || (a[t] = void 0 !== e ? e : {});
    })('versions', []).push({
      version: n.version,
      mode: i(51) ? 'pure' : 'global',
      copyright: ' 2019 Denis Pushkarev (zloirock.ru)',
    });
  },
  function (t, e, i) {
    let n = i(6),
      r = i(21),
      a = i(16)('species');
    t.exports = function (t, e) {
      let i,
        o = n(t).constructor;
      return void 0 === o || void 0 == (i = n(o)[a]) ? e : r(i);
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function o(t, e) {
      return new Promise(((i) => {
        t.isPlaying ? (t.onFadeComplete.addOnce(i), t.fadeOut(e)) : i(t);
      }));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s,
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(2),
      c = i(3),
      h = n(c),
      d = i(1),
      f = n(d),
      p = window.fivenations,
      g = `${l.PUBLIC_URL}assets/audio/music`,
      y = a(
        {},
        l.RACE_FEDERATION,
        ((s = {}),
        a(s, 1, ['fed-calm-1', 'fed-calm-2']),
        a(s, 2, ['fed-tense-1']),
        s),
      ),
      v = void 0,
      m = (function () {
        function t() {
          r(this, t),
          (this.game = p.game.game),
          this.init(),
          this.addEventListeners();
        }
        return (
          u(t, [
            {
              key: 'init',
              value() {
                let t;
                (this.counter = ((t = {}), a(t, 1, 0), a(t, 2, 0), t)),
                (this.currentCategory = 0),
                (this.onMusicEnded = this.onTrackFinished.bind(this));
              },
            },
            {
              key: 'addEventListeners',
              value() {
                const t = f.default.getInstance().local;
                t.addEventListener(
                  'userEntityAttacked',
                  this.increaseTension.bind(this, 1),
                ),
                t.addEventListener(
                  'userEntityDestroyed',
                  this.increaseTension.bind(this, 10),
                );
              },
            },
            {
              key: 'startMusicByRace',
              value(t) {
                (this.tenseCounter = 0),
                (this.currentCategory = 0),
                this.setRace(t),
                this.updateInterval && clearInterval(this.updateInterval),
                (this.counter[1] = h.default.rnd(0, y[this.race][1].length)),
                (this.counter[2] = h.default.rnd(0, y[this.race][2].length)),
                (this.updateInterval = setInterval(
                  this.update.bind(this),
                  1e3,
                ));
              },
            },
            {
              key: 'update',
              value() {
                if (this.tenseCounter === 0) { return void this.transitionToCalm(); }
                this.tenseCounter >= 20 && this.transitionToTense(),
                (this.tenseCounter -= 1);
              },
            },
            {
              key: 'playMusic',
              value(t) {
                const e = this;
                p.debug.noMusic ||
                  this.fetchNextMusicByCategory(t).then((i) => {
                    const n = e.currentMusic && e.currentMusic.mute;
                    (e.currentMusic = i),
                    (e.currentMusic.mute = n),
                    e.previousMusic
                      ? (e.currentMusic.play(),
                      e.currentMusic.fadeTo(2e3, 0.2))
                      : e.currentMusic.play(),
                    e.currentMusic.onStop.add(e.onMusicEnded),
                    (e.currentCategory = t);
                  });
              },
            },
            {
              key: 'playMusicOnce',
              value(t) {
                const e = this;
                return this.stopMusic()
                  .then(() => e.fetchTrack(t))
                  .then((t) => {
                    t.play(), (e.currentMusic = t);
                  });
              },
            },
            {
              key: 'transitionToTense',
              value() {
                const t = this;
                this.currentCategory !== 2 &&
                  (this.currentMusic &&
                    ((this.previousMusic = this.currentMusic),
                    this.previousMusic.onStop.remove(this.onMusicEnded),
                    o(this.previousMusic, 2e3).then(() => {
                      t.previousMusic.pause();
                    })),
                  this.playMusic(2),
                  (this.currentCategory = 2));
              },
            },
            {
              key: 'transitionToCalm',
              value() {
                this.currentCategory !== 1 &&
                  (this.previousMusic
                    ? (this.previousMusic.onStop.add(this.onMusicEnded),
                    this.previousMusic.resume(),
                    this.previousMusic.fadeTo(2e3, 0.2),
                    this.currentMusic.onStop.remove(this.onMusicEnded),
                    o(this.currentMusic, 2e3).then((t) => {
                      t.stop(), t.destroy();
                    }),
                    (this.currentMusic = this.previousMusic))
                    : this.playMusic(1),
                  (this.currentCategory = 1));
              },
            },
            {
              key: 'setRace',
              value(t) {
                this.race = t;
              },
            },
            {
              key: 'increaseTension',
              value(t) {
                this.tenseCounter < 20 && (this.tenseCounter += t);
              },
            },
            {
              key: 'onTrackFinished',
              value() {
                this.currentMusic.onStop.remove(this.onMusicEnded),
                this.currentMusic.stop(),
                this.currentMusic.destroy(),
                this.playMusic(this.currentCategory);
              },
            },
            {
              key: 'fetchNextMusicByCategory',
              value(t) {
                const e = y[this.race][t];
                (this.counter[t] += 1), (this.counter[t] %= e.length);
                const i = e[this.counter[t]];
                return this.fetchTrack(i);
              },
            },
            {
              key: 'fetchTrack',
              value(t) {
                return this.preloadTrack(t).then(t => new Promise(((e) => {
                  t.isDecoded && e(t),
                  t.onDecoded.add(() => {
                    e(t);
                  });
                })));
              },
            },
            {
              key: 'preloadTrack',
              value(t) {
                const e = this;
                return new Promise(((i) => {
                  if (e.game.cache.checkSoundKey(t)) { i(e.game.add.audio(t, 0.2)); } else {
                    const n = new Phaser.Loader(e.game);
                    (n.crossOrigin = 'anonymous'),
                    n.onLoadComplete.add(() => {
                      i(e.game.add.audio(t, 0.2));
                    }),
                    n.audio(t, [`${g}/${t}.mp3`, `${g}/${t}.ogg`]),
                    n.start();
                  }
                }));
              },
            },
            {
              key: 'stopMusic',
              value() {
                const t = this;
                return (
                  this.updateInterval && clearInterval(this.updateInterval),
                  this.previousMusic &&
                    (this.previousMusic.onStop.remove(this.onMusicEnded),
                    this.previousMusic.stop(),
                    this.previousMusic.destroy(),
                    (this.previousMusic = null)),
                  this.currentMusic
                    ? (this.currentMusic.onStop.remove(this.onMusicEnded),
                    o(this.currentMusic, 1e3).then((e) => {
                      e.stop(), e.destroy(), (t.currentMusic = null);
                    }))
                    : Promise.resolve()
                );
              },
            },
            {
              key: 'mute',
              value() {
                this.previousMusic && (this.previousMusic.mute = !0),
                this.currentMusic && (this.currentMusic.mute = !0);
              },
            },
            {
              key: 'unmute',
              value() {
                this.previousMusic && (this.previousMusic.mute = !1),
                this.currentMusic && (this.currentMusic.mute = !1);
              },
            },
            {
              key: 'setVolume',
              value(t) {
                t > 1 ||
                  t < 0 ||
                  (this.previousMusic &&
                    (t === 0
                      ? (this.previousMusic.mute = !0)
                      : ((this.previousMusic.mute = !1),
                      (this.previousMusic.volume = t))),
                  this.currentMusic &&
                    (t === 0
                      ? (this.currentMusic.mute = !0)
                      : ((this.currentMusic.mute = !1),
                      (this.currentMusic.volume = t))));
              },
            },
            {
              key: 'getVolume',
              value() {
                let t = 0.2;
                return (
                  this.previousMusic && (t = this.previousMusic.volume),
                  this.currentMusic && (t = this.currentMusic.volume),
                  t
                );
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return v || (v = new m()), v;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(15),
      c = n(l),
      h = i(3),
      d = n(h),
      f = i(2),
      p = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (i.coords = {}), (i._distance = 0), i;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'activate',
              value() {
                const t =
                  !(arguments.length > 0 && void 0 !== arguments[0]) ||
                  arguments[0];
                return (
                  u(
                    e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                    'activate',
                    this,
                  ).call(this),
                  !this.entity.canMove() || this.entity.isHoldingPosition()
                    ? void this.kill()
                    : t &&
                      d.default.areCoordsEqual(
                        this.entity.getTileObj(),
                        this.getTile(),
                      )
                      ? void this.kill()
                      : void this.entity.getMotionManager().moveTo(this)
                );
              },
            },
            {
              key: 'calculateDistance',
              value() {
                this._distance = d.default.distanceBetween(
                  this.entity,
                  this.target,
                );
              },
            },
            {
              key: 'forceNoPathFinding',
              value() {
                this.noPathFinding = !0;
              },
            },
            {
              key: 'setCoords',
              value(t) {
                this.coords = t;
              },
            },
            {
              key: 'getCoords',
              value() {
                return this.coords;
              },
            },
            {
              key: 'getTile',
              value() {
                return {
                  x: Math.floor(this.coords.x / f.TILE_WIDTH),
                  y: Math.floor(this.coords.y / f.TILE_HEIGHT),
                };
              },
            },
            {
              key: 'hasNoPathFinding',
              value() {
                return this.noPathFinding;
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = p;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = (function () {
        function t(e) {
          n(this, t), (this.text = e);
        }
        return (
          r(t, [
            {
              key: 'complete',
              value() {
                this.completed = !0;
              },
            },
            {
              key: 'getText',
              value() {
                return this.text;
              },
            },
            {
              key: 'isCompleted',
              value() {
                return this.completed;
              },
            },
          ]),
          t
        );
      }());
    e.default = a;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = window.fivenations,
      u = (function (t) {
        function e() {
          const t =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          n(this, e);
          let i = s.game.game,
            a = r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, i),
            );
          return (
            a.initOverlay(t),
            a.setAnchorToCentre(),
            (a.fixedToCamera = t.fixedToCamera || !1),
            (a.visible = t.visible || !0),
            a
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'initOverlay',
              value(t) {
                let e = t.alpha,
                  i = t.stopPropagation,
                  n = s.window,
                  r = n.width,
                  a = n.height;
                (this.graphics = this.game.add.graphics(0, 0)),
                this.graphics.beginFill('0x000000'),
                this.graphics.drawRect(0, 0, r, a),
                this.graphics.endFill(),
                (this.graphics.alpha = e || 0.75),
                i && (this.graphics.inputEnabled = !0),
                this.add(this.graphics);
              },
            },
            {
              key: 'setAnchorToCentre',
              value() {
                this.graphics.anchor.setTo(0.5);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = u;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t) {
      return t.length === 1;
    }
    function u(t, e) {
      if (e.length === 1) {
        const i = e[0];
        i.isProducing() && t.push('cancelProduction');
        const n = i.hasControlOrder();
        if (n) {
          let r = '',
            a = [];
          i.dataObject.getProduction()
            ? ((r = 'production|'), (a = n.production))
            : i.dataObject.getConstruction()
              ? ((r = 'construction|'), (a = n.construction))
              : i.dataObject.getResearch() &&
              ((r = 'research|'), (a = n.research));
          for (let o = 0; o < a.length; o += 1) {
            if (a[o] !== '') {
              const s = r + a[o];
              x[s] = o;
            }
          }
        }
      }
    }
    function l(t) {
      return t.split('|')[0] === 'production';
    }
    function c(t) {
      return t.split('|')[0] === 'research';
    }
    function h(t) {
      return t.split('|')[0] === 'deploy';
    }
    function d(t) {
      return t.split('|')[0] === 'establishBase';
    }
    function f(t) {
      return t.split('|')[0] === 'upgrade';
    }
    function p(t) {
      return t.split('|')[0] === 'spell';
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var g = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      y = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      v = i(592),
      m = n(v),
      b = i(11),
      _ = n(b),
      w = window.fivenations,
      x = {
        cancelProduction: 24,
        constructionPage: 20,
        setRallyPoint: 20,
        deploy: 24,
        establishBase: 24,
        upgrade: 20,
      },
      P = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, w.game.game),
          );
          return i.init(t), i;
        }
        return (
          o(e, t),
          y(e, [
            {
              key: 'init',
              value(t) {
                (this.panel = t),
                (this.buttons = []),
                (this.entityManager = _.default.getInstance()),
                this.populate();
              },
            },
            {
              key: 'populate',
              value() {
                for (let t = void 0, e = 0; e < 25; e += 1) {
                  (t = this.createControlButton()),
                  this.addControlButtonAtPosition(t, e);
                }
              },
            },
            {
              key: 'createControlButton',
              value(t) {
                const e = new m.default(this);
                return t && e.setId(t), e;
              },
            },
            {
              key: 'addControlButtonAtPosition',
              value(t, e) {
                if (!t) {
                  throw new Error('Invalid ControlButton instance was passed as the first parameter!');
                }
                (t.x = (e % 5) * 40),
                (t.y = 40 * Math.floor(e / 5)),
                this.buttons.push(this.add(t));
              },
            },
            {
              key: 'refresh',
              value(t) {
                if ((this.resetAllButtons(), t)) {
                  const e = this.entityManager.getMergedAbilities(t);
                  u(e, t), this.showButtonsByAbilities(e, t);
                }
              },
            },
            {
              key: 'resetAllButtons',
              value() {
                this.buttons.forEach(t => t.reset());
              },
            },
            {
              key: 'highlightButton',
              value(t) {
                this.buttons.forEach((e) => {
                  t !== e && (e.disable(), (e.alpha = 0.25));
                });
              },
            },
            {
              key: 'showButtonsByAbilities',
              value(t, e) {
                const i = this;
                t.forEach((t) => {
                  let n = void 0,
                    r = x[t];
                  if (
                    (n = r
                      ? i.buttons[r]
                      : i.buttons.find(t => !t.visible))
                  ) {
                    let a = !0;
                    if (
                      (e.forEach((t) => {
                        t.getDataObject().isUncontrolable() && (a = !1);
                      }),
                      l(t) && a)
                    ) {
                      const o = t.split('|')[1];
                      n.convertToProduceButton(o), (n.visible = !0);
                    } else if (c(t) && a) {
                      if (s(e)) {
                        let u = t.split('|')[1],
                          y = e[0],
                          v = y.getPlayer();
                        if (!v.isResearching(u) && !v.hasResearchCompleted(u)) {
                          const m =
                            n && n.techManager && n.techManager.getTechById(u);
                          if (!m) {
                            return (
                              console.warn(`Tech cannot be found for researchId: ${u}`),
                              void (n.visible = !1)
                            );
                          }
                          n.convertToResearchButton(u), (n.visible = !0);
                        }
                      }
                    } else {
                      d(t) && a
                        ? e.forEach((t) => {
                          const e = t.getDataObject().getDeployMCVTo();
                          e &&
                              e[0] &&
                              (n.setButtonLabelByEntity('establishBase', e[0]),
                              (n.visible = !0));
                        })
                        : h(t) && a
                          ? e.forEach((t) => {
                            const e = t.getDataObject().getDeployTo();
                            e &&
                              e[0] &&
                              (n.setButtonLabelByEntity('deploy', e[0]),
                              (n.visible = !0));
                          })
                          : f(t) && a
                            ? e.forEach((t) => {
                              const e = t.getDataObject().getUpgrades();
                              if (e && e[0]) {
                                let i = g(e, 1),
                                  r = i[0];
                                n.convertToUpgradeButton(r),
                                (n.upgradeTo = r),
                                (n.visible = !0);
                              }
                            })
                            : p(t) && a
                              ? e.forEach(() => {
                                const e = t.split('|')[1];
                                n.convertToSpellButton(e), (n.visible = !0);
                              })
                              : (n.setId(t),
                              n.setHotKeyId(void 0),
                              (n.visible = !!a));
                    }
                  }
                });
              },
            },
            {
              key: 'getControlPanel',
              value() {
                return this.parent;
              },
            },
            {
              key: 'getButtonCount',
              value() {
                return 25;
              },
            },
            {
              key: 'getButtons',
              value() {
                return this.buttons;
              },
            },
            {
              key: 'getButtonById',
              value(t) {
                for (let e = this.buttons.length - 1; e >= 0; e -= 1) {
                  if (
                    this.buttons[e].getId() === t ||
                    this.buttons[e].getProducableEntity() === t
                  ) { return this.buttons[e]; }
                }
                return null;
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = P;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          },
      a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(2),
      s = (function () {
        function t(e) {
          n(this, t), (this.sprite = e), this.sprite.anchor.setTo(0.5, 0.5);
        }
        return (
          a(t, [
            {
              key: 'setX',
              value(t) {
                return (this.x = t), this;
              },
            },
            {
              key: 'setY',
              value(t) {
                return (this.y = t), this;
              },
            },
            {
              key: 'setZ',
              value(t) {
                return (this.z = t), this;
              },
            },
            {
              key: 'setScale',
              value(t) {
                return t && this.sprite.scale.setTo(t, t), this;
              },
            },
            {
              key: 'setFrame',
              value(t) {
                return t && (this.sprite.frame = t), this;
              },
            },
            {
              key: 'setAnimation',
              value(t) {
                const e = this;
                return (
                  t &&
                    (void 0 === t ? 'undefined' : r(t)) === 'object' &&
                    Object.keys(t).forEach((i) => {
                      let n = t[i],
                        r = t.animationOffset || 0,
                        a = n.frames.map(t => t + r);
                      e.sprite.animations.add(i, a, n.rate, n.loopable),
                      i === o.ANIMATION_IDLE_FOREVER &&
                          e.sprite.animations.play(i);
                    }),
                  this
                );
              },
            },
            {
              key: 'update',
              value(t, e, i) {
                t &&
                  this.sprite &&
                  t.renderXY(
                    this.sprite,
                    this.x - e.camera.x * this.z,
                    this.y - e.camera.y * this.z,
                    !!i,
                  );
              },
            },
            {
              key: 'remove',
              value() {
                this.sprite.destroy();
              },
            },
          ]),
          t
        );
      }());
    e.default = s;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = (function () {
        function t(e) {
          n(this, t), (this.objects = []), (this.deepSpaceLayer = e);
        }
        return (
          r(t, [
            {
              key: 'addSpaceObject',
              value(t) {
                if (!t) throw new Error('Invalid SpaceObject was given!');
                this.objects.push(t);
              },
            },
            {
              key: 'getSpaceObjects',
              value() {
                return (
                  this.objects.sort((t, e) => e.z - t.z),
                  this.objects
                );
              },
            },
            {
              key: 'getSprites',
              value() {
                return this.deepSpaceLayer.getSprites();
              },
            },
            {
              key: 'getMap',
              value() {
                return this.deepSpaceLayer.getMap();
              },
            },
          ]),
          t
        );
      }());
    e.default = a;
  },
  function (t, e, i) {
    let n = i(32),
      r = i(17),
      a = i(62);
    t.exports = function (t) {
      return function (e, i, o) {
        let s,
          u = n(e),
          l = r(u.length),
          c = a(o, l);
        if (t && i != i) {
          for (; l > c;) if ((s = u[c++]) != s) return !0;
        } else {
          for (; l > c; c++) { if ((t || c in u) && u[c] === i) return t || c || 0; }
        }
        return !t && -1;
      };
    };
  },
  function (t, e, i) {
    let n = i(9),
      r = i(0),
      a = i(26),
      o = i(60),
      s = i(52),
      u = i(55),
      l = i(54),
      c = i(13),
      h = i(12),
      d = i(94),
      f = i(69),
      p = i(115);
    t.exports = function (t, e, i, g, y, v) {
      let m = n[t],
        b = m,
        _ = y ? 'set' : 'add',
        w = b && b.prototype,
        x = {},
        P = function (t) {
          const e = w[t];
          a(
            w,
            t,
            t == 'delete'
              ? function (t) {
                return !(v && !c(t)) && e.call(this, t === 0 ? 0 : t);
              }
              : t == 'has'
                ? function (t) {
                  return !(v && !c(t)) && e.call(this, t === 0 ? 0 : t);
                }
                : t == 'get'
                  ? function (t) {
                    return v && !c(t) ? void 0 : e.call(this, t === 0 ? 0 : t);
                  }
                  : t == 'add'
                    ? function (t) {
                      return e.call(this, t === 0 ? 0 : t), this;
                    }
                    : function (t, i) {
                      return e.call(this, t === 0 ? 0 : t, i), this;
                    },
          );
        };
      if (
        typeof b === 'function' &&
        (v ||
          (w.forEach &&
            !h(() => {
              new b().entries().next();
            })))
      ) {
        let k = new b(),
          T = k[_](v ? {} : -0, 1) != k,
          O = h(() => {
            k.has(1);
          }),
          E = d((t) => {
            new b(t);
          }),
          S =
            !v &&
            h(() => {
              for (var t = new b(), e = 5; e--;) t[_](e, e);
              return !t.has(-0);
            });
        E ||
          ((b = e((e, i) => {
            l(e, b, t);
            const n = p(new m(), e, b);
            return void 0 != i && u(i, y, n[_], n), n;
          })),
          (b.prototype = w),
          (w.constructor = b)),
        (O || S) && (P('delete'), P('has'), y && P('get')),
        (S || T) && P(_),
        v && w.clear && delete w.clear;
      } else { (b = g.getConstructor(e, t, y, _)), o(b.prototype, i), (s.NEED = !0); }
      return (
        f(b, t),
        (x[t] = b),
        r(r.G + r.W + r.F * (b != m), x),
        v || g.setStrong(b, t, y),
        b
      );
    };
  },
  function (t, e, i) {
    i(176);
    let n = i(26),
      r = i(25),
      a = i(12),
      o = i(42),
      s = i(16),
      u = i(123),
      l = s('species'),
      c = !a(() => {
        const t = /./;
        return (
          (t.exec = function () {
            const t = [];
            return (t.groups = { a: '7' }), t;
          }),
          ''.replace(t, '$<a>') !== '7'
        );
      }),
      h = (function () {
        let t = /(?:)/,
          e = t.exec;
        t.exec = function () {
          return e.apply(this, arguments);
        };
        const i = 'ab'.split(t);
        return i.length === 2 && i[0] === 'a' && i[1] === 'b';
      }());
    t.exports = function (t, e, i) {
      let d = s(t),
        f = !a(() => {
          const e = {};
          return (
            (e[d] = function () {
              return 7;
            }),
            ''[t](e) != 7
          );
        }),
        p = f
          ? !a(() => {
            let e = !1,
              i = /a/;
            return (
              (i.exec = function () {
                return (e = !0), null;
              }),
              t === 'split' &&
                  ((i.constructor = {}),
                  (i.constructor[l] = function () {
                    return i;
                  })),
              i[d](''),
              !e
            );
          })
          : void 0;
      if (!f || !p || (t === 'replace' && !c) || (t === 'split' && !h)) {
        let g = /./[d],
          y = i(o, d, ''[t], (t, e, i, n, r) => (e.exec === u
            ? f && !r
              ? { done: !0, value: g.call(e, i, n) }
              : { done: !0, value: t.call(i, e, n) }
            : { done: !1 })),
          v = y[0],
          m = y[1];
        n(String.prototype, t, v),
        r(
          RegExp.prototype,
          d,
          e == 2
            ? function (t, e) {
              return m.call(t, this, e);
            }
            : function (t) {
              return m.call(t, this);
            },
        );
      }
    };
  },
  function (t, e, i) {
    const n = i(35);
    t.exports =
      Array.isArray ||
      function (t) {
        return n(t) == 'Array';
      };
  },
  function (t, e, i) {
    let n = i(13),
      r = i(35),
      a = i(16)('match');
    t.exports = function (t) {
      let e;
      return n(t) && (void 0 !== (e = t[a]) ? !!e : r(t) == 'RegExp');
    };
  },
  function (t, e, i) {
    let n = i(16)('iterator'),
      r = !1;
    try {
      const a = [7][n]();
      (a.return = function () {
        r = !0;
      }),
      Array.from(a, () => {
        throw 2;
      });
    } catch (t) {}
    t.exports = function (t, e) {
      if (!e && !r) return !1;
      let i = !1;
      try {
        let a = [7],
          o = a[n]();
        (o.next = function () {
          return { done: (i = !0) };
        }),
        (a[n] = function () {
          return o;
        }),
        t(a);
      } catch (t) {}
      return i;
    };
  },
  function (t, e, i) {
    t.exports =
      i(51) ||
      !i(12)(() => {
        const t = Math.random();
        __defineSetter__.call(null, t, () => {}), delete i(9)[t];
      });
  },
  function (t, e, i) {
    e.f = Object.getOwnPropertySymbols;
  },
  function (t, e, i) {
    let n =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          },
      r = i(67),
      a = RegExp.prototype.exec;
    t.exports = function (t, e) {
      const i = t.exec;
      if (typeof i === 'function') {
        const o = i.call(t, e);
        if ((void 0 === o ? 'undefined' : n(o)) !== 'object') {
          throw new TypeError('RegExp exec method returned something other than an Object or null');
        }
        return o;
      }
      if (r(t) !== 'RegExp') { throw new TypeError('RegExp#exec called on incompatible receiver'); }
      return a.call(t, e);
    };
  },
  function (t, e, i) {
    let n = i(0),
      r = i(21),
      a = i(37),
      o = i(55);
    t.exports = function (t) {
      n(n.S, t, {
        from(t) {
          let e,
            i,
            n,
            s,
            u = arguments[1];
          return (
            r(this),
            (e = void 0 !== u),
            e && r(u),
            void 0 == t
              ? new this()
              : ((i = []),
              e
                ? ((n = 0),
                (s = a(u, arguments[2], 2)),
                o(t, !1, (t) => {
                  i.push(s(t, n++));
                }))
                : o(t, !1, i.push, i),
              new this(i))
          );
        },
      });
    };
  },
  function (t, e, i) {
    const n = i(0);
    t.exports = function (t) {
      n(n.S, t, {
        of() {
          for (var t = arguments.length, e = new Array(t); t--;) { e[t] = arguments[t]; }
          return new this(e);
        },
      });
    };
  },
  function (t, e, i) {
    let n = i(39),
      r = i(42);
    t.exports = function (t) {
      return function (e, i) {
        let a,
          o,
          s = String(r(e)),
          u = n(i),
          l = s.length;
        return u < 0 || u >= l
          ? t
            ? ''
            : void 0
          : ((a = s.charCodeAt(u)),
          a < 55296 ||
            a > 56319 ||
            u + 1 === l ||
            (o = s.charCodeAt(u + 1)) < 56320 ||
            o > 57343
            ? t
              ? s.charAt(u)
              : a
            : t
              ? s.slice(u, u + 2)
              : o - 56320 + ((a - 55296) << 10) + 65536);
      };
    };
  },
  function (t, e, i) {
    for (
      var n,
        r = i(9),
        a = i(25),
        o = i(63),
        s = o('typed_array'),
        u = o('view'),
        l = !(!r.ArrayBuffer || !r.DataView),
        c = l,
        h = 0,
        d = 'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'.split(',');
      h < 9;

    ) {
      (n = r[d[h++]])
        ? (a(n.prototype, s, !0), a(n.prototype, u, !0))
        : (c = !1);
    }
    t.exports = {
      ABV: l, CONSTR: c, TYPED: s, VIEW: u,
    };
  },
  function (t, e, i) {
    let n = i(9),
      r = n.navigator;
    t.exports = (r && r.userAgent) || '';
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = void 0,
      s = (function () {
        function t() {
          n(this, t);
          const e = r(Phaser.GAMES, 1);
          (this.game = e[0]), (this.data = this.game.cache.getJSON('spells'));
        }
        return (
          a(t, [
            {
              key: 'getSpellDataById',
              value(t) {
                return this.data[t];
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance(t) {
        return (o && !t) || (o = new s()), o;
      },
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(1),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = window.fivenations,
      h = {
        spritesheet: 'gui',
        frames: {
          over: 'XXXbtn_start_base.png',
          out: 'XXXbtn_start_base.png',
          down: 'XXXbtn_start_onclick.png',
        },
        style: {
          font: '14px BerlinSansFB-Reg',
          fill: '#000000',
          boundsAlignH: 'center',
          wordWrap: !0,
          align: 'center',
        },
      },
      d = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, c.game.game),
          );
          return i.initComponents(t), i.setCoordinates(t), i.update(t), i;
        }
        return (
          a(e, t),
          s(e, [
            {
              key: 'initComponents',
              value(t) {
                let e = this,
                  i = c.game.game,
                  n = function () {
                    l.default
                      .getInstance()
                      .local.dispatch('ingame/button/click'),
                    t.onClick && t.onClick.call(e);
                  },
                  r = t.customOverFrame || h.frames.over,
                  a = t.customOutFrame || h.frames.out,
                  s = t.customDownFrame || h.frames.down,
                  u = t.spritesheet || h.spritesheet;
                (this.sprite = i.add.button(0, 0, u, n, this, r, a, s)),
                this.sprite.anchor.set(0.5),
                t.fixedToCamera && (this.fixedToCamera = !0),
                (this.text = i.add.text(
                  t.offsetX || 0,
                  t.offsetY || 2,
                  t.label,
                  o({}, h.style, { wordWrapWidth: this.sprite.width }),
                )),
                this.text.anchor.set(0.5),
                this.add(this.sprite),
                this.add(this.text);
              },
            },
            {
              key: 'setCoordinates',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = t.fixedToCamera,
                  r = e || c.window.width / 2,
                  a = i || c.window.height / 2;
                (this.x = r),
                (this.y = a),
                n &&
                    ((this.fixedToCamera = !0), this.cameraOffset.setTo(r, a));
              },
            },
            {
              key: 'update',
              value(t) {
                t && t.text && (this.text = t.text);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = d;
  },
  function (t, e, i) {
    function n(t) {
      let e = t.size,
        i = t.customSize;
      return i && i.width && i.height
        ? i
        : e && o.ENTITY_SIZES[e]
          ? o.ENTITY_SIZES[e]
          : o.ENTITY_SIZES.m;
    }
    function r(t) {
      const e = t.sizeOffset;
      return e ? { width: 2 * e.w, height: 2 * e.h } : n(t);
    }
    function a(t) {
      const e = Object.assign({}, t);
      return (
        (e.maxhull = e.hull),
        (e.maxshield = e.shield),
        (e.maxpower = e.power),
        (e.maxhangar = e.hangar),
        (e.team = 1),
        (e.vision += o.ENTITY_DFEAULT_VISION_OFFSET),
        (e.dimensions = n(e)),
        (e.damageArea = r(e)),
        (e._origArmor = e.armor),
        e.cargoCapacity > 0 &&
          ((e.cargoTitanium = 0), (e.cargoSilicium = 0), (e.cargoUranium = 0)),
        {
          forceSet(t) {
            const i = this;
            Object.keys(t).forEach((n) => {
              (e[n] = t[n]), i.invalidateCacheByKey(n);
            });
          },
          invalidateCacheByKey(t) {
            t === 'vision' && (e._visionRange = void 0);
          },
          damage(t) {
            const e = this.getShield();
            if (e > 0 && !t.damageHullDirectly) {
              let i = e - t.damageShield,
                n = t.damage - e;
              if (i < 0) {
                if ((this.damageShield(t.damageShield), t.doesSmashDamage)) {
                  const r = Math.floor(0.33 * t.damage) + n;
                  this.damageHull(r > t.damage ? t.damage : r);
                } else this.damageHull(n);
              } else {
                this.damageShield(t.damageShield),
                t.doesSmashDamage &&
                    this.damageHull(Math.floor(0.33 * t.damage));
              }
            } else { this.damageHull(t.damage, t.ignoreArmor, t.hasMetallicScutes); }
          },
          repair(t) {
            let i = t.hull,
              n = t.shield;
            t.overwrite
              ? (void 0 !== i && (e.hull = i), void 0 !== n && (e.shield = n))
              : (this.restoreHull(i), this.restoreShield(n));
          },
          damageHull(t, i, n) {
            let r = i ? 0 : e.armor,
              a = Math.max(t - r, 1);
            n && (a = Math.min(a, c)), (e.hull = Math.max(e.hull - a, 0));
          },
          damageShield(t) {
            e.shield = Math.max(e.shield - t, 0);
          },
          usePower(t) {
            e.power = Math.max(e.power - t, 0);
          },
          restoreHull(t) {
            e.hull = Math.min(e.maxhull, e.hull + t);
          },
          restoreShield(t) {
            e.shield = Math.min(e.maxshield, e.shield + t);
          },
          restorePower(t) {
            e.power = Math.min(e.maxpower, e.power + t);
          },
          reducePower(t) {
            e.power = Math.max(0, e.power - t);
          },
          setTeam(t) {
            e.team = t;
          },
          setCargoTitanium(t) {
            e.cargoTitanium = t;
          },
          setCargoSilicium(t) {
            e.cargoSilicium = t;
          },
          setCargoUranium(t) {
            e.cargoUranium = t;
          },
          setShipName(t) {
            e.shipName = t;
          },
          isBuilding() {
            return !!e.building;
          },
          getTeam() {
            return e.team;
          },
          getId() {
            return e.id;
          },
          getName() {
            return e.name;
          },
          getShipTranslationKey() {
            return e.customShipTranslationKey || !1;
          },
          getShipName() {
            return e.shipName || '';
          },
          getType() {
            return e.type;
          },
          getMaxHull() {
            return e.maxhull;
          },
          getMaxShield() {
            return e.maxshield;
          },
          getMaxPower() {
            return e.maxpower;
          },
          getMaxHangar() {
            return e.maxhangar;
          },
          getHull() {
            return e.hull;
          },
          getShield() {
            return e.shield;
          },
          getPower() {
            return e.power;
          },
          getArmor() {
            return e.armor;
          },
          getOriginalArmor() {
            return e._origArmor;
          },
          getSpeed() {
            return e.speed;
          },
          getManeuverability() {
            return e.maneuverability;
          },
          getVision() {
            return e.vision;
          },
          getVisionRange() {
            return (
              this._visionRange ||
                (this._visionRange = Math.max(
                  u.default.getVisionScreenWidth(this.getVision()),
                  o.ENTITY_DEFAULT_VISION_RANGE,
                )),
              this._visionRange
            );
          },
          getWeapons() {
            return e.weapons;
          },
          getTitanium() {
            return e.titanium;
          },
          getSilicium() {
            return e.silicium;
          },
          getEnergy() {
            return e.energy;
          },
          getUranium() {
            return e.uranium;
          },
          getSpace() {
            return e.space;
          },
          getSupply() {
            return e.supply || 0;
          },
          getEnergyStorage() {
            return e.energyStorage || 0;
          },
          getEnergyEmission() {
            return e.energyEmission;
          },
          getEnergyEmissionRate() {
            return l.debug.fastBuild
              ? e.energyEmissionRate / 10
              : e.energyEmissionRate;
          },
          getBuildingTime() {
            return l.debug.fastBuild ? e.buildingTime / 10 : e.buildingTime;
          },
          getConstructionProximity() {
            return e.constructionProximity;
          },
          getDirections() {
            return e.directions;
          },
          getAngleOffset() {
            return e.angleOffset;
          },
          getAnimFrame() {
            return e.animFrame;
          },
          getWidth() {
            return e.dimensions.width;
          },
          getHeight() {
            return e.dimensions.height;
          },
          getTileWidth() {
            return (
              e._tileWidth ||
                (e._tileWidth =
                  Math.max(Math.floor(e.dimensions.width / o.TILE_WIDTH), 1) +
                  1),
              e._tileWidth
            );
          },
          getTileHeight() {
            return (
              e._tileHeight ||
                (e._tileHeight =
                  Math.max(Math.floor(e.dimensions.height / o.TILE_HEIGHT), 1) +
                  1),
              e._tileHeight
            );
          },
          getDamageWidth() {
            return e.damageArea.width;
          },
          getDamageHeight() {
            return e.damageArea.height;
          },
          getVariances() {
            return e.variances || [];
          },
          getCustomFrame() {
            return e.customFrame;
          },
          getAnimations() {
            return e.animations;
          },
          getAnimationAudioByKey(t) {
            const e = this.getAnimationByKey(t);
            return !(!e || !e.audio) && e.audio;
          },
          getJetEngineSprite() {
            return e.jetEngineSprite;
          },
          getJetEngineFrames() {
            return e.jetEngineFrames;
          },
          getJetEngineAlphaOffset() {
            return e.jetEngineAlphaOffset;
          },
          getAnimationByKey(t) {
            return e.animations ? e.animations[t] : null;
          },
          getAnimationOffset() {
            return void 0 === e.animationOffset
              ? o.ANIMATION_OFFSET_WHEN_ICONS_ARE_INTEGRATED
              : e.animationOffset;
          },
          getDefatultFrame() {
            const t = this.getAnimationOffset();
            return void 0 === e.defaultFrame ? t : e.defaultFrame + t;
          },
          canBeBuiltAnywhere() {
            return e.canBeBuiltAnywhere;
          },
          hasAnimation(t) {
            return e.animations && !!e.animations[t];
          },
          hasMultipleAnimationFor(t) {
            return !!this.hasAnimation(t) && this.getAnimationByKey(t).length;
          },
          hasJetEngine() {
            return e.hasJetEngine;
          },
          hasRealManeuverSystem() {
            return e.realManeuverSystem || !1;
          },
          getEvents() {
            return e.events;
          },
          getEvent(t) {
            return t && e.events ? e.events[t] : null;
          },
          getTTL() {
            return e.ttl;
          },
          shouldBeRemovedIfOutOfRange() {
            return e.removeIfOutOfRange;
          },
          getFollowTarget() {
            return e.followTarget;
          },
          getTrails() {
            return e.trails;
          },
          getInConstruction() {
            return e.inConstruction;
          },
          getCargoSpeedModifier() {
            return e.cargoSpeedModifier || 1;
          },
          isFighter() {
            return (
              this._isFighter ||
                (this._isFighter = this.getType() === 'Fighter'),
              this._isFighter
            );
          },
          isWorker() {
            return (
              this._isWorker || (this._isWorker = this.getType() === 'Worker'),
              this._isWorker
            );
          },
          isDestroyer() {
            return (
              this._isDestroyer ||
                (this._isDestroyer = this.getType() === 'Destroyer'),
              this._isDestroyer
            );
          },
          isSpaceObject() {
            return (
              this._isSpaceObject ||
                (this._isSpaceObject = this.getType() === 'Space Object'),
              this._isSpaceObject
            );
          },
          isResource() {
            return e.resource;
          },
          isNotClickable() {
            return e.notClickable;
          },
          isMiningStation() {
            return e.miningStation;
          },
          getTargetGraphicsGroup() {
            return e.targetGraphicsGroup;
          },
          toJSON() {
            const t = [
              'maxhangar',
              'maxpower',
              'maxshield',
              'maxhull',
              'dimensions',
              'team',
            ];
            return JSON.stringify(
              e,
              (e, i) => {
                if (t.indexOf(e) === -1) return i;
              },
              '  ',
            );
          },
          getProjectileOffset() {
            return e.initialPoints || {};
          },
          getSelectionOffset() {
            return e.selectionOffset || {};
          },
          doesPersistOrienationFromEmitter() {
            return e.persistOrienationFromEmitter;
          },
          getFrames() {
            return e.frames;
          },
          getCargoCapacity() {
            return e.cargoCapacity;
          },
          getTeleportationTime() {
            return e.teleportation_time || 0;
          },
          getProcessResources() {
            return e.processable_resources || 0;
          },
          isTeleporterMiningStation() {
            return e.miningStation && e.weapons.indexOf(147) > -1;
          },
          isClassicMiningStation() {
            return e.miningStation && e.weapons.indexOf(147) < 0;
          },
          isCloud() {
            return !!e.cloud;
          },
          getCargoTitanium() {
            return e.cargoTitanium;
          },
          getCargoSilicium() {
            return e.cargoSilicium;
          },
          getCargoUranium() {
            return e.cargoUranium;
          },
          isCargoFull() {
            return this.getCargoSum() >= e.cargoCapacity;
          },
          getCargo() {
            return {
              titanium: this.getCargoTitanium(),
              silicium: this.getCargoSilicium(),
              uranium: this.getCargoUranium(),
            };
          },
          getResourceType() {
            return this.getCargoTitanium() > 0
              ? o.RESOURCE_TYPE_TITANIUM
              : this.getCargoSilicium() > 0
                ? o.RESOURCE_TYPE_SILICIUM
                : this.getCargoUranium() > 0
                  ? o.RESOURCE_TYPE_URANIUM
                  : 0;
          },
          getCargoSum() {
            const t = this.getCargo();
            return Object.keys(t).reduce((e, i) => t[i] + e, 0);
          },
          getProduction() {
            return e.production;
          },
          getProductionType() {
            return e.productionType;
          },
          isProductionTypeHatch() {
            return this.getProductionType() === 'hatch';
          },
          getHatchTo() {
            return e.hatchTo;
          },
          getResearch() {
            return e.research;
          },
          getConstruction() {
            return e.construction;
          },
          getConstructionType() {
            return e.constructionType;
          },
          isConstructionTypeHatch() {
            return this.getConstructionType() === 'hatch';
          },
          getRequiredEntities() {
            return e.requireEntities;
          },
          getRequiredResources() {
            return e.requiredResources;
          },
          getCustomMinimapColor() {
            return e.customMinimapColor;
          },
          getMinDistanceToResources() {
            return e.minDistanceToResources;
          },
          getMinDistanceToStructures() {
            return e.minDistanceToStructures;
          },
          getDeployTo() {
            return e.deployTo;
          },
          getDeployMCVTo() {
            return e.deployMCVTo;
          },
          getUpgrades() {
            return e.upgrade;
          },
          isEphemeralUnit() {
            return e.ephemeral;
          },
          isInterceptor() {
            return e.interceptor;
          },
          isUncontrolable() {
            return e.uncontrolable;
          },
          regenerate(t) {
            e.hull >= e.maxhull || (e.hull = Math.min(e.maxhull, e.hull + t));
          },
          getControlButtonOrder() {
            return e.controlButtonOrder;
          },
          getTargetScore() {
            return e.targetScore || 1;
          },
        }
      );
    }
    Object.defineProperty(e, '__esModule', { value: !0 }),
    (e.getDimensionsBySize = void 0);
    var o = i(2),
      s = i(196),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = 40;
    (e.getDimensionsBySize = n), (e.default = a);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t) {
      let e =
          !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
        i = f.default.getInstance();
      return new Promise(((n) => {
        let r = t.text,
          a = 0;
        (t.text = ''), (t.visible = !0);
        var o = setInterval(() => {
          (t.text += r.charAt(a)),
          (a += 1),
          e &&
              i.playAudioSprite({ sprite: 'menu', marker: 'HUD_typewriter' }),
          a === r.length && (clearTimeout(o), n());
        }, 32);
      }));
    }
    function u(t, e, i) {
      let n = parseInt(e, 10),
        r = void 0,
        a = t.text || 0;
      a = parseInt(a, 10);
      let o = Math.ceil(Math.abs(n - a) / 60);
      o *= n - a < 0 ? -1 : 1;
      const s = function e() {
        (a += o),
        ((o < 0 && a < n) || (o > 0 && a > n)) && (a = n),
        (t.text = i ? i.replace('{0}', a) : a),
        a !== n && (r = setTimeout(e, T));
      };
      r && clearTimeout(r), (r = setTimeout(s, T));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var l = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      c = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      h =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      d = i(8),
      f = n(d),
      p = i(33),
      g = n(p),
      y = i(7),
      v = n(y),
      m = i(23),
      b = n(m),
      _ = i(2),
      w = h({}, _.MENU_FONT, {
        align: 'center',
        fontSize: '18px',
        fill: '#71caca',
      }),
      x = h({}, _.MENU_FONT, {
        align: 'center',
        fontSize: '12px',
        fill: '#71caca',
      }),
      P = h({}, w, { fill: '#ffffff' }),
      k = h({}, x, {
        align: 'center',
        boundsAlignH: 'center',
        wordWrap: !0,
        wordWrapWidth: 800,
      }),
      T = 32,
      O = (function (t) {
        function e() {
          r(this, e);
          let t = l(Phaser.GAMES, 1),
            i = t[0],
            n = a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, i),
            );
          return n.initHelpers(), n.initAudio(), n.setDefaultVisibility(), n;
        }
        return (
          o(e, t),
          c(e, [
            {
              key: 'initHelpers',
              value() {
                const t = g.default.getInstance();
                (this.collectors = t.getPlayerSummaryCollectors()),
                (this.translator = v.default.getInstance()),
                (this.techManager = b.default.getInstance()),
                (this.headers = []),
                (this.resolvers = []);
              },
            },
            {
              key: 'initAudio',
              value() {
                f.default.setGame(this.game),
                (this.audioManager = f.default.getInstance());
              },
            },
            {
              key: 'setDefaultVisibility',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'createHeaders',
              value() {
                let t = this,
                  e = this.headers.length;
                this.headers.forEach((i, n) => {
                  let r = 800 / e,
                    a = t.game.add.text(400 + n * r, 0, i, k);
                  (a.wordWrapWidth = r),
                  a.anchor.set(0.5),
                  t.add(a),
                  t.game.add
                    .tween(a)
                    .from(
                      { alpha: 0 },
                      250,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                      100 * n,
                    );
                });
              },
            },
            {
              key: 'createRows',
              value() {
                const t = this;
                this.collectors
                  .filter(t => !t.isIndependent())
                  .forEach((e, i) => {
                    t.createPlayerInfo(e, i), t.createPlayerRow(e, i);
                  });
              },
            },
            {
              key: 'createPlayerInfo',
              value(t, e) {
                let i = 50 * e + 35,
                  n = t.isUser(),
                  r = t.getRace(),
                  a = t.getName(),
                  o = t.isVictorious() ? 'victory' : 'defeat',
                  u = this.game.add.text(80, i, a, n ? w : P);
                this.add(u);
                let l = this.translator.translate(`races.title.short.${r}`),
                  c = this.translator
                    .translate(`summary.race.title.${o}`)
                    .replace('{0}', l),
                  h = this.game.add.text(80, 22 + i, c, x);
                this.add(h);
                let d = this.game.add.sprite(0, i, 'summary-elements'),
                  f = r;
                (d.frameName =
                  `summary_race_${f}${n ? '_player' : ''}.png`),
                this.add(d),
                s(u),
                s(h),
                this.game.add
                  .tween(d)
                  .from(
                    { alpha: 0 },
                    500,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                  );
              },
            },
            {
              key: 'createPlayerRow',
              value(t, e) {
                let i = this,
                  n = 50 * e + 35 + 5,
                  r = this.headers.length;
                this.resolvers.forEach((e, a) => {
                  let o = 400 + a * (800 / r),
                    s = e(t),
                    l = s.value,
                    c = s.bangUp,
                    h = s.template,
                    d = t.isUser(),
                    f = d ? w : P,
                    p = i.game.add.text(o, n, '', f);
                  i.add(p), c ? u(p, l, h) : (p.text = l), p.anchor.set(0.5, 0);
                });
              },
            },
            {
              key: 'show',
              value() {
                this.lazyLoaded || (this.createHeaders(), this.createRows()),
                (this.lazyLoaded = !0),
                (this.visible = !0);
              },
            },
            {
              key: 'hide',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'addCategory',
              value(t, e) {
                const i = this.translator.translate(t);
                this.headers.push(i), this.resolvers.push(e);
              },
            },
            {
              key: 'setName',
              value(t) {
                this.name = t;
              },
            },
            {
              key: 'getName',
              value() {
                return this.name;
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = O;
  },
  function (t, e, i) {
    const n = i(100)(!0);
    t.exports = function (t, e, i) {
      return e + (i ? n(t, e).length : 1);
    };
  },
  function (t, e, i) {
    let n = i(20),
      r = i(62),
      a = i(17);
    t.exports = function (t) {
      for (
        var e = n(this),
          i = a(e.length),
          o = arguments.length,
          s = r(o > 1 ? arguments[1] : void 0, i),
          u = o > 2 ? arguments[2] : void 0,
          l = void 0 === u ? i : r(u, i);
        l > s;

      ) { e[s++] = t; }
      return e;
    };
  },
  function (t, e, i) {
    const n = i(211);
    t.exports = function (t, e) {
      return new (n(t))(e);
    };
  },
  function (t, e, i) {
    let n = i(19),
      r = i(59);
    t.exports = function (t, e, i) {
      e in t ? n.f(t, e, r(0, i)) : (t[e] = i);
    };
  },
  function (t, e, i) {
    let n = i(13),
      r = i(9).document,
      a = n(r) && n(r.createElement);
    t.exports = function (t) {
      return a ? r.createElement(t) : {};
    };
  },
  function (t, e, i) {
    t.exports = 'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(',');
  },
  function (t, e, i) {
    const n = i(16)('match');
    t.exports = function (t) {
      const e = /./;
      try {
        '/./'[t](e);
      } catch (i) {
        try {
          return (e[n] = !1), !'/./'[t](e);
        } catch (t) {}
      }
      return !0;
    };
  },
  function (t, e, i) {
    const n = i(9).document;
    t.exports = n && n.documentElement;
  },
  function (t, e, i) {
    let n = i(13),
      r = i(124).set;
    t.exports = function (t, e, i) {
      let a,
        o = e.constructor;
      return (
        o !== i &&
          typeof o === 'function' &&
          (a = o.prototype) !== i.prototype &&
          n(a) &&
          r &&
          r(t, a),
        t
      );
    };
  },
  function (t, e, i) {
    let n = i(68),
      r = i(16)('iterator'),
      a = Array.prototype;
    t.exports = function (t) {
      return void 0 !== t && (n.Array === t || a[r] === t);
    };
  },
  function (t, e, i) {
    let n = i(56),
      r = i(59),
      a = i(69),
      o = {};
    i(25)(o, i(16)('iterator'), function () {
      return this;
    }),
    (t.exports = function (t, e, i) {
      (t.prototype = n(o, { next: r(1, i) })), a(t, `${e} Iterator`);
    });
  },
  function (t, e, i) {
    let n = i(51),
      r = i(0),
      a = i(26),
      o = i(25),
      s = i(68),
      u = i(117),
      l = i(69),
      c = i(31),
      h = i(16)('iterator'),
      d = !([].keys && 'next' in [].keys()),
      f = function () {
        return this;
      };
    t.exports = function (t, e, i, p, g, y, v) {
      u(i, e, p);
      var m,
        b,
        _,
        w = function (t) {
          if (!d && t in T) return T[t];
          switch (t) {
            case 'keys':
            case 'values':
              return function () {
                return new i(this, t);
              };
          }
          return function () {
            return new i(this, t);
          };
        },
        x = `${e} Iterator`,
        P = g == 'values',
        k = !1,
        T = t.prototype,
        O = T[h] || T['@@iterator'] || (g && T[g]),
        E = O || w(g),
        S = g ? (P ? w('entries') : E) : void 0,
        C = e == 'Array' ? T.entries || O : O;
      if (
        (C &&
          (_ = c(C.call(new t()))) !== Object.prototype &&
          _.next &&
          (l(_, x, !0), n || typeof _[h] === 'function' || o(_, h, f)),
        P &&
          O &&
          O.name !== 'values' &&
          ((k = !0),
          (E = function () {
            return O.call(this);
          })),
        (n && !v) || (!d && !k && T[h]) || o(T, h, E),
        (s[e] = E),
        (s[x] = f),
        g)
      ) {
        if (
          ((m = {
            values: P ? E : w('values'),
            keys: y ? E : w('keys'),
            entries: S,
          }),
          v)
        ) { for (b in m) b in T || a(T, b, m[b]); } else r(r.P + r.F * (d || k), e, m);
      }
      return m;
    };
  },
  function (t, e, i) {
    const n = Math.expm1;
    t.exports =
      !n ||
      n(10) > 22025.465794806718 ||
      n(10) < 22025.465794806718 ||
      n(-2e-17) != -2e-17
        ? function (t) {
          return (t = +t) == 0
            ? t
            : t > -1e-6 && t < 1e-6
              ? t + (t * t) / 2
              : Math.exp(t) - 1;
        }
        : n;
  },
  function (t, e, i) {
    t.exports =
      Math.sign ||
      function (t) {
        return (t = +t) == 0 || t != t ? t : t < 0 ? -1 : 1;
      };
  },
  function (t, e, i) {
    let n = i(9),
      r = i(129).set,
      a = n.MutationObserver || n.WebKitMutationObserver,
      o = n.process,
      s = n.Promise,
      u = i(35)(o) == 'process';
    t.exports = function () {
      let t,
        e,
        i,
        l = function () {
          let n,
            r;
          for (u && (n = o.domain) && n.exit(); t;) {
            (r = t.fn), (t = t.next);
            try {
              r();
            } catch (n) {
              throw (t ? i() : (e = void 0), n);
            }
          }
          (e = void 0), n && n.enter();
        };
      if (u) {
        i = function () {
          o.nextTick(l);
        };
      } else if (!a || (n.navigator && n.navigator.standalone)) {
        if (s && s.resolve) {
          const c = s.resolve(void 0);
          i = function () {
            c.then(l);
          };
        } else {
          i = function () {
            r.call(n, l);
          };
        }
      } else {
        let h = !0,
          d = document.createTextNode('');
        new a(l).observe(d, { characterData: !0 }),
        (i = function () {
          d.data = h = !h;
        });
      }
      return function (n) {
        const r = { fn: n, next: void 0 };
        e && (e.next = r), t || ((t = r), i()), (e = r);
      };
    };
  },
  function (t, e, i) {
    function n(t) {
      let e,
        i;
      (this.promise = new t(((t, n) => {
        if (void 0 !== e || void 0 !== i) { throw TypeError('Bad Promise constructor'); }
        (e = t), (i = n);
      }))),
      (this.resolve = r(e)),
      (this.reject = r(i));
    }
    var r = i(21);
    t.exports.f = function (t) {
      return new n(t);
    };
  },
  function (t, e, i) {
    let n = i(77),
      r = RegExp.prototype.exec,
      a = String.prototype.replace,
      o = r,
      s = (function () {
        let t = /a/,
          e = /b*/g;
        return (
          r.call(t, 'a'), r.call(e, 'a'), t.lastIndex !== 0 || e.lastIndex !== 0
        );
      }()),
      u = void 0 !== /()??/.exec('')[1];
    (s || u) &&
      (o = function (t) {
        let e,
          i,
          o,
          l,
          c = this;
        return (
          u && (i = new RegExp(`^${c.source}$(?!\\s)`, n.call(c))),
          s && (e = c.lastIndex),
          (o = r.call(c, t)),
          s && o && (c.lastIndex = c.global ? o.index + o[0].length : e),
          u &&
            o &&
            o.length > 1 &&
            a.call(o[0], i, function () {
              for (l = 1; l < arguments.length - 2; l++) { void 0 === arguments[l] && (o[l] = void 0); }
            }),
          o
        );
      }),
    (t.exports = o);
  },
  function (t, e, i) {
    let n = i(13),
      r = i(6),
      a = function (t, e) {
        if ((r(t), !n(e) && e !== null)) { throw TypeError(`${e}: can't set as prototype!`); }
      };
    t.exports = {
      set:
        Object.setPrototypeOf ||
        ('__proto__' in {}
          ? (function (t, e, n) {
            try {
              (n = i(37)(
                Function.call,
                i(30).f(Object.prototype, '__proto__').set,
                2,
              )),
              n(t, []),
              (e = !(t instanceof Array));
            } catch (t) {
              e = !0;
            }
            return function (t, i) {
              return a(t, i), e ? (t.__proto__ = i) : n(t, i), t;
            };
          }({}, !1))
          : void 0),
      check: a,
    };
  },
  function (t, e, i) {
    let n = i(80)('keys'),
      r = i(63);
    t.exports = function (t) {
      return n[t] || (n[t] = r(t));
    };
  },
  function (t, e, i) {
    let n = i(93),
      r = i(42);
    t.exports = function (t, e, i) {
      if (n(e)) throw TypeError(`String#${i} doesn't accept regex!`);
      return String(r(t));
    };
  },
  function (t, e, i) {
    let n = i(39),
      r = i(42);
    t.exports = function (t) {
      let e = String(r(this)),
        i = '',
        a = n(t);
      if (a < 0 || a == 1 / 0) throw RangeError("Count can't be negative");
      for (; a > 0; (a >>>= 1) && (e += e)) 1 & a && (i += e);
      return i;
    };
  },
  function (t, e, i) {
    t.exports = '\t\n\v\f\r \u2028\u2029\ufeff';
  },
  function (t, e, i) {
    let n,
      r,
      a,
      o = i(37),
      s = i(154),
      u = i(114),
      l = i(111),
      c = i(9),
      h = c.process,
      d = c.setImmediate,
      f = c.clearImmediate,
      p = c.MessageChannel,
      g = c.Dispatch,
      y = 0,
      v = {},
      m = function () {
        const t = +this;
        if (v.hasOwnProperty(t)) {
          const e = v[t];
          delete v[t], e();
        }
      },
      b = function (t) {
        m.call(t.data);
      };
    (d && f) ||
      ((d = function (t) {
        for (var e = [], i = 1; arguments.length > i;) e.push(arguments[i++]);
        return (
          (v[++y] = function () {
            s(typeof t === 'function' ? t : Function(t), e);
          }),
          n(y),
          y
        );
      }),
      (f = function (t) {
        delete v[t];
      }),
      i(35)(h) == 'process'
        ? (n = function (t) {
          h.nextTick(o(m, t, 1));
        })
        : g && g.now
          ? (n = function (t) {
            g.now(o(m, t, 1));
          })
          : p
            ? ((r = new p()),
            (a = r.port2),
            (r.port1.onmessage = b),
            (n = o(a.postMessage, a, 1)))
            : c.addEventListener &&
          typeof postMessage === 'function' &&
          !c.importScripts
              ? ((n = function (t) {
                c.postMessage(`${t}`, '*');
              }),
              c.addEventListener('message', b, !1))
              : (n =
            'onreadystatechange' in l('script')
              ? function (t) {
                u.appendChild(l('script')).onreadystatechange = function () {
                  u.removeChild(this), m.call(t);
                };
              }
              : function (t) {
                setTimeout(o(m, t, 1), 0);
              })),
    (t.exports = { set: d, clear: f });
  },
  function (t, e, i) {
    function n(t, e, i) {
      let n,
        r,
        a,
        o = new Array(i),
        s = 8 * i - e - 1,
        u = (1 << s) - 1,
        l = u >> 1,
        c = e === 23 ? F(2, -24) - F(2, -77) : 0,
        h = 0,
        d = t < 0 || (t === 0 && 1 / t < 0) ? 1 : 0;
      for (
        t = j(t),
        t != t || t === D
          ? ((r = t != t ? 1 : 0), (n = u))
          : ((n = U(G(t) / N)),
          t * (a = F(2, -n)) < 1 && (n--, (a *= 2)),
          (t += n + l >= 1 ? c / a : c * F(2, 1 - l)),
          t * a >= 2 && (n++, (a /= 2)),
          n + l >= u
            ? ((r = 0), (n = u))
            : n + l >= 1
              ? ((r = (t * a - 1) * F(2, e)), (n += l))
              : ((r = t * F(2, l - 1) * F(2, e)), (n = 0)));
        e >= 8;
        o[h++] = 255 & r, r /= 256, e -= 8
      );
      for (n = (n << e) | r, s += e; s > 0; o[h++] = 255 & n, n /= 256, s -= 8);
      return (o[--h] |= 128 * d), o;
    }
    function r(t, e, i) {
      let n,
        r = 8 * i - e - 1,
        a = (1 << r) - 1,
        o = a >> 1,
        s = r - 7,
        u = i - 1,
        l = t[u--],
        c = 127 & l;
      for (l >>= 7; s > 0; c = 256 * c + t[u], u--, s -= 8);
      for (
        n = c & ((1 << -s) - 1), c >>= -s, s += e;
        s > 0;
        n = 256 * n + t[u], u--, s -= 8
      );
      if (c === 0) c = 1 - o;
      else {
        if (c === a) return n ? NaN : l ? -D : D;
        (n += F(2, e)), (c -= o);
      }
      return (l ? -1 : 1) * n * F(2, c - e);
    }
    function a(t) {
      return (t[3] << 24) | (t[2] << 16) | (t[1] << 8) | t[0];
    }
    function o(t) {
      return [255 & t];
    }
    function s(t) {
      return [255 & t, (t >> 8) & 255];
    }
    function u(t) {
      return [255 & t, (t >> 8) & 255, (t >> 16) & 255, (t >> 24) & 255];
    }
    function l(t) {
      return n(t, 52, 8);
    }
    function c(t) {
      return n(t, 23, 4);
    }
    function h(t, e, i) {
      O(t[C], e, {
        get() {
          return this[i];
        },
      });
    }
    function d(t, e, i, n) {
      let r = +i,
        a = k(r);
      if (a + e > t[H]) throw L(I);
      let o = t[W]._b,
        s = a + t[X],
        u = o.slice(s, s + e);
      return n ? u : u.reverse();
    }
    function f(t, e, i, n, r, a) {
      let o = +i,
        s = k(o);
      if (s + e > t[H]) throw L(I);
      for (let u = t[W]._b, l = s + t[X], c = n(+r), h = 0; h < e; h++) { u[l + h] = c[a ? h : e - h - 1]; }
    }
    var p = i(9),
      g = i(18),
      y = i(51),
      v = i(101),
      m = i(25),
      b = i(60),
      _ = i(12),
      w = i(54),
      x = i(39),
      P = i(17),
      k = i(173),
      T = i(57).f,
      O = i(19).f,
      E = i(108),
      S = i(69),
      C = 'prototype',
      I = 'Wrong index!',
      M = p.ArrayBuffer,
      A = p.DataView,
      R = p.Math,
      L = p.RangeError,
      D = p.Infinity,
      B = M,
      j = R.abs,
      F = R.pow,
      U = R.floor,
      G = R.log,
      N = R.LN2,
      W = g ? '_b' : 'buffer',
      H = g ? '_l' : 'byteLength',
      X = g ? '_o' : 'byteOffset';
    if (v.ABV) {
      if (
        !_(() => {
          M(1);
        }) ||
        !_(() => {
          new M(-1);
        }) ||
        _(() => new M(), new M(1.5), new M(NaN), M.name != 'ArrayBuffer')
      ) {
        M = function (t) {
          return w(this, M), new B(k(t));
        };
        for (var V, z = (M[C] = B[C]), Y = T(B), q = 0; Y.length > q;) { (V = Y[q++]) in M || m(M, V, B[V]); }
        y || (z.constructor = M);
      }
      let K = new A(new M(2)),
        Q = A[C].setInt8;
      K.setInt8(0, 2147483648),
      K.setInt8(1, 2147483649),
      (!K.getInt8(0) && K.getInt8(1)) ||
          b(
            A[C],
            {
              setInt8(t, e) {
                Q.call(this, t, (e << 24) >> 24);
              },
              setUint8(t, e) {
                Q.call(this, t, (e << 24) >> 24);
              },
            },
            !0,
          );
    } else {
      (M = function (t) {
        w(this, M, 'ArrayBuffer');
        const e = k(t);
        (this._b = E.call(new Array(e), 0)), (this[H] = e);
      }),
      (A = function (t, e, i) {
        w(this, A, 'DataView'), w(t, M, 'DataView');
        let n = t[H],
          r = x(e);
        if (r < 0 || r > n) throw L('Wrong offset!');
        if (((i = void 0 === i ? n - r : P(i)), r + i > n)) { throw L('Wrong length!'); }
        (this[W] = t), (this[X] = r), (this[H] = i);
      }),
      g &&
          (h(M, 'byteLength', '_l'),
          h(A, 'buffer', '_b'),
          h(A, 'byteLength', '_l'),
          h(A, 'byteOffset', '_o')),
      b(A[C], {
        getInt8(t) {
          return (d(this, 1, t)[0] << 24) >> 24;
        },
        getUint8(t) {
          return d(this, 1, t)[0];
        },
        getInt16(t) {
          const e = d(this, 2, t, arguments[1]);
          return (((e[1] << 8) | e[0]) << 16) >> 16;
        },
        getUint16(t) {
          const e = d(this, 2, t, arguments[1]);
          return (e[1] << 8) | e[0];
        },
        getInt32(t) {
          return a(d(this, 4, t, arguments[1]));
        },
        getUint32(t) {
          return a(d(this, 4, t, arguments[1])) >>> 0;
        },
        getFloat32(t) {
          return r(d(this, 4, t, arguments[1]), 23, 4);
        },
        getFloat64(t) {
          return r(d(this, 8, t, arguments[1]), 52, 8);
        },
        setInt8(t, e) {
          f(this, 1, t, o, e);
        },
        setUint8(t, e) {
          f(this, 1, t, o, e);
        },
        setInt16(t, e) {
          f(this, 2, t, s, e, arguments[2]);
        },
        setUint16(t, e) {
          f(this, 2, t, s, e, arguments[2]);
        },
        setInt32(t, e) {
          f(this, 4, t, u, e, arguments[2]);
        },
        setUint32(t, e) {
          f(this, 4, t, u, e, arguments[2]);
        },
        setFloat32(t, e) {
          f(this, 4, t, c, e, arguments[2]);
        },
        setFloat64(t, e) {
          f(this, 8, t, l, e, arguments[2]);
        },
      });
    }
    S(M, 'ArrayBuffer'),
    S(A, 'DataView'),
    m(A[C], v.VIEW, !0),
    (e.ArrayBuffer = M),
    (e.DataView = A);
  },
  function (t, e, i) {
    let n = i(9),
      r = i(36),
      a = i(51),
      o = i(174),
      s = i(19).f;
    t.exports = function (t) {
      const e = r.Symbol || (r.Symbol = a ? {} : n.Symbol || {});
      t.charAt(0) == '_' || t in e || s(e, t, { value: o.f(t) });
    };
  },
  function (t, e, i) {
    let n = i(67),
      r = i(16)('iterator'),
      a = i(68);
    t.exports = i(36).getIteratorMethod = function (t) {
      if (void 0 != t) return t[r] || t['@@iterator'] || a[n(t)];
    };
  },
  function (t, e, i) {
    let n = i(50),
      r = i(157),
      a = i(68),
      o = i(32);
    (t.exports = i(118)(
      Array,
      'Array',
      function (t, e) {
        (this._t = o(t)), (this._i = 0), (this._k = e);
      },
      function () {
        let t = this._t,
          e = this._k,
          i = this._i++;
        return !t || i >= t.length
          ? ((this._t = void 0), r(1))
          : e == 'keys'
            ? r(0, i)
            : e == 'values'
              ? r(0, t[i])
              : r(0, [i, t[i]]);
      },
      'values',
    )),
    (a.Arguments = a.Array),
    n('keys'),
    n('values'),
    n('entries');
  },
  function (t, e, i) {
    t.exports = function (t) {
      return (
        t.webpackPolyfill ||
          ((t.deprecate = function () {}),
          (t.paths = []),
          t.children || (t.children = []),
          Object.defineProperty(t, 'loaded', {
            enumerable: !0,
            get() {
              return t.l;
            },
          }),
          Object.defineProperty(t, 'id', {
            enumerable: !0,
            get() {
              return t.i;
            },
          }),
          (t.webpackPolyfill = 1)),
        t
      );
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      return new Promise(((i) => {
        t.onFadeComplete.addOnce(i), t.fadeOut(e);
      }));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(2),
      s = `${o.PUBLIC_URL}assets/audio/music`,
      u = void 0,
      l = void 0,
      c = (function () {
        function t() {
          n(this, t), (this.game = l), this.init();
        }
        return (
          a(t, [
            {
              key: 'init',
              value() {
                this.onMusicEnded = this.onTrackFinished.bind(this);
              },
            },
            {
              key: 'playMusic',
              value(t, e) {
                const i = this;
                this.fetchTrack(t).then((t) => {
                  (i.currentMusic = t),
                  i.currentMusic.play(),
                  i.currentMusic.onStop.add(i.onMusicEnded),
                  void 0 !== e && (i.currentMusic.volume = e);
                }),
                (this.currentMusicId = t);
              },
            },
            {
              key: 'stopMusic',
              value() {
                const t = this;
                return this.currentMusic
                  ? (this.currentMusic.onStop.remove(this.onMusicEnded),
                  r(this.currentMusic, 1e3).then((e) => {
                    e.stop(), e.destroy(), (t.currentMusic = null);
                  }))
                  : Promise.resolve();
              },
            },
            {
              key: 'onTrackFinished',
              value() {
                this.currentMusic.onStop.remove(this.onMusicEnded),
                this.currentMusic.stop(),
                this.currentMusic.destroy(),
                this.playMusic(this.currentMusicId);
              },
            },
            {
              key: 'fetchTrack',
              value(t) {
                return this.preloadTrack(t).then(t => new Promise(((e) => {
                  t.isDecoded && e(t),
                  t.onDecoded.add(() => {
                    e(t);
                  });
                })));
              },
            },
            {
              key: 'preloadTrack',
              value(t) {
                const e = this;
                return new Promise(((i) => {
                  if (e.game.cache.checkSoundKey(t)) i(e.game.add.audio(t));
                  else {
                    const n = new Phaser.Loader(e.game);
                    (n.crossOrigin = 'anonymous'),
                    n.onLoadComplete.add(() => {
                      i(e.game.add.audio(t));
                    }),
                    n.audio(t, [`${s}/${t}.mp3`, `${s}/${t}.ogg`]),
                    n.start();
                  }
                }));
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      setGame(t) {
        l = t;
      },
      getInstance() {
        return u || (u = new c()), u;
      },
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(544),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = void 0,
      u = (function () {
        function t() {
          const e = this;
          n(this, t),
          window.addEventListener(
            'focus',
            () => e.keepCustomCursosAlive(),
            !1,
          ),
          document.addEventListener(
            'pointerlockchange',
            () => e.onPointerLockChange(),
            !1,
          );
        }
        return (
          r(t, [
            {
              key: 'activateFullScreen',
              value(t) {
                this.initFullScreen(t), this.initCustomCursor(t);
              },
            },
            {
              key: 'initFullScreen',
              value(t) {
                (this.currentFullScreenGame = t),
                (t.scale.fullScreenScaleMode = Phaser.ScaleManager.SHOW_ALL),
                (t.scale.fullScreenTarget = t.canvas),
                t.scale.startFullScreen(!1),
                t.scale.onFullScreenChange.add(this.onFullScreenChange, this),
                (this.fullScreenModeActive = !0);
              },
            },
            {
              key: 'onFullScreenChange',
              value() {
                this.currentFullScreenGame.scale.isFullScreen ||
                  this.deactivateFullScreen();
              },
            },
            {
              key: 'onPointerLockChange',
              value() {
                let t = this,
                  e = function e() {
                    t.keepCustomCursosAlive(),
                    document.removeEventListener('mousemove', e),
                    document.removeEventListener('mousedown', e);
                  };
                document.addEventListener('mousemove', e),
                document.addEventListener('mousedown', e);
              },
            },
            {
              key: 'initCustomCursor',
              value(t) {
                this.customCursor || (this.customCursor = new o.default(t)),
                this.customCursor.show(),
                this.customCursor.setPosition(t.input.activePointer),
                this.crossEnvRequestLock();
              },
            },
            {
              key: 'deactivateFullScreen',
              value() {
                if (this.fullScreenModeActive) {
                  this.fullScreenModeActive = !1;
                  const t = this.currentFullScreenGame;
                  t.scale.onFullScreenChange.remove(
                    this.onFullScreenChange,
                    this,
                  ),
                  t.scale.stopFullScreen(),
                  this.customCursor.hide();
                }
              },
            },
            {
              key: 'keepCustomCursosAlive',
              value() {
                this.fullScreenModeActive &&
                  !document.pointerLockElement &&
                  this.crossEnvRequestLock();
              },
            },
            {
              key: 'crossEnvRequestLock',
              value() {
                const t = this.currentFullScreenGame;
                setTimeout(() => {
                  try {
                    t.input.mouse.requestPointerLock();
                  } catch (n) {
                    let e = t.canvas || document.querySelector('canvas'),
                      i =
                        e.requestPointerLock ||
                        e.mozRequestPointerLock ||
                        e.webkitRequestPointerLock;
                    i.call(e);
                  }
                }, 100);
              },
            },
            {
              key: 'getCustomCursor',
              value() {
                return this.customCursor;
              },
            },
            {
              key: 'isFullScreen',
              value() {
                return this.fullScreenModeActive;
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance(t) {
        return (s && !t) || (s = new u()), s;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(184),
      u = n(s),
      l = i(28),
      c = n(l),
      h = i(1),
      d = n(h),
      f = i(3),
      p = n(f),
      g = i(10),
      y = n(g),
      v = i(76),
      m = n(v),
      b = i(531),
      _ = n(b),
      w = i(530),
      x = n(w),
      P = i(2),
      k = window.fivenations,
      T = 0,
      O = (function () {
        function t(e) {
          const i = this;
          r(this, t),
          (this.data = Object.assign({}, e)),
          (this.callbackCollection = y.default.getInstance()),
          (this.ready = !0),
          (this.guid = T),
          (this.data.level = 0),
          (T += 1),
          (this.parentIsDestroyed = !1),
          (this.data._origDamage = e.damage),
          (this.data._origDamageShield = e.damage_shield),
          (this.onTargetEntityRemove = function () {
            return i.clearTargetEntity();
          }),
          (this.eventEmitter = d.default.getInstance());
        }
        return (
          o(t, [
            {
              key: 'update',
              value() {
                this.isReady()
                  ? (!this.data.damageAllEntitiesAround &&
                      this.hasTargetEntity() &&
                      this.isReleasable() &&
                      !this.entity.getDataObject().hasAnimation('attack') &&
                      (this.hasNoInstanceDelay()
                        ? this.release()
                        : this.reduceInstanceDelay()),
                  this.data.damageAllEntitiesAround &&
                      !this.entity.getInTransform() &&
                      this.damageAllEntitiesAround(),
                  this.hasRegeneration() &&
                      (this.entity
                        .getDataObject()
                        .regenerate(this.data.regenerateHull),
                      this.freeze()))
                  : this.recharge(),
                this.scan(),
                this.filter && this.filter.update();
              },
            },
            {
              key: 'damageAllEntitiesAround',
              value() {
                let t = this,
                  e = this.entity.entityManager,
                  i = e.getEntitiesInRange(this.entity, this.getRange());
                if (!this.hasFriendlyFire()) {
                  let n = this.entity.getPlayer(),
                    r = m.default.getInstance();
                  i = i.filter((t) => {
                    const e = t.getPlayer();
                    return n !== e && !r.isPlayerAlliedWith(n, e);
                  });
                }
                i.forEach((e) => {
                  (t.targetEntity = e),
                  t.isReleasable() && t.fireWithInstantCollision(e);
                }),
                this.freeze();
              },
            },
            {
              key: 'recharge',
              value() {
                this.freezeTime > 0
                  ? (this.freezeTime -= k.game.time.fpsMultiplier)
                  : ((this.freezeTime = 0), (this.ready = !0));
              },
            },
            {
              key: 'reduceInstanceDelay',
              value() {
                this.instanceDelayCounter > 0 &&
                  (this.instanceDelayCounter -= 1);
              },
            },
            {
              key: 'scan',
              value() {
                if (!this.targetEntity || this.entity.isPatrolling()) {
                  const t = this.selectTargetEntity();
                  if (!t) return void this.clearTargetEntity();
                  if (
                    this.targetEntity !== t &&
                    !this.hasNoAutomaticRelease() &&
                    this.entity.mayAttack() &&
                    !this.hasRegeneration()
                  ) {
                    let e = this.getTargetTypes(),
                      i = t.getDataObject().getType();
                    if (!e || e.indexOf(i) !== -1) {
                      if (
                        (this.targetEntity &&
                          this.entity.isPatrolling() &&
                          this.entity
                            .getActivityManager()
                            .getCurrentActivity()
                            .kill(),
                        this.isSelfContained())
                      ) { this.setTargetEntity(t); } else if (this.manager._lastEntityAttacked !== t) {
                        const n = this.shouldAddAttackAsLast();
                        this.eventEmitter.synced
                          .entities(this.entity.getGUID())
                          .attack({ targetEntity: t, addAsLast: n }),
                        (this.manager._lastEntityAttacked = t);
                      }
                    }
                  }
                }
              },
            },
            {
              key: 'selectTargetEntity',
              value() {
                return this.canScanFriendlyOnly()
                  ? this.entity.getClosestAttackableAllyEntity()
                  : this.entity.getClosestAttackableHostileEntity();
              },
            },
            {
              key: 'release',
              value() {
                this.hasInstantCollision()
                  ? this.fireWithInstantCollision(this.targetEntity)
                  : this.fire(this.targetEntity),
                this.freeze(),
                this.revealEntityInFogOfWar(),
                this.deductPower(),
                this.emitFireEvent();
              },
            },
            {
              key: 'fire',
              value() {
                let t = this.targetEntity.getSprite(),
                  e = this.entity.isTargetFiring(),
                  i = this.entity.getSprite(),
                  n = this.data.accuracy || 100,
                  r = P.WEAPON_ACCURACY_SPREAD_IN_RADIAN * (1 - n / 100),
                  o = Math.random() * r - r / 2,
                  s = k.game.game.physics.arcade.angleBetween(i, t) + o,
                  u = this.data.velocity;
                u || (u = this.data.acceleration || this.data.maxVelocity),
                this.eventEmitter.synced.effects.add(a(
                  {
                    id: this.data.effect,
                    emitter: this,
                    maxVelocity: this.data.maxVelocity,
                    acceleration: this.data.acceleration,
                    targetFiring: e,
                    rotation: s,
                    velocity: u,
                  },
                  this.getFiringCoords(),
                  { targetEntity: this.targetEntity },
                ));
              },
            },
            {
              key: 'fireWithInstantCollision',
              value(t) {
                let e = this.entity.isTargetFiring(),
                  i = t.getSprite(),
                  n = i.x,
                  r = i.y,
                  a = {
                    id: this.data.effect,
                    emitter: this,
                    targetFiring: e,
                    x: n,
                    y: r,
                  };
                this.hasShaderEffect() &&
                  this.startShaderEffect(t, this.getShaderEffect()),
                this.eventEmitter.synced.effects
                  .add(a)
                  .then(t => c.default.getInstance().getEffectByGUID(t))
                  .then((e) => {
                    e && u.default.getInstance().executeCollisionLogic(e, t);
                  });
              },
            },
            {
              key: 'fireAt',
              value(t) {
                let e = t.getSprite && t,
                  i = (e && e.getSprite()) || t,
                  n = this.entity.getSprite(),
                  r = k.game.game.physics.arcade.angleToXY(n, i.x, i.y),
                  o = this.data.velocity;
                o || (o = this.data.acceleration || this.data.maxVelocity),
                this.eventEmitter.synced.effects.add(a(
                  {
                    id: this.data.effect,
                    emitter: this,
                    maxVelocity: this.data.maxVelocity,
                    acceleration: this.data.acceleration,
                    targetFiring: !0,
                    targetEntity: e,
                    rotation: r,
                    velocity: o,
                  },
                  this.getFiringCoords(),
                ));
              },
            },
            {
              key: 'startShaderEffect',
              value(t, e) {
                this.filter && this.stopShaderEffect(),
                (this.filter = this.getFilterByShaderEffect(e)),
                this.filter &&
                    (this.filter.setup(
                      this.getFiringCoords(),
                      t.getSprite(),
                      this.data.shaderEffect,
                    ),
                    k.game.time.events.add(
                      this.data.shaderEffect.duration * P.DESIRED_FPS_ELAPSED ||
                        500,
                      this.stopShaderEffect,
                      this,
                    ));
              },
            },
            {
              key: 'stopShaderEffect',
              value() {
                this.filter && (this.filter.destroy(), (this.filter = void 0));
              },
            },
            {
              key: 'revealEntityInFogOfWar',
              value() {
                this.entity.revealEntityInFogOfWar(this.targetEntity.getPlayer());
              },
            },
            {
              key: 'deductPower',
              value() {
                const t = this.data.power_cost;
                t > 0 && this.entity.getDataObject().usePower(t);
              },
            },
            {
              key: 'emitFireEvent',
              value() {
                this.entity.dispatch('fire');
              },
            },
            {
              key: 'activate',
              value() {
                this.ready = !0;
              },
            },
            {
              key: 'freeze',
              value() {
                const t = this.data.cooldown;
                (this.ready = !1),
                (this.freezeTime = t || 0),
                (this.instanceDelayCounter = this.instanceDelay);
              },
            },
            {
              key: 'increaseCooldown',
              value(t) {
                this.data.cooldown && (this.data.cooldown += t);
              },
            },
            {
              key: 'updateAttr',
              value() {
                let t = this,
                  e =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : {};
                Object.keys(e).forEach((i) => {
                  t.data[i] += e[i];
                });
              },
            },
            {
              key: 'updateAttrTemporarilyByRatio',
              value() {
                let t = this,
                  e =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : {};
                this._origAttr || (this._origAttr = {}),
                Object.keys(e).forEach((i) => {
                  (t._origAttr[i] = t.data[i]), (t.data[i] *= e[i]);
                });
              },
            },
            {
              key: 'restoreOriginalAttr',
              value(t) {
                this._origAttr[t] && (this.data[t] = this._origAttr[t]);
              },
            },
            {
              key: 'setAttr',
              value(t) {
                const e = t || {};
                this.data = a({}, this.data, e);
              },
            },
            {
              key: 'setManager',
              value(t) {
                (this.manager = t),
                (this.entity = t.getEntity()),
                (this.unconditionalRelease =
                    this.entity.getDataObject().isFighter() ||
                    this.isSelfContained()),
                this.entity.once(
                  'remove',
                  this.onParentEntityRemove.bind(this),
                );
              },
            },
            {
              key: 'setTargetEntity',
              value(t) {
                this.targetEntity &&
                  (this.targetEntity.off(
                    'hibernate',
                    this.onTargetEntityRemove,
                  ),
                  this.targetEntity.off('remove', this.onTargetEntityRemove)),
                (this.targetEntity = t),
                this.targetEntity.on('remove', this.onTargetEntityRemove),
                this.targetEntity.on('hibernate', this.onTargetEntityRemove);
              },
            },
            {
              key: 'setInstanceDelay',
              value(t) {
                (this.instanceDelay = t || 0), (this.instanceDelayCounter = t);
              },
            },
            {
              key: 'clearTargetEntity',
              value() {
                this.targetEntity = null;
              },
            },
            {
              key: 'onParentEntityRemove',
              value() {
                (this.parentIsDestroyed = !0),
                this.doesDamageOnlyWhenOwnerDies() &&
                    ((this.unconditionalRelease = !0),
                    this.damageAllEntitiesAround(),
                    (this.unconditionalRelease = !1));
              },
            },
            {
              key: 'doesDamageOnlyWhenOwnerDies',
              value() {
                return this.data.damagesOnlyWhenOwnerDies;
              },
            },
            {
              key: 'shouldAddAttackAsLast',
              value() {
                return (
                  !this.entity.isPatrolling() &&
                  !this.entity.isHoldingPosition()
                );
              },
            },
            {
              key: 'invalidateCache',
              value() {
                this.data._range = void 0;
              },
            },
            {
              key: 'getId',
              value() {
                return this.data.id;
              },
            },
            {
              key: 'getGUID',
              value() {
                return this.guid;
              },
            },
            {
              key: 'getManager',
              value() {
                return this.manager;
              },
            },
            {
              key: 'getEntity',
              value() {
                return this.entity;
              },
            },
            {
              key: 'getName',
              value() {
                return this.data.name;
              },
            },
            {
              key: 'getDamage',
              value() {
                return this.data.damage;
              },
            },
            {
              key: 'getDamageShield',
              value() {
                return this.data.damage_shield;
              },
            },
            {
              key: 'getOriginalDamage',
              value() {
                return this.data._origDamage;
              },
            },
            {
              key: 'getOriginalDamageShield',
              value() {
                return this.data._origDamageShield;
              },
            },
            {
              key: 'getRange',
              value() {
                return (
                  this.data._range ||
                    (this.data.range >= 0
                      ? (this.data._range = this.data.range)
                      : (this.data._range = 0)),
                  this.data._range
                );
              },
            },
            {
              key: 'getDescription',
              value() {
                return this.data.description;
              },
            },
            {
              key: 'getCooldown',
              value() {
                return this.data.cooldown;
              },
            },
            {
              key: 'getPowerCost',
              value() {
                return this.data.power_cost;
              },
            },
            {
              key: 'getWeaponType',
              value() {
                return this.data.type;
              },
            },
            {
              key: 'getAccuracy',
              value() {
                return this.data.accuracy;
              },
            },
            {
              key: 'getCurrentLevel',
              value() {
                return this.data.level;
              },
            },
            {
              key: 'getUpgradeLevel',
              value() {
                return this.data.upgrade_level;
              },
            },
            {
              key: 'getUpgradeShieldLevel',
              value() {
                return this.data.upgrade_shield_level;
              },
            },
            {
              key: 'getTargetEntity',
              value() {
                return this.targetEntity;
              },
            },
            {
              key: 'getTargetTypes',
              value() {
                return this.data.targetTypes;
              },
            },
            {
              key: 'getMaxVelocity',
              value() {
                return this.data.maxVelocity;
              },
            },
            {
              key: 'canAttackFighters',
              value() {
                return this.data.CAF || this.data.CAFO;
              },
            },
            {
              key: 'canHitFighters',
              value() {
                return this.data.CHF;
              },
            },
            {
              key: 'canAttackFightersOnly',
              value() {
                return this.data.CAFO;
              },
            },
            {
              key: 'canHitFightersOnly',
              value() {
                return this.data.CHFO;
              },
            },
            {
              key: 'canAttackBuildingsOnly',
              value() {
                return this.data.CABO;
              },
            },
            {
              key: 'canHitBuildingsOnly',
              value() {
                return this.data.CHBO;
              },
            },
            {
              key: 'canAttackBuildings',
              value() {
                return this.data.CAB || this.data.CABO;
              },
            },
            {
              key: 'hasRegenerateFighters',
              value() {
                return this.data.regenerateFighters;
              },
            },
            {
              key: 'hasMetallicScutes',
              value() {
                return this.data.metallicscutes;
              },
            },
            {
              key: 'hasDamageOnceOnly',
              value() {
                return this.data.damageOnceOnly;
              },
            },
            {
              key: 'canHitBuildings',
              value() {
                return this.data.CHB;
              },
            },
            {
              key: 'canScanFriendlyOnly',
              value() {
                return this.data.scanFriendlyOnly;
              },
            },
            {
              key: 'getMinRange',
              value() {
                return this.data.minRange;
              },
            },
            {
              key: 'getSplashRange',
              value() {
                return this.data.splash_range;
              },
            },
            {
              key: 'getEffect',
              value() {
                return this.data.effect;
              },
            },
            {
              key: 'getInstanceDelay',
              value() {
                return this.data.instanceDelay;
              },
            },
            {
              key: 'getData',
              value() {
                return this.data;
              },
            },
            {
              key: 'toJSON',
              value() {
                return JSON.stringify(this.data, null, '  ');
              },
            },
            {
              key: 'doesSplashDamageAllies',
              value() {
                return this.data.splash_damges_allies;
              },
            },
            {
              key: 'doesDamageHullDirectly',
              value() {
                return this.data.damageHullDirectly;
              },
            },
            {
              key: 'doesCollideOnlyWithTarget',
              value() {
                return this.data.collidesOnlyWithTarget;
              },
            },
            {
              key: 'isSelfContained',
              value() {
                return this.data.self_contained;
              },
            },
            {
              key: 'isReady',
              value() {
                return this.ready;
              },
            },
            {
              key: 'isReleasable',
              value() {
                return !(
                  (this.hasNoAutomaticRelease() &&
                    !this.entity.isTargetFiring()) ||
                  !this.hasRequiredPower() ||
                  !this.isTargetInRange() ||
                  !this.isTargetAttackable() ||
                  (!this.unconditionalRelease &&
                    (this.isEntityMoving() || !this.isFacingTarget()))
                );
              },
            },
            {
              key: 'isTargetInRange',
              value() {
                let t = this.targetEntity.getSprite(),
                  e = this.entity.getSprite(),
                  i = p.default.distanceBetweenSprites(e, t);
                return (
                  i <= this.getRange() &&
                  (i >= this.getMinRange() || !this.getMinRange())
                );
              },
            },
            {
              key: 'canAttackTarget',
              value(t) {
                if (!t) return !1;
                if (this.hasNoAutomaticRelease()) return !1;
                if (
                  this.doesDamageOnlyWhenOwnerDies() &&
                  !this.parentIsDestroyed
                ) { return !1; }
                if (
                  this.getWeaponType() === 'passive' &&
                  this.getDamage() === '-'
                ) { return !1; }
                if (
                  this.canScanFriendlyOnly() &&
                  t.getTeam() !== this.entity.getTeam()
                ) { return !1; }
                if (
                  this.getWeaponType() === 'supportive-magic' &&
                  t.getTeam() !== this.entity.getTeam()
                ) { return !1; }
                let e = t.getDataObject().isFighter(),
                  i = t.getDataObject().isBuilding();
                return (
                  !(e && !this.canAttackFighters()) &&
                  !(!e && this.canAttackFightersOnly()) &&
                  !(i && !this.canAttackBuildings()) &&
                  !(!i && this.canAttackBuildingsOnly()) &&
                  (!this.data.targetingConditionCallback ||
                    this.callbackCollection.run(
                      this.data.targetingConditionCallback,
                      t,
                    ))
                );
              },
            },
            {
              key: 'isTargetAttackable',
              value() {
                return this.canAttackTarget(this.targetEntity);
              },
            },
            {
              key: 'isEntityMoving',
              value() {
                return this.entity.getMotionManager().movement.velocity !== 0;
              },
            },
            {
              key: 'isFacingTarget',
              value() {
                return (
                  !this.requiresEntityToFaceTarget() ||
                  this.entity
                    .getMotionManager()
                    .isEntityFacingTargetEntity(this.targetEntity)
                );
              },
            },
            {
              key: 'couldBeReleased',
              value() {
                return !(
                  !this.hasTargetEntity() ||
                  !this.isReady() ||
                  !this.isTargetInRange() ||
                  (this.hasNoAutomaticRelease() && !this.entity.targetFiring)
                );
              },
            },
            {
              key: 'isOffensive',
              value() {
                return this.data.type === 'weapon';
              },
            },
            {
              key: 'isRanged',
              value() {
                return [
                  'weapon',
                  'supportive-magic',
                  'destructive-magic',
                ].includes(this.data.type);
              },
            },
            {
              key: 'hasFriendlyFire',
              value() {
                return this.data.friendlyFire;
              },
            },
            {
              key: 'hasTargetEntity',
              value() {
                return this.targetEntity;
              },
            },
            {
              key: 'hasNoInstanceDelay',
              value() {
                return !this.instanceDelay || this.instanceDelayCounter === 0;
              },
            },
            {
              key: 'hasInstantCollision',
              value() {
                return this.data.instantCollision;
              },
            },
            {
              key: 'requiresEntityToFaceTarget',
              value() {
                return this.data.requires_entity_to_face_target;
              },
            },
            {
              key: 'hasRequiredPower',
              value() {
                const t = this.data.power_cost;
                return !(t > 0) || this.entity.getDataObject().getPower() >= t;
              },
            },
            {
              key: 'hasNoAutomaticRelease',
              value() {
                return this.data.noAutomaticRelease;
              },
            },
            {
              key: 'isSmasher',
              value() {
                return this.data.smash;
              },
            },
            {
              key: 'hasArmourPiercing',
              value() {
                return this.data.armourPiercing;
              },
            },
            {
              key: 'doesKillOwner',
              value() {
                return this.data.killOwner;
              },
            },
            {
              key: 'hasRegeneration',
              value() {
                return this.data.regenerateHull;
              },
            },
            {
              key: 'isInterceptor',
              value() {
                return !!this.data.createInterceptor;
              },
            },
            {
              key: 'getInterceptData',
              value() {
                return (
                  !!this.data.createInterceptor && {
                    interceptor: this.data.createInterceptor,
                    controlled: this.data.controlledInterceptor,
                    initial: Math.floor((this.data.controlledInterceptor *
                        this.data.initialInterceptorInPercent) /
                        100),
                    cooldown: this.data.cooldown,
                  }
                );
              },
            },
            {
              key: 'isSpying',
              value() {
                return this.data.spying;
              },
            },
            {
              key: 'isDetector',
              value() {
                return this.data.Detector;
              },
            },
            {
              key: 'isRevengerWeapon',
              value() {
                return !!this.data.createEntityOnRemove;
              },
            },
            {
              key: 'getRevengerData',
              value() {
                return (
                  !!this.data.createEntityOnRemove && {
                    unit: this.data.createEntityOnRemove,
                    number: this.data.numberOfRevengeEntities,
                  }
                );
              },
            },
            {
              key: 'hasShaderEffect',
              value() {
                return void 0 !== this.data.shaderEffect;
              },
            },
            {
              key: 'getShaderEffect',
              value() {
                return this.data.shaderEffect;
              },
            },
            {
              key: 'getFilterByShaderEffect',
              value(t) {
                let e = null,
                  i = t.name;
                return (
                  i === 'lightning'
                    ? (e = new _.default())
                    : i === 'laser' && (e = new x.default()),
                  e
                );
              },
            },
            {
              key: 'getFiringCoords',
              value() {
                let t = this.entity.getProjectileOffsetByHeading(),
                  e = t.x || 0,
                  i = t.y || 0,
                  n = this.entity.getSprite();
                return { x: n.x + e, y: n.y + i };
              },
            },
          ]),
          t
        );
      }());
    e.default = O;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = void 0,
      s = {
        cancelProduction: 'c',
        cancelResearch: 'c',
        cancelConstruction: 'c',
        stop: 's',
        move: 'm',
        patrol: 'p',
        hold: 'h',
        cancel: 'c',
        attack: 'a',
        mining: 'i',
        follow: 'f',
        dock: 'd',
        undock: 'u',
        constructionPage: 'b',
        setRallyPoint: 'r',
        establishBase: 'e',
        repairpod: 'r',
        attach: 't',
        detach: 't',
        deploy: 'c',
      },
      u = {
        engineershuttle: 'e',
        icarus: 'i',
        hurricane: 'h',
        orca: 'o',
        hailstorm: 'a',
        crow: 'w',
        dresda: 'd',
        stgeorge: 's',
        avenger: 'a',
        avenger2: 'a',
        kutuzov: 'k',
        pasteur: 'p',
        galileo: 'j',
        teller: 't',
        piratevessel: 'g',
        piratecargo: 'p',
        khan: 'k',
        trinity: 't',
        miningstation: 't',
        civilianbase: 'a',
        solarstation: 's',
        fusionreactor: 'u',
        eirainstitute: 'e',
        shipfactory: 'f',
        merchantport: 'm',
        dockyard: 'y',
        researchcenter: 'r',
        'medical-station': 'i',
        astrometricstation: 'o',
        'helium3-reactor': 'h',
        deepspacelab: 'l',
        fleetheadquarters: 'q',
        defensesatellite: 'd',
        defenseplatform: 'p',
        commandcenter: 'o',
        drone: 'd',
        explorer: 'e',
        intruder: 't',
        warpglider: 'w',
        flanker: 'f',
        clairvoyant: 'a',
        gathering: 'g',
        theocrat: 't',
        invader: 'i',
        mothership: 'm',
        lancet: 'l',
        martyrprobe: 'm',
        cryon: 'h',
        rector: 'e',
        masstransmitter: 't',
        biosphere: 'o',
        powercore: 'p',
        psyhicdome: 'y',
        theocratsseat: 'a',
        synodum: 'h',
        sanctuary: 's',
        dome: 'd',
        conservatory: 'n',
        martyrium: 'm',
        craftmill: 'r',
        monumentofwill: 'w',
        basilica: 'i',
        shieldgenerator: 'g',
        polaronsphere: 'p',
        obelisk: 'o',
        centralpyramid: 'y',
        labor: 'a',
        hauler: 'h',
        spear: 's',
        twinblade: 't',
        gloom: 'g',
        absorber: 'a',
        caldron: 'd',
        installator: 'i',
        mask: 'm',
        assimilator: 'a',
        arson: 'r',
        eclipse: 'e',
        shade: 's',
        plasmaraid: 'r',
        leechmine: 'l',
        refinery: 'r',
        supportcenter: 's',
        supportcomplex: 'u',
        stellarreactor: 'o',
        manufacture: 'd',
        advancedmanufacture: 'a',
        manufactureprime: 'm',
        transponder: 't',
        defensiveserver: 'e',
        offensiveserver: 'o',
        conflux: 'x',
        array: 'y',
        quantumcore: 'q',
        aegis: 'g',
        wormholegenerator: 'w',
        repairstation: 'p',
        installationprime: 'i',
        predator: 'p',
        maraduer: 'm',
        vindicator: 'a',
        grinder: 'g',
        havoc: 'h',
        vanguard: 'v',
        probe: 'r',
        devastator: 'd',
        flagship: 'f',
        corsair: 'o',
        breaker: 'b',
        extractor: 'e',
        welder: 'w',
        harvester: 'z',
        capitol: 'p',
        materialsilo: 't',
        habitat: 'h',
        powerplant: 'o',
        forge: 'g',
        energystorage: 'f',
        flagshipyard: 's',
        hall: 'a',
        guild: 'u',
        forum: 'r',
        consulate: 'l',
        anvil: 'v',
        skycourt: 'y',
        senate: 'n',
        guardstation: 'd',
        ioncannon: 'i',
        provincialbeacon: 'x',
        spawn: 'w',
        worker: 'w',
        queen: 'a',
        guard: 'g',
        venator: 'v',
        mind: 'i',
        swarmmother: 'y',
        rictus: 'r',
        mite: 't',
        alpha: 'l',
        overseer: 'o',
        ruptor: 'r',
        decay: 'd',
        chimneyplant: 'g',
        nutrientcolony: 'n',
        metabolist: 'm',
        helia: 'h',
        birthingpool: 't',
        agaric: 'a',
        pond: 'p',
        warren: 'w',
        mindfungus: 'i',
        clathruscolony: 'l',
        symbioticorgan: 's',
        evulatory: 'e',
        swarmmembrane: 'r',
        chrysodendron: 'd',
        decaychamber: 'y',
        fonia: 'o',
      },
      l = (function () {
        function t() {
          n(this, t), (this.rainbow = r({}, s, u));
        }
        return (
          a(t, [
            {
              key: 'getKeyByLogicId',
              value(t) {
                return this.rainbow[t];
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance(t) {
        return (o && !t) || (o = new l()), o;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 }),
    (e.DEFAULT_ATTRIBUTES = void 0);
    let s =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(104),
      c = n(l),
      h = i(539),
      d = n(h),
      f = i(85),
      p = n(f),
      g = i(1),
      y = n(g),
      v = i(3),
      m = n(v),
      b = window.fivenations,
      _ = (e.DEFAULT_ATTRIBUTES = {
        spritesheet: 'mainmenu-elements',
        frames: { background: 'mainmenu_popup_type01.png' },
        style: {
          font: '16px BerlinSansFB-Reg',
          fill: '#FFFFFF',
          boundsAlignH: 'center',
          wordWrap: !0,
          align: 'center',
        },
        padding: 45,
      }),
      w = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, b.game.game),
          );
          return (
            (i.config = t || {}),
            i.initOverlayComponent(t),
            i.initBasicComponents(t),
            i.initConfirmButton(t),
            t.noCloseButton || i.initCloseButton(t),
            i.initEventListener(),
            i.setCoordinates(t),
            t.hidden ? (i.visible = !1) : i.show(),
            i
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'initOverlayComponent',
              value(t) {
                if (t.overlay) {
                  const e = new p.default();
                  (e.x = -e.width / 2),
                  (e.y = -e.height / 2),
                  (this.overlay = this.add(e));
                }
              },
            },
            {
              key: 'initBasicComponents',
              value(t) {
                let e = t.offsetX,
                  i = t.offsetY,
                  n = t.spritesheet,
                  r = t.frame,
                  a = t.frameName,
                  o = t.text,
                  u = t.noBackground;
                (this.window = this.game.add.group()),
                this.add(this.window),
                (this.background = this.game.add.sprite(
                  e || 0,
                  i || 0,
                  n || _.spritesheet,
                )),
                (this.background.frameName = a || _.frames.background),
                r && (this.background.frame = r),
                this.background.anchor.set(0.5),
                u && (this.background.visible = !1),
                this.window.add(this.background),
                o &&
                    ((this.text = this.game.add.text(
                      0,
                      -50,
                      o,
                      s({}, _.style, {
                        wordWrapWidth: this.background.width - _.padding,
                      }),
                    )),
                    this.text.anchor.set(0.5),
                    this.window.add(this.text));
              },
            },
            {
              key: 'initConfirmButton',
              value(t) {
                let e = this,
                  i = t.buttonLabel,
                  n = t.onClick,
                  r = t.buttonOffsetX,
                  a = t.buttonOffsetY;
                n &&
                  ((this.button = new c.default({
                    label: i,
                    onClick() {
                      n(), e.eventDispatcher.dispatch('dismiss');
                    },
                  })),
                  (this.button.x = r || 0),
                  (this.button.y =
                    this.background.height / 2 -
                    this.button.height / 2 -
                    _.padding +
                    (a || 0)),
                  this.window.add(this.button));
              },
            },
            {
              key: 'initCloseButton',
              value(t) {
                let e = this,
                  i = function () {
                    typeof t.onClose === 'function' && t.onClose.call(e),
                    e.eventDispatcher.dispatch('dismiss'),
                    e.hide();
                  };
                (this.closeButton = new d.default({ onClick: i })),
                (this.closeButton.x =
                    this.background.width / 2 -
                    this.closeButton.width / 2 -
                    _.padding),
                (this.closeButton.y =
                    this.background.height / -2 +
                    this.closeButton.height / 2 +
                    _.padding),
                this.window.add(this.closeButton);
              },
            },
            {
              key: 'initEventListener',
              value() {
                this.eventDispatcher = new m.default.EventDispatcher();
              },
            },
            {
              key: 'setCoordinates',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = t.cameraOffset,
                  r = t.fixedToCamera,
                  a = b.window,
                  o = a.width,
                  s = a.height,
                  u = this.background.width / 2,
                  l = this.background.height / 2,
                  c = e || o / 2,
                  h = i || s / 2;
                (this.x = Math.min(o - u, Math.max(u, c))),
                (this.y = Math.min(s - l, Math.max(l, h))),
                !1 !== r && (this.fixedToCamera = !0),
                !1 !== n && this.cameraOffset.setTo(c, h);
              },
            },
            {
              key: 'update',
              value(t) {
                t && t.text && (this.text = t.text);
              },
            },
            {
              key: 'show',
              value() {
                (this.visible = !0),
                this.eventDispatcher.dispatch('show'),
                this.overlay &&
                    this.game.add
                      .tween(this.overlay)
                      .from(
                        { alpha: 0 },
                        200,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                      ),
                this.game.add
                  .tween(this.window)
                  .from(
                    { alpha: 0, y: -200 },
                    200,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                  ),
                y.default.getInstance().local.dispatch('ingame/popup/open');
              },
            },
            {
              key: 'hide',
              value() {
                const t = this;
                this.eventDispatcher.dispatch('hide'),
                this.overlay &&
                    this.game.add
                      .tween(this.overlay)
                      .to(
                        { alpha: 0 },
                        200,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                      ),
                this.game.add
                  .tween(this.window)
                  .to(
                    { alpha: 0, y: -200 },
                    200,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                  )
                  .onComplete.add(() => {
                    (t.overlay.alpha = 1),
                    (t.window.alpha = 1),
                    (t.window.y = 0),
                    (t.visible = !1);
                  }),
                y.default.getInstance().local.dispatch('ingame/popup/close');
              },
            },
            {
              key: 'on',
              value(t, e) {
                this.eventDispatcher.addEventListener(t, e);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = w;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 }),
    (e.SLOTS_COUNT = void 0);
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(564),
      l = n(u),
      c = i(75),
      h = n(c),
      d = i(7),
      f = n(d),
      p = window.fivenations,
      g = (e.SLOTS_COUNT = 10),
      y = {
        marginLeft: 25,
        marginTop: 0,
        font: '12px BerlinSansFB-Reg',
        color: '#77C7D2',
      },
      v = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return i.addButtons(), i.addStatusBar(), i.addStatusText(), i;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'updateContent',
              value(t) {
                for (
                  var e = h.default.getInstance(),
                    i = t.getProductionManager().getAllSlots(),
                    n = t.getDataObject().isProductionTypeHatch(),
                    r = 0;
                  r < g;
                  r += 1
                ) {
                  i[r]
                    ? (this.buttons[r].frame = e.getFrameById(i[r].id))
                    : (this.buttons[r].frame = r - 1),
                  (this.buttons[r].visible = !n);
                }
                i[0] &&
                  (this.updateStatusBar(i[0]), (this.buttons[0].visible = !0));
              },
            },
            {
              key: 'addButtons',
              value() {
                this.buttons = [];
                for (let t = 0; t < g; t += 1) {
                  let e = new l.default(this.game),
                    i = e.width + 3,
                    n = e.height + 3;
                  (e.x = (t % 5) * i + 0),
                  (e.y = Math.floor(t / 5) * n + 20),
                  e.setSlotIdx(t),
                  this.buttons.push(e),
                  this.add(e);
                }
              },
            },
            {
              key: 'addStatusText',
              value() {
                let t = f.default.getInstance().translate('gui.in-production'),
                  e = this.statusBar,
                  i = e.x,
                  n = e.y,
                  r = this.game.add.text(i + 100, n + -15, t, {
                    font: y.font,
                    fill: y.color,
                  });
                r.anchor.set(0.5), (this.statusText = this.add(r));
              },
            },
            {
              key: 'addStatusBar',
              value() {
                (this.statusBar = this.game.add.graphics(0, 0)),
                this.add(this.statusBar);
              },
            },
            {
              key: 'updateStatusBar',
              value(t) {
                let e = p.game.turn,
                  i = t.complitionTime,
                  n = t.time,
                  r = 1 - (Math.max(i, e) - e) / n;
                this.statusBar.clear(),
                this.statusBar.lineStyle(1, '0x84e1e3', 1),
                this.statusBar.drawRect(0, 0, 200, 15),
                this.statusBar.beginFill('0x84e1e3'),
                this.statusBar.drawRect(2, 2, 200 * r - 4, 11),
                this.statusBar.endFill();
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = v;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s() {
      let t = h.default.getInstance().getGroup(p.GROUP_TOOLTIPS),
        e = new b(),
        i = f.default.getInstance();
      return (
        i.local.addEventListener('gui/controlpanel/change', () => {
          e.visible = !1;
        }),
        i.local.addEventListener('gui/controlpanel/hide', () => {
          e.visible = !1;
        }),
        t.add(e),
        e
      );
    }
    function u(t) {
      let e = t.target,
        i = t.label,
        n = t.offsetX,
        r = t.offsetY,
        a = t.test;
      typeof a !== 'function' &&
        (a = function () {
          return !0;
        }),
      (m && v.game.game === m.game) || (m = s()),
      e.inputEnabled || (e.inputEnabled = !0),
      e.events.onInputOver.add((t) => {
        if (a()) {
          let e = typeof i === 'function' ? i(t) : i,
            o = v.window.width - m.width,
            s = v.window.height - m.height,
            u = t.worldPosition.x + g.x + (n || 0),
            l = t.worldPosition.y + g.y + (r || 0),
            c = Math.max(Math.min(u, o), 0),
            h = Math.max(Math.min(l, s), 0);
          t.visible &&
              e &&
              (m.cameraOffset.setTo(c, h),
              (m.x = c),
              (m.y = h),
              (m.visible = !0),
              m.updateContent(e));
        }
      }),
      e.events.onInputOut.add(() => {
        a() && (m.visible = !1);
      });
    }
    Object.defineProperty(e, '__esModule', { value: !0 }),
    (e.tooltipify = void 0);
    var l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = i(14),
      h = n(c),
      d = i(1),
      f = n(d),
      p = i(2),
      g = { x: 10, y: -20 },
      y = { width: 139, height: 39 },
      v = window.fivenations,
      m = void 0,
      b = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, v.game.game),
          );
          return (
            t.setFixedToTheCamera(),
            t.setDefaultVisiblity(),
            t.initBackgroundSprite(),
            t.initTextComponent(),
            t
          );
        }
        return (
          o(e, t),
          l(e, [
            {
              key: 'setFixedToTheCamera',
              value() {
                this.fixedToCamera = !0;
              },
            },
            {
              key: 'setDefaultVisiblity',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'initBackgroundSprite',
              value() {
                (this.background = this.game.add.sprite(0, 0, 'gui')),
                (this.background.frameName =
                    'XXXgui_descriptionpopup_small.png'),
                this.add(this.background);
              },
            },
            {
              key: 'initTextComponent',
              value() {
                (this.label = this.add(this.game.add.text(0, 0, '', {
                  font: p.DEFAULT_FONT.font,
                  fill: p.DEFAULT_FONT.color,
                  boundsAlignH: 'center',
                  boundsAlignV: 'middle',
                }))),
                this.label.setTextBounds(0, 3, y.width, y.height);
              },
            },
            {
              key: 'updateContent',
              value(t) {
                this.label.text = t;
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    (e.tooltipify = u), (e.default = b);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t) {
      for (var e = {}, i = 1; i <= m.TOTAL_NUMBER_OF_PLAYERS; i += 1) e[i] = t;
      return e;
    }
    function o(t) {
      return !t.isIndependent() && !t.isHibernated() && !t.isInConstruction();
    }
    Object.defineProperty(e, '__esModule', { value: !0 }),
    (e.CODE_REVEALED_FOREVER = e.CODE_REVEALED_BEFORE = e.CODE_REVEALED = e.CODE_NOT_REVEALED = void 0);
    var s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(1),
      l = n(u),
      c = i(76),
      h = n(c),
      d = i(630),
      f = n(d),
      p = i(196),
      g = n(p),
      y = i(3),
      v = n(y),
      m = i(2),
      b = i(195),
      _ = window.fivenations,
      w = (e.CODE_NOT_REVEALED = 0),
      x = (e.CODE_REVEALED = 1),
      P = (e.CODE_REVEALED_BEFORE = 2),
      k = (e.CODE_REVEALED_FOREVER = 3),
      T = (function () {
        function t(e, i) {
          r(this, t),
          this.initMatrix(e),
          this.initEventListener(),
          this.initCollisionMap(i),
          this.initHelpers();
        }
        return (
          s(t, [
            {
              key: 'initMatrix',
              value(t) {
                (this.tiles = v.default.matrix(
                  t.getWidth() + 1,
                  t.getHeight() + 1,
                  () => a(w),
                )),
                (this.map = t),
                (this.updateRevealedBeforeLayerCounter = 0);
              },
            },
            {
              key: 'initEventListener',
              value() {
                const t = this;
                (this.dispatcher = l.default.getInstance().local),
                this.dispatcher.addEventListener('player/create', (e) => {
                  e.isControlledByUser() &&
                      t.setActiveVisibleTeam(e.getTeam());
                });
              },
            },
            {
              key: 'initCollisionMap',
              value(t) {
                this.collisionMap = t;
              },
            },
            {
              key: 'initHelpers',
              value() {
                this.diplomacyManager = h.default.getInstance();
              },
            },
            {
              key: 'visit',
              value(t, e, i) {
                const n =
                  arguments.length > 3 &&
                  void 0 !== arguments[3] &&
                  arguments[3];
                t >= 0 &&
                  e >= 0 &&
                  e < this.tiles.length &&
                  t < this.tiles[0].length &&
                  (this.tiles[e][t][i] === w
                    ? ((this.tiles[e][t][i] = x),
                    n &&
                        (this.map.isTileOnScreen(t, e) && (this.dirty = !0),
                        this.updatedTiles.push({
                          x: t,
                          y: e,
                          value: this.tiles[e][t][i],
                        }),
                        (this.minimapDirty = !0)))
                    : this.tiles[e][t][i] === P &&
                      ((this.tiles[e][t][i] = x),
                      n &&
                        (this.updatedTiles.push({
                          x: t,
                          y: e,
                          value: this.tiles[e][t][i],
                        }),
                        (this.revealedDirty = !0))));
              },
            },
            {
              key: 'forceVisit',
              value(t, e, i) {
                let n = i.getTeam(),
                  r = this.diplomacyManager.isVisionSharedBetweenTeams(
                    this.activeVisibleTeam,
                    n,
                  ),
                  a = this.activeVisibleTeam === n || r;
                this.visit(t, e, n, a),
                this.dirty &&
                    (this.map.forceRefresh(),
                    (this.dirty = !1),
                    (this.revealedDirty = !1));
              },
            },
            {
              key: 'visitTilesByEntityVisibility',
              value(t) {
                for (
                  var e = this,
                    i = t.getDataObject(),
                    n = Math.max(i.getVision(), 1),
                    r = g.default.getMaskBySize(n),
                    a = Math.floor(r.length / 2),
                    o = t.getTile(),
                    s = t.getTeam(),
                    u = this.diplomacyManager.isVisionSharedBetweenTeams(
                      this.activeVisibleTeam,
                      s,
                    ),
                    l = this.activeVisibleTeam === s || u,
                    c = -a + o[0],
                    h = -a + o[1],
                    d =
                      !this.collisionMap ||
                      t.hasFlyOverObstacles() ||
                      t.isDetector()
                        ? void 0
                        : this.collisionMap.getMatrixChunk({
                          x: c,
                          y: h,
                          width: r.length,
                          height: r[0].length,
                        }),
                    p = f.default.prepareCullingInput(
                      d,
                      b.OBSTACLE_SPACE_OBJECT,
                      o[0],
                      o[1],
                      a,
                    ),
                    y = 0;
                  y < r.length;
                  y += 1
                ) {
                  for (var v = 0; v < r[y].length; v += 1) {
                    r[y][v] &&
                      (function () {
                        let t = c + v,
                          i = h + y;
                        if (!d || f.default.checkVisibility(p, v, y)) {
                          const n = e.diplomacyManager.getTeamWithSharedVisionOfTeam(s);
                          n.length &&
                            n.forEach(n => e.visit(t, i, n, l)),
                          e.visit(t, i, s, l);
                        }
                      }());
                  }
                }
              },
            },
            {
              key: 'visitTilesManually',
              value(t) {
                let e = t.entity,
                  i = t.x,
                  n = t.y,
                  r = t.vision,
                  a = t.onlyRevealedBefore,
                  o = t.realCoords,
                  s = t.revealForever,
                  u = t.team,
                  l = g.default.getMaskBySize(r),
                  c = Math.floor(l.length / 2),
                  h = u,
                  d = void 0,
                  f = 1;
                s ? (f = 3) : a && (f = 2),
                (d = e
                  ? e.getTileObj()
                  : o
                    ? {
                      x: Math.floor(i / m.TILE_WIDTH),
                      y: Math.floor(n / m.TILE_HEIGHT),
                    }
                    : { x: i, y: n });
                for (let p = 0; p < l.length; p += 1) {
                  for (let y = 0; y < l[p].length; y += 1) {
                    if (l[p][y]) {
                      let v = Math.max(
                          0,
                          Math.min(-c + d.x + y, this.tiles[0].length),
                        ),
                        b = Math.max(
                          0,
                          Math.min(-c + d.y + p, this.tiles.length),
                        );
                      this.tiles[b][v][h] = f;
                    }
                  }
                }
                this.map.forceRefresh(),
                (this.dirty = !1),
                (this.revealedDirty = !1);
              },
            },
            {
              key: 'isVisible',
              value(t, e, i) {
                if (
                  t >= 0 &&
                  e >= 0 &&
                  e < this.tiles.length &&
                  t < this.tiles[0].length
                ) {
                  const n = i || this.activeVisibleTeam;
                  return this.tiles[e][t][n] === x || this.tiles[e][t][n] === k;
                }
                return !1;
              },
            },
            {
              key: 'isEntityVisibleByTeam',
              value(t, e) {
                let i = t.getTileObj(),
                  n = i.x,
                  r = i.y;
                if (
                  n >= 0 &&
                  r >= 0 &&
                  r < this.tiles.length &&
                  n < this.tiles[0].length
                ) {
                  const a = e || this.activeVisibleTeam;
                  return this.tiles[r][n][a] === x || this.tiles[r][n][a] === k;
                }
                return !1;
              },
            },
            {
              key: 'isRevealedBefore',
              value(t, e) {
                return (
                  t >= 0 &&
                  e >= 0 &&
                  e < this.tiles.length &&
                  t < this.tiles[0].length &&
                  this.tiles[e][t][this.activeVisibleTeam] === P
                );
              },
            },
            {
              key: 'isVisibleInFog',
              value(t, e, i) {
                return (
                  this.isRevealedBefore(t, e) &&
                  (i.getDataObject().isSpaceObject() ||
                    i.getDataObject().isBuilding())
                );
              },
            },
            {
              key: 'update',
              value(t) {
                _.blackSheepWall ||
                  ((this.updatedTiles = []),
                  (this.dirty = !1),
                  this.updateRevealedBeforeLayer(),
                  this.visitTilesByEntities(t),
                  (this.revealedDirty || this.dirty || this.minimapDirty) &&
                    (this.dispatcher.dispatch(
                      'fogofwar/change',
                      this.updatedTiles,
                    ),
                    (this.minimapDirty = !1)));
              },
            },
            {
              key: 'updateRevealedBeforeLayer',
              value() {
                if (!window.mapEditorMode) {
                  if (
                    ((this.revealedDirty = !1),
                    this.updateRevealedBeforeLayerCounter === 50)
                  ) {
                    for (let t = 0; t < this.tiles.length; t += 1) {
                      for (let e = 0; e < this.tiles[0].length; e += 1) {
                        for (let i = 1; i <= m.TOTAL_NUMBER_OF_PLAYERS; i += 1) {
this.tiles[t][e][i] === x &&
                            ((this.tiles[t][e][i] = P),
                            (i === this.activeVisibleTeam ||
                              this.diplomacyManager.isVisionSharedBetweenTeams(
                                i,
                                this.activeVisibleTeam,
                              )) &&
                              this.updatedTiles.push({
                                x: e,
                                y: t,
                                value: this.tiles[t][e][i],
                              }));
}
                      }
                    }
                    this.updateRevealedBeforeLayerCounter = 0;
                  } else this.updateRevealedBeforeLayerCounter += 1;
                }
              },
            },
            {
              key: 'visitTilesByEntities',
              value(t) {
                const e = this;
                t.entities()
                  .filter(o)
                  .forEach(t => e.visitTilesByEntityVisibility(t));
              },
            },
            {
              key: 'blackSheepWall',
              value() {
                for (
                  let t =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : 1,
                    e = 0;
                  e < this.tiles.length;
                  e += 1
                ) {
                  for (let i = 0; i < this.tiles[0].length; i += 1) { this.tiles[e][i][t] = 1; }
                }
                _.blackSheepWall = !0;
              },
            },
            {
              key: 'setActiveVisibleTeam',
              value(t) {
                (this.activeVisibleTeam = t),
                this.dispatcher.dispatch('fogofwar/vision/change', t);
              },
            },
            {
              key: 'getMatrix',
              value() {
                return this.tiles;
              },
            },
            {
              key: 'getMatrixChunk',
              value(t) {
                return this.tiles
                  .map(e => e.filter((e, i) => i >= t.x && i < t.x + t.width))
                  .filter((e, i) => i >= t.y && i < t.y + t.height);
              },
            },
            {
              key: 'getMap',
              value() {
                return this.map;
              },
            },
            {
              key: 'getActiveVisibleTeam',
              value() {
                return this.activeVisibleTeam;
              },
            },
            {
              key: 'isDirty',
              value() {
                return this.dirty;
              },
            },
            {
              key: 'isRevealedDirty',
              value() {
                return this.revealedDirty;
              },
            },
          ]),
          t
        );
      }());
    e.default = T;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 }), (e.STYLE = void 0);
    let s =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      u = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = i(8),
      h = n(c),
      d = i(53),
      f = n(d),
      p = i(642),
      g = n(p),
      y = i(3),
      v = n(y),
      m = { alpha: 0, y: -200 },
      b = (e.STYLE = {
        spritesheet: 'mainmenu-elements',
        frames: { background: 'mainmenu_popup_type01.png' },
        style: {
          font: '16px BerlinSansFB-Reg',
          fill: '#FFFFFF',
          boundsAlignH: 'center',
          wordWrap: !0,
          align: 'center',
        },
        padding: 45,
      }),
      _ = window.fivenations,
      w = (function (t) {
        function e(t) {
          r(this, e);
          let i = u(Phaser.GAMES, 1),
            n = i[0],
            o = a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, n),
            );
          return (
            (o.config = t || {}),
            o.initOverlayComponent(t),
            o.initBasicComponents(t),
            o.initConfirmButton(t),
            o.initEventListener(),
            o.setCoordinates(t),
            o
          );
        }
        return (
          o(e, t),
          l(e, [
            {
              key: 'initOverlayComponent',
              value(t) {
                if (t.overlay) {
                  const e = new g.default(this.game);
                  (e.x = -e.width / 2),
                  (e.y = -e.height / 2),
                  (this.overlay = this.add(e));
                }
              },
            },
            {
              key: 'initBasicComponents',
              value(t) {
                let e = t.offsetX,
                  i = t.offsetY,
                  n = t.imageOnly,
                  r = t.spritesheet,
                  a = t.frameName,
                  o = t.text,
                  u = t.textOffsetX,
                  l = t.textOffsetY;
                (this.window = this.game.add.group()),
                this.add(this.window),
                n
                  ? (this.background = this.game.add.image(e || 0, i || 0, r))
                  : ((this.background = this.game.add.sprite(
                    e || 0,
                    i || 0,
                    r || b.spritesheet,
                  )),
                  (this.background.frameName = a || b.frames.background)),
                this.background.anchor.set(0.5),
                this.window.add(this.background),
                o &&
                    ((this.text = this.game.add.text(
                      u || 0,
                      l || 0,
                      o,
                      s({}, b.style, {
                        wordWrapWidth: this.background.width - b.padding,
                      }),
                    )),
                    this.text.anchor.set(0.5),
                    this.window.add(this.text));
              },
            },
            {
              key: 'initConfirmButton',
              value(t) {
                let e = this,
                  i = t.buttonLabel,
                  n = t.onClick,
                  r = t.buttonOffsetX,
                  a = t.buttonOffsetY;
                n &&
                  ((this.button = new f.default({
                    label: i,
                    onClick() {
                      n(), e.eventDispatcher.dispatch('dismiss');
                    },
                  })),
                  (this.button.x = r || 0),
                  (this.button.y =
                    this.background.height / 2 -
                    this.button.height / 2 -
                    b.padding +
                    (a || 0)),
                  this.window.add(this.button));
              },
            },
            {
              key: 'initEventListener',
              value() {
                this.eventDispatcher = new v.default.EventDispatcher();
              },
            },
            {
              key: 'setCoordinates',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = e || _.window.width / 2,
                  r = i || _.window.height / 2;
                (this.x = n),
                (this.y = r),
                (this.fixedToCamera = !0),
                this.cameraOffset.setTo(n, r);
              },
            },
            {
              key: 'update',
              value(t) {
                t && t.text && (this.text = t.text);
              },
            },
            {
              key: 'show',
              value() {
                const t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : m;
                (this.visible = !0),
                this.eventDispatcher.dispatch('show'),
                this.overlay &&
                    this.game.add
                      .tween(this.overlay)
                      .from(
                        { alpha: 0 },
                        200,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                      ),
                this.game.add
                  .tween(this.window)
                  .from(t, 200, Phaser.Easing.Exponential.InOut, !0),
                this.config.noAudio ||
                    h.default
                      .getInstance()
                      .playAudioSprite({ sprite: 'menu', marker: 'popup' });
              },
            },
            {
              key: 'hide',
              value() {
                let t = this,
                  e =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : m;
                this.eventDispatcher.dispatch('hide'),
                this.overlay &&
                    this.game.add
                      .tween(this.overlay)
                      .to(
                        { alpha: 0 },
                        200,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                      ),
                this.game.add
                  .tween(this.window)
                  .to(e, 200, Phaser.Easing.Exponential.InOut, !0)
                  .onComplete.add(() => {
                    t.overlay && (t.overlay.alpha = 1),
                    (t.window.alpha = 1),
                    (t.window.y = 0),
                    (t.visible = !1);
                  });
              },
            },
            {
              key: 'on',
              value(t, e) {
                this.eventDispatcher.addEventListener(t, e);
              },
            },
            {
              key: 'once',
              value(t, e) {
                if (typeof e === 'function') {
                  var i = function () {
                    e(), this.eventDispatcher.removeEventListener(t, i);
                  }.bind(this);
                  this.eventDispatcher.addEventListener(t, i);
                }
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = w;
  },
  function (t, e, i) {
    const n = i(35);
    t.exports = function (t, e) {
      if (typeof t !== 'number' && n(t) != 'Number') throw TypeError(e);
      return +t;
    };
  },
  function (t, e, i) {
    let n = i(20),
      r = i(62),
      a = i(17);
    t.exports =
      [].copyWithin ||
      function (t, e) {
        let i = n(this),
          o = a(i.length),
          s = r(t, o),
          u = r(e, o),
          l = arguments.length > 2 ? arguments[2] : void 0,
          c = Math.min((void 0 === l ? o : r(l, o)) - u, o - s),
          h = 1;
        for (
          u < s && s < u + c && ((h = -1), (u += c - 1), (s += c - 1));
          c-- > 0;

        ) { u in i ? (i[s] = i[u]) : delete i[s], (s += h), (u += h); }
        return i;
      };
  },
  function (t, e, i) {
    const n = i(55);
    t.exports = function (t, e) {
      const i = [];
      return n(t, !1, i.push, i, e), i;
    };
  },
  function (t, e, i) {
    let n = i(21),
      r = i(20),
      a = i(78),
      o = i(17);
    t.exports = function (t, e, i, s, u) {
      n(e);
      let l = r(t),
        c = a(l),
        h = o(l.length),
        d = u ? h - 1 : 0,
        f = u ? -1 : 1;
      if (i < 2) {
        for (;;) {
          if (d in c) {
            (s = c[d]), (d += f);
            break;
          }
          if (((d += f), u ? d < 0 : h <= d)) { throw TypeError('Reduce of empty array with no initial value'); }
        }
      }
      for (; u ? d >= 0 : h > d; d += f) d in c && (s = e(s, c[d], d, l));
      return s;
    };
  },
  function (t, e, i) {
    let n = i(21),
      r = i(13),
      a = i(154),
      o = [].slice,
      s = {},
      u = function (t, e, i) {
        if (!(e in s)) {
          for (var n = [], r = 0; r < e; r++) n[r] = `a[${r}]`;
          s[e] = Function('F,a', `return new F(${n.join(',')})`);
        }
        return s[e](t, i);
      };
    t.exports =
      Function.bind ||
      function (t) {
        let e = n(this),
          i = o.call(arguments, 1),
          s = function n() {
            const r = i.concat(o.call(arguments));
            return this instanceof n ? u(e, r.length, r) : a(e, r, t);
          };
        return r(e.prototype) && (s.prototype = e.prototype), s;
      };
  },
  function (t, e, i) {
    let n = i(19).f,
      r = i(56),
      a = i(60),
      o = i(37),
      s = i(54),
      u = i(55),
      l = i(118),
      c = i(157),
      h = i(61),
      d = i(18),
      f = i(52).fastKey,
      p = i(64),
      g = d ? '_s' : 'size',
      y = function (t, e) {
        let i,
          n = f(e);
        if (n !== 'F') return t._i[n];
        for (i = t._f; i; i = i.n) if (i.k == e) return i;
      };
    t.exports = {
      getConstructor(t, e, i, l) {
        var c = t((t, n) => {
          s(t, c, e, '_i'),
          (t._t = e),
          (t._i = r(null)),
          (t._f = void 0),
          (t._l = void 0),
          (t[g] = 0),
          void 0 != n && u(n, i, t[l], t);
        });
        return (
          a(c.prototype, {
            clear() {
              for (var t = p(this, e), i = t._i, n = t._f; n; n = n.n) { (n.r = !0), n.p && (n.p = n.p.n = void 0), delete i[n.i]; }
              (t._f = t._l = void 0), (t[g] = 0);
            },
            delete(t) {
              let i = p(this, e),
                n = y(i, t);
              if (n) {
                let r = n.n,
                  a = n.p;
                delete i._i[n.i],
                (n.r = !0),
                a && (a.n = r),
                r && (r.p = a),
                i._f == n && (i._f = r),
                i._l == n && (i._l = a),
                i[g]--;
              }
              return !!n;
            },
            forEach(t) {
              p(this, e);
              for (
                var i,
                  n = o(t, arguments.length > 1 ? arguments[1] : void 0, 3);
                (i = i ? i.n : this._f);

              ) { for (n(i.v, i.k, this); i && i.r;) i = i.p; }
            },
            has(t) {
              return !!y(p(this, e), t);
            },
          }),
          d &&
            n(c.prototype, 'size', {
              get() {
                return p(this, e)[g];
              },
            }),
          c
        );
      },
      def(t, e, i) {
        let n,
          r,
          a = y(t, e);
        return (
          a
            ? (a.v = i)
            : ((t._l = a = {
              i: (r = f(e, !0)),
              k: e,
              v: i,
              p: (n = t._l),
              n: void 0,
              r: !1,
            }),
            t._f || (t._f = a),
            n && (n.n = a),
            t[g]++,
            r !== 'F' && (t._i[r] = a)),
          t
        );
      },
      getEntry: y,
      setStrong(t, e, i) {
        l(
          t,
          e,
          function (t, i) {
            (this._t = p(t, e)), (this._k = i), (this._l = void 0);
          },
          function () {
            for (var t = this, e = t._k, i = t._l; i && i.r;) i = i.p;
            return t._t && (t._l = i = i ? i.n : t._t._f)
              ? e == 'keys'
                ? c(0, i.k)
                : e == 'values'
                  ? c(0, i.v)
                  : c(0, [i.k, i.v])
              : ((t._t = void 0), c(1));
          },
          i ? 'entries' : 'values',
          !i,
          !0,
        ),
        h(e);
      },
    };
  },
  function (t, e, i) {
    let n = i(67),
      r = i(146);
    t.exports = function (t) {
      return function () {
        if (n(this) != t) throw TypeError(`${t}#toJSON isn't generic`);
        return r(this);
      };
    };
  },
  function (t, e, i) {
    var n = i(60),
      r = i(52).getWeak,
      a = i(6),
      o = i(13),
      s = i(54),
      u = i(55),
      l = i(41),
      c = i(29),
      h = i(64),
      d = l(5),
      f = l(6),
      p = 0,
      g = function (t) {
        return t._l || (t._l = new y());
      },
      y = function () {
        this.a = [];
      },
      v = function (t, e) {
        return d(t.a, t => t[0] === e);
      };
    (y.prototype = {
      get(t) {
        const e = v(this, t);
        if (e) return e[1];
      },
      has(t) {
        return !!v(this, t);
      },
      set(t, e) {
        const i = v(this, t);
        i ? (i[1] = e) : this.a.push([t, e]);
      },
      delete(t) {
        const e = f(this.a, e => e[0] === t);
        return ~e && this.a.splice(e, 1), !!~e;
      },
    }),
    (t.exports = {
      getConstructor(t, e, i, a) {
        var l = t((t, n) => {
          s(t, l, e, '_i'),
          (t._t = e),
          (t._i = p++),
          (t._l = void 0),
          void 0 != n && u(n, i, t[a], t);
        });
        return (
          n(l.prototype, {
            delete(t) {
              if (!o(t)) return !1;
              const i = r(t);
              return !0 === i
                ? g(h(this, e)).delete(t)
                : i && c(i, this._i) && delete i[this._i];
            },
            has(t) {
              if (!o(t)) return !1;
              const i = r(t);
              return !0 === i ? g(h(this, e)).has(t) : i && c(i, this._i);
            },
          }),
          l
        );
      },
      def(t, e, i) {
        const n = r(a(e), !0);
        return !0 === n ? g(t).set(e, i) : (n[t._i] = i), t;
      },
      ufstore: g,
    });
  },
  function (t, e, i) {
    function n(t, e, i, l, c, h, d, f) {
      for (var p, g, y = c, v = 0, m = !!d && s(d, f, 3); v < l;) {
        if (v in i) {
          if (
            ((p = m ? m(i[v], v, e) : i[v]),
            (g = !1),
            a(p) && ((g = p[u]), (g = void 0 !== g ? !!g : r(p))),
            g && h > 0)
          ) { y = n(t, e, p, o(p.length), y, h - 1) - 1; } else {
            if (y >= 9007199254740991) throw TypeError();
            t[y] = p;
          }
          y++;
        }
        v++;
      }
      return y;
    }
    var r = i(92),
      a = i(13),
      o = i(17),
      s = i(37),
      u = i(16)('isConcatSpreadable');
    t.exports = n;
  },
  function (t, e, i) {
    t.exports =
      !i(18) &&
      !i(12)(() => (
        Object.defineProperty(i(111)('div'), 'a', {
          get() {
            return 7;
          },
        }).a !=
          7
      ));
  },
  function (t, e, i) {
    t.exports = function (t, e, i) {
      const n = void 0 === i;
      switch (e.length) {
        case 0:
          return n ? t() : t.call(i);
        case 1:
          return n ? t(e[0]) : t.call(i, e[0]);
        case 2:
          return n ? t(e[0], e[1]) : t.call(i, e[0], e[1]);
        case 3:
          return n ? t(e[0], e[1], e[2]) : t.call(i, e[0], e[1], e[2]);
        case 4:
          return n
            ? t(e[0], e[1], e[2], e[3])
            : t.call(i, e[0], e[1], e[2], e[3]);
      }
      return t.apply(i, e);
    };
  },
  function (t, e, i) {
    let n = i(13),
      r = Math.floor;
    t.exports = function (t) {
      return !n(t) && isFinite(t) && r(t) === t;
    };
  },
  function (t, e, i) {
    const n = i(6);
    t.exports = function (t, e, i, r) {
      try {
        return r ? e(n(i)[0], i[1]) : e(i);
      } catch (e) {
        const a = t.return;
        throw (void 0 !== a && n(a.call(t)), e);
      }
    };
  },
  function (t, e, i) {
    t.exports = function (t, e) {
      return { value: e, done: !!t };
    };
  },
  function (t, e, i) {
    let n = i(120),
      r = Math.pow,
      a = r(2, -52),
      o = r(2, -23),
      s = r(2, 127) * (2 - o),
      u = r(2, -126),
      l = function (t) {
        return t + 1 / a - 1 / a;
      };
    t.exports =
      Math.fround ||
      function (t) {
        let e,
          i,
          r = Math.abs(t),
          c = n(t);
        return r < u
          ? c * l(r / u / o) * u * o
          : ((e = (1 + o / a) * r),
          (i = e - (e - r)),
          i > s || i != i ? c * (1 / 0) : c * i);
      };
  },
  function (t, e, i) {
    t.exports =
      Math.log1p ||
      function (t) {
        return (t = +t) > -1e-8 && t < 1e-8 ? t - (t * t) / 2 : Math.log(1 + t);
      };
  },
  function (t, e, i) {
    t.exports =
      Math.scale ||
      function (t, e, i, n, r) {
        return arguments.length === 0 ||
          t != t ||
          e != e ||
          i != i ||
          n != n ||
          r != r
          ? NaN
          : t === 1 / 0 || t === -1 / 0
            ? t
            : ((t - e) * (r - n)) / (i - e) + n;
      };
  },
  function (t, e, i) {
    let n = i(18),
      r = i(58),
      a = i(96),
      o = i(79),
      s = i(20),
      u = i(78),
      l = Object.assign;
    t.exports =
      !l ||
      i(12)(() => {
        let t = {},
          e = {},
          i = Symbol(),
          n = 'abcdefghijklmnopqrst';
        return (
          (t[i] = 7),
          n.split('').forEach((t) => {
            e[t] = t;
          }),
          l({}, t)[i] != 7 || Object.keys(l({}, e)).join('') != n
        );
      })
        ? function (t, e) {
          for (
            var i = s(t), l = arguments.length, c = 1, h = a.f, d = o.f;
            l > c;

          ) {
            for (
              var f,
                p = u(arguments[c++]),
                g = h ? r(p).concat(h(p)) : r(p),
                y = g.length,
                v = 0;
              y > v;

            ) { (f = g[v++]), (n && !d.call(p, f)) || (i[f] = p[f]); }
          }
          return i;
        }
        : l;
  },
  function (t, e, i) {
    let n = i(19),
      r = i(6),
      a = i(58);
    t.exports = i(18)
      ? Object.defineProperties
      : function (t, e) {
        r(t);
        for (var i, o = a(e), s = o.length, u = 0; s > u;) { n.f(t, (i = o[u++]), e[i]); }
        return t;
      };
  },
  function (t, e, i) {
    let n =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          },
      r = i(32),
      a = i(57).f,
      o = {}.toString,
      s =
        (typeof window === 'undefined' ? 'undefined' : n(window)) == 'object' &&
        window &&
        Object.getOwnPropertyNames
          ? Object.getOwnPropertyNames(window)
          : [],
      u = function (t) {
        try {
          return a(t);
        } catch (t) {
          return s.slice();
        }
      };
    t.exports.f = function (t) {
      return s && o.call(t) == '[object Window]' ? u(t) : a(r(t));
    };
  },
  function (t, e, i) {
    let n = i(29),
      r = i(32),
      a = i(89)(!1),
      o = i(125)('IE_PROTO');
    t.exports = function (t, e) {
      let i,
        s = r(t),
        u = 0,
        l = [];
      for (i in s) i != o && n(s, i) && l.push(i);
      for (; e.length > u;) n(s, (i = e[u++])) && (~a(l, i) || l.push(i));
      return l;
    };
  },
  function (t, e, i) {
    let n = i(18),
      r = i(58),
      a = i(32),
      o = i(79).f;
    t.exports = function (t) {
      return function (e) {
        for (var i, s = a(e), u = r(s), l = u.length, c = 0, h = []; l > c;) { (i = u[c++]), (n && !o.call(s, i)) || h.push(t ? [i, s[i]] : s[i]); }
        return h;
      };
    };
  },
  function (t, e, i) {
    let n = i(57),
      r = i(96),
      a = i(6),
      o = i(9).Reflect;
    t.exports =
      (o && o.ownKeys) ||
      function (t) {
        let e = n.f(a(t)),
          i = r.f;
        return i ? e.concat(i(t)) : e;
      };
  },
  function (t, e, i) {
    let n = i(9).parseFloat,
      r = i(70).trim;
    t.exports =
      1 / n(`${i(128)}-0`) != -1 / 0
        ? function (t) {
          let e = r(String(t), 3),
            i = n(e);
          return i === 0 && e.charAt(0) == '-' ? -0 : i;
        }
        : n;
  },
  function (t, e, i) {
    let n = i(9).parseInt,
      r = i(70).trim,
      a = i(128),
      o = /^[-+]?0[xX]/;
    t.exports =
      n(`${a}08`) !== 8 || n(`${a}0x16`) !== 22
        ? function (t, e) {
          const i = r(String(t), 3);
          return n(i, e >>> 0 || (o.test(i) ? 16 : 10));
        }
        : n;
  },
  function (t, e, i) {
    t.exports = function (t) {
      try {
        return { e: !1, v: t() };
      } catch (t) {
        return { e: !0, v: t };
      }
    };
  },
  function (t, e, i) {
    let n = i(6),
      r = i(13),
      a = i(122);
    t.exports = function (t, e) {
      if ((n(t), r(e) && e.constructor === t)) return e;
      const i = a.f(t);
      return (0, i.resolve)(e), i.promise;
    };
  },
  function (t, e, i) {
    t.exports =
      Object.is ||
      function (t, e) {
        return t === e ? t !== 0 || 1 / t == 1 / e : t != t && e != e;
      };
  },
  function (t, e, i) {
    let n = i(17),
      r = i(127),
      a = i(42);
    t.exports = function (t, e, i, o) {
      let s = String(a(t)),
        u = s.length,
        l = void 0 === i ? ' ' : String(i),
        c = n(e);
      if (c <= u || l == '') return s;
      let h = c - u,
        d = r.call(l, Math.ceil(h / l.length));
      return d.length > h && (d = d.slice(0, h)), o ? d + s : s + d;
    };
  },
  function (t, e, i) {
    let n = i(39),
      r = i(17);
    t.exports = function (t) {
      if (void 0 === t) return 0;
      let e = n(t),
        i = r(e);
      if (e !== i) throw RangeError('Wrong length!');
      return i;
    };
  },
  function (t, e, i) {
    e.f = i(16);
  },
  function (t, e, i) {
    let n = i(149),
      r = i(64);
    t.exports = i(90)(
      'Map',
      t => function () {
        return t(this, arguments.length > 0 ? arguments[0] : void 0);
      },
      {
        get(t) {
          const e = n.getEntry(r(this, 'Map'), t);
          return e && e.v;
        },
        set(t, e) {
          return n.def(r(this, 'Map'), t === 0 ? 0 : t, e);
        },
      },
      n,
      !0,
    );
  },
  function (t, e, i) {
    const n = i(123);
    i(0)({ target: 'RegExp', proto: !0, forced: n !== /./.exec }, { exec: n });
  },
  function (t, e, i) {
    i(18) &&
      /./g.flags != 'g' &&
      i(19).f(RegExp.prototype, 'flags', { configurable: !0, get: i(77) });
  },
  function (t, e, i) {
    let n = i(149),
      r = i(64);
    t.exports = i(90)(
      'Set',
      t => function () {
        return t(this, arguments.length > 0 ? arguments[0] : void 0);
      },
      {
        add(t) {
          return n.def(r(this, 'Set'), (t = t === 0 ? 0 : t), t);
        },
      },
      n,
    );
  },
  function (t, e, i) {
    let n,
      r = i(9),
      a = i(41)(0),
      o = i(26),
      s = i(52),
      u = i(161),
      l = i(151),
      c = i(13),
      h = i(64),
      d = i(64),
      f = !r.ActiveXObject && 'ActiveXObject' in r,
      p = s.getWeak,
      g = Object.isExtensible,
      y = l.ufstore,
      v = function (t) {
        return function () {
          return t(this, arguments.length > 0 ? arguments[0] : void 0);
        };
      },
      m = {
        get(t) {
          if (c(t)) {
            const e = p(t);
            return !0 === e
              ? y(h(this, 'WeakMap')).get(t)
              : e
                ? e[this._i]
                : void 0;
          }
        },
        set(t, e) {
          return l.def(h(this, 'WeakMap'), t, e);
        },
      },
      b = (t.exports = i(90)('WeakMap', v, m, l, !0, !0));
    d &&
      f &&
      ((n = l.getConstructor(v, 'WeakMap')),
      u(n.prototype, m),
      (s.NEED = !0),
      a(['delete', 'has', 'get', 'set'], (t) => {
        let e = b.prototype,
          i = e[t];
        o(e, t, function (e, r) {
          if (c(e) && !g(e)) {
            this._f || (this._f = new n());
            const a = this._f[t](e, r);
            return t == 'set' ? this : a;
          }
          return i.call(this, e, r);
        });
      }));
  },
  function (t, e, i) {
    (function (t) {
      let n,
        r,
        a =
          typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
            ? function (t) {
              return typeof t;
            }
            : function (t) {
              return t &&
                  typeof Symbol === 'function' &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                ? 'symbol'
                : typeof t;
            };
      !(function (o, s) {
        a(e) === 'object' && void 0 !== t
          ? (t.exports = s())
          : ((n = s),
          void 0 !== (r = typeof n === 'function' ? n.call(e, i, e, t) : n) &&
              (t.exports = r));
      }(0, () => {
        function e() {
          return An(...arguments);
        }
        function i(t) {
          return (
            t instanceof Array ||
            Object.prototype.toString.call(t) === '[object Array]'
          );
        }
        function n(t) {
          return (
            t != null && Object.prototype.toString.call(t) === '[object Object]'
          );
        }
        function r(t) {
          if (Object.getOwnPropertyNames) { return Object.getOwnPropertyNames(t).length === 0; }
          let e;
          for (e in t) if (t.hasOwnProperty(e)) return !1;
          return !0;
        }
        function o(t) {
          return void 0 === t;
        }
        function s(t) {
          return (
            typeof t === 'number' ||
            Object.prototype.toString.call(t) === '[object Number]'
          );
        }
        function u(t) {
          return (
            t instanceof Date ||
            Object.prototype.toString.call(t) === '[object Date]'
          );
        }
        function l(t, e) {
          let i,
            n = [];
          for (i = 0; i < t.length; ++i) n.push(e(t[i], i));
          return n;
        }
        function c(t, e) {
          return Object.prototype.hasOwnProperty.call(t, e);
        }
        function h(t, e) {
          for (const i in e) c(e, i) && (t[i] = e[i]);
          return (
            c(e, 'toString') && (t.toString = e.toString),
            c(e, 'valueOf') && (t.valueOf = e.valueOf),
            t
          );
        }
        function d(t, e, i, n) {
          return Oe(t, e, i, n, !0).utc();
        }
        function f() {
          return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1,
            parsedDateParts: [],
            meridiem: null,
            rfc2822: !1,
            weekdayMismatch: !1,
          };
        }
        function p(t) {
          return t._pf == null && (t._pf = f()), t._pf;
        }
        function g(t) {
          if (t._isValid == null) {
            let e = p(t),
              i = Rn.call(e.parsedDateParts, t => t != null),
              n =
                !isNaN(t._d.getTime()) &&
                e.overflow < 0 &&
                !e.empty &&
                !e.invalidMonth &&
                !e.invalidWeekday &&
                !e.weekdayMismatch &&
                !e.nullInput &&
                !e.invalidFormat &&
                !e.userInvalidated &&
                (!e.meridiem || (e.meridiem && i));
            if (
              (t._strict &&
                (n =
                  n &&
                  e.charsLeftOver === 0 &&
                  e.unusedTokens.length === 0 &&
                  void 0 === e.bigHour),
              Object.isFrozen != null && Object.isFrozen(t))
            ) { return n; }
            t._isValid = n;
          }
          return t._isValid;
        }
        function y(t) {
          const e = d(NaN);
          return t != null ? h(p(e), t) : (p(e).userInvalidated = !0), e;
        }
        function v(t, e) {
          let i,
            n,
            r;
          if (
            (o(e._isAMomentObject) || (t._isAMomentObject = e._isAMomentObject),
            o(e._i) || (t._i = e._i),
            o(e._f) || (t._f = e._f),
            o(e._l) || (t._l = e._l),
            o(e._strict) || (t._strict = e._strict),
            o(e._tzm) || (t._tzm = e._tzm),
            o(e._isUTC) || (t._isUTC = e._isUTC),
            o(e._offset) || (t._offset = e._offset),
            o(e._pf) || (t._pf = p(e)),
            o(e._locale) || (t._locale = e._locale),
            Ln.length > 0)
          ) {
            for (i = 0; i < Ln.length; i++) { (n = Ln[i]), (r = e[n]), o(r) || (t[n] = r); }
          }
          return t;
        }
        function m(t) {
          v(this, t),
          (this._d = new Date(t._d != null ? t._d.getTime() : NaN)),
          this.isValid() || (this._d = new Date(NaN)),
          !1 === Dn && ((Dn = !0), e.updateOffset(this), (Dn = !1));
        }
        function b(t) {
          return t instanceof m || (t != null && t._isAMomentObject != null);
        }
        function _(t) {
          return t < 0 ? Math.ceil(t) || 0 : Math.floor(t);
        }
        function w(t) {
          let e = +t,
            i = 0;
          return e !== 0 && isFinite(e) && (i = _(e)), i;
        }
        function x(t, e, i) {
          let n,
            r = Math.min(t.length, e.length),
            a = Math.abs(t.length - e.length),
            o = 0;
          for (n = 0; n < r; n++) { ((i && t[n] !== e[n]) || (!i && w(t[n]) !== w(e[n]))) && o++; }
          return o + a;
        }
        function P(t) {
          !1 === e.suppressDeprecationWarnings &&
            typeof console !== 'undefined' &&
            console.warn &&
            console.warn(`Deprecation warning: ${t}`);
        }
        function k(t, i) {
          let n = !0;
          return h(function () {
            if (
              (e.deprecationHandler != null && e.deprecationHandler(null, t), n)
            ) {
              for (var r, o = [], s = 0; s < arguments.length; s++) {
                if (((r = ''), a(arguments[s]) === 'object')) {
                  r += `\n[${s}] `;
                  for (const u in arguments[0]) { r += `${u}: ${arguments[0][u]}, `; }
                  r = r.slice(0, -2);
                } else r = arguments[s];
                o.push(r);
              }
              P(`${t
              }\nArguments: ${
                Array.prototype.slice.call(o).join('')
              }\n${
                new Error().stack}`),
              (n = !1);
            }
            return i.apply(this, arguments);
          }, i);
        }
        function T(t, i) {
          e.deprecationHandler != null && e.deprecationHandler(t, i),
          Bn[t] || (P(i), (Bn[t] = !0));
        }
        function O(t) {
          return (
            t instanceof Function ||
            Object.prototype.toString.call(t) === '[object Function]'
          );
        }
        function E(t) {
          let e,
            i;
          for (i in t) (e = t[i]), O(e) ? (this[i] = e) : (this[`_${i}`] = e);
          (this._config = t),
          (this._dayOfMonthOrdinalParseLenient = new RegExp(`${this._dayOfMonthOrdinalParse.source ||
                this._ordinalParse.source
          }|${
            /\d{1,2}/.source}`));
        }
        function S(t, e) {
          let i,
            r = h({}, t);
          for (i in e) {
            c(e, i) &&
              (n(t[i]) && n(e[i])
                ? ((r[i] = {}), h(r[i], t[i]), h(r[i], e[i]))
                : e[i] != null
                  ? (r[i] = e[i])
                  : delete r[i]);
          }
          for (i in t) c(t, i) && !c(e, i) && n(t[i]) && (r[i] = h({}, r[i]));
          return r;
        }
        function C(t) {
          t != null && this.set(t);
        }
        function I(t, e, i) {
          const n = this._calendar[t] || this._calendar.sameElse;
          return O(n) ? n.call(e, i) : n;
        }
        function M(t) {
          let e = this._longDateFormat[t],
            i = this._longDateFormat[t.toUpperCase()];
          return e || !i
            ? e
            : ((this._longDateFormat[t] = i.replace(
              /MMMM|MM|DD|dddd/g,
              t => t.slice(1),
            )),
            this._longDateFormat[t]);
        }
        function A() {
          return this._invalidDate;
        }
        function R(t) {
          return this._ordinal.replace('%d', t);
        }
        function L(t, e, i, n) {
          const r = this._relativeTime[i];
          return O(r) ? r(t, e, i, n) : r.replace(/%d/i, t);
        }
        function D(t, e) {
          const i = this._relativeTime[t > 0 ? 'future' : 'past'];
          return O(i) ? i(e) : i.replace(/%s/i, e);
        }
        function B(t, e) {
          const i = t.toLowerCase();
          Wn[i] = Wn[`${i}s`] = Wn[e] = t;
        }
        function j(t) {
          return typeof t === 'string' ? Wn[t] || Wn[t.toLowerCase()] : void 0;
        }
        function F(t) {
          let e,
            i,
            n = {};
          for (i in t) c(t, i) && (e = j(i)) && (n[e] = t[i]);
          return n;
        }
        function U(t, e) {
          Hn[t] = e;
        }
        function G(t) {
          const e = [];
          for (const i in t) e.push({ unit: i, priority: Hn[i] });
          return (
            e.sort((t, e) => t.priority - e.priority),
            e
          );
        }
        function N(t, e, i) {
          let n = `${Math.abs(t)}`,
            r = e - n.length;
          return (
            (t >= 0 ? (i ? '+' : '') : '-') +
            Math.pow(10, Math.max(0, r))
              .toString()
              .substr(1) +
            n
          );
        }
        function W(t, e, i, n) {
          let r = n;
          typeof n === 'string' &&
            (r = function () {
              return this[n]();
            }),
          t && (Yn[t] = r),
          e &&
              (Yn[e[0]] = function () {
                return N(r.apply(this, arguments), e[1], e[2]);
              }),
          i &&
              (Yn[i] = function () {
                return this.localeData().ordinal(r.apply(this, arguments), t);
              });
        }
        function H(t) {
          return t.match(/\[[\s\S]/)
            ? t.replace(/^\[|\]$/g, '')
            : t.replace(/\\/g, '');
        }
        function X(t) {
          let e,
            i,
            n = t.match(Xn);
          for (e = 0, i = n.length; e < i; e++) { Yn[n[e]] ? (n[e] = Yn[n[e]]) : (n[e] = H(n[e])); }
          return function (e) {
            let r,
              a = '';
            for (r = 0; r < i; r++) a += O(n[r]) ? n[r].call(e, t) : n[r];
            return a;
          };
        }
        function V(t, e) {
          return t.isValid()
            ? ((e = z(e, t.localeData())), (zn[e] = zn[e] || X(e)), zn[e](t))
            : t.localeData().invalidDate();
        }
        function z(t, e) {
          function i(t) {
            return e.longDateFormat(t) || t;
          }
          let n = 5;
          for (Vn.lastIndex = 0; n >= 0 && Vn.test(t);) { (t = t.replace(Vn, i)), (Vn.lastIndex = 0), (n -= 1); }
          return t;
        }
        function Y(t, e, i) {
          hr[t] = O(e)
            ? e
            : function (t, n) {
              return t && i ? i : e;
            };
        }
        function q(t, e) {
          return c(hr, t) ? hr[t](e._strict, e._locale) : new RegExp(K(t));
        }
        function K(t) {
          return Q(t
            .replace('\\', '')
            .replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, (
              t,
              e,
              i,
              n,
              r,
            ) => e || i || n || r));
        }
        function Q(t) {
          return t.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
        }
        function J(t, e) {
          let i,
            n = e;
          for (
            typeof t === 'string' && (t = [t]),
            s(e) &&
                (n = function (t, i) {
                  i[e] = w(t);
                }),
            i = 0;
            i < t.length;
            i++
          ) { dr[t[i]] = n; }
        }
        function Z(t, e) {
          J(t, (t, i, n, r) => {
            (n._w = n._w || {}), e(t, n._w, n, r);
          });
        }
        function $(t, e, i) {
          e != null && c(dr, t) && dr[t](e, i._a, i, t);
        }
        function tt(t) {
          return et(t) ? 366 : 365;
        }
        function et(t) {
          return (t % 4 == 0 && t % 100 != 0) || t % 400 == 0;
        }
        function it() {
          return et(this.year());
        }
        function nt(t, i) {
          return function (n) {
            return n != null
              ? (at(this, t, n), e.updateOffset(this, i), this)
              : rt(this, t);
          };
        }
        function rt(t, e) {
          return t.isValid()
            ? t._d[`get${t._isUTC ? 'UTC' : ''}${e}`]()
            : NaN;
        }
        function at(t, e, i) {
          t.isValid() &&
            !isNaN(i) &&
            (e === 'FullYear' &&
            et(t.year()) &&
            t.month() === 1 &&
            t.date() === 29
              ? t._d[`set${t._isUTC ? 'UTC' : ''}${e}`](
                i,
                t.month(),
                lt(i, t.month()),
              )
              : t._d[`set${t._isUTC ? 'UTC' : ''}${e}`](i));
        }
        function ot(t) {
          return (t = j(t)), O(this[t]) ? this[t]() : this;
        }
        function st(t, e) {
          if ((void 0 === t ? 'undefined' : a(t)) === 'object') {
            t = F(t);
            for (let i = G(t), n = 0; n < i.length; n++) { this[i[n].unit](t[i[n].unit]); }
          } else if (((t = j(t)), O(this[t]))) return this[t](e);
          return this;
        }
        function ut(t, e) {
          return ((t % e) + e) % e;
        }
        function lt(t, e) {
          if (isNaN(t) || isNaN(e)) return NaN;
          const i = ut(e, 12);
          return (
            (t += (e - i) / 12),
            i === 1 ? (et(t) ? 29 : 28) : 31 - ((i % 7) % 2)
          );
        }
        function ct(t, e) {
          return t
            ? i(this._months)
              ? this._months[t.month()]
              : this._months[
                (this._months.isFormat || kr).test(e)
                  ? 'format'
                  : 'standalone'
              ][t.month()]
            : i(this._months)
              ? this._months
              : this._months.standalone;
        }
        function ht(t, e) {
          return t
            ? i(this._monthsShort)
              ? this._monthsShort[t.month()]
              : this._monthsShort[kr.test(e) ? 'format' : 'standalone'][
                t.month()
              ]
            : i(this._monthsShort)
              ? this._monthsShort
              : this._monthsShort.standalone;
        }
        function dt(t, e, i) {
          let n,
            r,
            a,
            o = t.toLocaleLowerCase();
          if (!this._monthsParse) {
            for (
              this._monthsParse = [],
              this._longMonthsParse = [],
              this._shortMonthsParse = [],
              n = 0;
              n < 12;
              ++n
            ) {
              (a = d([2e3, n])),
              (this._shortMonthsParse[n] = this.monthsShort(
                a,
                '',
              ).toLocaleLowerCase()),
              (this._longMonthsParse[n] = this.months(
                a,
                '',
              ).toLocaleLowerCase());
            }
          }
          return i
            ? e === 'MMM'
              ? ((r = xr.call(this._shortMonthsParse, o)), r !== -1 ? r : null)
              : ((r = xr.call(this._longMonthsParse, o)), r !== -1 ? r : null)
            : e === 'MMM'
              ? (r = xr.call(this._shortMonthsParse, o)) !== -1
                ? r
                : ((r = xr.call(this._longMonthsParse, o)), r !== -1 ? r : null)
              : (r = xr.call(this._longMonthsParse, o)) !== -1
                ? r
                : ((r = xr.call(this._shortMonthsParse, o)), r !== -1 ? r : null);
        }
        function ft(t, e, i) {
          let n,
            r,
            a;
          if (this._monthsParseExact) return dt.call(this, t, e, i);
          for (
            this._monthsParse ||
              ((this._monthsParse = []),
              (this._longMonthsParse = []),
              (this._shortMonthsParse = [])),
            n = 0;
            n < 12;
            n++
          ) {
            if (
              ((r = d([2e3, n])),
              i &&
                !this._longMonthsParse[n] &&
                ((this._longMonthsParse[n] = new RegExp(
                  `^${this.months(r, '').replace('.', '')}$`,
                  'i',
                )),
                (this._shortMonthsParse[n] = new RegExp(
                  `^${this.monthsShort(r, '').replace('.', '')}$`,
                  'i',
                ))),
              i ||
                this._monthsParse[n] ||
                ((a =
                  `^${this.months(r, '')}|^${this.monthsShort(r, '')}`),
                (this._monthsParse[n] = new RegExp(a.replace('.', ''), 'i'))),
              i && e === 'MMMM' && this._longMonthsParse[n].test(t))
            ) { return n; }
            if (i && e === 'MMM' && this._shortMonthsParse[n].test(t)) return n;
            if (!i && this._monthsParse[n].test(t)) return n;
          }
        }
        function pt(t, e) {
          let i;
          if (!t.isValid()) return t;
          if (typeof e === 'string') {
            if (/^\d+$/.test(e)) e = w(e);
            else if (((e = t.localeData().monthsParse(e)), !s(e))) return t;
          }
          return (
            (i = Math.min(t.date(), lt(t.year(), e))),
            t._d[`set${t._isUTC ? 'UTC' : ''}Month`](e, i),
            t
          );
        }
        function gt(t) {
          return t != null
            ? (pt(this, t), e.updateOffset(this, !0), this)
            : rt(this, 'Month');
        }
        function yt() {
          return lt(this.year(), this.month());
        }
        function vt(t) {
          return this._monthsParseExact
            ? (c(this, '_monthsRegex') || bt.call(this),
            t ? this._monthsShortStrictRegex : this._monthsShortRegex)
            : (c(this, '_monthsShortRegex') || (this._monthsShortRegex = Er),
            this._monthsShortStrictRegex && t
              ? this._monthsShortStrictRegex
              : this._monthsShortRegex);
        }
        function mt(t) {
          return this._monthsParseExact
            ? (c(this, '_monthsRegex') || bt.call(this),
            t ? this._monthsStrictRegex : this._monthsRegex)
            : (c(this, '_monthsRegex') || (this._monthsRegex = Sr),
            this._monthsStrictRegex && t
              ? this._monthsStrictRegex
              : this._monthsRegex);
        }
        function bt() {
          function t(t, e) {
            return e.length - t.length;
          }
          let e,
            i,
            n = [],
            r = [],
            a = [];
          for (e = 0; e < 12; e++) {
            (i = d([2e3, e])),
            n.push(this.monthsShort(i, '')),
            r.push(this.months(i, '')),
            a.push(this.months(i, '')),
            a.push(this.monthsShort(i, ''));
          }
          for (n.sort(t), r.sort(t), a.sort(t), e = 0; e < 12; e++) { (n[e] = Q(n[e])), (r[e] = Q(r[e])); }
          for (e = 0; e < 24; e++) a[e] = Q(a[e]);
          (this._monthsRegex = new RegExp(`^(${a.join('|')})`, 'i')),
          (this._monthsShortRegex = this._monthsRegex),
          (this._monthsStrictRegex = new RegExp(
            `^(${r.join('|')})`,
            'i',
          )),
          (this._monthsShortStrictRegex = new RegExp(
            `^(${n.join('|')})`,
            'i',
          ));
        }
        function _t(t, e, i, n, r, a, o) {
          let s;
          return (
            t < 100 && t >= 0
              ? ((s = new Date(t + 400, e, i, n, r, a, o)),
              isFinite(s.getFullYear()) && s.setFullYear(t))
              : (s = new Date(t, e, i, n, r, a, o)),
            s
          );
        }
        function wt(t) {
          let e;
          if (t < 100 && t >= 0) {
            const i = Array.prototype.slice.call(arguments);
            (i[0] = t + 400),
            (e = new Date(Date.UTC.apply(null, i))),
            isFinite(e.getUTCFullYear()) && e.setUTCFullYear(t);
          } else e = new Date(Date.UTC.apply(null, arguments));
          return e;
        }
        function xt(t, e, i) {
          const n = 7 + e - i;
          return (-(7 + wt(t, 0, n).getUTCDay() - e) % 7) + n - 1;
        }
        function Pt(t, e, i, n, r) {
          let a,
            o,
            s = (7 + i - n) % 7,
            u = xt(t, n, r),
            l = 1 + 7 * (e - 1) + s + u;
          return (
            l <= 0
              ? ((a = t - 1), (o = tt(a) + l))
              : l > tt(t)
                ? ((a = t + 1), (o = l - tt(t)))
                : ((a = t), (o = l)),
            { year: a, dayOfYear: o }
          );
        }
        function kt(t, e, i) {
          let n,
            r,
            a = xt(t.year(), e, i),
            o = Math.floor((t.dayOfYear() - a - 1) / 7) + 1;
          return (
            o < 1
              ? ((r = t.year() - 1), (n = o + Tt(r, e, i)))
              : o > Tt(t.year(), e, i)
                ? ((n = o - Tt(t.year(), e, i)), (r = t.year() + 1))
                : ((r = t.year()), (n = o)),
            { week: n, year: r }
          );
        }
        function Tt(t, e, i) {
          let n = xt(t, e, i),
            r = xt(t + 1, e, i);
          return (tt(t) - n + r) / 7;
        }
        function Ot(t) {
          return kt(t, this._week.dow, this._week.doy).week;
        }
        function Et() {
          return this._week.dow;
        }
        function St() {
          return this._week.doy;
        }
        function Ct(t) {
          const e = this.localeData().week(this);
          return t == null ? e : this.add(7 * (t - e), 'd');
        }
        function It(t) {
          const e = kt(this, 1, 4).week;
          return t == null ? e : this.add(7 * (t - e), 'd');
        }
        function Mt(t, e) {
          return typeof t !== 'string'
            ? t
            : isNaN(t)
              ? ((t = e.weekdaysParse(t)), typeof t === 'number' ? t : null)
              : parseInt(t, 10);
        }
        function At(t, e) {
          return typeof t === 'string'
            ? e.weekdaysParse(t) % 7 || 7
            : isNaN(t)
              ? null
              : t;
        }
        function Rt(t, e) {
          return t.slice(e, 7).concat(t.slice(0, e));
        }
        function Lt(t, e) {
          const n = i(this._weekdays)
            ? this._weekdays
            : this._weekdays[
              t && !0 !== t && this._weekdays.isFormat.test(e)
                ? 'format'
                : 'standalone'
            ];
          return !0 === t ? Rt(n, this._week.dow) : t ? n[t.day()] : n;
        }
        function Dt(t) {
          return !0 === t
            ? Rt(this._weekdaysShort, this._week.dow)
            : t
              ? this._weekdaysShort[t.day()]
              : this._weekdaysShort;
        }
        function Bt(t) {
          return !0 === t
            ? Rt(this._weekdaysMin, this._week.dow)
            : t
              ? this._weekdaysMin[t.day()]
              : this._weekdaysMin;
        }
        function jt(t, e, i) {
          let n,
            r,
            a,
            o = t.toLocaleLowerCase();
          if (!this._weekdaysParse) {
            for (
              this._weekdaysParse = [],
              this._shortWeekdaysParse = [],
              this._minWeekdaysParse = [],
              n = 0;
              n < 7;
              ++n
            ) {
              (a = d([2e3, 1]).day(n)),
              (this._minWeekdaysParse[n] = this.weekdaysMin(
                a,
                '',
              ).toLocaleLowerCase()),
              (this._shortWeekdaysParse[n] = this.weekdaysShort(
                a,
                '',
              ).toLocaleLowerCase()),
              (this._weekdaysParse[n] = this.weekdays(
                a,
                '',
              ).toLocaleLowerCase());
            }
          }
          return i
            ? e === 'dddd'
              ? ((r = xr.call(this._weekdaysParse, o)), r !== -1 ? r : null)
              : e === 'ddd'
                ? ((r = xr.call(this._shortWeekdaysParse, o)),
                r !== -1 ? r : null)
                : ((r = xr.call(this._minWeekdaysParse, o)), r !== -1 ? r : null)
            : e === 'dddd'
              ? (r = xr.call(this._weekdaysParse, o)) !== -1
                ? r
                : (r = xr.call(this._shortWeekdaysParse, o)) !== -1
                  ? r
                  : ((r = xr.call(this._minWeekdaysParse, o)), r !== -1 ? r : null)
              : e === 'ddd'
                ? (r = xr.call(this._shortWeekdaysParse, o)) !== -1
                  ? r
                  : (r = xr.call(this._weekdaysParse, o)) !== -1
                    ? r
                    : ((r = xr.call(this._minWeekdaysParse, o)), r !== -1 ? r : null)
                : (r = xr.call(this._minWeekdaysParse, o)) !== -1
                  ? r
                  : (r = xr.call(this._weekdaysParse, o)) !== -1
                    ? r
                    : ((r = xr.call(this._shortWeekdaysParse, o)), r !== -1 ? r : null);
        }
        function Ft(t, e, i) {
          let n,
            r,
            a;
          if (this._weekdaysParseExact) return jt.call(this, t, e, i);
          for (
            this._weekdaysParse ||
              ((this._weekdaysParse = []),
              (this._minWeekdaysParse = []),
              (this._shortWeekdaysParse = []),
              (this._fullWeekdaysParse = [])),
            n = 0;
            n < 7;
            n++
          ) {
            if (
              ((r = d([2e3, 1]).day(n)),
              i &&
                !this._fullWeekdaysParse[n] &&
                ((this._fullWeekdaysParse[n] = new RegExp(
                  `^${this.weekdays(r, '').replace('.', '\\.?')}$`,
                  'i',
                )),
                (this._shortWeekdaysParse[n] = new RegExp(
                  `^${this.weekdaysShort(r, '').replace('.', '\\.?')}$`,
                  'i',
                )),
                (this._minWeekdaysParse[n] = new RegExp(
                  `^${this.weekdaysMin(r, '').replace('.', '\\.?')}$`,
                  'i',
                ))),
              this._weekdaysParse[n] ||
                ((a =
                  `^${
                    this.weekdays(r, '')
                  }|^${
                    this.weekdaysShort(r, '')
                  }|^${
                    this.weekdaysMin(r, '')}`),
                (this._weekdaysParse[n] = new RegExp(a.replace('.', ''), 'i'))),
              i && e === 'dddd' && this._fullWeekdaysParse[n].test(t))
            ) { return n; }
            if (i && e === 'ddd' && this._shortWeekdaysParse[n].test(t)) { return n; }
            if (i && e === 'dd' && this._minWeekdaysParse[n].test(t)) return n;
            if (!i && this._weekdaysParse[n].test(t)) return n;
          }
        }
        function Ut(t) {
          if (!this.isValid()) return t != null ? this : NaN;
          const e = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
          return t != null
            ? ((t = Mt(t, this.localeData())), this.add(t - e, 'd'))
            : e;
        }
        function Gt(t) {
          if (!this.isValid()) return t != null ? this : NaN;
          const e = (this.day() + 7 - this.localeData()._week.dow) % 7;
          return t == null ? e : this.add(t - e, 'd');
        }
        function Nt(t) {
          if (!this.isValid()) return t != null ? this : NaN;
          if (t != null) {
            const e = At(t, this.localeData());
            return this.day(this.day() % 7 ? e : e - 7);
          }
          return this.day() || 7;
        }
        function Wt(t) {
          return this._weekdaysParseExact
            ? (c(this, '_weekdaysRegex') || Vt.call(this),
            t ? this._weekdaysStrictRegex : this._weekdaysRegex)
            : (c(this, '_weekdaysRegex') || (this._weekdaysRegex = Rr),
            this._weekdaysStrictRegex && t
              ? this._weekdaysStrictRegex
              : this._weekdaysRegex);
        }
        function Ht(t) {
          return this._weekdaysParseExact
            ? (c(this, '_weekdaysRegex') || Vt.call(this),
            t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex)
            : (c(this, '_weekdaysShortRegex') ||
                (this._weekdaysShortRegex = Lr),
            this._weekdaysShortStrictRegex && t
              ? this._weekdaysShortStrictRegex
              : this._weekdaysShortRegex);
        }
        function Xt(t) {
          return this._weekdaysParseExact
            ? (c(this, '_weekdaysRegex') || Vt.call(this),
            t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex)
            : (c(this, '_weekdaysMinRegex') || (this._weekdaysMinRegex = Dr),
            this._weekdaysMinStrictRegex && t
              ? this._weekdaysMinStrictRegex
              : this._weekdaysMinRegex);
        }
        function Vt() {
          function t(t, e) {
            return e.length - t.length;
          }
          let e,
            i,
            n,
            r,
            a,
            o = [],
            s = [],
            u = [],
            l = [];
          for (e = 0; e < 7; e++) {
            (i = d([2e3, 1]).day(e)),
            (n = this.weekdaysMin(i, '')),
            (r = this.weekdaysShort(i, '')),
            (a = this.weekdays(i, '')),
            o.push(n),
            s.push(r),
            u.push(a),
            l.push(n),
            l.push(r),
            l.push(a);
          }
          for (o.sort(t), s.sort(t), u.sort(t), l.sort(t), e = 0; e < 7; e++) { (s[e] = Q(s[e])), (u[e] = Q(u[e])), (l[e] = Q(l[e])); }
          (this._weekdaysRegex = new RegExp(`^(${l.join('|')})`, 'i')),
          (this._weekdaysShortRegex = this._weekdaysRegex),
          (this._weekdaysMinRegex = this._weekdaysRegex),
          (this._weekdaysStrictRegex = new RegExp(
            `^(${u.join('|')})`,
            'i',
          )),
          (this._weekdaysShortStrictRegex = new RegExp(
            `^(${s.join('|')})`,
            'i',
          )),
          (this._weekdaysMinStrictRegex = new RegExp(
            `^(${o.join('|')})`,
            'i',
          ));
        }
        function zt() {
          return this.hours() % 12 || 12;
        }
        function Yt() {
          return this.hours() || 24;
        }
        function qt(t, e) {
          W(t, 0, 0, function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), e);
          });
        }
        function Kt(t, e) {
          return e._meridiemParse;
        }
        function Qt(t) {
          return (`${t}`).toLowerCase().charAt(0) === 'p';
        }
        function Jt(t, e, i) {
          return t > 11 ? (i ? 'pm' : 'PM') : i ? 'am' : 'AM';
        }
        function Zt(t) {
          return t ? t.toLowerCase().replace('_', '-') : t;
        }
        function $t(t) {
          for (var e, i, n, r, a = 0; a < t.length;) {
            for (
              r = Zt(t[a]).split('-'),
              e = r.length,
              i = Zt(t[a + 1]),
              i = i ? i.split('-') : null;
              e > 0;

            ) {
              if ((n = te(r.slice(0, e).join('-')))) return n;
              if (i && i.length >= e && x(r, i, !0) >= e - 1) break;
              e--;
            }
            a++;
          }
          return Br;
        }
        function te(e) {
          let i = null;
          if (!Gr[e] && void 0 !== t && t && t.exports) {
            try {
              (i = Br._abbr),
              !(function () {
                const t = new Error('Cannot find module "./locale"');
                throw ((t.code = 'MODULE_NOT_FOUND'), t);
              }()),
              ee(i);
            } catch (t) {}
          }
          return Gr[e];
        }
        function ee(t, e) {
          let i;
          return (
            t &&
              ((i = o(e) ? re(t) : ie(t, e)),
              i
                ? (Br = i)
                : typeof console !== 'undefined' &&
                  console.warn &&
                  console.warn(`Locale ${t} not found. Did you forget to load it?`)),
            Br._abbr
          );
        }
        function ie(t, e) {
          if (e !== null) {
            let i,
              n = Ur;
            if (((e.abbr = t), Gr[t] != null)) {
              T(
                'defineLocaleOverride',
                'use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.',
              ),
              (n = Gr[t]._config);
            } else if (e.parentLocale != null) {
              if (Gr[e.parentLocale] != null) n = Gr[e.parentLocale]._config;
              else {
                if ((i = te(e.parentLocale)) == null) {
                  return (
                    Nr[e.parentLocale] || (Nr[e.parentLocale] = []),
                    Nr[e.parentLocale].push({ name: t, config: e }),
                    null
                  );
                }
                n = i._config;
              }
            }
            return (
              (Gr[t] = new C(S(n, e))),
              Nr[t] &&
                Nr[t].forEach((t) => {
                  ie(t.name, t.config);
                }),
              ee(t),
              Gr[t]
            );
          }
          return delete Gr[t], null;
        }
        function ne(t, e) {
          if (e != null) {
            let i,
              n,
              r = Ur;
            (n = te(t)),
            n != null && (r = n._config),
            (e = S(r, e)),
            (i = new C(e)),
            (i.parentLocale = Gr[t]),
            (Gr[t] = i),
            ee(t);
          } else Gr[t] != null && (Gr[t].parentLocale != null ? (Gr[t] = Gr[t].parentLocale) : Gr[t] != null && delete Gr[t]);
          return Gr[t];
        }
        function re(t) {
          let e;
          if ((t && t._locale && t._locale._abbr && (t = t._locale._abbr), !t)) { return Br; }
          if (!i(t)) {
            if ((e = te(t))) return e;
            t = [t];
          }
          return $t(t);
        }
        function ae() {
          return jn(Gr);
        }
        function oe(t) {
          let e,
            i = t._a;
          return (
            i &&
              p(t).overflow === -2 &&
              ((e =
                i[pr] < 0 || i[pr] > 11
                  ? pr
                  : i[gr] < 1 || i[gr] > lt(i[fr], i[pr])
                    ? gr
                    : i[yr] < 0 ||
                    i[yr] > 24 ||
                    (i[yr] === 24 &&
                      (i[vr] !== 0 || i[mr] !== 0 || i[br] !== 0))
                      ? yr
                      : i[vr] < 0 || i[vr] > 59
                        ? vr
                        : i[mr] < 0 || i[mr] > 59
                          ? mr
                          : i[br] < 0 || i[br] > 999
                            ? br
                            : -1),
              p(t)._overflowDayOfYear && (e < fr || e > gr) && (e = gr),
              p(t)._overflowWeeks && e === -1 && (e = _r),
              p(t)._overflowWeekday && e === -1 && (e = wr),
              (p(t).overflow = e)),
            t
          );
        }
        function se(t, e, i) {
          return t != null ? t : e != null ? e : i;
        }
        function ue(t) {
          const i = new Date(e.now());
          return t._useUTC
            ? [i.getUTCFullYear(), i.getUTCMonth(), i.getUTCDate()]
            : [i.getFullYear(), i.getMonth(), i.getDate()];
        }
        function le(t) {
          let e,
            i,
            n,
            r,
            a,
            o = [];
          if (!t._d) {
            for (
              n = ue(t),
              t._w && t._a[gr] == null && t._a[pr] == null && ce(t),
              t._dayOfYear != null &&
                  ((a = se(t._a[fr], n[fr])),
                  (t._dayOfYear > tt(a) || t._dayOfYear === 0) &&
                    (p(t)._overflowDayOfYear = !0),
                  (i = wt(a, 0, t._dayOfYear)),
                  (t._a[pr] = i.getUTCMonth()),
                  (t._a[gr] = i.getUTCDate())),
              e = 0;
              e < 3 && t._a[e] == null;
              ++e
            ) { t._a[e] = o[e] = n[e]; }
            for (; e < 7; e++) { t._a[e] = o[e] = t._a[e] == null ? (e === 2 ? 1 : 0) : t._a[e]; }
            t._a[yr] === 24 &&
              t._a[vr] === 0 &&
              t._a[mr] === 0 &&
              t._a[br] === 0 &&
              ((t._nextDay = !0), (t._a[yr] = 0)),
            (t._d = (t._useUTC ? wt : _t)(...o)),
            (r = t._useUTC ? t._d.getUTCDay() : t._d.getDay()),
            t._tzm != null &&
                t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm),
            t._nextDay && (t._a[yr] = 24),
            t._w &&
                void 0 !== t._w.d &&
                t._w.d !== r &&
                (p(t).weekdayMismatch = !0);
          }
        }
        function ce(t) {
          let e,
            i,
            n,
            r,
            a,
            o,
            s,
            u;
          if (((e = t._w), e.GG != null || e.W != null || e.E != null)) {
            (a = 1),
            (o = 4),
            (i = se(e.GG, t._a[fr], kt(Ee(), 1, 4).year)),
            (n = se(e.W, 1)),
            ((r = se(e.E, 1)) < 1 || r > 7) && (u = !0);
          } else {
            (a = t._locale._week.dow), (o = t._locale._week.doy);
            const l = kt(Ee(), a, o);
            (i = se(e.gg, t._a[fr], l.year)),
            (n = se(e.w, l.week)),
            e.d != null
              ? ((r = e.d) < 0 || r > 6) && (u = !0)
              : e.e != null
                ? ((r = e.e + a), (e.e < 0 || e.e > 6) && (u = !0))
                : (r = a);
          }
          n < 1 || n > Tt(i, a, o)
            ? (p(t)._overflowWeeks = !0)
            : u != null
              ? (p(t)._overflowWeekday = !0)
              : ((s = Pt(i, n, r, a, o)),
              (t._a[fr] = s.year),
              (t._dayOfYear = s.dayOfYear));
        }
        function he(t) {
          let e,
            i,
            n,
            r,
            a,
            o,
            s = t._i,
            u = Wr.exec(s) || Hr.exec(s);
          if (u) {
            for (p(t).iso = !0, e = 0, i = Vr.length; e < i; e++) {
              if (Vr[e][1].exec(u[1])) {
                (r = Vr[e][0]), (n = !1 !== Vr[e][2]);
                break;
              }
            }
            if (r == null) return void (t._isValid = !1);
            if (u[3]) {
              for (e = 0, i = zr.length; e < i; e++) {
                if (zr[e][1].exec(u[3])) {
                  a = (u[2] || ' ') + zr[e][0];
                  break;
                }
              }
              if (a == null) return void (t._isValid = !1);
            }
            if (!n && a != null) return void (t._isValid = !1);
            if (u[4]) {
              if (!Xr.exec(u[4])) return void (t._isValid = !1);
              o = 'Z';
            }
            (t._f = r + (a || '') + (o || '')), be(t);
          } else t._isValid = !1;
        }
        function de(t, e, i, n, r, a) {
          const o = [
            fe(t),
            Or.indexOf(e),
            parseInt(i, 10),
            parseInt(n, 10),
            parseInt(r, 10),
          ];
          return a && o.push(parseInt(a, 10)), o;
        }
        function fe(t) {
          const e = parseInt(t, 10);
          return e <= 49 ? 2e3 + e : e <= 999 ? 1900 + e : e;
        }
        function pe(t) {
          return t
            .replace(/\([^)]*\)|[\n\t]/g, ' ')
            .replace(/(\s\s+)/g, ' ')
            .replace(/^\s\s*/, '')
            .replace(/\s\s*$/, '');
        }
        function ge(t, e, i) {
          return (
            !t ||
            Mr.indexOf(t) === new Date(e[0], e[1], e[2]).getDay() ||
            ((p(i).weekdayMismatch = !0), (i._isValid = !1), !1)
          );
        }
        function ye(t, e, i) {
          if (t) return Kr[t];
          if (e) return 0;
          let n = parseInt(i, 10),
            r = n % 100;
          return ((n - r) / 100) * 60 + r;
        }
        function ve(t) {
          const e = qr.exec(pe(t._i));
          if (e) {
            const i = de(e[4], e[3], e[2], e[5], e[6], e[7]);
            if (!ge(e[1], i, t)) return;
            (t._a = i),
            (t._tzm = ye(e[8], e[9], e[10])),
            (t._d = wt(...t._a)),
            t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm),
            (p(t).rfc2822 = !0);
          } else t._isValid = !1;
        }
        function me(t) {
          const i = Yr.exec(t._i);
          if (i !== null) return void (t._d = new Date(+i[1]));
          he(t),
          !1 === t._isValid &&
              (delete t._isValid,
              ve(t),
              !1 === t._isValid &&
                (delete t._isValid, e.createFromInputFallback(t)));
        }
        function be(t) {
          if (t._f === e.ISO_8601) return void he(t);
          if (t._f === e.RFC_2822) return void ve(t);
          (t._a = []), (p(t).empty = !0);
          let i,
            n,
            r,
            a,
            o,
            s = `${t._i}`,
            u = s.length,
            l = 0;
          for (r = z(t._f, t._locale).match(Xn) || [], i = 0; i < r.length; i++) {
            (a = r[i]),
            (n = (s.match(q(a, t)) || [])[0]),
            n &&
                ((o = s.substr(0, s.indexOf(n))),
                o.length > 0 && p(t).unusedInput.push(o),
                (s = s.slice(s.indexOf(n) + n.length)),
                (l += n.length)),
            Yn[a]
              ? (n ? (p(t).empty = !1) : p(t).unusedTokens.push(a),
              $(a, n, t))
              : t._strict && !n && p(t).unusedTokens.push(a);
          }
          (p(t).charsLeftOver = u - l),
          s.length > 0 && p(t).unusedInput.push(s),
          t._a[yr] <= 12 &&
              !0 === p(t).bigHour &&
              t._a[yr] > 0 &&
              (p(t).bigHour = void 0),
          (p(t).parsedDateParts = t._a.slice(0)),
          (p(t).meridiem = t._meridiem),
          (t._a[yr] = _e(t._locale, t._a[yr], t._meridiem)),
          le(t),
          oe(t);
        }
        function _e(t, e, i) {
          let n;
          return i == null
            ? e
            : t.meridiemHour != null
              ? t.meridiemHour(e, i)
              : t.isPM != null
                ? ((n = t.isPM(i)),
                n && e < 12 && (e += 12),
                n || e !== 12 || (e = 0),
                e)
                : e;
        }
        function we(t) {
          let e,
            i,
            n,
            r,
            a;
          if (t._f.length === 0) { return (p(t).invalidFormat = !0), void (t._d = new Date(NaN)); }
          for (r = 0; r < t._f.length; r++) {
            (a = 0),
            (e = v({}, t)),
            t._useUTC != null && (e._useUTC = t._useUTC),
            (e._f = t._f[r]),
            be(e),
            g(e) &&
                ((a += p(e).charsLeftOver),
                (a += 10 * p(e).unusedTokens.length),
                (p(e).score = a),
                (n == null || a < n) && ((n = a), (i = e)));
          }
          h(t, i || e);
        }
        function xe(t) {
          if (!t._d) {
            const e = F(t._i);
            (t._a = l(
              [
                e.year,
                e.month,
                e.day || e.date,
                e.hour,
                e.minute,
                e.second,
                e.millisecond,
              ],
              t => t && parseInt(t, 10),
            )),
            le(t);
          }
        }
        function Pe(t) {
          const e = new m(oe(ke(t)));
          return e._nextDay && (e.add(1, 'd'), (e._nextDay = void 0)), e;
        }
        function ke(t) {
          let e = t._i,
            n = t._f;
          return (
            (t._locale = t._locale || re(t._l)),
            e === null || (void 0 === n && e === '')
              ? y({ nullInput: !0 })
              : (typeof e === 'string' && (t._i = e = t._locale.preparse(e)),
              b(e)
                ? new m(oe(e))
                : (u(e) ? (t._d = e) : i(n) ? we(t) : n ? be(t) : Te(t),
                g(t) || (t._d = null),
                t))
          );
        }
        function Te(t) {
          const r = t._i;
          o(r)
            ? (t._d = new Date(e.now()))
            : u(r)
              ? (t._d = new Date(r.valueOf()))
              : typeof r === 'string'
                ? me(t)
                : i(r)
                  ? ((t._a = l(r.slice(0), t => parseInt(t, 10))),
                  le(t))
                  : n(r)
                    ? xe(t)
                    : s(r)
                      ? (t._d = new Date(r))
                      : e.createFromInputFallback(t);
        }
        function Oe(t, e, a, o, s) {
          const u = {};
          return (
            (!0 !== a && !1 !== a) || ((o = a), (a = void 0)),
            ((n(t) && r(t)) || (i(t) && t.length === 0)) && (t = void 0),
            (u._isAMomentObject = !0),
            (u._useUTC = u._isUTC = s),
            (u._l = a),
            (u._i = t),
            (u._f = e),
            (u._strict = o),
            Pe(u)
          );
        }
        function Ee(t, e, i, n) {
          return Oe(t, e, i, n, !1);
        }
        function Se(t, e) {
          let n,
            r;
          if ((e.length === 1 && i(e[0]) && (e = e[0]), !e.length)) return Ee();
          for (n = e[0], r = 1; r < e.length; ++r) { (e[r].isValid() && !e[r][t](n)) || (n = e[r]); }
          return n;
        }
        function Ce() {
          return Se('isBefore', [].slice.call(arguments, 0));
        }
        function Ie() {
          return Se('isAfter', [].slice.call(arguments, 0));
        }
        function Me(t) {
          for (const e in t) {
            if (xr.call($r, e) === -1 || (t[e] != null && isNaN(t[e]))) { return !1; }
          }
          for (let i = !1, n = 0; n < $r.length; ++n) {
            if (t[$r[n]]) {
              if (i) return !1;
              parseFloat(t[$r[n]]) !== w(t[$r[n]]) && (i = !0);
            }
          }
          return !0;
        }
        function Ae() {
          return this._isValid;
        }
        function Re() {
          return Ze(NaN);
        }
        function Le(t) {
          let e = F(t),
            i = e.year || 0,
            n = e.quarter || 0,
            r = e.month || 0,
            a = e.week || e.isoWeek || 0,
            o = e.day || 0,
            s = e.hour || 0,
            u = e.minute || 0,
            l = e.second || 0,
            c = e.millisecond || 0;
          (this._isValid = Me(e)),
          (this._milliseconds = +c + 1e3 * l + 6e4 * u + 1e3 * s * 60 * 60),
          (this._days = +o + 7 * a),
          (this._months = +r + 3 * n + 12 * i),
          (this._data = {}),
          (this._locale = re()),
          this._bubble();
        }
        function De(t) {
          return t instanceof Le;
        }
        function Be(t) {
          return t < 0 ? -1 * Math.round(-1 * t) : Math.round(t);
        }
        function je(t, e) {
          W(t, 0, 0, function () {
            let t = this.utcOffset(),
              i = '+';
            return (
              t < 0 && ((t = -t), (i = '-')),
              i + N(~~(t / 60), 2) + e + N(~~t % 60, 2)
            );
          });
        }
        function Fe(t, e) {
          const i = (e || '').match(t);
          if (i === null) return null;
          let n = i[i.length - 1] || [],
            r = (`${n}`).match(ta) || ['-', 0, 0],
            a = 60 * r[1] + w(r[2]);
          return a === 0 ? 0 : r[0] === '+' ? a : -a;
        }
        function Ue(t, i) {
          let n,
            r;
          return i._isUTC
            ? ((n = i.clone()),
            (r =
                (b(t) || u(t) ? t.valueOf() : Ee(t).valueOf()) - n.valueOf()),
            n._d.setTime(n._d.valueOf() + r),
            e.updateOffset(n, !1),
            n)
            : Ee(t).local();
        }
        function Ge(t) {
          return 15 * -Math.round(t._d.getTimezoneOffset() / 15);
        }
        function Ne(t, i, n) {
          let r,
            a = this._offset || 0;
          if (!this.isValid()) return t != null ? this : NaN;
          if (t != null) {
            if (typeof t === 'string') {
              if ((t = Fe(ur, t)) === null) return this;
            } else Math.abs(t) < 16 && !n && (t *= 60);
            return (
              !this._isUTC && i && (r = Ge(this)),
              (this._offset = t),
              (this._isUTC = !0),
              r != null && this.add(r, 'm'),
              a !== t &&
                (!i || this._changeInProgress
                  ? ni(this, Ze(t - a, 'm'), 1, !1)
                  : this._changeInProgress ||
                    ((this._changeInProgress = !0),
                    e.updateOffset(this, !0),
                    (this._changeInProgress = null))),
              this
            );
          }
          return this._isUTC ? a : Ge(this);
        }
        function We(t, e) {
          return t != null
            ? (typeof t !== 'string' && (t = -t), this.utcOffset(t, e), this)
            : -this.utcOffset();
        }
        function He(t) {
          return this.utcOffset(0, t);
        }
        function Xe(t) {
          return (
            this._isUTC &&
              (this.utcOffset(0, t),
              (this._isUTC = !1),
              t && this.subtract(Ge(this), 'm')),
            this
          );
        }
        function Ve() {
          if (this._tzm != null) this.utcOffset(this._tzm, !1, !0);
          else if (typeof this._i === 'string') {
            const t = Fe(sr, this._i);
            t != null ? this.utcOffset(t) : this.utcOffset(0, !0);
          }
          return this;
        }
        function ze(t) {
          return (
            !!this.isValid() &&
            ((t = t ? Ee(t).utcOffset() : 0), (this.utcOffset() - t) % 60 == 0)
          );
        }
        function Ye() {
          return (
            this.utcOffset() >
              this.clone()
                .month(0)
                .utcOffset() ||
            this.utcOffset() >
              this.clone()
                .month(5)
                .utcOffset()
          );
        }
        function qe() {
          if (!o(this._isDSTShifted)) return this._isDSTShifted;
          let t = {};
          if ((v(t, this), (t = ke(t)), t._a)) {
            const e = t._isUTC ? d(t._a) : Ee(t._a);
            this._isDSTShifted = this.isValid() && x(t._a, e.toArray()) > 0;
          } else this._isDSTShifted = !1;
          return this._isDSTShifted;
        }
        function Ke() {
          return !!this.isValid() && !this._isUTC;
        }
        function Qe() {
          return !!this.isValid() && this._isUTC;
        }
        function Je() {
          return !!this.isValid() && this._isUTC && this._offset === 0;
        }
        function Ze(t, e) {
          let i,
            n,
            r,
            o = t,
            u = null;
          return (
            De(t)
              ? (o = { ms: t._milliseconds, d: t._days, M: t._months })
              : s(t)
                ? ((o = {}), e ? (o[e] = t) : (o.milliseconds = t))
                : (u = ea.exec(t))
                  ? ((i = u[1] === '-' ? -1 : 1),
                  (o = {
                    y: 0,
                    d: w(u[gr]) * i,
                    h: w(u[yr]) * i,
                    m: w(u[vr]) * i,
                    s: w(u[mr]) * i,
                    ms: w(Be(1e3 * u[br])) * i,
                  }))
                  : (u = ia.exec(t))
                    ? ((i = u[1] === '-' ? -1 : 1),
                    (o = {
                      y: $e(u[2], i),
                      M: $e(u[3], i),
                      w: $e(u[4], i),
                      d: $e(u[5], i),
                      h: $e(u[6], i),
                      m: $e(u[7], i),
                      s: $e(u[8], i),
                    }))
                    : o == null
                      ? (o = {})
                      : (void 0 === o ? 'undefined' : a(o)) === 'object' &&
                ('from' in o || 'to' in o) &&
                ((r = ei(Ee(o.from), Ee(o.to))),
                (o = {}),
                (o.ms = r.milliseconds),
                (o.M = r.months)),
            (n = new Le(o)),
            De(t) && c(t, '_locale') && (n._locale = t._locale),
            n
          );
        }
        function $e(t, e) {
          const i = t && parseFloat(t.replace(',', '.'));
          return (isNaN(i) ? 0 : i) * e;
        }
        function ti(t, e) {
          const i = {};
          return (
            (i.months = e.month() - t.month() + 12 * (e.year() - t.year())),
            t
              .clone()
              .add(i.months, 'M')
              .isAfter(e) && --i.months,
            (i.milliseconds = +e - +t.clone().add(i.months, 'M')),
            i
          );
        }
        function ei(t, e) {
          let i;
          return t.isValid() && e.isValid()
            ? ((e = Ue(e, t)),
            t.isBefore(e)
              ? (i = ti(t, e))
              : ((i = ti(e, t)),
              (i.milliseconds = -i.milliseconds),
              (i.months = -i.months)),
            i)
            : { milliseconds: 0, months: 0 };
        }
        function ii(t, e) {
          return function (i, n) {
            let r,
              a;
            return (
              n === null ||
                isNaN(+n) ||
                (T(
                  e,
                  `moment().${
                    e
                  }(period, number) is deprecated. Please use moment().${
                    e
                  }(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.`,
                ),
                (a = i),
                (i = n),
                (n = a)),
              (i = typeof i === 'string' ? +i : i),
              (r = Ze(i, n)),
              ni(this, r, t),
              this
            );
          };
        }
        function ni(t, i, n, r) {
          let a = i._milliseconds,
            o = Be(i._days),
            s = Be(i._months);
          t.isValid() &&
            ((r = r == null || r),
            s && pt(t, rt(t, 'Month') + s * n),
            o && at(t, 'Date', rt(t, 'Date') + o * n),
            a && t._d.setTime(t._d.valueOf() + a * n),
            r && e.updateOffset(t, o || s));
        }
        function ri(t, e) {
          const i = t.diff(e, 'days', !0);
          return i < -6
            ? 'sameElse'
            : i < -1
              ? 'lastWeek'
              : i < 0
                ? 'lastDay'
                : i < 1
                  ? 'sameDay'
                  : i < 2
                    ? 'nextDay'
                    : i < 7
                      ? 'nextWeek'
                      : 'sameElse';
        }
        function ai(t, i) {
          let n = t || Ee(),
            r = Ue(n, this).startOf('day'),
            a = e.calendarFormat(this, r) || 'sameElse',
            o = i && (O(i[a]) ? i[a].call(this, n) : i[a]);
          return this.format(o || this.localeData().calendar(a, this, Ee(n)));
        }
        function oi() {
          return new m(this);
        }
        function si(t, e) {
          const i = b(t) ? t : Ee(t);
          return (
            !(!this.isValid() || !i.isValid()) &&
            ((e = j(e) || 'millisecond'),
            e === 'millisecond'
              ? this.valueOf() > i.valueOf()
              : i.valueOf() <
                this.clone()
                  .startOf(e)
                  .valueOf())
          );
        }
        function ui(t, e) {
          const i = b(t) ? t : Ee(t);
          return (
            !(!this.isValid() || !i.isValid()) &&
            ((e = j(e) || 'millisecond'),
            e === 'millisecond'
              ? this.valueOf() < i.valueOf()
              : this.clone()
                .endOf(e)
                .valueOf() < i.valueOf())
          );
        }
        function li(t, e, i, n) {
          let r = b(t) ? t : Ee(t),
            a = b(e) ? e : Ee(e);
          return (
            !!(this.isValid() && r.isValid() && a.isValid()) &&
            ((n = n || '()'),
            (n[0] === '(' ? this.isAfter(r, i) : !this.isBefore(r, i)) &&
              (n[1] === ')' ? this.isBefore(a, i) : !this.isAfter(a, i)))
          );
        }
        function ci(t, e) {
          let i,
            n = b(t) ? t : Ee(t);
          return (
            !(!this.isValid() || !n.isValid()) &&
            ((e = j(e) || 'millisecond'),
            e === 'millisecond'
              ? this.valueOf() === n.valueOf()
              : ((i = n.valueOf()),
              this.clone()
                .startOf(e)
                .valueOf() <= i &&
                  i <=
                    this.clone()
                      .endOf(e)
                      .valueOf()))
          );
        }
        function hi(t, e) {
          return this.isSame(t, e) || this.isAfter(t, e);
        }
        function di(t, e) {
          return this.isSame(t, e) || this.isBefore(t, e);
        }
        function fi(t, e, i) {
          let n,
            r,
            a;
          if (!this.isValid()) return NaN;
          if (((n = Ue(t, this)), !n.isValid())) return NaN;
          switch (
            ((r = 6e4 * (n.utcOffset() - this.utcOffset())), (e = j(e)))
          ) {
            case 'year':
              a = pi(this, n) / 12;
              break;
            case 'month':
              a = pi(this, n);
              break;
            case 'quarter':
              a = pi(this, n) / 3;
              break;
            case 'second':
              a = (this - n) / 1e3;
              break;
            case 'minute':
              a = (this - n) / 6e4;
              break;
            case 'hour':
              a = (this - n) / 36e5;
              break;
            case 'day':
              a = (this - n - r) / 864e5;
              break;
            case 'week':
              a = (this - n - r) / 6048e5;
              break;
            default:
              a = this - n;
          }
          return i ? a : _(a);
        }
        function pi(t, e) {
          let i,
            n,
            r = 12 * (e.year() - t.year()) + (e.month() - t.month()),
            a = t.clone().add(r, 'months');
          return (
            e - a < 0
              ? ((i = t.clone().add(r - 1, 'months')), (n = (e - a) / (a - i)))
              : ((i = t.clone().add(r + 1, 'months')), (n = (e - a) / (i - a))),
            -(r + n) || 0
          );
        }
        function gi() {
          return this.clone()
            .locale('en')
            .format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
        }
        function yi(t) {
          if (!this.isValid()) return null;
          let e = !0 !== t,
            i = e ? this.clone().utc() : this;
          return i.year() < 0 || i.year() > 9999
            ? V(
              i,
              e
                ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'
                : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ',
            )
            : O(Date.prototype.toISOString)
              ? e
                ? this.toDate().toISOString()
                : new Date(this.valueOf() + 60 * this.utcOffset() * 1e3)
                  .toISOString()
                  .replace('Z', V(i, 'Z'))
              : V(
                i,
                e
                  ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]'
                  : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ',
              );
        }
        function vi() {
          if (!this.isValid()) return `moment.invalid(/* ${this._i} */)`;
          let t = 'moment',
            e = '';
          this.isLocal() ||
            ((t = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone'),
            (e = 'Z'));
          let i = `[${t}("]`,
            n = this.year() >= 0 && this.year() <= 9999 ? 'YYYY' : 'YYYYYY',
            r = `${e}[")]`;
          return this.format(`${i + n}-MM-DD[T]HH:mm:ss.SSS${r}`);
        }
        function mi(t) {
          t || (t = this.isUtc() ? e.defaultFormatUtc : e.defaultFormat);
          const i = V(this, t);
          return this.localeData().postformat(i);
        }
        function bi(t, e) {
          return this.isValid() && ((b(t) && t.isValid()) || Ee(t).isValid())
            ? Ze({ to: this, from: t })
              .locale(this.locale())
              .humanize(!e)
            : this.localeData().invalidDate();
        }
        function _i(t) {
          return this.from(Ee(), t);
        }
        function wi(t, e) {
          return this.isValid() && ((b(t) && t.isValid()) || Ee(t).isValid())
            ? Ze({ from: this, to: t })
              .locale(this.locale())
              .humanize(!e)
            : this.localeData().invalidDate();
        }
        function xi(t) {
          return this.to(Ee(), t);
        }
        function Pi(t) {
          let e;
          return void 0 === t
            ? this._locale._abbr
            : ((e = re(t)), e != null && (this._locale = e), this);
        }
        function ki() {
          return this._locale;
        }
        function Ti(t, e) {
          return ((t % e) + e) % e;
        }
        function Oi(t, e, i) {
          return t < 100 && t >= 0
            ? new Date(t + 400, e, i) - la
            : new Date(t, e, i).valueOf();
        }
        function Ei(t, e, i) {
          return t < 100 && t >= 0
            ? Date.UTC(t + 400, e, i) - la
            : Date.UTC(t, e, i);
        }
        function Si(t) {
          let i;
          if (void 0 === (t = j(t)) || t === 'millisecond' || !this.isValid()) { return this; }
          const n = this._isUTC ? Ei : Oi;
          switch (t) {
            case 'year':
              i = n(this.year(), 0, 1);
              break;
            case 'quarter':
              i = n(this.year(), this.month() - (this.month() % 3), 1);
              break;
            case 'month':
              i = n(this.year(), this.month(), 1);
              break;
            case 'week':
              i = n(this.year(), this.month(), this.date() - this.weekday());
              break;
            case 'isoWeek':
              i = n(
                this.year(),
                this.month(),
                this.date() - (this.isoWeekday() - 1),
              );
              break;
            case 'day':
            case 'date':
              i = n(this.year(), this.month(), this.date());
              break;
            case 'hour':
              (i = this._d.valueOf()),
              (i -= Ti(i + (this._isUTC ? 0 : this.utcOffset() * sa), ua));
              break;
            case 'minute':
              (i = this._d.valueOf()), (i -= Ti(i, sa));
              break;
            case 'second':
              (i = this._d.valueOf()), (i -= Ti(i, oa));
          }
          return this._d.setTime(i), e.updateOffset(this, !0), this;
        }
        function Ci(t) {
          let i;
          if (void 0 === (t = j(t)) || t === 'millisecond' || !this.isValid()) { return this; }
          const n = this._isUTC ? Ei : Oi;
          switch (t) {
            case 'year':
              i = n(this.year() + 1, 0, 1) - 1;
              break;
            case 'quarter':
              i = n(this.year(), this.month() - (this.month() % 3) + 3, 1) - 1;
              break;
            case 'month':
              i = n(this.year(), this.month() + 1, 1) - 1;
              break;
            case 'week':
              i =
                n(this.year(), this.month(), this.date() - this.weekday() + 7) -
                1;
              break;
            case 'isoWeek':
              i =
                n(
                  this.year(),
                  this.month(),
                  this.date() - (this.isoWeekday() - 1) + 7,
                ) - 1;
              break;
            case 'day':
            case 'date':
              i = n(this.year(), this.month(), this.date() + 1) - 1;
              break;
            case 'hour':
              (i = this._d.valueOf()),
              (i +=
                  ua -
                  Ti(i + (this._isUTC ? 0 : this.utcOffset() * sa), ua) -
                  1);
              break;
            case 'minute':
              (i = this._d.valueOf()), (i += sa - Ti(i, sa) - 1);
              break;
            case 'second':
              (i = this._d.valueOf()), (i += oa - Ti(i, oa) - 1);
          }
          return this._d.setTime(i), e.updateOffset(this, !0), this;
        }
        function Ii() {
          return this._d.valueOf() - 6e4 * (this._offset || 0);
        }
        function Mi() {
          return Math.floor(this.valueOf() / 1e3);
        }
        function Ai() {
          return new Date(this.valueOf());
        }
        function Ri() {
          const t = this;
          return [
            t.year(),
            t.month(),
            t.date(),
            t.hour(),
            t.minute(),
            t.second(),
            t.millisecond(),
          ];
        }
        function Li() {
          const t = this;
          return {
            years: t.year(),
            months: t.month(),
            date: t.date(),
            hours: t.hours(),
            minutes: t.minutes(),
            seconds: t.seconds(),
            milliseconds: t.milliseconds(),
          };
        }
        function Di() {
          return this.isValid() ? this.toISOString() : null;
        }
        function Bi() {
          return g(this);
        }
        function ji() {
          return h({}, p(this));
        }
        function Fi() {
          return p(this).overflow;
        }
        function Ui() {
          return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict,
          };
        }
        function Gi(t, e) {
          W(0, [t, t.length], 0, e);
        }
        function Ni(t) {
          return Vi.call(
            this,
            t,
            this.week(),
            this.weekday(),
            this.localeData()._week.dow,
            this.localeData()._week.doy,
          );
        }
        function Wi(t) {
          return Vi.call(this, t, this.isoWeek(), this.isoWeekday(), 1, 4);
        }
        function Hi() {
          return Tt(this.year(), 1, 4);
        }
        function Xi() {
          const t = this.localeData()._week;
          return Tt(this.year(), t.dow, t.doy);
        }
        function Vi(t, e, i, n, r) {
          let a;
          return t == null
            ? kt(this, n, r).year
            : ((a = Tt(t, n, r)),
            e > a && (e = a),
            zi.call(this, t, e, i, n, r));
        }
        function zi(t, e, i, n, r) {
          let a = Pt(t, e, i, n, r),
            o = wt(a.year, 0, a.dayOfYear);
          return (
            this.year(o.getUTCFullYear()),
            this.month(o.getUTCMonth()),
            this.date(o.getUTCDate()),
            this
          );
        }
        function Yi(t) {
          return t == null
            ? Math.ceil((this.month() + 1) / 3)
            : this.month(3 * (t - 1) + (this.month() % 3));
        }
        function qi(t) {
          const e =
            Math.round((this.clone().startOf('day') - this.clone().startOf('year')) /
                864e5) + 1;
          return t == null ? e : this.add(t - e, 'd');
        }
        function Ki(t, e) {
          e[br] = w(1e3 * (`0.${t}`));
        }
        function Qi() {
          return this._isUTC ? 'UTC' : '';
        }
        function Ji() {
          return this._isUTC ? 'Coordinated Universal Time' : '';
        }
        function Zi(t) {
          return Ee(1e3 * t);
        }
        function $i() {
          return Ee(...arguments).parseZone();
        }
        function tn(t) {
          return t;
        }
        function en(t, e, i, n) {
          let r = re(),
            a = d().set(n, e);
          return r[i](a, t);
        }
        function nn(t, e, i) {
          if ((s(t) && ((e = t), (t = void 0)), (t = t || ''), e != null)) { return en(t, e, i, 'month'); }
          let n,
            r = [];
          for (n = 0; n < 12; n++) r[n] = en(t, n, i, 'month');
          return r;
        }
        function rn(t, e, i, n) {
          typeof t === 'boolean'
            ? (s(e) && ((i = e), (e = void 0)), (e = e || ''))
            : ((e = t),
            (i = e),
            (t = !1),
            s(e) && ((i = e), (e = void 0)),
            (e = e || ''));
          let r = re(),
            a = t ? r._week.dow : 0;
          if (i != null) return en(e, (i + a) % 7, n, 'day');
          let o,
            u = [];
          for (o = 0; o < 7; o++) u[o] = en(e, (o + a) % 7, n, 'day');
          return u;
        }
        function an(t, e) {
          return nn(t, e, 'months');
        }
        function on(t, e) {
          return nn(t, e, 'monthsShort');
        }
        function sn(t, e, i) {
          return rn(t, e, i, 'weekdays');
        }
        function un(t, e, i) {
          return rn(t, e, i, 'weekdaysShort');
        }
        function ln(t, e, i) {
          return rn(t, e, i, 'weekdaysMin');
        }
        function cn() {
          const t = this._data;
          return (
            (this._milliseconds = va(this._milliseconds)),
            (this._days = va(this._days)),
            (this._months = va(this._months)),
            (t.milliseconds = va(t.milliseconds)),
            (t.seconds = va(t.seconds)),
            (t.minutes = va(t.minutes)),
            (t.hours = va(t.hours)),
            (t.months = va(t.months)),
            (t.years = va(t.years)),
            this
          );
        }
        function hn(t, e, i, n) {
          const r = Ze(e, i);
          return (
            (t._milliseconds += n * r._milliseconds),
            (t._days += n * r._days),
            (t._months += n * r._months),
            t._bubble()
          );
        }
        function dn(t, e) {
          return hn(this, t, e, 1);
        }
        function fn(t, e) {
          return hn(this, t, e, -1);
        }
        function pn(t) {
          return t < 0 ? Math.floor(t) : Math.ceil(t);
        }
        function gn() {
          let t,
            e,
            i,
            n,
            r,
            a = this._milliseconds,
            o = this._days,
            s = this._months,
            u = this._data;
          return (
            (a >= 0 && o >= 0 && s >= 0) ||
              (a <= 0 && o <= 0 && s <= 0) ||
              ((a += 864e5 * pn(vn(s) + o)), (o = 0), (s = 0)),
            (u.milliseconds = a % 1e3),
            (t = _(a / 1e3)),
            (u.seconds = t % 60),
            (e = _(t / 60)),
            (u.minutes = e % 60),
            (i = _(e / 60)),
            (u.hours = i % 24),
            (o += _(i / 24)),
            (r = _(yn(o))),
            (s += r),
            (o -= pn(vn(r))),
            (n = _(s / 12)),
            (s %= 12),
            (u.days = o),
            (u.months = s),
            (u.years = n),
            this
          );
        }
        function yn(t) {
          return (4800 * t) / 146097;
        }
        function vn(t) {
          return (146097 * t) / 4800;
        }
        function mn(t) {
          if (!this.isValid()) return NaN;
          let e,
            i,
            n = this._milliseconds;
          if ((t = j(t)) === 'month' || t === 'quarter' || t === 'year') {
            switch (
              ((e = this._days + n / 864e5), (i = this._months + yn(e)), t)
            ) {
              case 'month':
                return i;
              case 'quarter':
                return i / 3;
              case 'year':
                return i / 12;
            }
          } else {
            switch (((e = this._days + Math.round(vn(this._months))), t)) {
              case 'week':
                return e / 7 + n / 6048e5;
              case 'day':
                return e + n / 864e5;
              case 'hour':
                return 24 * e + n / 36e5;
              case 'minute':
                return 1440 * e + n / 6e4;
              case 'second':
                return 86400 * e + n / 1e3;
              case 'millisecond':
                return Math.floor(864e5 * e) + n;
              default:
                throw new Error(`Unknown unit ${t}`);
            }
          }
        }
        function bn() {
          return this.isValid()
            ? this._milliseconds +
                864e5 * this._days +
                (this._months % 12) * 2592e6 +
                31536e6 * w(this._months / 12)
            : NaN;
        }
        function _n(t) {
          return function () {
            return this.as(t);
          };
        }
        function wn() {
          return Ze(this);
        }
        function xn(t) {
          return (t = j(t)), this.isValid() ? this[`${t}s`]() : NaN;
        }
        function Pn(t) {
          return function () {
            return this.isValid() ? this._data[t] : NaN;
          };
        }
        function kn() {
          return _(this.days() / 7);
        }
        function Tn(t, e, i, n, r) {
          return r.relativeTime(e || 1, !!i, t, n);
        }
        function On(t, e, i) {
          let n = Ze(t).abs(),
            r = La(n.as('s')),
            a = La(n.as('m')),
            o = La(n.as('h')),
            s = La(n.as('d')),
            u = La(n.as('M')),
            l = La(n.as('y')),
            c = (r <= Da.ss && ['s', r]) ||
              (r < Da.s && ['ss', r]) ||
              (a <= 1 && ['m']) ||
              (a < Da.m && ['mm', a]) ||
              (o <= 1 && ['h']) ||
              (o < Da.h && ['hh', o]) ||
              (s <= 1 && ['d']) ||
              (s < Da.d && ['dd', s]) ||
              (u <= 1 && ['M']) ||
              (u < Da.M && ['MM', u]) ||
              (l <= 1 && ['y']) || ['yy', l];
          return (c[2] = e), (c[3] = +t > 0), (c[4] = i), Tn(...c);
        }
        function En(t) {
          return void 0 === t ? La : typeof t === 'function' && ((La = t), !0);
        }
        function Sn(t, e) {
          return (
            void 0 !== Da[t] &&
            (void 0 === e
              ? Da[t]
              : ((Da[t] = e), t === 's' && (Da.ss = e - 1), !0))
          );
        }
        function Cn(t) {
          if (!this.isValid()) return this.localeData().invalidDate();
          let e = this.localeData(),
            i = On(this, !t, e);
          return t && (i = e.pastFuture(+this, i)), e.postformat(i);
        }
        function In(t) {
          return (t > 0) - (t < 0) || +t;
        }
        function Mn() {
          if (!this.isValid()) return this.localeData().invalidDate();
          let t,
            e,
            i,
            n = Ba(this._milliseconds) / 1e3,
            r = Ba(this._days),
            a = Ba(this._months);
          (t = _(n / 60)),
          (e = _(t / 60)),
          (n %= 60),
          (t %= 60),
          (i = _(a / 12)),
          (a %= 12);
          let o = i,
            s = a,
            u = r,
            l = e,
            c = t,
            h = n ? n.toFixed(3).replace(/\.?0+$/, '') : '',
            d = this.asSeconds();
          if (!d) return 'P0D';
          let f = d < 0 ? '-' : '',
            p = In(this._months) !== In(d) ? '-' : '',
            g = In(this._days) !== In(d) ? '-' : '',
            y = In(this._milliseconds) !== In(d) ? '-' : '';
          return (
            `${f
            }P${
              o ? `${p + o}Y` : ''
            }${s ? `${p + s}M` : ''
            }${u ? `${g + u}D` : ''
            }${l || c || h ? 'T' : ''
            }${l ? `${y + l}H` : ''
            }${c ? `${y + c}M` : ''
            }${h ? `${y + h}S` : ''}`
          );
        }
        let An,
          Rn;
        Rn = Array.prototype.some
          ? Array.prototype.some
          : function (t) {
            for (let e = Object(this), i = e.length >>> 0, n = 0; n < i; n++) { if (n in e && t.call(this, e[n], n, e)) return !0; }
            return !1;
          };
        var Ln = (e.momentProperties = []),
          Dn = !1,
          Bn = {};
        (e.suppressDeprecationWarnings = !1), (e.deprecationHandler = null);
        let jn;
        jn = Object.keys
          ? Object.keys
          : function (t) {
            let e,
              i = [];
            for (e in t) c(t, e) && i.push(e);
            return i;
          };
        var Fn = {
            sameDay: '[Today at] LT',
            nextDay: '[Tomorrow at] LT',
            nextWeek: 'dddd [at] LT',
            lastDay: '[Yesterday at] LT',
            lastWeek: '[Last] dddd [at] LT',
            sameElse: 'L',
          },
          Un = {
            LTS: 'h:mm:ss A',
            LT: 'h:mm A',
            L: 'MM/DD/YYYY',
            LL: 'MMMM D, YYYY',
            LLL: 'MMMM D, YYYY h:mm A',
            LLLL: 'dddd, MMMM D, YYYY h:mm A',
          },
          Gn = /\d{1,2}/,
          Nn = {
            future: 'in %s',
            past: '%s ago',
            s: 'a few seconds',
            ss: '%d seconds',
            m: 'a minute',
            mm: '%d minutes',
            h: 'an hour',
            hh: '%d hours',
            d: 'a day',
            dd: '%d days',
            M: 'a month',
            MM: '%d months',
            y: 'a year',
            yy: '%d years',
          },
          Wn = {},
          Hn = {},
          Xn = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
          Vn = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
          zn = {},
          Yn = {},
          qn = /\d/,
          Kn = /\d\d/,
          Qn = /\d{3}/,
          Jn = /\d{4}/,
          Zn = /[+-]?\d{6}/,
          $n = /\d\d?/,
          tr = /\d\d\d\d?/,
          er = /\d\d\d\d\d\d?/,
          ir = /\d{1,3}/,
          nr = /\d{1,4}/,
          rr = /[+-]?\d{1,6}/,
          ar = /\d+/,
          or = /[+-]?\d+/,
          sr = /Z|[+-]\d\d:?\d\d/gi,
          ur = /Z|[+-]\d\d(?::?\d\d)?/gi,
          lr = /[+-]?\d+(\.\d{1,3})?/,
          cr = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,
          hr = {},
          dr = {},
          fr = 0,
          pr = 1,
          gr = 2,
          yr = 3,
          vr = 4,
          mr = 5,
          br = 6,
          _r = 7,
          wr = 8;
        W('Y', 0, 0, function () {
          const t = this.year();
          return t <= 9999 ? `${t}` : `+${t}`;
        }),
        W(0, ['YY', 2], 0, function () {
          return this.year() % 100;
        }),
        W(0, ['YYYY', 4], 0, 'year'),
        W(0, ['YYYYY', 5], 0, 'year'),
        W(0, ['YYYYYY', 6, !0], 0, 'year'),
        B('year', 'y'),
        U('year', 1),
        Y('Y', or),
        Y('YY', $n, Kn),
        Y('YYYY', nr, Jn),
        Y('YYYYY', rr, Zn),
        Y('YYYYYY', rr, Zn),
        J(['YYYYY', 'YYYYYY'], fr),
        J('YYYY', (t, i) => {
          i[fr] = t.length === 2 ? e.parseTwoDigitYear(t) : w(t);
        }),
        J('YY', (t, i) => {
          i[fr] = e.parseTwoDigitYear(t);
        }),
        J('Y', (t, e) => {
          e[fr] = parseInt(t, 10);
        }),
        (e.parseTwoDigitYear = function (t) {
          return w(t) + (w(t) > 68 ? 1900 : 2e3);
        });
        let xr,
          Pr = nt('FullYear', !0);
        (xr = Array.prototype.indexOf
          ? Array.prototype.indexOf
          : function (t) {
            let e;
            for (e = 0; e < this.length; ++e) if (this[e] === t) return e;
            return -1;
          }),
        W('M', ['MM', 2], 'Mo', function () {
          return this.month() + 1;
        }),
        W('MMM', 0, 0, function (t) {
          return this.localeData().monthsShort(this, t);
        }),
        W('MMMM', 0, 0, function (t) {
          return this.localeData().months(this, t);
        }),
        B('month', 'M'),
        U('month', 8),
        Y('M', $n),
        Y('MM', $n, Kn),
        Y('MMM', (t, e) => e.monthsShortRegex(t)),
        Y('MMMM', (t, e) => e.monthsRegex(t)),
        J(['M', 'MM'], (t, e) => {
          e[pr] = w(t) - 1;
        }),
        J(['MMM', 'MMMM'], (t, e, i, n) => {
          const r = i._locale.monthsParse(t, n, i._strict);
          r != null ? (e[pr] = r) : (p(i).invalidMonth = t);
        });
        var kr = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,
          Tr = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),
          Or = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),
          Er = cr,
          Sr = cr;
        W('w', ['ww', 2], 'wo', 'week'),
        W('W', ['WW', 2], 'Wo', 'isoWeek'),
        B('week', 'w'),
        B('isoWeek', 'W'),
        U('week', 5),
        U('isoWeek', 5),
        Y('w', $n),
        Y('ww', $n, Kn),
        Y('W', $n),
        Y('WW', $n, Kn),
        Z(['w', 'ww', 'W', 'WW'], (t, e, i, n) => {
          e[n.substr(0, 1)] = w(t);
        });
        const Cr = { dow: 0, doy: 6 };
        W('d', 0, 'do', 'day'),
        W('dd', 0, 0, function (t) {
          return this.localeData().weekdaysMin(this, t);
        }),
        W('ddd', 0, 0, function (t) {
          return this.localeData().weekdaysShort(this, t);
        }),
        W('dddd', 0, 0, function (t) {
          return this.localeData().weekdays(this, t);
        }),
        W('e', 0, 0, 'weekday'),
        W('E', 0, 0, 'isoWeekday'),
        B('day', 'd'),
        B('weekday', 'e'),
        B('isoWeekday', 'E'),
        U('day', 11),
        U('weekday', 11),
        U('isoWeekday', 11),
        Y('d', $n),
        Y('e', $n),
        Y('E', $n),
        Y('dd', (t, e) => e.weekdaysMinRegex(t)),
        Y('ddd', (t, e) => e.weekdaysShortRegex(t)),
        Y('dddd', (t, e) => e.weekdaysRegex(t)),
        Z(['dd', 'ddd', 'dddd'], (t, e, i, n) => {
          const r = i._locale.weekdaysParse(t, n, i._strict);
          r != null ? (e.d = r) : (p(i).invalidWeekday = t);
        }),
        Z(['d', 'e', 'E'], (t, e, i, n) => {
          e[n] = w(t);
        });
        var Ir = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),
          Mr = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),
          Ar = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),
          Rr = cr,
          Lr = cr,
          Dr = cr;
        W('H', ['HH', 2], 0, 'hour'),
        W('h', ['hh', 2], 0, zt),
        W('k', ['kk', 2], 0, Yt),
        W('hmm', 0, 0, function () {
          return `${zt.apply(this)}${N(this.minutes(), 2)}`;
        }),
        W('hmmss', 0, 0, function () {
          return (
            `${zt.apply(this)}${N(this.minutes(), 2)}${N(this.seconds(), 2)}`
          );
        }),
        W('Hmm', 0, 0, function () {
          return `${this.hours()}${N(this.minutes(), 2)}`;
        }),
        W('Hmmss', 0, 0, function () {
          return (
            `${this.hours()}${N(this.minutes(), 2)}${N(this.seconds(), 2)}`
          );
        }),
        qt('a', !0),
        qt('A', !1),
        B('hour', 'h'),
        U('hour', 13),
        Y('a', Kt),
        Y('A', Kt),
        Y('H', $n),
        Y('h', $n),
        Y('k', $n),
        Y('HH', $n, Kn),
        Y('hh', $n, Kn),
        Y('kk', $n, Kn),
        Y('hmm', tr),
        Y('hmmss', er),
        Y('Hmm', tr),
        Y('Hmmss', er),
        J(['H', 'HH'], yr),
        J(['k', 'kk'], (t, e, i) => {
          const n = w(t);
          e[yr] = n === 24 ? 0 : n;
        }),
        J(['a', 'A'], (t, e, i) => {
          (i._isPm = i._locale.isPM(t)), (i._meridiem = t);
        }),
        J(['h', 'hh'], (t, e, i) => {
          (e[yr] = w(t)), (p(i).bigHour = !0);
        }),
        J('hmm', (t, e, i) => {
          const n = t.length - 2;
          (e[yr] = w(t.substr(0, n))),
          (e[vr] = w(t.substr(n))),
          (p(i).bigHour = !0);
        }),
        J('hmmss', (t, e, i) => {
          let n = t.length - 4,
            r = t.length - 2;
          (e[yr] = w(t.substr(0, n))),
          (e[vr] = w(t.substr(n, 2))),
          (e[mr] = w(t.substr(r))),
          (p(i).bigHour = !0);
        }),
        J('Hmm', (t, e, i) => {
          const n = t.length - 2;
          (e[yr] = w(t.substr(0, n))), (e[vr] = w(t.substr(n)));
        }),
        J('Hmmss', (t, e, i) => {
          let n = t.length - 4,
            r = t.length - 2;
          (e[yr] = w(t.substr(0, n))),
          (e[vr] = w(t.substr(n, 2))),
          (e[mr] = w(t.substr(r)));
        });
        var Br,
          jr = /[ap]\.?m?\.?/i,
          Fr = nt('Hours', !0),
          Ur = {
            calendar: Fn,
            longDateFormat: Un,
            invalidDate: 'Invalid date',
            ordinal: '%d',
            dayOfMonthOrdinalParse: Gn,
            relativeTime: Nn,
            months: Tr,
            monthsShort: Or,
            week: Cr,
            weekdays: Ir,
            weekdaysMin: Ar,
            weekdaysShort: Mr,
            meridiemParse: jr,
          },
          Gr = {},
          Nr = {},
          Wr = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
          Hr = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
          Xr = /Z|[+-]\d\d(?::?\d\d)?/,
          Vr = [
            ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
            ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
            ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
            ['GGGG-[W]WW', /\d{4}-W\d\d/, !1],
            ['YYYY-DDD', /\d{4}-\d{3}/],
            ['YYYY-MM', /\d{4}-\d\d/, !1],
            ['YYYYYYMMDD', /[+-]\d{10}/],
            ['YYYYMMDD', /\d{8}/],
            ['GGGG[W]WWE', /\d{4}W\d{3}/],
            ['GGGG[W]WW', /\d{4}W\d{2}/, !1],
            ['YYYYDDD', /\d{7}/],
          ],
          zr = [
            ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
            ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
            ['HH:mm:ss', /\d\d:\d\d:\d\d/],
            ['HH:mm', /\d\d:\d\d/],
            ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
            ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
            ['HHmmss', /\d\d\d\d\d\d/],
            ['HHmm', /\d\d\d\d/],
            ['HH', /\d\d/],
          ],
          Yr = /^\/?Date\((\-?\d+)/i,
          qr = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,
          Kr = {
            UT: 0,
            GMT: 0,
            EDT: -240,
            EST: -300,
            CDT: -300,
            CST: -360,
            MDT: -360,
            MST: -420,
            PDT: -420,
            PST: -480,
          };
        (e.createFromInputFallback = k(
          'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.',
          (t) => {
            t._d = new Date(t._i + (t._useUTC ? ' UTC' : ''));
          },
        )),
        (e.ISO_8601 = function () {}),
        (e.RFC_2822 = function () {});
        var Qr = k(
            'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
            function () {
              const t = Ee(...arguments);
              return this.isValid() && t.isValid()
                ? t < this
                  ? this
                  : t
                : y();
            },
          ),
          Jr = k(
            'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
            function () {
              const t = Ee(...arguments);
              return this.isValid() && t.isValid()
                ? t > this
                  ? this
                  : t
                : y();
            },
          ),
          Zr = function () {
            return Date.now ? Date.now() : +new Date();
          },
          $r = [
            'year',
            'quarter',
            'month',
            'week',
            'day',
            'hour',
            'minute',
            'second',
            'millisecond',
          ];
        je('Z', ':'),
        je('ZZ', ''),
        Y('Z', ur),
        Y('ZZ', ur),
        J(['Z', 'ZZ'], (t, e, i) => {
          (i._useUTC = !0), (i._tzm = Fe(ur, t));
        });
        var ta = /([\+\-]|\d\d)/gi;
        e.updateOffset = function () {};
        var ea = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,
          ia = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;
        (Ze.fn = Le.prototype), (Ze.invalid = Re);
        let na = ii(1, 'add'),
          ra = ii(-1, 'subtract');
        (e.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ'),
        (e.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]');
        var aa = k(
            'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
            function (t) {
              return void 0 === t ? this.localeData() : this.locale(t);
            },
          ),
          oa = 1e3,
          sa = 60 * oa,
          ua = 60 * sa,
          la = 3506328 * ua;
        W(0, ['gg', 2], 0, function () {
          return this.weekYear() % 100;
        }),
        W(0, ['GG', 2], 0, function () {
          return this.isoWeekYear() % 100;
        }),
        Gi('gggg', 'weekYear'),
        Gi('ggggg', 'weekYear'),
        Gi('GGGG', 'isoWeekYear'),
        Gi('GGGGG', 'isoWeekYear'),
        B('weekYear', 'gg'),
        B('isoWeekYear', 'GG'),
        U('weekYear', 1),
        U('isoWeekYear', 1),
        Y('G', or),
        Y('g', or),
        Y('GG', $n, Kn),
        Y('gg', $n, Kn),
        Y('GGGG', nr, Jn),
        Y('gggg', nr, Jn),
        Y('GGGGG', rr, Zn),
        Y('ggggg', rr, Zn),
        Z(['gggg', 'ggggg', 'GGGG', 'GGGGG'], (t, e, i, n) => {
          e[n.substr(0, 2)] = w(t);
        }),
        Z(['gg', 'GG'], (t, i, n, r) => {
          i[r] = e.parseTwoDigitYear(t);
        }),
        W('Q', 0, 'Qo', 'quarter'),
        B('quarter', 'Q'),
        U('quarter', 7),
        Y('Q', qn),
        J('Q', (t, e) => {
          e[pr] = 3 * (w(t) - 1);
        }),
        W('D', ['DD', 2], 'Do', 'date'),
        B('date', 'D'),
        U('date', 9),
        Y('D', $n),
        Y('DD', $n, Kn),
        Y('Do', (t, e) => (t
          ? e._dayOfMonthOrdinalParse || e._ordinalParse
          : e._dayOfMonthOrdinalParseLenient)),
        J(['D', 'DD'], gr),
        J('Do', (t, e) => {
          e[gr] = w(t.match($n)[0]);
        });
        const ca = nt('Date', !0);
        W('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear'),
        B('dayOfYear', 'DDD'),
        U('dayOfYear', 4),
        Y('DDD', ir),
        Y('DDDD', Qn),
        J(['DDD', 'DDDD'], (t, e, i) => {
          i._dayOfYear = w(t);
        }),
        W('m', ['mm', 2], 0, 'minute'),
        B('minute', 'm'),
        U('minute', 14),
        Y('m', $n),
        Y('mm', $n, Kn),
        J(['m', 'mm'], vr);
        const ha = nt('Minutes', !1);
        W('s', ['ss', 2], 0, 'second'),
        B('second', 's'),
        U('second', 15),
        Y('s', $n),
        Y('ss', $n, Kn),
        J(['s', 'ss'], mr);
        const da = nt('Seconds', !1);
        W('S', 0, 0, function () {
          return ~~(this.millisecond() / 100);
        }),
        W(0, ['SS', 2], 0, function () {
          return ~~(this.millisecond() / 10);
        }),
        W(0, ['SSS', 3], 0, 'millisecond'),
        W(0, ['SSSS', 4], 0, function () {
          return 10 * this.millisecond();
        }),
        W(0, ['SSSSS', 5], 0, function () {
          return 100 * this.millisecond();
        }),
        W(0, ['SSSSSS', 6], 0, function () {
          return 1e3 * this.millisecond();
        }),
        W(0, ['SSSSSSS', 7], 0, function () {
          return 1e4 * this.millisecond();
        }),
        W(0, ['SSSSSSSS', 8], 0, function () {
          return 1e5 * this.millisecond();
        }),
        W(0, ['SSSSSSSSS', 9], 0, function () {
          return 1e6 * this.millisecond();
        }),
        B('millisecond', 'ms'),
        U('millisecond', 16),
        Y('S', ir, qn),
        Y('SS', ir, Kn),
        Y('SSS', ir, Qn);
        let fa;
        for (fa = 'SSSS'; fa.length <= 9; fa += 'S') Y(fa, ar);
        for (fa = 'S'; fa.length <= 9; fa += 'S') J(fa, Ki);
        const pa = nt('Milliseconds', !1);
        W('z', 0, 0, 'zoneAbbr'), W('zz', 0, 0, 'zoneName');
        const ga = m.prototype;
        (ga.add = na),
        (ga.calendar = ai),
        (ga.clone = oi),
        (ga.diff = fi),
        (ga.endOf = Ci),
        (ga.format = mi),
        (ga.from = bi),
        (ga.fromNow = _i),
        (ga.to = wi),
        (ga.toNow = xi),
        (ga.get = ot),
        (ga.invalidAt = Fi),
        (ga.isAfter = si),
        (ga.isBefore = ui),
        (ga.isBetween = li),
        (ga.isSame = ci),
        (ga.isSameOrAfter = hi),
        (ga.isSameOrBefore = di),
        (ga.isValid = Bi),
        (ga.lang = aa),
        (ga.locale = Pi),
        (ga.localeData = ki),
        (ga.max = Jr),
        (ga.min = Qr),
        (ga.parsingFlags = ji),
        (ga.set = st),
        (ga.startOf = Si),
        (ga.subtract = ra),
        (ga.toArray = Ri),
        (ga.toObject = Li),
        (ga.toDate = Ai),
        (ga.toISOString = yi),
        (ga.inspect = vi),
        (ga.toJSON = Di),
        (ga.toString = gi),
        (ga.unix = Mi),
        (ga.valueOf = Ii),
        (ga.creationData = Ui),
        (ga.year = Pr),
        (ga.isLeapYear = it),
        (ga.weekYear = Ni),
        (ga.isoWeekYear = Wi),
        (ga.quarter = ga.quarters = Yi),
        (ga.month = gt),
        (ga.daysInMonth = yt),
        (ga.week = ga.weeks = Ct),
        (ga.isoWeek = ga.isoWeeks = It),
        (ga.weeksInYear = Xi),
        (ga.isoWeeksInYear = Hi),
        (ga.date = ca),
        (ga.day = ga.days = Ut),
        (ga.weekday = Gt),
        (ga.isoWeekday = Nt),
        (ga.dayOfYear = qi),
        (ga.hour = ga.hours = Fr),
        (ga.minute = ga.minutes = ha),
        (ga.second = ga.seconds = da),
        (ga.millisecond = ga.milliseconds = pa),
        (ga.utcOffset = Ne),
        (ga.utc = He),
        (ga.local = Xe),
        (ga.parseZone = Ve),
        (ga.hasAlignedHourOffset = ze),
        (ga.isDST = Ye),
        (ga.isLocal = Ke),
        (ga.isUtcOffset = Qe),
        (ga.isUtc = Je),
        (ga.isUTC = Je),
        (ga.zoneAbbr = Qi),
        (ga.zoneName = Ji),
        (ga.dates = k('dates accessor is deprecated. Use date instead.', ca)),
        (ga.months = k(
          'months accessor is deprecated. Use month instead',
          gt,
        )),
        (ga.years = k('years accessor is deprecated. Use year instead', Pr)),
        (ga.zone = k(
          'moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',
          We,
        )),
        (ga.isDSTShifted = k(
          'isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',
          qe,
        ));
        const ya = C.prototype;
        (ya.calendar = I),
        (ya.longDateFormat = M),
        (ya.invalidDate = A),
        (ya.ordinal = R),
        (ya.preparse = tn),
        (ya.postformat = tn),
        (ya.relativeTime = L),
        (ya.pastFuture = D),
        (ya.set = E),
        (ya.months = ct),
        (ya.monthsShort = ht),
        (ya.monthsParse = ft),
        (ya.monthsRegex = mt),
        (ya.monthsShortRegex = vt),
        (ya.week = Ot),
        (ya.firstDayOfYear = St),
        (ya.firstDayOfWeek = Et),
        (ya.weekdays = Lt),
        (ya.weekdaysMin = Bt),
        (ya.weekdaysShort = Dt),
        (ya.weekdaysParse = Ft),
        (ya.weekdaysRegex = Wt),
        (ya.weekdaysShortRegex = Ht),
        (ya.weekdaysMinRegex = Xt),
        (ya.isPM = Qt),
        (ya.meridiem = Jt),
        ee('en', {
          dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
          ordinal(t) {
            const e = t % 10;
            return (
              t +
                (w((t % 100) / 10) === 1
                  ? 'th'
                  : e === 1
                    ? 'st'
                    : e === 2
                      ? 'nd'
                      : e === 3
                        ? 'rd'
                        : 'th')
            );
          },
        }),
        (e.lang = k(
          'moment.lang is deprecated. Use moment.locale instead.',
          ee,
        )),
        (e.langData = k(
          'moment.langData is deprecated. Use moment.localeData instead.',
          re,
        ));
        var va = Math.abs,
          ma = _n('ms'),
          ba = _n('s'),
          _a = _n('m'),
          wa = _n('h'),
          xa = _n('d'),
          Pa = _n('w'),
          ka = _n('M'),
          Ta = _n('Q'),
          Oa = _n('y'),
          Ea = Pn('milliseconds'),
          Sa = Pn('seconds'),
          Ca = Pn('minutes'),
          Ia = Pn('hours'),
          Ma = Pn('days'),
          Aa = Pn('months'),
          Ra = Pn('years'),
          La = Math.round,
          Da = {
            ss: 44, s: 45, m: 45, h: 22, d: 26, M: 11,
          },
          Ba = Math.abs,
          ja = Le.prototype;
        return (
          (ja.isValid = Ae),
          (ja.abs = cn),
          (ja.add = dn),
          (ja.subtract = fn),
          (ja.as = mn),
          (ja.asMilliseconds = ma),
          (ja.asSeconds = ba),
          (ja.asMinutes = _a),
          (ja.asHours = wa),
          (ja.asDays = xa),
          (ja.asWeeks = Pa),
          (ja.asMonths = ka),
          (ja.asQuarters = Ta),
          (ja.asYears = Oa),
          (ja.valueOf = bn),
          (ja._bubble = gn),
          (ja.clone = wn),
          (ja.get = xn),
          (ja.milliseconds = Ea),
          (ja.seconds = Sa),
          (ja.minutes = Ca),
          (ja.hours = Ia),
          (ja.days = Ma),
          (ja.weeks = kn),
          (ja.months = Aa),
          (ja.years = Ra),
          (ja.humanize = Cn),
          (ja.toISOString = Mn),
          (ja.toString = Mn),
          (ja.toJSON = Mn),
          (ja.locale = Pi),
          (ja.localeData = ki),
          (ja.toIsoString = k(
            'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',
            Mn,
          )),
          (ja.lang = aa),
          W('X', 0, 0, 'unix'),
          W('x', 0, 0, 'valueOf'),
          Y('x', or),
          Y('X', lr),
          J('X', (t, e, i) => {
            i._d = new Date(1e3 * parseFloat(t, 10));
          }),
          J('x', (t, e, i) => {
            i._d = new Date(w(t));
          }),
          (e.version = '2.24.0'),
          (function (t) {
            An = t;
          }(Ee)),
          (e.fn = ga),
          (e.min = Ce),
          (e.max = Ie),
          (e.now = Zr),
          (e.utc = d),
          (e.unix = Zi),
          (e.months = an),
          (e.isDate = u),
          (e.locale = ee),
          (e.invalid = y),
          (e.duration = Ze),
          (e.isMoment = b),
          (e.weekdays = sn),
          (e.parseZone = $i),
          (e.localeData = re),
          (e.isDuration = De),
          (e.monthsShort = on),
          (e.weekdaysMin = ln),
          (e.defineLocale = ie),
          (e.updateLocale = ne),
          (e.locales = ae),
          (e.weekdaysShort = un),
          (e.normalizeUnits = j),
          (e.relativeTimeRounding = En),
          (e.relativeTimeThreshold = Sn),
          (e.calendarFormat = ri),
          (e.prototype = ga),
          (e.HTML5_FMT = {
            DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',
            DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',
            DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',
            DATE: 'YYYY-MM-DD',
            TIME: 'HH:mm',
            TIME_SECONDS: 'HH:mm:ss',
            TIME_MS: 'HH:mm:ss.SSS',
            WEEK: 'GGGG-[W]WW',
            MONTH: 'YYYY-MM',
          }),
          e
        );
      }));
    }.call(e, i(134)(t)));
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(431),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = void 0,
      u = (function () {
        function t() {
          n(this, t), (this.bots = []);
        }
        return (
          r(t, [
            {
              key: 'reset',
              value() {
                this.bots.forEach(t => t.reset()),
                (this.bots = []);
              },
            },
            {
              key: 'addBot',
              value(t) {
                if (!t) { throw new Error('Invalid configuration for constructing a Player instance!'); }
                const e = new o.default(t);
                return this.bots.push(e), e;
              },
            },
            {
              key: 'getBots',
              value() {
                return this.bots;
              },
            },
            {
              key: 'update',
              value() {
                this.bots.forEach(t => t.update());
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance(t) {
        return s || (s = new u()), t && s.reset(), s;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function o(t, e) {
      return a({}, t, a({}, f, [e]));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      l = i(8),
      c = n(l),
      h = i(3),
      d = n(h),
      f = 'selection',
      p = [],
      g = u(
        {},
        o('commandcenter', 'fed_struct01'),
        o('miningstation', 'fed_struct02'),
        o('civilianbase', 'fed_struct03'),
        o('solarstation', 'fed_struct04'),
        o('shipfactory', 'fed_struct05'),
        o('dockyard', 'fed_struct06'),
        o('merchantport', 'fed_struct07'),
        o('researchcenter', 'fed_struct08'),
        o('astrometricstation', 'fed_struct09'),
        o('fleetheadquarters', 'fed_struct10'),
        o('defensesatellite', 'fed_struct11'),
        o('defenseplatform', 'fed_struct12'),
        o('fusionreactor', 'fed_struct13'),
        o('eirainstitute', 'fed_struct14'),
        o('deepspacelab', 'fed_struct15'),
        o('medical-station', 'fed_struct16'),
        o('helium3-reactor', 'fed_struct17'),
        o('bifrostbridge', 'fed_struct_jumpgate'),
        o('jumpgate', 'fed_struct_jumpgate'),
        o('eiraresearchstation', 'fed_struct15'),
        o('keikosentrypod', 'fed_struct11'),
        o('piratestation', 'fed_struct05'),
        o('piratebase', 'fed_struct05'),
        o('centralpyramid', 'ath_struct01'),
        o('masstransmitter', 'ath_struct02'),
        o('biosphere', 'ath_struct03'),
        o('powercore', 'ath_struct04'),
        o('polaronsphere', 'ath_struct05'),
        o('obelisk', 'ath_struct06'),
        o('sanctuary', 'ath_struct07'),
        o('synodum', 'ath_struct08'),
        o('conservatory', 'ath_struct09'),
        o('monumentofwill', 'ath_struct10'),
        o('basilica', 'ath_struct11'),
        o('theocratsseat', 'ath_struct12'),
        o('shieldgenerator', 'ath_struct13'),
        o('psyhicdome', 'ath_struct14'),
        o('dome', 'ath_struct15'),
        o('martyrium', 'ath_struct16'),
        o('craftmill', 'ath_struct17'),
        o('installationprime', 'syl_struct01'),
        o('refinery', 'syl_struct02'),
        o('supportcenter', 'syl_struct03'),
        o('manufacture', 'syl_struct04'),
        o('advancedmanufacture', 'syl_struct05'),
        o('manufactureprime', 'syl_struct06'),
        o('defensiveserver', 'syl_struct07'),
        o('offensiveserver', 'syl_struct08'),
        o('quantumcore', 'syl_struct09'),
        o('aegis', 'syl_struct10'),
        o('wormholegenerator', 'syl_struct11'),
        o('repairstation', 'syl_struct12'),
        o('supportcomplex', 'syl_struct13'),
        o('stellarreactor', 'syl_struct14'),
        o('transponder', 'syl_struct15'),
        o('syluscore', 'syl_struct09'),
        o('conflux', 'syl_struct17'),
        o('array', 'syl_struct18'),
        o('capitol', 'tho_struct01'),
        o('materialsilo', 'tho_struct02'),
        o('habitat', 'tho_struct03'),
        o('powerplant', 'tho_struct04'),
        o('energystorage', 'tho_struct05'),
        o('hall', 'tho_struct06'),
        o('flagshipyard', 'tho_struct07'),
        o('forum', 'tho_struct08'),
        o('skycourt', 'tho_struct09'),
        o('senate', 'tho_struct10'),
        o('guardstation', 'tho_struct11'),
        o('provincialbeacon', 'tho_struct12'),
        o('ioncannon', 'tho_struct13'),
        o('forge', 'tho_struct14'),
        o('guild', 'tho_struct15'),
        o('anvil', 'tho_struct16'),
        o('consulate', 'tho_struct17'),
        o('cropbed', 'zho_struct01'),
        o('nutrientcolony', 'zho_struct02'),
        o('metabolist', 'zho_struct03'),
        o('agaric', 'zho_struct04'),
        o('mindfungus', 'zho_struct05'),
        o('clathruscolony', 'zho_struct06'),
        o('symbioticorgan', 'zho_struct07'),
        o('evulatory', 'zho_struct08'),
        o('swarmmembrane', 'zho_struct09'),
        o('chrysodendron', 'zho_struct10'),
        o('chimneyplant', 'zho_struct11'),
        o('decaychamber', 'zho_struct12'),
        o('fonia', 'zho_struct13'),
        o('seed', 'zho_struct14'),
        o('birthingpool', 'zho_struct15'),
        o('pond', 'zho_struct16'),
        o('helia', 'zho_struct18'),
        o('warren', 'zho_struct19'),
      ),
      y = {
        rectordeployed: 'rector',
        arsondeployed: 'arson',
        avenger2: 'avenger',
        mindovum: 'ovum',
        ovumreincarnate: 'ovum',
        predatordeployed: 'predator',
        elasmoruptor: 'ruptor',
        pirateorca: 'orca',
        piratehurricane: 'hurricane',
        piratepiratevessel: 'piratevessel',
        icarusloaded: 'icarus',
        haulerloaded: 'hauler',
        harvesterloaded: 'harvester',
      },
      v = (function () {
        function t() {
          r(this, t), (this.masterVolume = 1);
        }
        return (
          s(t, [
            {
              key: 'playReadyQuote',
              value(t) {
                return this.playQuote(t, 'ready');
              },
            },
            {
              key: 'playSelectionQuote',
              value(t) {
                return t
                  ? t.isInConstruction()
                    ? null
                    : this.playQuote(t, f)
                  : null;
              },
            },
            {
              key: 'playConfirmQuote',
              value(t) {
                return t
                  ? t.isInConstruction() ||
                    t.hasNoUserControl() ||
                    t.getInTransform()
                    ? null
                    : this.playQuote(t, 'confirm')
                  : null;
              },
            },
            {
              key: 'playAttackQuote',
              value(t) {
                return t
                  ? t.isInConstruction() ||
                    t.hasNoUserControl() ||
                    t.getInTransform()
                    ? null
                    : this.playQuote(t, 'attack')
                  : null;
              },
            },
            {
              key: 'playAlertQuote',
              value(t) {
                return this.playQuote(t, 'alert');
              },
            },
            {
              key: 'playQuote',
              value(t, e) {
                if (t && !t._quoteIsPlayed) {
                  const i = this.getQuoteId(t, e);
                  if (i) {
                    let n = {
                        sprite: 'sfx',
                        volume: this.masterVolume,
                        marker: i,
                      },
                      r = c.default.getInstance().playAudioSprite(n);
                    r &&
                      (r.onMarkerComplete.addOnce(() => {
                        t._quoteIsPlayed = !1;
                      }),
                      (t._quoteIsPlayed = !0));
                  }
                }
              },
            },
            {
              key: 'getQuoteId',
              value(t, e) {
                this.sfxSpriteMap ||
                  (this.sfxSpriteMap = Phaser.GAMES[0].cache.getJSON('sfx').spritemap);
                let i = t.getDataObject().getId();
                void 0 !== y[i] && (i = y[i]);
                let n = new RegExp(`^${i}_${e}`),
                  r =
                    (g[i] && g[i][e]) ||
                    (this.sfxSpriteMap &&
                      Object.keys(this.sfxSpriteMap).filter(t => n.test(t)));
                if (
                  (r.length === 0 &&
                    e === 'attack' &&
                    ((n = new RegExp(`^${i}_confirm`)),
                    (r =
                      this.sfxSpriteMap &&
                      Object.keys(this.sfxSpriteMap).filter(t => n.test(t)))),
                  !r)
                ) { return ''; }
                if (r.length > 1) {
                  let a = p.findIndex(t => t.entityId === i && t.event === e),
                    o = d.default.rnd(0, r.length - 1);
                  if (a !== -1) {
                    (r = r.filter(t => t !== p[a].name)),
                    (o = d.default.rnd(0, r.length - 1));
                    const s = { entityId: i, event: e, name: r[o] };
                    p[a] = s;
                  } else {
                    const u = { entityId: i, event: e, name: r[o] };
                    p.push(u);
                  }
                  return r[o];
                }
                return r[d.default.rnd(0, r.length - 1)];
              },
            },
            {
              key: 'getMasterVolume',
              value() {
                return this.masterVolume;
              },
            },
            {
              key: 'setMasterVolume',
              value(t) {
                t < 0 || t > 1 || (this.masterVolume = t);
              },
            },
          ]),
          t
        );
      }()),
      m = new v();
    e.default = m;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = window.fivenations,
      o = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'applyColorizeFilter',
              value(t, e, i, n) {
                const r = a.game.cache.getJSON(t);
                if (!i.isIndependent() && r.type !== 'Space Object') {
                  const o = t + i.getColor();
                  if (a.game.cache.checkRenderTextureKey(o)) {
                    e.texture = new Phaser.RenderTexture(a.game);
                    const s = a.game.cache.getRenderTexture(o).texture;
                    (e.texture.baseTexture = s.baseTexture),
                    (e.texture.textureBuffer = s.textureBuffer),
                    (e.texture.renderer = s.renderer),
                    (e.texture.game = s.game);
                  } else {
                    let u = a.game.cache.getImage(t),
                      l = a.game.add.renderTexture(u.width, u.height),
                      c = a.game.add.sprite(0, 0, t);
                    (c._frame.x = 0),
                    (c._frame.y = 0),
                    (c._frame.width = u.width),
                    (c._frame.height = u.height),
                    c.destroy(),
                    (c = a.game.add.sprite(0, 0, t)),
                    (c.filters = [i.getColorizerFilter()]),
                    n
                      ? ((c.filterArea = new Phaser.Rectangle(
                        0,
                        0,
                        u.width + 86,
                        u.height + 77,
                      )),
                      l.renderXY(c, -86, -77, !0))
                      : l.renderXY(c, 0, 0, !0),
                    c.destroy(),
                    (l.baseTexture.source = u),
                    (e.texture = l),
                    a.game.cache.addRenderTexture(o, l);
                  }
                }
              },
            },
          ]),
          t
        );
      }());
    e.default = new o();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(8),
      s = n(o),
      u = i(10),
      l = n(u),
      c = i(1),
      h = n(c),
      d = i(14),
      f = n(d),
      p = i(3),
      g = n(p),
      y = void 0,
      v = void 0,
      m = (function () {
        function t() {
          r(this, t),
          (this.entityGroup = f.default.getInstance().getGroup('entities')),
          (this.effectGroup = f.default
            .getInstance()
            .getGroup('projectiles')),
          (this.onCollision = this.collisionHandler.bind(this));
        }
        return (
          a(t, [
            {
              key: 'update',
              value(t) {
                t &&
                  y.physics.arcade.overlap(
                    this.effectGroup,
                    this.entityGroup,
                    null,
                    this.onCollision,
                  );
              },
            },
            {
              key: 'collisionHandler',
              value(t, e) {
                let i = e._entity,
                  n = t._effect;
                return (
                  !n._readyToUnmount &&
                  (n.isCloud()
                    ? this.executeCloudCollisionLogic(n, i)
                    : this.executeCollisionLogic(n, i))
                );
              },
            },
            {
              key: 'executeCloudCollisionLogic',
              value(t, e) {
                if (!e || !t) return !1;
                if (e.isHibernated()) return !1;
                let i = t.getEmitter(),
                  n = t.getDataObject().getEvent('collision'),
                  r = h.default.getInstance();
                if (
                  (n.removeEffect &&
                    ((t._readyToUnmount = !0), r.synced.effects(t).remove()),
                  n.callbackCollectionId)
                ) {
                  const a = { effect: t, entity: e, emitterEntity: i };
                  l.default.getInstance().run(n.callbackCollectionId, a);
                }
                if (n.audio) {
                  let o = s.default.getInstance(),
                    u = o.calculateVolumeByCamera(t.getSprite());
                  (n.audio.volume = u), o.playAudioSpriteByConfig(n.audio);
                }
                return !1;
              },
            },
            {
              key: 'executeCollisionLogic',
              value(t, e) {
                const i = t.getEmitter();
                if (!e || !t || !i) return !1;
                let n = i.getManager(),
                  r = n.getEntity(),
                  a = t.getTargetEntity() || n.getTargetEntity();
                if (r === e) return !1;
                if (e.isHibernated()) return !1;
                if (!r.isEnemy(e) && !i.hasFriendlyFire()) {
                  if (!t.hasReleasedThroughTargetFiring()) return !1;
                  if (e !== a) return !1;
                }
                if (i.doesCollideOnlyWithTarget() && e !== a) return !1;
                if (!i.canHitFighters() && e.getDataObject().isFighter()) { return !1; }
                if (i.canHitFightersOnly() && !e.getDataObject().isFighter()) { return !1; }
                if (!i.canHitFighters() && e.getDataObject().isFighter()) { return !1; }
                if (i.canHitBuildingsOnly() && !e.getDataObject().isBuilding()) { return !1; }
                if (i.hasDamageOnceOnly()) {
                  if (t.isDamagedTargets(e.getGUID())) return !1;
                  t.setDamagedTargets(e.getGUID());
                }
                if (
                  i.getMinRange() > 0 &&
                  g.default.distanceBetween(t, r) < i.getMinRange()
                ) { return !1; }
                let o = t.getDataObject().getEvent('collision'),
                  u = h.default.getInstance();
                if (
                  (o.removeEffect &&
                    ((t._readyToUnmount = !0), u.synced.effects(t).remove()),
                  o.damageTarget && u.synced.entities(e).damage({ weapon: i }),
                  o.callbackCollectionId)
                ) {
                  const c = { weapon: i, entity: e, emitterEntity: r };
                  l.default.getInstance().run(o.callbackCollectionId, c);
                }
                if (o.audio) {
                  let d = s.default.getInstance(),
                    f = d.calculateVolumeByCamera(t.getSprite());
                  (o.audio.volume = f), d.playAudioSpriteByConfig(o.audio);
                }
                return !1;
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      setGame(t) {
        y = t;
      },
      getInstance(t) {
        if (!y) { throw new Error('Invoke setGame first to pass required Phaser.Game instance!'); }
        return (v && !t) || (v = new m()), v;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(2),
      u = i(648),
      l = n(u),
      c = i(652),
      h = n(c),
      d = i(647),
      f = n(d),
      p = i(646),
      g = n(p),
      y = i(651),
      v = n(y),
      m = i(645),
      b = n(m),
      _ = i(201),
      w = n(_),
      x = i(649),
      P = n(x),
      k = void 0,
      T = (function () {
        function t() {
          r(this, t);
          const e = a(Phaser.GAMES, 1);
          (this.game = e[0]),
          (this.loader = new Phaser.Loader(this.game)),
          (this.loader.crossOrigin = 'anonymous');
        }
        return (
          o(t, [
            {
              key: 'start',
              value() {
                const t = this;
                return this.isCompleted()
                  ? Promise.resolve()
                  : new Promise(((e) => {
                    const i = new Phaser.Loader(t.game);
                    i.json(
                      'images',
                      `${s.PUBLIC_URL}assets/images/images.json`,
                    ),
                    i.onLoadComplete.addOnce(() => {
                      t.registerResources(),
                      t.loader.onLoadComplete.add(() => {
                        (t.loadCompleted = !0), t.processDataCache(), e();
                      }),
                      t.loader.start(),
                      (t.started = !0);
                    }),
                    i.start();
                  }));
              },
            },
            {
              key: 'processDataCache',
              value() {
                let t = this,
                  e = this.game.cache.getJSON('datas');
                Object.keys(e).forEach((i) => {
                  t.game.cache.addJSON(i, null, e[i]);
                }),
                this.game.cache.removeJSON('datas'),
                g.default.processDataCache(this.game.cache);
              },
            },
            {
              key: 'registerResources',
              value() {
                l.default.load(this.loader),
                h.default.load(this.loader),
                f.default.load(this.loader),
                g.default.load(this.loader),
                v.default.load(this.loader),
                b.default.load(this.loader),
                P.default.load(this.loader),
                w.default.load(this.loader);
              },
            },
            {
              key: 'getLoader',
              value() {
                return this.loader;
              },
            },
            {
              key: 'isCompleted',
              value() {
                return this.loadCompleted;
              },
            },
            {
              key: 'hasStarted',
              value() {
                return this.started;
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return k || (k = new T()), k;
      },
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = void 0,
      s = (function () {
        function t() {
          n(this, t);
          const e = r(Phaser.GAMES, 1);
          (this.game = e[0]),
          (this.data = this.game.cache.getJSON('researches'));
        }
        return (
          a(t, [
            {
              key: 'getResearchById',
              value(t) {
                return this.data[t];
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance(t) {
        return (o && !t) || (o = new s()), o;
      },
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = window.fivenations,
      o = void 0,
      s = (function () {
        for (var t = [], e = 0; e < 250; e += 1) t.push(Math.random());
        return t;
      }()),
      u = 0,
      l = (function () {
        function t() {
          n(this, t), (this.game = a.game);
        }
        return (
          r(t, [
            {
              key: 'setRandomNumbers',
              value(t) {
                s = t;
              },
            },
            {
              key: 'get',
              value(t) {
                const e = t || u % s.length;
                return (u += 1), s[e];
              },
            },
            {
              key: 'getAll',
              value() {
                return s;
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return o || (o = new l()), o;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      if (Array.isArray(t)) {
        for (var e = 0, i = Array(t.length); e < t.length; e++) i[e] = t[e];
        return i;
      }
      return Array.from(t);
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function o(t, e) {
      let i = e.isBuilding() || e.isSpaceObject(),
        n = 1,
        r = 1;
      return (
        i &&
          ((n = Math.max(Math.floor(t.hitArea.width / it.TILE_WIDTH), 1) + 1),
          (r = Math.max(Math.floor(t.hitArea.height / it.TILE_HEIGHT), 1) + 1)),
        {
          offsetX: Math.floor(n / 2),
          offsetY: Math.floor(r / 2),
          width: n,
          height: r,
        }
      );
    }
    function s(t, e, i) {
      const n = t.entities(i);
      (e.homeStation = n),
      (n.deliverer = e),
      n.on('remove', () => {
        e.homeStation = null;
      }),
      e.on('remove', () => {
        n.deliverer = null;
      });
    }
    function u(t) {
      const e = lt.game.map.getCollisionMap();
      t.on('initMovement', () => {
        t.forceUnvisitNextTile(e);
      }),
      t.on('move', () => {
        t.forceUnvisitNextTile(e);
      }),
      t.on(
        'damage',
        function () {
          const t = this.dataObject.getEvent('damage');
          if (t) {
            const e = t.callbackCollectionId;
            e && tt.default.getInstance().run(e, this);
          }
        }.bind(t),
      ),
      t.on('updateCargo', e => t.updateCargo(e));
    }
    function l(t) {
      let e = t.getDataObject(),
        i = e.getEvent('create'),
        n = m.default.getInstance();
      if (i) {
        const r = i.activities;
        r &&
          r.length &&
          r.forEach((e) => {
            const i = n.isUserAuthorised();
            if (!e.authorisedOnly || i) {
              const r = k.default.getActivityByString(e.id);
              if (!r) return;
              const a = new r(t);
              t.getActivityManager().add(a);
            }
          });
      }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var c = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      h = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      d =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          },
      f = i(105),
      p = n(f),
      g = i(8),
      y = n(g),
      v = i(4),
      m = n(v),
      b = i(76),
      _ = n(b),
      w = i(1),
      x = n(w),
      P = i(448),
      k = n(P),
      T = i(524),
      O = n(T),
      E = i(515),
      S = n(E),
      C = i(447),
      I = n(C),
      M = i(525),
      A = n(M),
      R = i(516),
      L = n(R),
      D = i(517),
      B = n(D),
      j = i(28),
      F = n(j),
      U = i(629),
      G = n(U),
      N = i(74),
      W = n(N),
      H = i(24),
      X = n(H),
      V = i(22),
      z = n(V),
      Y = i(48),
      q = n(Y),
      K = i(3),
      Q = n(K),
      J = i(14),
      Z = n(J),
      $ = i(10),
      tt = n($),
      et = i(2),
      it = (function (t) {
        if (t && t.__esModule) return t;
        const e = {};
        if (t != null) {
          for (const i in t) { Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); }
        }
        return (e.default = t), e;
      }(et)),
      nt = i(507),
      rt = n(nt),
      at = i(183),
      ot = n(at),
      st = i(187),
      ut = n(st),
      lt = window.fivenations,
      ct = function (t, e) {
        e.idleForever = !1;
        let i = e.getAnimations(),
          n = e.getAnimationOffset();
        if (
          i &&
          (void 0 === i ? 'undefined' : d(i)) === 'object' &&
          (Object.keys(i).forEach((r) => {
            const a = i[r];
            if (a.length) {
              a.forEach((e, i) => {
                const a = e.frames.map(t => t + n);
                t.animations.add(r + i, a, e.rate, e.loopable);
              });
            } else {
              const o = a.frames
                ? a.frames.map(t => t + n)
                : [];
              t.animations.add(r, o, a.rate, a.loopable);
            }
            r === it.ANIMATION_IDLE_FOREVER && (e.idleForever = !0);
          }),
          e.idleForever)
        ) {
          const r = t.animations.currentAnim.frameTotal;
          t.animations.play(it.ANIMATION_IDLE_FOREVER),
          t.animations.currentAnim.setFrame(Q.default.rnd(0, r - 1), !0);
        }
      },
      ht = function (t, e) {
        const i = e.getVariances();
        if (i.length) {
          const n = e.getAnimationOffset();
          (t.frame = i[Q.default.rnd(0, i.length - 1)]),
          (t.frame += n),
          (t._defaultFrame = t.frame);
        } else {
          const r = e.getDefatultFrame();
          t.frame = r;
        }
      },
      dt = function (t, e, i) {
        e.events.onInputDown.add(function () {
          let t = this,
            e = void 0;
          if (
            !X.default.getInstance().hasActiveSelection() &&
            !W.default.getInstance().isHover() &&
            q.default.getInstance().isLeftButtonDown()
          ) {
            const n = x.default.getInstance();
            z.default.getInstance().isDown(Phaser.KeyCode.SHIFT)
              ? this.selected
                ? this.unselect()
                : this.select()
              : (this.entityManager.unselectAll(), this.select()),
            (e = new Date().getTime()),
            e - this.lastClickTime < 500 &&
                this.entityManager
                  .entities(':onscreen')
                  .filter(e => (
                    e.getDataObject().getId() === i.getId() &&
                      !e.getDataObject().isSpaceObject() &&
                      t.getPlayer() === e.getPlayer()
                  ))
                  .forEach(t => t.select()),
            (this.lastClickTime = e),
            this.player.isControlledByUser() &&
                n.local.dispatch('user/entity/select', [this]);
          }
        }, t),
        e.events.onInputOut.add(() => {
          e.hover = !1;
        }),
        e.events.onInputOver.add(() => {
          e.hover = !0;
        });
      },
      ft = function (t, e, i) {
        let n = i.getWidth(),
          r = i.getHeight(),
          a = i.getDamageWidth(),
          s = i.getDamageHeight(),
          u = (i.isBuilding(), it.GROUP_ENTITIES),
          l = Z.default.getInstance().getGroup(u);
        return (
          t.game.physics.enable(e, Phaser.Physics.ARCADE),
          e.anchor.setTo(0.5, 0.5),
          (e.inputEnabled = !0),
          (e.hover = !1),
          ct(e, i),
          ht(e, i),
          dt(t, e, i),
          (e.x = 0),
          (e.y = 0),
          (e.hitArea = new Phaser.Rectangle(n / -2, r / -2, n, r)),
          (e._damageWidth = Math.round(0.5 * a)),
          (e._damageHeight = Math.round(0.5 * s)),
          (e._damageWidthWithShield = Math.round(0.7 * a)),
          (e._damageHeightWithShield = Math.round(0.7 * s)),
          (e._collision = o(e, i)),
          (e._entity = t),
          l.add(e),
          (e._group = l),
          e
        );
      },
      pt = (function () {
        function t(e) {
          const i = this;
          a(this, t),
          (this.gui = W.default.getInstance()),
          (this.createdAt = e.createdAt),
          (this.entityManager = e.entityManager),
          (this.audioManager = y.default.getInstance()),
          (this.game = e.entityManager.getGame()),
          (this.guid = e.guid),
          (this.dataObject = e.dataObject),
          (this._lowHPTreshold =
              this.dataObject.getMaxHull() * it.LOW_HP_TRESHOLD),
          (this.detectedByTeam = {}),
          (this.eventDispatcher = new Q.default.EventDispatcher()),
          u(this),
          (this.player = m.default
            .getInstance()
            .getPlayerByTeam(this.dataObject.getTeam()));
          const n = this.game.add.sprite(0, 0, e.id);
          if (
            (ot.default.applyColorizeFilter(e.id, n, this.player),
            (this.sprite = ft(this, n, e.dataObject)),
            (e.x || e.y) &&
              ((n.x = e.x || 0),
              (n.y = e.y || 0),
              (n.body.x = e.x || 0),
              (n.body.y = e.y || 0)),
            !1 === e.visible && (this.sprite.visible = !1),
            (this.activityManager = new k.default(this)),
            (this.motionManager = new S.default(this)),
            (this.weaponManager = new A.default(this)),
            (this.productionManager = new L.default(this)),
            (this.researchManager = new B.default(this)),
            (this.abilityManager = new I.default(this)),
            this.dataObject.getConstructionProximity() > 0 &&
              (this.proximityMonitor = this.gui.addProximityMonitor(this)),
            this.updateDamageArea(),
            this.dataObject.hasJetEngine() &&
              (this.jetEngine = this.entityManager.addJetEngine(this)),
            (this.spellManager = new O.default(this)),
            this.spellManager.activateSpellsByWeaponManager(this.weaponManager),
            e.homeStation && s(this.entityManager, this, e.homeStation),
            (this.removeDockerEntity = function () {
              (i.dockerEntity = null), i.setNoUserControl(!1);
            }),
            (this.noUserControl = e.noUserControl),
            (this.parent = e.parent),
            l(this),
            (this.bigShipTiles = []),
            lt.game.map.getCollisionMap().updateObstacleAroundBigShip(this),
            this.upgradeByAllCompletedResearches(),
            this.addGUIElements(),
            (this.animationLocked = !1),
            this.getAnimationByKey('attack'))
          ) {
            const r = this.weaponManager.getWeapons().find(t => t.isOffensive());
            r && (this.actionAnimation = new rt.default(this, r));
          }
          if (
            lt.debug.spying &&
            this.getDataObject().getType() === 'mainbase' &&
            this.player &&
            !this.player.isControlledByUser()
          ) {
            let o = {
                font: 'bold 14px Arial',
                fill: this.getPlayer()
                  .getColor()
                  .replace('0x', '#'),
                align: 'left',
              },
              c = lt.game.add.bitmapData(140, 140);
            (c.ctx.fillStyle = '#11111'),
            c.ctx.fillRect(0, 0, 140, 140),
            (lt.game.add.sprite(e.x - 70, e.y - 70, c).alpha = 0.7),
            (this.spyingText = lt.game.add.text(
              e.x - 60,
              e.y - 60,
              'Resources:',
              o,
            ));
          }
        }
        return (
          h(t, [
            {
              key: 'on',
              value(t, e) {
                this.eventDispatcher.addEventListener(t, e);
              },
            },
            {
              key: 'once',
              value(t, e) {
                let i = this,
                  n = function n() {
                    e(...arguments),
                    i.eventDispatcher.removeEventListener(t, n);
                  };
                this.eventDispatcher.addEventListener(t, n);
              },
            },
            {
              key: 'off',
              value(t, e) {
                this.eventDispatcher.removeEventListener(t, e);
              },
            },
            {
              key: 'update',
              value(t) {
                const e = this;
                if (
                  (this.hibernated ||
                    (this.neutralised ||
                      (this.activityManager.update(),
                      this.isInWither() ||
                        (this.productionManager.update(),
                        this.researchManager.update(),
                        this.logic && this.logic.update())),
                    this.spellManager.update(),
                    lt.mapEditorMode ||
                      (this.motionManager.update(),
                      this.neutralised ||
                        this.isInWither() ||
                        this.getInTransform() ||
                        this.weaponManager.update(t)),
                    this.isIdling() && this.setInTransform(!1)),
                  lt.debugMode &&
                    this.sprite.visible &&
                    (this.game.debug.body(this.sprite),
                    Object.keys(this.detectedByTeam)
                      .map(t => e.detectedByTeam[t])
                      .forEach((t, i) => {
                        e.game.debug.text(
                          t ? `Detected by Player ${i + 1} ` : '',
                          e.sprite.x - e.game.camera.x,
                          e.sprite.y - e.game.camera.y - 30 + 16 * i,
                          '#aa00fa',
                        );
                      }),
                    this.motionManager.calculatePathInProgress &&
                      this.game.debug.text(
                        'Pathfinding in progress',
                        this.sprite.x - this.game.camera.x - 30,
                        this.sprite.y - this.game.camera.y - 30,
                        '#aa00fa',
                      ),
                    this.attackWave &&
                      this.game.debug.text(
                        `Wave: ${this.attackWave.waveCount}`,
                        this.sprite.x - this.game.camera.x - 30,
                        this.sprite.y - this.game.camera.y - 50,
                        '#ff00fa',
                      ),
                    this.getInTransform() &&
                      this.game.debug.text(
                        'InTransform',
                        this.sprite.x - this.game.camera.x - 30,
                        this.sprite.y - this.game.camera.y - 70,
                        '#ff00fa',
                      )),
                  this.updateShield(),
                  this.updatePower(),
                  this.updateEnergyEmission(t),
                  this.updateHangar(t),
                  this.updateLowHPEffect(),
                  this.updateActionAnimation(),
                  this.updateWither(),
                  this.updateInterceptors(),
                  this.spyingText)
                ) {
                  let i = this.getPlayer(),
                    n = i.getBlockedResourceSum(),
                    r =
                      `Metal: ${
                        i.getTitanium()
                      } (${
                        n.titanium
                      })\nHelium-3: ${
                        i.getSilicium()
                      } (${
                        n.silicium
                      })\nTachyon: ${
                        i.getUranium()
                      } (${
                        n.uranium
                      })\nSupply: ${
                        i.getCurrentEntityNumber()
                      } / ${
                        i.getSupply()
                      } (${
                        n.supply
                      })\nEnergy: ${
                        i.getEnergy()
                      } / ${
                        i.getMaxEnergyStorage()
                      } (${
                        n.energy
                      })\n`;
                  this.spyingText.setText(r);
                }
              },
            },
            {
              key: 'updateWither',
              value() {
                if (
                  this.getDataObject().hasAnimation('withers') &&
                  !this.isInWither() &&
                  !this.entityManager.isInConstructionProximity(this)
                ) {
                  const t = new k.default.Wither(this);
                  this.activityManager.removeAll(), this.activityManager.add(t);
                }
              },
            },
            {
              key: 'updateActionAnimation',
              value() {
                this.actionAnimation &&
                  (this.isAttacking() &&
                  !this.isMoving() &&
                  this.getMotionManager().isEntityFacingTargetEntity(this.getWeaponManager().getTargetEntity())
                    ? this.actionAnimation.start()
                    : this.actionAnimation.stop(),
                  this.actionAnimation.update());
              },
            },
            {
              key: 'updateVisibility',
              value(t) {
                if (!this.getPlayer().isIndependent()) {
                  let e = t.isVisible(...r(this.getTile())),
                    i = this.sprite.renderable;
                  (this.sprite.renderable = e),
                  !e && this.selected && this.unselect(),
                  i !== e && this.eventDispatcher.dispatch('visibility', e);
                }
              },
            },
            {
              key: 'updateShield',
              value() {
                void 0 === this._lastShieldUpdate &&
                  (this._lastShieldUpdate = lt.game.turn);
                let t = lt.game.turn - this._lastShieldUpdate,
                  e = this.dataObject.getMaxShield(),
                  i = this.dataObject.getShield();
                if (e !== 0) {
                  if (i === e) { return void (this._lastShieldUpdate = lt.game.turn); }
                  let n = it.SHIELD_CHARGE_RATE_IN_TURNS;
                  if (
                    (this.spellManager.isActive('forcedShield') &&
                      (n = Math.floor(0.1 * n)),
                    t >= n)
                  ) {
                    const r = Math.floor(t / n) || 0;
                    this.dataObject.restoreShield(r),
                    this.dispatch('restoreAttr'),
                    (this._lastShieldUpdate = lt.game.turn),
                    this.updateDamageArea();
                  }
                }
              },
            },
            {
              key: 'updatePower',
              value() {
                void 0 === this._lastPowerUpdate &&
                  (this._lastPowerUpdate = lt.game.turn);
                let t = lt.game.turn - this._lastPowerUpdate,
                  e = x.default.getInstance(),
                  i = this.dataObject.getMaxPower(),
                  n = this.dataObject.getPower();
                if (i !== 0) {
                  if (n === i && !this.dataObject.isEphemeralUnit()) { return void (this._lastPowerUpdate = lt.game.turn); }
                  if (t >= it.POWER_CHARGE_RATE_IN_TURNS) {
                    const r = Math.floor(t / it.POWER_CHARGE_RATE_IN_TURNS) || 0;
                    this.dataObject.isEphemeralUnit()
                      ? this.isDockedInterceptor() ||
                        (this.dataObject.reducePower(r),
                        this.dataObject.getPower() <= 0 &&
                          e.synced.entities(this).remove())
                      : this.dataObject.restorePower(r),
                    this.dispatch('restoreAttr'),
                    (this._lastPowerUpdate = lt.game.turn);
                  }
                }
              },
            },
            {
              key: 'isDockedInterceptor',
              value() {
                let t = this,
                  e = this.getParent();
                if (e && !1 !== e.getWeaponManager().getInterceptor()) {
                  let i = !1;
                  if (
                    (e.getDockedInterceptors().forEach((e) => {
                      e === t && (i = !0);
                    }),
                    i)
                  ) { return !0; }
                }
                return !1;
              },
            },
            {
              key: 'updateInterceptors',
              value() {
                const t = this;
                if (!this.isInConstruction() && !1 !== this.getInterceptor()) {
                  void 0 === this._lastInterceptorCreation &&
                    (this._lastInterceptorCreation = lt.game.turn);
                  let e = this.getInterceptor(),
                    i = 75 * e.cooldown,
                    n = this.getAmountOfInterceptors() >= e.controlled,
                    r = this.getSprite().position;
                  if (n) { return void (this._lastInterceptorCreation = lt.game.turn); }
                  lt.game.turn - this._lastInterceptorCreation >= i &&
                    (x.default
                      .getInstance()
                      .synced.entities.add({
                        readyQuote: !1,
                        madeByEntity: !0,
                        parent: this,
                        id: e.interceptor,
                        team: this.getDataObject().getTeam(),
                        x: r.x,
                        y: r.y,
                        noUserControl: !0,
                        visible: !1,
                      })
                      .then(e => t.entityManager.entities(e))
                      .then(e => t.dockTarget(e)),
                    (this._lastInterceptorCreation = lt.game.turn));
                }
              },
            },
            {
              key: 'updateEnergyEmission',
              value(t) {
                if (!this.isInConstruction()) {
                  void 0 === this._lastEnergyEmission &&
                    (this._lastEnergyEmission = lt.game.turn);
                  let e = this.dataObject.getEnergyEmission(),
                    i = 75 * this.dataObject.getEnergyEmissionRate(),
                    n =
                      this.player.getEnergy() >=
                      this.player.getMaxEnergyStorage();
                  if (t && e) {
                    if (n) { return void (this._lastEnergyEmission = lt.game.turn); }
                    const r = lt.game.turn - this._lastEnergyEmission;
                    if (r >= i) {
                      let a = x.default.getInstance(),
                        o = Math.floor(r / i) || 1;
                      a.synced.players(this.player).alter({ energy: e * o }),
                      (this._lastEnergyEmission = lt.game.turn);
                    }
                  }
                }
              },
            },
            {
              key: 'updateHangar',
              value(t) {
                t &&
                  this.docker &&
                  this.hasRepairHangar() &&
                  this.docker.forEach((t) => {
                    let e = t.getDockTime(),
                      i = t.getDataObject(),
                      n = i.getHull(),
                      r = i.getMaxHull();
                    n !== r &&
                      lt.game.turn >= e + it.REPAIR_HANGAR_REPAIR_RATE &&
                      x.default
                        .getInstance()
                        .synced.entities(t)
                        .repair({ hull: r, overwrite: !0 });
                  });
              },
            },
            {
              key: 'updateLowHPEffect',
              value() {
                this.isHibernated() ||
                  this.dataObject.getHull() > this._lowHPTreshold ||
                  this.isInConstruction() ||
                  this.dataObject.isSpaceObject() ||
                  (Math.floor(50 * Math.random()) === 0 &&
                    F.default.getInstance().emitLowHPEffect(this));
              },
            },
            {
              key: 'updateDamageArea',
              value() {
                const t = this.dataObject.getShield();
                this._lastShieldValue !== t &&
                  (t < it.SHIELD_ACTIVITY_TRESHOLD
                    ? this.sprite.body.setSize(
                      this.sprite._damageWidth,
                      this.sprite._damageHeight,
                      this.sprite.width / 2 - this.sprite._damageWidth / 2,
                      this.sprite.height / 2 - this.sprite._damageWidth / 2,
                    )
                    : this.sprite.body.setSize(
                      this.sprite._damageWidthWithShield,
                      this.sprite._damageHeightWithShield,
                      this.sprite.width / 2 -
                          this.sprite._damageWidthWithShield / 2,
                      this.sprite.height / 2 -
                          this.sprite._damageHeightWithShield / 2,
                    ),
                  (this._lastShieldValue = t));
              },
            },
            {
              key: 'updateCargo',
              value(t) {
                let e = this.dataObject.getCargoSpeedModifier(),
                  i = t ? 1 : e;
                this.motionManager.setMaxSpeed(i);
              },
            },
            {
              key: 'addGUIElements',
              value() {
                let t = this,
                  e = this.entityManager
                    .entities(':user:selected')
                    .some(e => e === t);
                this.dataObject.getConstructionProximity() > 0 &&
                  (this.proximityMonitor = this.gui.addProximityMonitor(this)),
                this.energyShield && !e && this.energyShield.remove(),
                this.selector && !e && this.selector.remove(),
                this.statusDisplay && !e && this.statusDisplay.remove(),
                e ||
                    ((this.selector = this.gui.addSelector(this)),
                    (this.energyShield = this.entityManager.addEnergyShield(this)),
                    (this.statusDisplay = this.gui.addStatusDisplay(this)));
              },
            },
            {
              key: 'updateStatusDisplay',
              value() {
                this.statusDisplay && this.statusDisplay.updateBars();
              },
            },
            {
              key: 'moveTo',
              value(t, e) {
                let i =
                    arguments.length > 2 &&
                    void 0 !== arguments[2] &&
                    arguments[2],
                  n = arguments[3],
                  r = new k.default.Move(this),
                  a = lt.game.map.getHeight() * it.TILE_HEIGHT - it.TILE_HEIGHT,
                  o = lt.game.map.getWidth() * it.TILE_WIDTH - it.TILE_WIDTH,
                  s = void 0,
                  u = void 0;
                (s = t < it.TILE_WIDTH ? it.TILE_WIDTH : t > o ? o : t),
                (u = e < it.TILE_HEIGHT ? it.TILE_HEIGHT : e > a ? a : e),
                r.setCoords({ x: s, y: u }),
                i && r.forceNoPathFinding(),
                this.activityManager.add(r, n);
              },
            },
            {
              key: 'moveToEntity',
              value(t) {
                let e = lt.game.map.getCollisionMap(),
                  i = new k.default.Move(this),
                  n = void 0;
                if (this.motionManager.isEmployingPathfinding()) {
                  const r = e.getClosestEmptyTileNextToEntityFromEntity(t, this);
                  if (Q.default.areCoordsEqual(r, this.getTileObj())) return;
                  n = lt.game.map.getScreenCoordinatesOfTile(r);
                } else n = t.getSprite();
                i.setCoords(n), this.activityManager.add(i);
              },
            },
            {
              key: 'dropOffCargo',
              value(t) {
                let e = x.default.getInstance(),
                  i = this.getDataObject().getCargo(),
                  n = t.getPlayer();
                e.synced
                  .entities(this)
                  .alterCargo({
                    titanium: 0,
                    silicium: 0,
                    uranium: 0,
                    overwrite: !0,
                  }),
                e.synced
                  .players(n)
                  .alter({
                    titanium: i.titanium,
                    silicium: i.silicium,
                    uranium: i.uranium,
                  });
              },
            },
            {
              key: 'stop',
              value() {
                const t = new k.default.Stop(this);
                this.activityManager.add(t);
              },
            },
            {
              key: 'patrol',
              value(t) {
                if (this.canMove()) {
                  let e = t.x,
                    i = t.y,
                    n = t.terminateAtDestination,
                    r = new k.default.Patrol(this);
                  r.setStartPoint(this.sprite.x, this.sprite.y),
                  r.setDestination(e, i),
                  n && r.shouldTerminateAtDestination(),
                  this.activityManager.add(r);
                }
              },
            },
            {
              key: 'follow',
              value(t, e) {
                const i = new k.default.Follow(this);
                i.setTarget(t), this.activityManager.add(i, e);
              },
            },
            {
              key: 'fire',
              value(t, e) {
                const i = new k.default.Fire(this);
                i.setTarget(t), i.setWeapons(e), this.activityManager.add(i);
              },
            },
            {
              key: 'getInRange',
              value(t, e) {
                const i = new k.default.GetInRange(this, e);
                i.setTarget(t), this.activityManager.add(i);
              },
            },
            {
              key: 'getInGivenRange',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = t.range,
                  r = new k.default.GetInGivenRange(this, n);
                r.setCoords({ x: e, y: i }),
                r.setRange(n),
                this.activityManager.add(r);
              },
            },
            {
              key: 'getToDock',
              value(t, e) {
                const i = new k.default.GetToDock(this);
                i.setTarget(t), this.activityManager.add(i, e);
              },
            },
            {
              key: 'transform',
              value(t) {
                const e = new k.default.Transform(this);
                this.activityManager.add(e, t);
              },
            },
            {
              key: 'upgrade',
              value(t) {
                const e = new k.default.Upgrade(this, t);
                this.activityManager.add(e, !0);
              },
            },
            {
              key: 'cancelUpgrade',
              value() {
                this.originalEntity &&
                  (this.replaceEntity({ id: this.originalEntity }),
                  this.activityManager.removeAll());
              },
            },
            {
              key: 'cancelHatch',
              value() {
                let t = this.sprite,
                  e = t.x,
                  i = t.y,
                  n = F.default.getInstance(),
                  r = y.default.getInstance();
                n.add({ id: 'zho-hatch', x: e, y: i }),
                r.playAudioSprite({
                  sprite: 'sfx',
                  marker: 'ovum_hatch',
                  volume: r.calculateVolumeByCamera(this.sprite),
                }),
                this.originalEntity &&
                    this.replaceEntity({ id: this.originalEntity }),
                this.activityManager.removeAll();
              },
            },
            {
              key: 'finishTransform',
              value() {
                this.getDataObject().idleForever &&
                  this.animate(it.ANIMATION_IDLE_FOREVER);
              },
            },
            {
              key: 'attack',
              value(t) {
                let e = t.targetEntity,
                  i = t.addAsLast,
                  n = t.targetFiring,
                  r = t.triggeredByUser,
                  a = new k.default.Attack(this);
                a.setTarget(e),
                a.setTriggeredByUser(r),
                this.activityManager.add(a, i),
                (this.targetFiring = n);
              },
            },
            {
              key: 'mine',
              value(t, e) {
                const i = new k.default.Mine(this);
                i.setTarget(t), this.activityManager.add(i, e);
              },
            },
            {
              key: 'returnResourceToStation',
              value(t, e) {
                let i = this.activityManager.getCurrentActivity(),
                  n = void 0;
                i instanceof k.default.Mine
                  ? ((n = i), n.removeTarget())
                  : (n = new k.default.Mine(this)),
                n.setTargetStation(t),
                n.setStatusToReturnToStation(),
                this.activityManager.add(n, e);
              },
            },
            {
              key: 'returnResourceToCommand',
              value(t, e) {
                let i = this.activityManager.getCurrentActivity(),
                  n = void 0;
                i instanceof k.default.Deliver
                  ? ((n = i), n.removeTarget())
                  : (n = new k.default.Deliver(this)),
                n.setDeliveryPoint(t),
                n.setStatusToReturnToDropOffPoint(),
                this.activityManager.add(n, e);
              },
            },
            {
              key: 'TransportResource',
              value(t, e) {
                let i = this.activityManager.getCurrentActivity(),
                  n = void 0;
                i instanceof k.default.TransportResource
                  ? ((n = i), n.removeTarget())
                  : (n = new k.default.TransportResource(this)),
                n.setDeliveryPoint(t),
                n.setStatusToReturnToDropOffPoint(),
                this.activityManager.add(n, e);
              },
            },
            {
              key: 'rotateToTarget',
              value(t) {
                const e = new k.default.RotateToTarget(this);
                e.setTarget(t), this.activityManager.add(e);
              },
            },
            {
              key: 'rotateToCoords',
              value(t) {
                const e = new k.default.RotateToCoords(this);
                e.setCoords(t), this.activityManager.add(e);
              },
            },
            {
              key: 'headToCoords',
              value(t) {
                this.motionManager.headToCoords(t);
              },
            },
            {
              key: 'deliver',
              value() {
                const t = new k.default.Deliver(this);
                this.activityManager.add(t);
              },
            },
            {
              key: 'forceDeliver',
              value() {
                this.activityManager.isDelivering() &&
                  this.activityManager.getCurrentActivity().forceDeliver();
              },
            },
            {
              key: 'holdPosition',
              value() {
                const t = new k.default.HoldPosition(this);
                this.activityManager.add(t);
              },
            },
            {
              key: 'sprout',
              value(t) {
                const e = new k.default.Sprout(this, t);
                this.activityManager.add(e);
              },
            },
            {
              key: 'dockTarget',
              value(t) {
                this.isHangarFullUp() ||
                  (t.hibernate(),
                  t.setDockerEntity(this),
                  t.setNoUserControl(!0),
                  t.setDockTime(lt.game.turn),
                  void 0 === this.docker && (this.docker = []),
                  t.unselect(),
                  t.reset(),
                  this.docker.push(t),
                  this.eventDispatcher.dispatch('updateHangar'));
              },
            },
            {
              key: 'undock',
              value(t) {
                const e = this;
                if (void 0 === this.docker) return null;
                let i = t.onlyRepaired,
                  n = t.targetEntity,
                  r = [];
                return (
                  this.docker
                    .filter((t) => {
                      if (n) return n === t;
                      if (t.dataObject.isInterceptor() && !e.isAttacking()) { return !1; }
                      if (i) {
                        const r = t.getDataObject();
                        return r.getHull() === r.getMaxHull();
                      }
                      return !0;
                    })
                    .forEach((t) => {
                      t.reactivate(), r.push(t);
                    }),
                  r.forEach((t) => {
                    const i = e.docker.indexOf(t);
                    e.docker.splice(i, 1);
                  }),
                  this.eventDispatcher.dispatch('updateHangar'),
                  r
                );
              },
            },
            {
              key: 'damage',
              value(t) {
                return (
                  this.dataObject.damage(t),
                  this.updateDamageArea(),
                  this.dataObject.getHull() <= 0
                    ? (this.entityManager.remove(this), !0)
                    : (this.eventDispatcher.dispatch('damage'), !1)
                );
              },
            },
            {
              key: 'repair',
              value(t) {
                return (
                  this.dataObject.repair(t),
                  this.updateDamageArea(),
                  this.eventDispatcher.dispatch('damage'),
                  !1
                );
              },
            },
            {
              key: 'produce',
              value(t) {
                const e = new k.default.Produce(this);
                e.setProductionId(t), this.activityManager.add(e);
              },
            },
            {
              key: 'cancelProduction',
              value() {
                const t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 0;
                this.productionManager.removeProductionSlotByIndex(t);
              },
            },
            {
              key: 'research',
              value(t) {
                this.researchManager.addResearchSlot(t);
              },
            },
            {
              key: 'cancelResearch',
              value() {
                this.researchManager.isResearching() &&
                  this.researchManager.removeResearchSlotByIndex();
              },
            },
            {
              key: 'inConstruction',
              value() {
                const t = new k.default.InConstruction(this);
                this.activityManager.add(t);
              },
            },
            {
              key: 'inMine',
              value() {
                const t = new k.default.InMine(this);
                this.activityManager.add(t);
              },
            },
            {
              key: 'inDeployment',
              value() {
                const t = new k.default.InDeployment(this);
                this.activityManager.add(t);
              },
            },
            {
              key: 'createConstructionSite',
              value(t, e, i) {
                const n = new k.default.CreateConstructionSite(this, i);
                n.setEntityId(t.entityId),
                n.setConstructionSiteCoords(t.placementCoords),
                this.activityManager.add(n, e);
              },
            },
            {
              key: 'createDeploymentSite',
              value(t) {
                const e = new k.default.CreateDeploymentSite(this);
                e.setEntityId(t.entityId),
                e.setDeploymentSiteCoords(t.placementCoords),
                this.activityManager.add(e);
              },
            },
            {
              key: 'construct',
              value(t, e) {
                const i = new k.default.Construct(this);
                i.setTarget(t), this.activityManager.add(i, e);
              },
            },
            {
              key: 'hatch',
              value(t) {
                const e = new k.default.Hatch(this);
                this.activityManager.add(e, t);
              },
            },
            {
              key: 'castSpell',
              value(t) {
                let e = new k.default.CastSpell(this, t),
                  i = t.addAsLast;
                this.activityManager.add(e, i);
              },
            },
            {
              key: 'revealEntityInFogOfWar',
              value(t) {
                let e = lt.game.map,
                  i = e.getFogOfWar();
                i.forceVisit(...r(this.getTile()).concat([t]));
              },
            },
            {
              key: 'reset',
              value() {
                this.activityManager.removeAll(),
                this.weaponManager.clearTargetEntity();
              },
            },
            {
              key: 'remove',
              value(t) {
                let e = lt.game.map.getCollisionMap(),
                  i = t && t.silent;
                e.unvisitTilesByEntity(this),
                lt.mapEditorMode ||
                    i ||
                    F.default.getInstance().explode(this),
                this.delete();
              },
            },
            {
              key: 'delete',
              value() {
                (this._willBeRemoved = !0),
                this.eventDispatcher.dispatch('remove', this),
                this.sprite._group.remove(this.sprite),
                this.sprite.destroy(),
                this.eventDispatcher.reset(),
                (this.deleted = !0);
              },
            },
            {
              key: 'hibernate',
              value() {
                (this.sprite.visible = !1),
                (this.hibernated = !0),
                this.eventDispatcher.dispatch('hibernate', this);
              },
            },
            {
              key: 'reactivate',
              value() {
                (this.sprite.visible = !0),
                (this.hibernated = !1),
                this.eventDispatcher.dispatch('reactivated');
              },
            },
            {
              key: 'neutralise',
              value() {
                (this.neutralised = !0), this.motionManager.stop();
              },
            },
            {
              key: 'unneutralise',
              value() {
                this.neutralised = !1;
              },
            },
            {
              key: 'animate',
              value(t, e, i, n) {
                let r = this,
                  a = '';
                return (
                  this.sprite.animations.currentAnim &&
                    this.sprite.animations.currentAnim.isPlaying &&
                    (a = this.sprite.animations.currentAnim.name),
                  new Promise(((o) => {
                    if (!r.animationLocked) {
                      !0 === n && (r.animationLocked = !0);
                      let s = r.motionManager.getCurrentAngleCode(),
                        u = t + s,
                        l = void 0;
                      if (
                        (r.sprite.animations.getAnimation(u)
                          ? (l = u)
                          : r.sprite.animations.getAnimation(t) && (l = t),
                        l && (a !== l || n))
                      ) {
                        const c = r.dataObject.getAnimationAudioByKey(i || l);
                        r.sprite._oldFrame = r.sprite.frame;
                        const h = r.sprite.animations.getAnimation(l);
                        (h.reversed = !!e),
                        h.play(),
                        h.onComplete.addOnce(() => {
                          (r.animationLocked = !1), o();
                        });
                        const d = r.audioManager.calculateVolumeByCamera(r.getSprite());
                        c &&
                          d === 1 &&
                          r.audioManager.playAudioSprite({
                            sprite: 'sfx',
                            marker: c,
                          });
                      } else (r.animationLocked = !1), o();
                    }
                  }))
                );
              },
            },
            {
              key: 'stopAnimation',
              value(t) {
                if (
                  this.sprite.animations.currentAnim &&
                  this.sprite.animations.currentAnim.isPlaying &&
                  (!this.actionAnimation || this.actionAnimation.isStopped())
                ) {
                  const e = this.sprite.animations.currentAnim.name;
                  e !== it.ANIMATION_IDLE_FOREVER &&
                    ((void 0 !== t && e !== t) ||
                      ((!this.animationLocked || (void 0 !== t && e === t)) &&
                        ((this.animationLocked = !1),
                        this.sprite.animations.stop(null, !0),
                        (this.sprite.frame = this.sprite._oldFrame))));
                }
              },
            },
            {
              key: 'select',
              value() {
                this.isHibernated() ||
                  this.isNotClickable() ||
                  this.gui.isSelectionLocked() ||
                  this.entityManager.hasSelectionLimitReached() ||
                  ((this.selected = !0),
                  this.eventDispatcher.dispatch('select'),
                  this.player.isControlledByUser() &&
                    this.dataObject.isBuilding() &&
                    this.getProduction().length > 0 &&
                    this.eventDispatcher.dispatch('showRallyPoint'),
                  x.default
                    .getInstance()
                    .local.dispatch('gui/selection/change', this));
              },
            },
            {
              key: 'selectedAsTarget',
              value() {
                this.eventDispatcher.dispatch('selectedAsTarget');
              },
            },
            {
              key: 'unselect',
              value() {
                this.gui.isSelectionLocked() ||
                  (this.player.isControlledByUser() &&
                    this.dataObject.isBuilding() &&
                    this.getProduction().length > 0 &&
                    this.eventDispatcher.dispatch('hideRallyPoint'),
                  (this.selected = !1),
                  this.eventDispatcher.dispatch('unselect'),
                  x.default
                    .getInstance()
                    .local.dispatch('gui/selection/change', this));
              },
            },
            {
              key: 'levitate',
              value() {
                this.dataObject.isBuilding() || this.motionManager.levitate();
              },
            },
            {
              key: 'stopLevitating',
              value() {
                this.dataObject.isBuilding() ||
                  this.motionManager.stopLevitating();
              },
            },
            {
              key: 'upgradeByResearch',
              value(t) {
                tt.default.getInstance().run(`research/${t}`, this);
              },
            },
            {
              key: 'upgradeByAllCompletedResearches',
              value() {
                const t = this;
                this.player.getCompletedResearches().forEach(e => t.upgradeByResearch(e));
              },
            },
            {
              key: 'resetFrame',
              value() {
                if (void 0 !== this.sprite._defaultFrame) { this.sprite.frame = this.sprite._defaultFrame; } else {
                  const t = this.dataObject.getDefatultFrame();
                  this.sprite.frame = t;
                }
              },
            },
            {
              key: 'setClosestHostileEntityInRange',
              value(t) {
                this.closestHostileEntity = t;
              },
            },
            {
              key: 'setClosestAttackableHostileEntity',
              value(t) {
                this.closestAttackableHostileEntity = t;
              },
            },
            {
              key: 'setClosestAllyEntitiesInRange',
              value(t) {
                this.closestAllyEntities = t;
              },
            },
            {
              key: 'setClosestAttackableAllyEntity',
              value(t) {
                this.closestAttackableAllyEntity = t;
              },
            },
            {
              key: 'setObstacleAhead',
              value(t) {
                this.obstacleAhead = t;
              },
            },
            {
              key: 'setSuggestedTile',
              value(t) {
                this.suggestedTile = t;
              },
            },
            {
              key: 'setNoUserControl',
              value(t) {
                this.dataObject.isUncontrolable()
                  ? (this.noUserControl = !0)
                  : (this.noUserControl = t);
              },
            },
            {
              key: 'setDockerEntity',
              value(t) {
                this.dockerEntity &&
                  this.dockerEntity.off('remove', this.removeDockerEntity),
                (this.dockerEntity = t),
                this.dockerEntity &&
                    this.dockerEntity.on('remove', this.removeDockerEntity);
              },
            },
            {
              key: 'setDockTime',
              value(t) {
                this.dockTime = t;
              },
            },
            {
              key: 'setResourcePriority',
              value(t) {
                this.resourcePriority = t;
              },
            },
            {
              key: 'resetDetectedByTeam',
              value() {
                const t = this;
                Object.keys(this.detectedByTeam).forEach((e) => {
                  t.detectedByTeam[e] = !1;
                });
              },
            },
            {
              key: 'setDetectedByTeam',
              value(t) {
                this.detectedByTeam[t] = !0;
              },
            },
            {
              key: 'setGraphicalAddonsVisibility',
              value(t) {
                (this.noGraphicalAddons = !t),
                this.dispatch('addons/visibility', t);
              },
            },
            {
              key: 'dispatch',
              value() {
                let t;
                (t = this.eventDispatcher).dispatch.apply(t, arguments);
              },
            },
            {
              key: 'replaceSprite',
              value(t) {
                let e = this.sprite,
                  i = this.game.cache.getJSON(t),
                  n = new p.default(i),
                  r = this.game.add.sprite(0, 0, t);
                (this.sprite = ft(this, r, n)),
                (this.sprite.x = e.x),
                (this.sprite.y = e.y),
                this.dispatch('sprite/update', this.sprite),
                e._group.remove(e),
                e.destroy();
              },
            },
            {
              key: 'replaceEntity',
              value(t) {
                let e = t.id,
                  i = t.keepHPRatio,
                  n = this.sprite,
                  r = this.dataObject,
                  a = this.game.cache.getJSON(e),
                  o = new p.default(a),
                  s = this.game.add.sprite(0, 0, e),
                  u = lt.game.map.getCollisionMap(),
                  l = this.motionManager.getCurrentAngleCode();
                u.unvisitTilesByEntity(this),
                (this.originalEntity = r.getId()),
                (this.dataObject = o),
                this.dataObject.setTeam(r.getTeam()),
                ot.default.applyColorizeFilter(e, s, this.player),
                (this.sprite = ft(this, s, this.dataObject)),
                (this.sprite.x = n.x),
                (this.sprite.y = n.y),
                (this.sprite.body.x = n.body.x),
                (this.sprite.body.y = n.body.y),
                this.dispatch('sprite/update', this.sprite),
                n._group.remove(n),
                n.destroy();
                let c = Math.floor((r.getHull() / r.getMaxHull()) * o.getMaxHull());
                r.getMaxHull() || (c = o.getMaxHull());
                let h = Math.floor((r.getShield() / r.getMaxShield()) * o.getMaxShield());
                r.getMaxShield() || (h = o.getMaxShield());
                let d = Math.floor((r.getPower() / r.getMaxPower()) * o.getMaxPower());
                r.getMaxPower() || (d = o.getMaxPower()),
                !1 !== i &&
                    this.dataObject.forceSet({
                      hull: c,
                      shield: h,
                      power: d,
                      shipName: r.getShipName(),
                    }),
                (this.weaponManager = new A.default(this)),
                (this.abilityManager = new I.default(this)),
                (this.motionManager = new S.default(this)),
                this.motionManager.setCurrentAngleCode(l),
                (this.spellManager = new O.default(this)),
                this.spellManager.activateSpellsByWeaponManager(this.weaponManager),
                this.addGUIElements(),
                (this._lastPowerUpdate = void 0),
                (this._lastShieldValue = void 0),
                this.updateDamageArea(),
                this.upgradeByAllCompletedResearches(),
                (this._multiselectIconFrameName = void 0),
                u.visitTilesByEntity(this, !0),
                this.entityManager.sortEntityGroup(),
                x.default
                  .getInstance()
                  .local.dispatch('gui/selection/change', this);
              },
            },
            {
              key: 'inheritOldHpData',
              value(t) {
                let e = Math.floor((t.getHull() / t.getMaxHull()) *
                      this.dataObject.getMaxHull()),
                  i = Math.floor((t.getShield() / t.getMaxShield()) *
                      this.dataObject.getMaxShield());
                t.getMaxHull() || (e = this.dataObject.getMaxHull()),
                t.getMaxShield() || (i = this.dataObject.getMaxShield()),
                this.dataObject.forceSet({ hull: e, shield: i });
              },
            },
            {
              key: 'setRallyPoint',
              value(t) {
                this.player.isControlledByUser() &&
                  this.dataObject.isBuilding() &&
                  this.getProduction().length > 0 &&
                  ((this.rallyPoint = t),
                  this.eventDispatcher.dispatch('updateRallyPoint'));
              },
            },
            {
              key: 'updateClosestEntities',
              value() {
                this.entityManager.setClosestEntities(this);
              },
            },
            {
              key: 'forceVisitNextTile',
              value(t) {
                const e = this.motionManager.getNextTileToTarget();
                e && (t.forceVisit(e, this), (this.forceVisitedTile = e));
              },
            },
            {
              key: 'forceUnvisitNextTile',
              value(t) {
                this.forceVisitedTile &&
                  t.forceUnvisit(this.forceVisitedTile, this);
              },
            },
            {
              key: 'hasNoGraphicalAddons',
              value() {
                return this.noGraphicalAddons;
              },
            },
            {
              key: 'hasSlowManeuverability',
              value() {
                return (
                  this.getDataObject().getManeuverability() <
                  it.SLOW_MANOUVERABAILITY_TRESHOLD
                );
              },
            },
            {
              key: 'isAttached',
              value() {
                return !(
                  !this.getHomeStation() || this.getHomeStation() === null
                );
              },
            },
            {
              key: 'isAttachable',
              value() {
                return this.getDataObject().isClassicMiningStation();
              },
            },
            {
              key: 'canAttach',
              value() {
                return this.getDataObject().getType() === 'Cargo';
              },
            },
            {
              key: 'isSelected',
              value() {
                return !!this.selected;
              },
            },
            {
              key: 'isNotClickable',
              value() {
                return (
                  !lt.debug.spying &&
                  (!this.sprite.visible ||
                    !this.sprite.renderable ||
                    !(
                      this.isEntityControlledByUser() ||
                      !this.isInvisible() ||
                      this.isDetectedByUser()
                    ) ||
                    (this.dataObject.isNotClickable() && !lt.mapEditorMode))
                );
              },
            },
            {
              key: 'isHover',
              value() {
                return q.default.getInstance().isHoverEntity(this);
              },
            },
            {
              key: 'isInside',
              value(t) {
                return !(
                  this.sprite.x + this.getDataObject().getWidth() / 2 < t.x ||
                  this.sprite.x - this.getDataObject().getWidth() / 2 >
                    t.x + t.width ||
                  this.sprite.y + this.getDataObject().getHeight() / 2 < t.y ||
                  this.sprite.y - this.getDataObject().getHeight() / 2 >
                    t.y + t.height
                );
              },
            },
            {
              key: 'isDeleted',
              value() {
                return this.deleted;
              },
            },
            {
              key: 'isEntityControlledByUser',
              value(t) {
                const e = t || m.default.getInstance().getUser();
                return !!e && this.getDataObject().getTeam() === e.getTeam();
              },
            },
            {
              key: 'isEnemy',
              value(t) {
                let e = m.default.getInstance(),
                  i = this.getPlayer(),
                  n = t.getPlayer();
                return i !== n && e.isPlayerHostileToPlayer(i, n);
              },
            },
            {
              key: 'isIndependent',
              value() {
                return (
                  void 0 === this._isIndependent &&
                    (this._isIndependent = this.player.isIndependent()),
                  this._isIndependent
                );
              },
            },
            {
              key: 'isTargetable',
              value() {
                return !this.isHibernated();
              },
            },
            {
              key: 'isTargetableByEntity',
              value(t) {
                return (
                  !!this.isTargetable() &&
                  !(
                    this.isInvisible() &&
                    !t.isDetector() &&
                    !this.isDetectedByTeam(t.getTeam())
                  ) &&
                  !!lt.game.map
                    .getFogOfWar()
                    .isEntityVisibleByTeam(this, t.getTeam()) &&
                  !t.isInConstruction() &&
                  (!!t.isDockable() ||
                    t.getWeaponManager().canTargetEntity(this))
                );
              },
            },
            {
              key: 'isHibernated',
              value() {
                return this.hibernated || this._willBeRemoved;
              },
            },
            {
              key: 'isNeutralised',
              value() {
                return this.neutralised;
              },
            },
            {
              key: 'isDockable',
              value() {
                return (
                  void 0 === this.dockable &&
                    (this.dockable = this.dataObject.getMaxHangar() > 0),
                  this.dockable
                );
              },
            },
            {
              key: 'isHangarFullUp',
              value() {
                return (
                  !(!this.isDockable() || this.dataObject.isInterceptor()) &&
                  this.getNumberOfDockedEntities() >=
                    this.dataObject.getMaxHangar()
                );
              },
            },
            {
              key: 'isIdling',
              value() {
                return this.activityManager.isIdling();
              },
            },
            {
              key: 'isAttacking',
              value() {
                return this.activityManager.isAttacking();
              },
            },
            {
              key: 'isPatrolling',
              value() {
                return this.activityManager.isPatrolling();
              },
            },
            {
              key: 'isHoldingPosition',
              value() {
                return this.activityManager.isHoldingPosition();
              },
            },
            {
              key: 'isInConstruction',
              value() {
                return this.activityManager.isInConstruction();
              },
            },
            {
              key: 'inCreateConstructionSite',
              value() {
                return this.activityManager.inCreateConstructionSite();
              },
            },
            {
              key: 'isInUpgrade',
              value() {
                return this.activityManager.isInUpgrade();
              },
            },
            {
              key: 'isInSprout',
              value() {
                return this.activityManager.isInSprout();
              },
            },
            {
              key: 'isInMine',
              value() {
                return this.activityManager.isInMine();
              },
            },
            {
              key: 'isInWither',
              value() {
                return this.activityManager.isInWither();
              },
            },
            {
              key: 'isMining',
              value() {
                return this.activityManager.isMining();
              },
            },
            {
              key: 'isHatching',
              value() {
                return this.activityManager.isHatching();
              },
            },
            {
              key: 'isProducing',
              value() {
                return (
                  !!this.productionManager &&
                  this.productionManager.isProducing()
                );
              },
            },
            {
              key: 'isResearching',
              value() {
                return (
                  !!this.researchManager && this.researchManager.isResearching()
                );
              },
            },
            {
              key: 'isObstacleAhead',
              value() {
                return this.obstacleAhead;
              },
            },
            {
              key: 'isMinable',
              value() {
                return (
                  this.dataObject.isSpaceObject() &&
                  (this.dataObject.getCargoTitanium() ||
                    this.dataObject.getCargoSilicium() ||
                    this.dataObject.getCargoUranium())
                );
              },
            },
            {
              key: 'isTargetFiring',
              value() {
                return this.targetFiring;
              },
            },
            {
              key: 'isMoving',
              value() {
                return this.motionManager.isMoving();
              },
            },
            {
              key: 'isEnroute',
              value() {
                return this.motionManager.isEnroute();
              },
            },
            {
              key: 'isCloaked',
              value() {
                return this.getSpellManager().isActive('cloak');
              },
            },
            {
              key: 'isInvisible',
              value() {
                return this.isCloaked();
              },
            },
            {
              key: 'isDetector',
              value() {
                return (
                  this._detector ||
                    (this._detector =
                      void 0 !== this.getWeaponManager().getDetectorWeapon()),
                  this._detector && !this.isInWither()
                );
              },
            },
            {
              key: 'isDetectedByTeam',
              value(t) {
                const e = this;
                if (this.player.getTeam() === t) return !0;
                if (this.detectedByTeam[t]) return this.detectedByTeam[t];
                const i = _.default.getInstance();
                return Object.keys(this.detectedByTeam).some(n => (
                  e.detectedByTeam[n] && i.isVisionSharedBetweenTeams(n, t)
                ));
              },
            },
            {
              key: 'isDetectedByUser',
              value() {
                const t = m.default
                  .getInstance()
                  .getUser()
                  .getTeam();
                return (
                  !!this.detectedByTeam[t] ||
                  !(
                    !_.default
                      .getInstance()
                      .isTeamAlliedWith(t, this.player.getTeam()) &&
                    t !== this.player.getTeam()
                  )
                );
              },
            },
            {
              key: 'isOnScreen',
              value() {
                let t = this.sprite,
                  e = t.x,
                  i = t.y,
                  n = lt.game.game.camera,
                  r = lt.window,
                  a = r.width,
                  o = r.height;
                return !(
                  e - n.x < 0 ||
                  e - n.x > a ||
                  i - n.y < 0 ||
                  i - n.y > o
                );
              },
            },
            {
              key: 'isObstacleForBuildingSites',
              value() {
                return (
                  void 0 === this.isEntityObstacleForBuildingSites &&
                    (this.isEntityObstacleForBuildingSites = !this.hasFlyOverObstacles()),
                  this.isEntityObstacleForBuildingSites
                );
              },
            },
            {
              key: 'canDock',
              value() {
                return (
                  void 0 === this.isAbleToDock &&
                    (this.isAbleToDock = this.dataObject.isFighter()),
                  this.isAbleToDock
                );
              },
            },
            {
              key: 'canMove',
              value() {
                return this.dataObject.getSpeed() > 0;
              },
            },
            {
              key: 'canCarryCargo',
              value() {
                return (
                  this.dataObject.getCargoCapacity() ||
                  this.dataObject.getCargoTitanium() ||
                  this.dataObject.getCargoSilicium() ||
                  this.dataObject.getCargoUranium()
                );
              },
            },
            {
              key: 'hasDeliverer',
              value() {
                return this.deliverer;
              },
            },
            {
              key: 'hasNoUserControl',
              value() {
                return this.noUserControl;
              },
            },
            {
              key: 'hasRepairHangar',
              value() {
                return (
                  void 0 === this._hasRepairHangar &&
                    (this._hasRepairHangar = this.weaponManager.hasRegenerateFighters()),
                  this._hasRepairHangar
                );
              },
            },
            {
              key: 'canMine',
              value() {
                const t = this;
                return [10].some(e => t.weaponManager.hasWeapon(e));
              },
            },
            {
              key: 'hasFlyOverObstacles',
              value() {
                return (
                  void 0 === this._hasFlyOverObstacles &&
                    (this._hasFlyOverObstacles = this.weaponManager.hasWeapon(119)),
                  this._hasFlyOverObstacles
                );
              },
            },
            {
              key: 'canConstruct',
              value() {
                const t = this;
                if (void 0 === this._canConstruct) {
                  const e = [11];
                  this._canConstruct = e.some(e => t.weaponManager.hasWeapon(e));
                }
                return this._canConstruct;
              },
            },
            {
              key: 'getHomeStation',
              value() {
                return this.homeStation;
              },
            },
            {
              key: 'getSprite',
              value() {
                return this.sprite;
              },
            },
            {
              key: 'getDataObject',
              value() {
                return this.dataObject;
              },
            },
            {
              key: 'getActivityManager',
              value() {
                return this.activityManager;
              },
            },
            {
              key: 'getMotionManager',
              value() {
                return this.motionManager;
              },
            },
            {
              key: 'getAbilityManager',
              value() {
                return this.abilityManager;
              },
            },
            {
              key: 'getWeaponManager',
              value() {
                return this.weaponManager;
              },
            },
            {
              key: 'getProductionManager',
              value() {
                return this.productionManager;
              },
            },
            {
              key: 'getResearchManager',
              value() {
                return this.researchManager;
              },
            },
            {
              key: 'getSpellManager',
              value() {
                return this.spellManager;
              },
            },
            {
              key: 'getPlayer',
              value() {
                return this.player;
              },
            },
            {
              key: 'getTeam',
              value() {
                return this.player.getTeam();
              },
            },
            {
              key: 'getGUID',
              value() {
                return this.guid;
              },
            },
            {
              key: 'getAnimationManager',
              value() {
                return this.sprite.animations;
              },
            },
            {
              key: 'getAnimationByKey',
              value(t) {
                const e = this.getDataObject().getAnimations();
                return e ? e[t] : null;
              },
            },
            {
              key: 'getTile',
              value() {
                if (this.suggestedTile) {
                  const t = this.suggestedTile;
                  return [t.x, t.y];
                }
                const e = this.getSprite();
                return [
                  Math.floor(e.x / it.TILE_WIDTH),
                  Math.floor(e.y / it.TILE_WIDTH),
                ];
              },
            },
            {
              key: 'getTileObj',
              value() {
                if (this.suggestedTile) return this.suggestedTile;
                const t = this.getSprite();
                return {
                  x: Math.floor(t.x / it.TILE_WIDTH),
                  y: Math.floor(t.y / it.TILE_WIDTH),
                };
              },
            },
            {
              key: 'getTilesAhead',
              value() {
                const t = this.motionManager.getNextTileToTarget();
                if (t) return [t];
                let e = this.getTile(),
                  i = c(e, 2),
                  n = i[0],
                  r = i[1],
                  a = this.sprite._collision,
                  o = a.width,
                  s = a.offsetX,
                  u = a.offsetY,
                  l = this.motionManager.getCurrentAngleCode(),
                  h = this.motionManager.getMaxAngleCount(),
                  d = Math.floor(l / (h / 8)),
                  f = G.default.getMaskByWidth(o),
                  p = f[d],
                  g = [];
                if (!p) return [];
                for (let y = p.length - 1; y >= 0; y -= 1) {
                  for (let v = p[y].length - 1; v >= 0; v -= 1) { p[y][v] && g.push({ x: n - 1 - s + v, y: r - 1 - u + y }); }
                }
                return g;
              },
            },
            {
              key: 'getTilesToTarget',
              value() {
                return this.motionManager.getTilesToTarget();
              },
            },
            {
              key: 'getDockedEntities',
              value() {
                return this.docker;
              },
            },
            {
              key: 'getVisibleDockedEntities',
              value() {
                const t = [];
                return (
                  this.docker.forEach((e) => {
                    e.getDataObject().isInterceptor() || t.push(e);
                  }),
                  t
                );
              },
            },
            {
              key: 'getDockedInterceptors',
              value() {
                const t = [];
                return (
                  this.docker.forEach((e) => {
                    e.getDataObject().isInterceptor() && t.push(e);
                  }),
                  t
                );
              },
            },
            {
              key: 'getDockedFighters',
              value() {
                let t = this,
                  e = [];
                return (
                  this.entityManager
                    .entities(`:player(${this.getTeam()})`)
                    .forEach((i) => {
                      i.getDockerEntity() === t && e.push(i);
                    }),
                  e
                );
              },
            },
            {
              key: 'getDockerEntity',
              value() {
                return this.dockerEntity;
              },
            },
            {
              key: 'getNumberOfDockedEntities',
              value() {
                let t = 0;
                return this.docker
                  ? (this.docker.forEach((e) => {
                    e.dataObject.isInterceptor() || (t += 1);
                  }),
                  t)
                  : t;
              },
            },
            {
              key: 'getDockTime',
              value() {
                return this.dockTime;
              },
            },
            {
              key: 'getResourcePriority',
              value() {
                return this.resourcePriority || it.DEFAULT_RESOURCE_PRIORITY;
              },
            },
            {
              key: 'getClosestHostileEntityInRange',
              value() {
                return this.closestHostileEntity;
              },
            },
            {
              key: 'getClosestAttackableHostileEntity',
              value() {
                return this.closestAttackableHostileEntity;
              },
            },
            {
              key: 'getClosestAllyEntitiesInRange',
              value() {
                return this.closestAllyEntities || [];
              },
            },
            {
              key: 'getClosestAllyEntityInRange',
              value() {
                return this.getClosestAllyEntitiesInRange().shift();
              },
            },
            {
              key: 'getClosestAttackableAllyEntity',
              value() {
                return this.closestAttackableAllyEntity;
              },
            },
            {
              key: 'getCreationTime',
              value() {
                return this.createdAt;
              },
            },
            {
              key: 'getProjectileOffsetByHeading',
              value() {
                const t = this.dataObject.getProjectileOffset();
                return t.length
                  ? t[this.motionManager.getCurrentAngleCode()] || {}
                  : t;
              },
            },
            {
              key: 'getCollisionData',
              value() {
                return this.sprite._collision;
              },
            },
            {
              key: 'getMultiselectIconFrameName',
              value() {
                if (void 0 === this._multiselectIconFrameName) {
                  let t = this.sprite.animations.frameData.getFrames(),
                    e = t.find(t => t.name.indexOf('_sm_') !== -1);
                  if (!e) return;
                  this._multiselectIconFrameName = e.name;
                }
                return this._multiselectIconFrameName;
              },
            },
            {
              key: 'getRallyPoint',
              value() {
                return this.rallyPoint;
              },
            },
            {
              key: 'getProduction',
              value() {
                const t = this;
                return (this.dataObject.getProduction() || []).filter(e => t.player.hasTechnology(e));
              },
            },
            {
              key: 'getConstruction',
              value() {
                const t = this;
                return (this.dataObject.getConstruction() || []).filter(e => t.player.hasTechnology(e));
              },
            },
            {
              key: 'getResearch',
              value() {
                const t = this;
                return (this.dataObject.getResearch() || []).filter(e => t.player.hasTechnology(e));
              },
            },
            {
              key: 'isBigShip',
              value() {
                return ['Carrier', 'Battleship', 'Expansionist'].includes(this.getDataObject().getType());
              },
            },
            {
              key: 'isMelee',
              value() {
                return (
                  this.getWeaponManager() &&
                  this.getWeaponManager().getMaxRange() <= it.MELEE_RANGE
                );
              },
            },
            {
              key: 'getTargetEntity',
              value() {
                return (
                  this.getWeaponManager() &&
                  this.getWeaponManager().getTargetEntity()
                );
              },
            },
            {
              key: 'getInTransform',
              value() {
                return this.inTransform;
              },
            },
            {
              key: 'setInTransform',
              value(t) {
                this.inTransform = t;
              },
            },
            {
              key: 'getDetectorWeapon',
              value() {
                return (
                  this.getWeaponManager() &&
                  this.getWeaponManager().getDetectorWeapon()
                );
              },
            },
            {
              key: 'getSpyingWeapon',
              value() {
                return (
                  this.getWeaponManager() &&
                  this.getWeaponManager().getSpyingWeapon()
                );
              },
            },
            {
              key: 'getBeingSeenBySpy',
              value() {
                return this.beingSeenBySpy;
              },
            },
            {
              key: 'setBeingSeenBySpy',
              value(t) {
                this.beingSeenBySpy !== t &&
                  ((this.beingSeenBySpy = t),
                  this.dispatch('beingSeenBySpyChanged'));
              },
            },
            {
              key: 'getRevengerWeapon',
              value() {
                return this.getWeaponManager().getRevengerWeapon();
              },
            },
            {
              key: 'createRevengerEntities',
              value() {
                let t = this,
                  e = this.weaponManager.getRevengerWeapon();
                if (e) {
                  for (
                    let i = this.getSprite(),
                      n = x.default.getInstance(),
                      r = 0;
                    r < e.number;
                    r += 1
                  ) {
                    n.synced.entities
                      .add({
                        readyQuote: !1,
                        madeByEntity: !0,
                        id: e.unit,
                        team: this.getDataObject().getTeam(),
                        x: i.x,
                        y: i.y,
                      })
                      .then(e => t.entityManager.entities(e))
                      .then(t => t.gotToSafeDistant());
                  }
                }
              },
            },
            {
              key: 'gotToSafeDistant',
              value() {
                let t = ut.default.getInstance(),
                  e = this.getSprite(),
                  i = t.get() * Math.PI * 2,
                  n = e.x + 80 * Math.cos(i),
                  r = e.y + 80 * Math.sin(i);
                this.moveTo(n, r);
              },
            },
            {
              key: 'getInterceptor',
              value() {
                return this.getWeaponManager().getInterceptor();
              },
            },
            {
              key: 'getParent',
              value() {
                return this.parent;
              },
            },
            {
              key: 'getAmountOfInterceptors',
              value() {
                const t = this;
                return (
                  !1 !== this.getInterceptor() &&
                  this.entityManager.entities().filter(e => e.getParent() === t).length
                );
              },
            },
            {
              key: 'destroyInterceptorChilds',
              value() {
                const t = this;
                this.weaponManager.getInterceptor() &&
                  lt.game.entityManager
                    .entities()
                    .filter(e => (
                      e.dataObject.isInterceptor() && e.getParent() === t
                    ))
                    .forEach(t => lt.game.entityManager.remove(t));
              },
            },
            {
              key: 'getCargoSum',
              value() {
                const t = this.getDataObject();
                return (
                  t.getCargoTitanium() +
                  t.getCargoSilicium() +
                  t.getCargoUranium()
                );
              },
            },
            {
              key: 'hasControlOrder',
              value() {
                return this.dataObject.getControlButtonOrder();
              },
            },
            {
              key: 'mayAttack',
              value() {
                return this.activityManager.mayAttack();
              },
            },
            {
              key: 'addLogic',
              value(t) {
                this.logic = t;
              },
            },
          ]),
          t
        );
      }());
    e.default = pt;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(83),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = 1.5,
      h = (function (t) {
        function e(t) {
          const i =
            arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
          n(this, e);
          const a = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            (a.willBeKilledIfTargetTooFar = i),
            (a._minRange = a.entity.getWeaponManager().getMinRange()),
            (a._rangeTooFar = a.entity.getWeaponManager().getMaxRange() * c),
            a
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'update',
              value() {
                this.target &&
                  (this.calculateDistance(),
                  (this.isInMinRange() ||
                    this.isWeaponReadyToFireTarget() ||
                    this.isTargetTooFar()) &&
                    (this.entity.stop(), this.kill()));
              },
            },
            {
              key: 'activate',
              value() {
                const t =
                  !(arguments.length > 0 && void 0 !== arguments[0]) ||
                  arguments[0];
                this.setCoordsToTarget(),
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this, t),
                this.entity.isHoldingPosition() && this.kill();
              },
            },
            {
              key: 'setTarget',
              value(t) {
                this.target = t;
              },
            },
            {
              key: 'setCoordsToTarget',
              value() {
                if (!this.target) return void this.kill();
                let t = this.target.getSprite(),
                  e = t.x,
                  i = t.y;
                this.setCoords({ x: e, y: i });
              },
            },
            {
              key: 'isInMinRange',
              value() {
                return this._distance <= this._minRange;
              },
            },
            {
              key: 'isWeaponReadyToFireTarget',
              value() {
                return this.entity
                  .getWeaponManager()
                  .isWeaponReadyToFireTarget();
              },
            },
            {
              key: 'isTargetTooFar',
              value() {
                return (
                  !!this.willBeKilledIfTargetTooFar &&
                  this._distance > this._rangeTooFar
                );
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = h;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(8),
      c = n(l),
      h = i(15),
      d = n(h),
      f = i(11),
      p = n(f),
      g = i(1),
      y = n(g),
      v = i(14),
      m = n(v),
      b = i(4),
      _ = n(b),
      w = i(2),
      x = window.fivenations,
      P = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return i.createHelpers(), i.addEventListeners(), i;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'createHelpers',
              value() {
                (this.progress = 0),
                (this.builders = []),
                (this.constructionData = { sprite: null, frames: [] }),
                (this.onBuilderEntityRemove = this.removeBuilder.bind(this)),
                (this.onEntityRemove = this.removeEntity.bind(this));
              },
            },
            {
              key: 'addEventListeners',
              value() {
                this.entity.on('remove', this.onEntityRemove);
              },
            },
            {
              key: 'kill',
              value() {
                this.sprite &&
                  (m.default
                    .getInstance()
                    .getGroup('entities')
                    .remove(this.sprite),
                  this.sprite.destroy()),
                this.progreStatusBar.destroy(),
                this.entity.off('remove', this.onEntityRemove),
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this);
              },
            },
            {
              key: 'update',
              value() {
                this.delayedInit(),
                this.updateProgress(),
                this.increaseHullAndShield(),
                this.updateSpritesByProgress(),
                this.updateProgresStatusBarByProgress(),
                this.testProgress();
              },
            },
            {
              key: 'delayedInit',
              value() {
                this._firstExecution ||
                  (this.setHullToOne(),
                  this.createConstructionData(),
                  this.createSprite(),
                  this.createProgressBar(),
                  (this._firstExecution = !0));
              },
            },
            {
              key: 'setHullToOne',
              value() {
                this.entity.getDataObject().forceSet({ hull: 1, shield: 1 });
              },
            },
            {
              key: 'createConstructionData',
              value() {
                let t = this.entity.getDataObject(),
                  e = t.getInConstruction();
                (this.constructionTimeInTurns = 60 * t.getBuildingTime()),
                (this.constructionRate = 100 / this.constructionTimeInTurns),
                (this.constructionData = Object.assign(
                  this.constructionData,
                  e,
                )),
                (this.maxShield = t.getMaxShield()),
                (this.maxHull = t.getMaxHull()),
                (this.addedShield = 0),
                (this.addedHull = 0),
                (this.DO = t),
                (this._updateStatusDisplay = 0);
              },
            },
            {
              key: 'createSprite',
              value() {
                if (this.constructionData.sprite) {
                  const t = m.default.getInstance().getGroup(w.GROUP_ENTITIES);
                  (this.parentSprite = this.entity.getSprite()),
                  (this.parentSprite.alpha = 0),
                  (this.sprite = x.game.game.add.sprite(
                    0,
                    0,
                    this.constructionData.sprite,
                  )),
                  this.sprite.anchor.set(0.5),
                  (this.sprite.x = this.parentSprite.x),
                  (this.sprite.y = this.parentSprite.y),
                  t.add(this.sprite);
                }
              },
            },
            {
              key: 'createProgressBar',
              value() {
                const t = m.default.getInstance().getGroup('prior-gui-elements');
                this.progreStatusBar &&
                  (t.remove(this.progreStatusBar),
                  this.progreStatusBar.destroy());
                const e = this.entity.getSprite();
                (this.progreStatusBar = x.game.game.add.graphics(0, 0)),
                (this.progresBarwidth = this.entity
                  .getDataObject()
                  .getWidth()),
                (this.progresBarheight = this.entity
                  .getDataObject()
                  .getHeight()),
                (this.progreStatusBar.x = e.x - this.progresBarwidth / 2),
                (this.progreStatusBar.y = e.y - this.progresBarheight - 10),
                t.add(this.progreStatusBar);
              },
            },
            {
              key: 'updateProgress',
              value() {
                const t = this.builders.length;
                t > 0 &&
                  this.progress < 100 &&
                  ((this.progress +=
                    this.constructionRate * x.game.time.fpsMultiplier),
                  t > 1 &&
                    (this.progress +=
                      this.constructionRate * (((t - 1) / 5) * 1))),
                (this.progressRate = this.progress / 100);
              },
            },
            {
              key: 'increaseHullAndShield',
              value() {
                let t = Math.max(
                    0,
                    Math.floor(this.progressRate * this.maxHull) -
                      this.addedHull,
                  ),
                  e = Math.max(
                    0,
                    Math.floor(this.progressRate * this.maxShield) -
                      this.addedShield,
                  );
                this.DO.restoreHull(t),
                this.DO.restoreShield(e),
                (this.addedHull += t),
                (this.addedShield += e),
                (this._updateStatusDisplay > 10 || this.pogress >= 100) &&
                    (this.entity.dispatch('restoreAttr'),
                    (this._updateStatusDisplay = 0)),
                (this._updateStatusDisplay += 1);
              },
            },
            {
              key: 'updateSpritesByProgress',
              value() {
                if (this.constructionData.sprite) {
                  let t = this.constructionData.frames.length,
                    e = Math.min(t, Math.floor((t + 1) * this.progressRate));
                  e === t
                    ? ((this.parentSprite.frame = 3),
                    (this.parentSprite.alpha = 1),
                    (this.sprite.visible = !1))
                    : this.constructionData.frames[e] &&
                      (this.sprite.frameName = this.constructionData.frames[e]);
                }
              },
            },
            {
              key: 'updateProgresStatusBarByProgress',
              value() {
                if (this.progressRate < 1) {
                  (this.progreStatusBar.visible = !0),
                  this.progreStatusBar.clear(),
                  this.progreStatusBar.lineStyle(1, '0x84e1e3', 1),
                  this.progreStatusBar.drawRect(
                    0,
                    0,
                    this.progresBarwidth,
                    8,
                  );
                  let t = this.progresBarwidth * this.progressRate - 4;
                  (t = t > 0 ? t : 0),
                  this.progreStatusBar.beginFill('0x84e1e3'),
                  this.progreStatusBar.drawRect(2, 2, t, 4),
                  this.progreStatusBar.endFill();
                } else this.progreStatusBar.clear();
              },
            },
            {
              key: 'testProgress',
              value() {
                this.progress >= 100 && this.onConstructionComplete();
              },
            },
            {
              key: 'addBuilder',
              value(t) {
                this.builders.push(t),
                this.entity.dispatch('updateHangar'),
                t.on('remove', this.onBuilderEntityRemove);
              },
            },
            {
              key: 'removeBuilder',
              value(t) {
                (this.builders = this.builders.filter(e => t !== e)),
                this.entity.dispatch('updateHangar'),
                t.off('remove', this.onBuilderEntityRemove);
              },
            },
            {
              key: 'removeEntity',
              value() {
                this.kill();
              },
            },
            {
              key: 'onConstructionComplete',
              value() {
                let t = _.default.getInstance(),
                  e = y.default.getInstance();
                t.isUserAuthorised() &&
                  (e.synced.entities(this.entity).constructionCompleted(),
                  this.activateAutoMining()),
                this.playAudio();
              },
            },
            {
              key: 'activateAutoMining',
              value() {
                if (
                  this.entity.getDataObject().isMiningStation() &&
                  this.builders.length
                ) {
                  let t = y.default.getInstance(),
                    e = p.default.getInstance(),
                    i = e.findClosestMinableAsteroid(this.entity);
                  t.synced
                    .entities(this.builders)
                    .mine({ targetEntity: i, resetActivityQueue: !0 });
                }
              },
            },
            {
              key: 'playAudio',
              value() {
                let t = _.default.getInstance(),
                  e = t.getUser();
                this.entity.getPlayer() === e &&
                  c.default
                    .getInstance()
                    .playAudioSprite({
                      sprite: 'sfx',
                      marker: 'fed_advisor_construction_00',
                    });
              },
            },
            {
              key: 'getProgress',
              value() {
                return this.progress;
              },
            },
            {
              key: 'getBuilders',
              value() {
                return this.builders;
              },
            },
            {
              key: 'getMaxBuilderCount',
              value() {
                return 5;
              },
            },
            {
              key: 'isFull',
              value() {
                return this.builders.length === 5;
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = P;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(66),
      c = n(l),
      h = i(527),
      d = n(h),
      f = 'absorptive-plating',
      p = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            (i.hullThreshold = i.entity._lowHPTreshold),
            (i.cloakFilter = new d.default(i.game)),
            (i.sprite = t.getSprite()),
            (i.player = t.getPlayer()),
            (i.onFireCallback = i.onFire.bind(i)),
            (i.previousDetection = t.isDetectedByUser()),
            i.player.hasResearchCompleted(f) ||
              i.entity.on('fire', i.onFireCallback),
            i
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'activate',
              value() {
                const t = this;
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                this.tween &&
                    (this.tween.stop(), this.tween.onComplete.removeAll()),
                this.entity.isEntityControlledByUser() ||
                  this.entity.isDetectedByUser()
                  ? ((this.tween = this.game.add
                    .tween(this.sprite)
                    .to(
                      { alpha: 0.33 },
                      500,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                    )),
                  (this.sprite.filters = null))
                  : ((this.tween = this.game.add
                    .tween(this.sprite)
                    .to(
                      { alpha: 0.15 },
                      500,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                    )),
                  this.tween.onComplete.addOnce(() => {
                    t.sprite.filters = [t.cloakFilter];
                  }),
                  this.entity.setGraphicalAddonsVisibility(!1),
                  this.entity.unselect());
              },
            },
            {
              key: 'deactivate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'deactivate',
                  this,
                ).call(this),
                (this.sprite.filters = null),
                this.tween.stop(),
                this.game.add
                  .tween(this.sprite)
                  .to({ alpha: 1 }, 500, Phaser.Easing.Exponential.InOut, !0),
                this.entity.setGraphicalAddonsVisibility(!0);
              },
            },
            {
              key: 'update',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'update',
                  this,
                ).call(this),
                this.isEntityHullBelowThreshold()
                  ? this.active &&
                      (this.deactivate(), (this.turnsUntilActivation = 0))
                  : this.turnsUntilActivation > 0
                    ? (this.turnsUntilActivation -= 1)
                    : this.turnsUntilActivation === 0
                      ? (this.activate(), (this.turnsUntilActivation = null))
                      : this.checkDetectionChanges();
              },
            },
            {
              key: 'kill',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this),
                this.entity.off('fire', this.onFireCallback);
              },
            },
            {
              key: 'onFire',
              value() {
                if (this.player.hasResearchCompleted(f)) { return void this.entity.off('fire', this.onFireCallback); }
                this.deactivate(), (this.turnsUntilActivation = 120);
              },
            },
            {
              key: 'isEntityHullBelowThreshold',
              value() {
                return (
                  this.entity.getDataObject().getHull() < this.hullThreshold
                );
              },
            },
            {
              key: 'checkDetectionChanges',
              value() {
                const t = this.entity.isDetectedByUser();
                t !== this.previousDetection &&
                  (this.activate(),
                  (this.turnsUntilActivation = null),
                  (this.previousDetection = t));
              },
            },
            {
              key: 'getId',
              value() {
                return 'cloak';
              },
            },
            {
              key: 'getIconFrameName',
              value() {
                return 'gui_effect_02_stealth.png';
              },
            },
          ]),
          e
        );
      }(c.default));
    (p.ID = 'cloak'), (e.default = p);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 }),
    (e.DEFAULT_ATTRIBUTES = void 0);
    let s =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(553),
      c = n(l),
      h = i(85),
      d = n(h),
      f = i(1),
      p = n(f),
      g = i(3),
      y = n(g),
      v = i(8),
      m = n(v),
      b = i(82),
      _ = n(b),
      w = i(136),
      x = n(w),
      P = window.fivenations,
      k = (e.DEFAULT_ATTRIBUTES = {
        spritesheet: 'gui_ingame_menu',
        frames: { background: 'ingamemenu_back.png' },
        style: {
          font: '18px conthraxsemibold',
          fill: '#99eded',
          boundsAlignH: 'top',
          wordWrap: !0,
          align: 'center',
        },
        inputstyle: {
          font: '14px conthraxsemibold',
          fill: '#99eded',
          boundsAlignH: 'top',
          wordWrap: !1,
          align: 'left',
          drawBack: 0,
          drawFront: 10087917,
        },
        padding: 0,
      }),
      T = (function (t) {
        function e(t) {
          r(this, e);
          let i = P.game.game,
            n = a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, i),
            );
          return (
            (n.config = t || {}),
            n.initOverlayComponent(t),
            n.initBasicComponents(t),
            n.initEventListener(),
            n.initButtons(t),
            t.inputs && n.initInputs(t),
            t.separators && n.initSeparators(t),
            n.setCoordinates(t),
            t.hidden ? (n.visible = !1) : n.show(),
            n
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'initOverlayComponent',
              value(t) {
                if (t.overlay) {
                  const e = new d.default({ alpha: 0.5, stopPropagation: !0 });
                  (e.x = -e.width / 2),
                  (e.y = -e.height / 2),
                  (this.overlay = this.add(e));
                }
              },
            },
            {
              key: 'initBasicComponents',
              value(t) {
                let e = t.offsetX,
                  i = t.offsetY,
                  n = t.spritesheet,
                  r = t.frame,
                  a = t.frameName,
                  o = t.text,
                  u = t.noBackground;
                (this.window = this.game.add.group()),
                this.add(this.window),
                (this.background = this.game.add.sprite(
                  e || 0,
                  i || 0,
                  n || k.spritesheet,
                )),
                (this.background.frameName = a || k.frames.background),
                r && (this.background.frame = r),
                this.background.anchor.set(0.5),
                u && (this.background.visible = !1),
                this.window.add(this.background),
                o &&
                    ((this.text = this.game.add.text(
                      0,
                      -233,
                      o,
                      s({}, k.style, {
                        wordWrapWidth: this.background.width - k.padding,
                      }),
                    )),
                    this.text.anchor.set(0.5),
                    this.window.add(this.text));
              },
            },
            {
              key: 'initSeparators',
              value(t) {
                const e = this;
                t.separators.forEach((t) => {
                  const i = e.game.add.sprite(-144, t, 'gui_ingame_menu');
                  (i.frameName = 'ingamemenu_separator_type01.png'),
                  e.window.add(i);
                });
              },
            },
            {
              key: 'initButtons',
              value(t) {
                const e = this;
                t.buttons.forEach((t) => {
                  (e.button = new c.default({
                    label: t.label,
                    onClick() {
                      t.closeMenu && e.hide(),
                      t.onClick(),
                      e.eventDispatcher.dispatch('dismiss');
                    },
                    disabled: t.disabled || !1,
                  })),
                  (e.button.x = 0),
                  (e.button.y = t.y),
                  e.window.add(e.button);
                });
              },
            },
            {
              key: 'initInputs',
              value(t) {
                const e = this;
                t.inputs.forEach((t) => {
                  if (void 0 !== t.label) {
                    switch (
                      ((e.text = e.game.add.text(
                        -142,
                        t.y,
                        t.label,
                        s({}, k.inputstyle),
                      )),
                      e.text.anchor.set(0),
                      e.window.add(e.text),
                      t.type)
                    ) {
                      case 'slider':
                        e.initSliderInput(t);
                        break;
                      case 'checkbox':
                        e.initCheckboxInput(t);
                    }
                  }
                });
              },
            },
            {
              key: 'initCheckboxInput',
              value(t) {
                const e = this.game.add.sprite(124, t.y + 12, 'gui_ingame_menu');
                (e.frameName = 'ingamemenu_checkbox_base.png'),
                e.anchor.set(0.5);
                const i = this.game.add.sprite(124, t.y + 12, 'gui_ingame_menu');
                (i.frameName = 'ingamemenu_checkbox_checked.png'),
                i.anchor.set(0.5),
                this.add(e),
                this.add(i),
                t.value < 1 ? (i.alpha = 0) : (i.alpha = 1),
                t.disabled
                  ? ((e.alpha = 0.3), (i.alpha = 0))
                  : ((i.inputEnabled = !0),
                  (i.input.useHandCursor = !0),
                  i.events.onInputUp.add(this.onCheckboxClick, {
                    button: i,
                    input: t,
                  }));
              },
            },
            {
              key: 'initSliderInput',
              value(t) {
                let e = { x: -142, y: t.y + 25 },
                  i = e.x,
                  n = t.value,
                  r = new Phaser.Rectangle().setTo(e.x, e.y, 282, 17),
                  a = this.game.add
                    .graphics(r.x, r.y)
                    .beginFill(k.inputstyle.drawBack)
                    .drawRect(0, 0, r.width, r.height)
                    .endFill();
                this.add(a);
                const o = this.game.add
                  .graphics(r.x, r.y)
                  .beginFill(k.inputstyle.drawFront)
                  .drawRect(0, 0, r.width, r.height)
                  .endFill();
                this.add(o);
                const s = this.game.add
                  .graphics(e.x, e.y)
                  .beginFill(k.inputstyle.drawFront)
                  .drawRect(0, 0, 2, 17)
                  .endFill();
                this.add(s),
                t.disabled
                  ? ((o.alpha = 0.3),
                  (s.alpha = 0),
                  (o.scale = { x: 1, y: 1 }))
                  : ((a.inputEnabled = !0),
                  (a.input.useHandCursor = !0),
                  a.events.onInputUp.add(this.onVolumeClick, {
                    drag: s,
                    volume: o,
                    minLeft: i,
                    barWidth: 282,
                    input: t,
                  }),
                  (o.scale = { x: n, y: 1 }));
              },
            },
            {
              key: 'onCheckboxClick',
              value() {
                if (
                  (this.button.alpha < 1
                    ? (this.button.alpha = 1)
                    : (this.button.alpha = 0),
                  this.input.onClickFunction)
                ) {
                  switch (this.input.onClickFunction[this.button.alpha]) {
                    case 'fullscreen_off':
                      x.default.getInstance().deactivateFullScreen();
                      break;
                    case 'fullscreen_on':
                      x.default.getInstance().activateFullScreen(P.game.game);
                  }
                }
                this.button.update(),
                m.default
                  .getInstance()
                  .playAudioSprite({ sprite: 'sfx', marker: 'HUD_click' });
              },
            },
            {
              key: 'onVolumeClick',
              value(t, e) {
                let i = e.x - 640,
                  n =
                    Math.round(((i - this.minLeft) / this.barWidth) * 20) / 20,
                  r = this.barWidth * n + this.minLeft;
                if (
                  ((this.volume.scale = { x: n, y: 1 }),
                  (this.drag.x = r),
                  this.input.onClickFunction)
                ) {
                  switch (this.input.onClickFunction) {
                    case 'sound':
                      m.default.getInstance().setVolume(n);
                      break;
                    case 'music':
                      _.default.getInstance().setVolume(n);
                  }
                }
                m.default
                  .getInstance()
                  .playAudioSprite({ sprite: 'sfx', marker: 'HUD_set_switch' });
              },
            },
            {
              key: 'initEventListener',
              value() {
                this.eventDispatcher = new y.default.EventDispatcher();
              },
            },
            {
              key: 'setCoordinates',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = t.cameraOffset,
                  r = t.fixedToCamera,
                  a = P.window,
                  o = a.width,
                  s = a.height,
                  u = this.background.width / 2,
                  l = this.background.height / 2,
                  c = e || o / 2,
                  h = i || s / 2;
                (this.x = Math.min(o - u, Math.max(u, c))),
                (this.y = Math.min(s - l, Math.max(l, h))),
                !1 !== r && (this.fixedToCamera = !0),
                !1 !== n && this.cameraOffset.setTo(c, h);
              },
            },
            {
              key: 'update',
              value(t) {
                t && t.text && (this.text = t.text);
              },
            },
            {
              key: 'show',
              value() {
                (this.visible = !0),
                this.eventDispatcher.dispatch('show'),
                this.overlay &&
                    this.game.add
                      .tween(this.overlay)
                      .from(
                        { alpha: 0 },
                        200,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                      ),
                this.game.add
                  .tween(this.window)
                  .from(
                    { alpha: 0, y: -200 },
                    200,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                  ),
                p.default.getInstance().local.dispatch('ingame/popup/open');
              },
            },
            {
              key: 'hide',
              value() {
                const t = this;
                this.eventDispatcher.dispatch('hide'),
                this.overlay &&
                    this.game.add
                      .tween(this.overlay)
                      .to(
                        { alpha: 0 },
                        200,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                      ),
                this.game.add
                  .tween(this.window)
                  .to(
                    { alpha: 0, y: -200 },
                    200,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                  )
                  .onComplete.add(() => {
                    (t.overlay.alpha = 1),
                    (t.window.alpha = 1),
                    (t.window.y = 0),
                    (t.visible = !1);
                  }),
                p.default.getInstance().local.dispatch('ingame/popup/close');
              },
            },
            {
              key: 'on',
              value(t, e) {
                this.eventDispatcher.addEventListener(t, e);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = T;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 }),
    (e.MINIMIZED_HEIGHT = e.MINIMIZED_WIDTH = void 0);
    let s =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(142),
      c = i(4),
      h = n(c),
      d = i(11),
      f = n(d),
      p = i(48),
      g = n(p),
      y = i(22),
      v = n(y),
      m = i(1),
      b = n(m),
      _ = i(558),
      w = n(_),
      x = window.fivenations,
      P = {},
      k = [],
      T = void 0,
      O = {},
      E = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, x.game.game),
          );
          return (
            (i.map = t),
            i.initHelpers(),
            i.initDisplayLayers(),
            i.setEventListeners(),
            i.startDelayedEntityUpdateLoop(),
            i
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'appendTo',
              value(t, e, i) {
                if (!t) throw new Error('Invalid Phaser.Sprite object!');
                (this.x = e),
                (this.y = i),
                (this.panel = t),
                this.panel.addChild(this);
              },
            },
            {
              key: 'initHelpers',
              value() {
                (this.userPointer = g.default.getInstance()),
                (this.playerManager = h.default.getInstance()),
                (this.entityManager = f.default.getInstance()),
                (this.cache = {}),
                (this.ratio = {
                  x: 160 / this.map.getScreenWidth(),
                  y: 160 / this.map.getScreenHeight(),
                });
              },
            },
            {
              key: 'initDisplayLayers',
              value() {
                this.initBackground(),
                this.initFogOfWarLayer(),
                this.initEntityLayer(),
                this.initIndicatorLayer();
              },
            },
            {
              key: 'initBackground',
              value() {
                const t = this.game.add.sprite(0, 0, 'gui-hd');
                (t.frameName = 'gui_panel_minimap.png'), this.add(t);
              },
            },
            {
              key: 'initEntityLayer',
              value() {
                (this.entityBitmapData = this.game.add.bitmapData(160, 160)),
                (this.entityBitmapData.ctx.fillStyle = '#101010'),
                this.entityBitmapData.ctx.fillRect(0, 0, 160, 160),
                this.add(this.game.add.sprite(10, 7, this.entityBitmapData));
              },
            },
            {
              key: 'initFogOfWarLayer',
              value() {
                (this.fogOfWarBitmapData = this.game.add.bitmapData(160, 160)),
                (this.fogOfWarBitmapData.ctx.fillStyle = '#101010'),
                this.fogOfWarBitmapData.ctx.fillRect(0, 0, 160, 160),
                this.add(this.game.add.sprite(10, 7, this.fogOfWarBitmapData));
              },
            },
            {
              key: 'initIndicatorLayer',
              value() {
                (this.indicatorGraphics = this.game.make.graphics(10, 7)),
                this.add(this.indicatorGraphics);
              },
            },
            {
              key: 'setEventListeners',
              value() {
                this.setLeftButtonListeners(), this.setRightButtonListeners();
                const t = b.default.getInstance().local;
                t.addEventListener(
                  'fogofwar/change',
                  this.updateFogOfWar.bind(this),
                ),
                t.addEventListener(
                  'fogofwar/vision/change',
                  this.forceRefresh.bind(this),
                );
              },
            },
            {
              key: 'setLeftButtonListeners',
              value() {
                const t = this;
                this.userPointer.on('leftbutton/move', (e) => {
                  if (!e.isMultiselectionActive()) {
                    const i = t.getMouseCoords(e, t.map, !0);
                    !i ||
                      (i.x === O.x && i.y === O.y) ||
                      ((O.x = i.x), (O.y = i.y), t.map.scrollTo(i.x, i.y));
                  }
                });
              },
            },
            {
              key: 'setRightButtonListeners',
              value() {
                const t = this;
                this.userPointer.on('rightbutton/down', (e) => {
                  let i = t.getMouseCoords(e, t.map),
                    n = !0,
                    r = !1;
                  i &&
                    (v.default.getInstance().isDown(Phaser.KeyCode.SHIFT) &&
                      ((n = !1), (r = !0)),
                    b.default
                      .getInstance()
                      .synced.entities(':user:selected')
                      .move({
                        x: i.x,
                        y: i.y,
                        resetActivityQueue: n,
                        addAsLast: r,
                      }));
                });
              },
            },
            {
              key: 'getMouseCoords',
              value(t, e, i) {
                let n = e.getScreenWidth(),
                  r = e.getScreenHeight(),
                  a = x.window.width / n,
                  o = x.window.height / r,
                  s = 160 * a,
                  u = 160 * o,
                  l = t.getRealCoords(),
                  c = l.x - this.panel.x - this.x - 10,
                  h = l.y - this.panel.y - this.y - 7;
                return (
                  !(c > 160 || h > 160 || h < 0) &&
                  (t.stopMultiselection(),
                  i && ((c -= s / 2), (h -= u / 2)),
                  (a = c / 160),
                  (o = h / 160),
                  { x: n * a, y: r * o })
                );
              },
            },
            {
              key: 'startDelayedEntityUpdateLoop',
              value() {
                const t = this;
                T && clearTimeout(T),
                (function e() {
                  t.updateEntities(), (T = setTimeout(e, 500));
                }());
              },
            },
            {
              key: 'update',
              value() {
                this.indicatorGraphics.clear(),
                this.updateCamera(),
                this.updateNotifications();
              },
            },
            {
              key: 'forceRefresh',
              value() {
                this.forceRedrawFogOfWarLayer(), this.updateEntities();
              },
            },
            {
              key: 'updateEntities',
              value() {
                const t = this;
                if (this.playerManager.getUser()) {
                  let e = this.map.getFogOfWar(),
                    i = e.getActiveVisibleTeam();
                  this.entityBitmapData.blendDestinationOut(),
                  this.entityBitmapData.fill(0, 0, 0),
                  this.entityBitmapData.blendReset(),
                  this.entityManager
                    .entities(':not(hibernated)')
                    .filter((t) => {
                      const n = t.getTile();
                      return (
                        !(t.isInvisible() && !t.isDetectedByTeam(i)) &&
                          (e.isVisible(n[0], n[1], i) ||
                            e.isVisibleInFog(n[0], n[1], t))
                      );
                    })
                    .reverse()
                    .forEach((i) => {
                      let n = i.getDataObject(),
                        r = (i.getSprite().x / t.map.getScreenWidth()) * 160,
                        a = (i.getSprite().y / t.map.getScreenHeight()) * 160,
                        o = Math.max(
                          1,
                          (n.getWidth() / t.map.getScreenWidth()) * 160,
                        ),
                        s = Math.max(
                          1,
                          (n.getHeight() / t.map.getScreenHeight()) * 160,
                        ),
                        u = n.getCustomMinimapColor();
                      u || (u = t.playerManager.getColors()[n.getTeam() - 1]);
                      const l = i.getTile();
                      if (e.isVisibleInFog(l[0], l[1], i)) {
                        if (void 0 !== P[u]) u = P[u];
                        else {
                          let c = Phaser.Color.hexToColor(u),
                            h = Phaser.Color.RGBtoString(
                              Math.max(c.r - 50, 0),
                              Math.max(c.g - 50, 0),
                              Math.max(c.b - 50, 0),
                            );
                          (P[u] = h), (u = h);
                        }
                      }
                      (t.entityBitmapData.ctx.fillStyle = u.replace(
                        '0x',
                        '#',
                      )),
                      t.entityBitmapData.ctx.fillRect(r, a, o, s);
                    }),
                  (this.entityBitmapData.dirty = !0);
                }
              },
            },
            {
              key: 'updateCamera',
              value() {
                let t = x.window.width / this.map.getScreenWidth(),
                  e = x.window.height / this.map.getScreenHeight(),
                  i = 160 * t,
                  n = 160 * e,
                  r =
                    (this.game.camera.x /
                      (this.map.getScreenWidth() - x.window.width)) *
                    (160 - i),
                  a =
                    (this.game.camera.y /
                      (this.map.getScreenHeight() - x.window.height)) *
                    (160 - n);
                this.indicatorGraphics.lineStyle(1, '0xFFFFFF', 1),
                this.indicatorGraphics.drawRect(r, a, i, n);
              },
            },
            {
              key: 'updateNotifications',
              value() {
                const t = this;
                k.forEach(e => e.update(t.indicatorGraphics));
              },
            },
            {
              key: 'updateFogOfWar',
              value(t) {
                let e = this.map.getFogOfWar(),
                  i = e.getMatrix(),
                  n = this.cache.fogOfWar;
                n ||
                  ((n = {}),
                  (n.mapWidth = i.length - 1),
                  (n.mapHeight = i[0].length - 1),
                  (n.tileWidthOnMinimap = 160 / n.mapWidth),
                  (n.tileHeightOnMinimap = 160 / n.mapHeight),
                  (this.cache.fogOfWar = n));
                const r = this.fogOfWarBitmapData.ctx;
                t.forEach((t) => {
                  let e = t.x * n.tileWidthOnMinimap,
                    i = t.y * n.tileHeightOnMinimap;
                  (r.fillStyle =
                    t.value === l.CODE_REVEALED_BEFORE ? '#011028' : '#001A45'),
                  r.fillRect(
                    e,
                    i,
                    n.tileWidthOnMinimap,
                    n.tileHeightOnMinimap,
                  );
                }),
                (this.fogOfWarBitmapData.dirty = !0);
              },
            },
            {
              key: 'forceRedrawFogOfWarLayer',
              value() {
                let t = this.fogOfWarBitmapData.ctx,
                  e = this.map.getFogOfWar(),
                  i = e.getMatrix(),
                  n = e.getActiveVisibleTeam(),
                  r = i.length - 1,
                  a = i[0].length - 1,
                  o = 160 / r,
                  s = 160 / a;
                (t.fillStyle = '#101010'), t.fillRect(0, 0, 160, 160);
                for (let u = 0; u < i.length; u += 1) {
                  for (let c = 0; c < i[0].length; c += 1) {
                    let h = c * o,
                      d = u * s,
                      f = i[u][c][n];
                    f &&
                      ((t.fillStyle =
                        f === l.CODE_REVEALED_BEFORE ? '#011028' : '#001A45'),
                      t.fillRect(h, d, o, s));
                  }
                }
                this.fogOfWarBitmapData.dirty = !0;
              },
            },
            {
              key: 'showNotification',
              value(t) {
                const e = new w.default(s({ minimap: this, map: this.map }, t));
                k.push(e);
              },
            },
            {
              key: 'removeNotification',
              value(t) {
                for (let e = k.length - 1; e >= 0; e -= 1) { t === k[e] && k.splice(e, 1); }
              },
            },
            {
              key: 'isHover',
              value() {
                return this.userPointer.isHover(this);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    (e.MINIMIZED_WIDTH = 160), (e.MINIMIZED_HEIGHT = 160), (e.default = E);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s() {
      let t = f.default.getInstance().getGroup(m.GROUP_TOOLTIPS),
        e = h.default.getInstance(),
        i = new T();
      return (
        e.local.addEventListener('gui/controlpanel/change', () => {
          i.visible = !1;
        }),
        e.local.addEventListener('gui/controlpanel/hide', () => {
          i.visible = !1;
        }),
        t.add(i),
        i
      );
    }
    function u(t) {
      let e = t.target,
        i = t.test;
      typeof i !== 'function' &&
        (i = function () {
          return !0;
        }),
      (k && w.game.game === k.game) || (k = s()),
      e.events.onInputOver.add((t) => {
        if (i()) {
          let e = w.window.width - k.width,
            n = w.window.height - k.height,
            r = t.worldPosition.x + 0,
            a = t.worldPosition.y - k.height,
            o = Math.max(Math.min(r, e), 0),
            s = Math.max(Math.min(a, n), 0);
          t.visible &&
              (k.cameraOffset.setTo(o, s),
              (k.x = o),
              (k.y = s),
              (k.visible = !0),
              k.updateContent(t));
        }
      }),
      e.events.onInputOut.add(() => {
        i() && (k.visible = !1);
      });
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = i(1),
      h = n(c),
      d = i(14),
      f = n(d),
      p = i(23),
      g = n(p),
      y = i(7),
      v = n(y),
      m = i(2),
      b = i(138),
      _ = n(b),
      w = window.fivenations,
      x = {
        font: m.DEFAULT_FONT.font,
        headerFont: '13px BerlinSansFB-Reg',
        defaultFill: m.DEFAULT_FONT.color,
        whiteFill: '#ffffff',
        darkFill: '#728dbc',
        redFill: '#ff0000',
      },
      P = { font: m.DEFAULT_FONT.font, fill: '#ffffff' },
      k = void 0,
      T = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, w.game.game),
          );
          return (
            t.setFixedToTheCamera(),
            t.setDefaultVisiblity(),
            t.initBackgroundSprite(),
            t.initEntityLabels(),
            t.createResourceGroup(),
            t.createPrerequisitsGroup(),
            t
          );
        }
        return (
          o(e, t),
          l(e, [
            {
              key: 'setFixedToTheCamera',
              value() {
                this.fixedToCamera = !0;
              },
            },
            {
              key: 'setDefaultVisiblity',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'initBackgroundSprite',
              value() {
                this.background = this.createSprite({
                  id: 'HD_gui_descriptionpopup_sm.png',
                  key: 'gui-hd',
                });
              },
            },
            {
              key: 'initEntityLabels',
              value() {
                (this.nameText = this.game.add.text(16, 14, '', {
                  font: x.headerFont,
                  fill: x.defaultFill,
                })),
                (this.descriptionText = this.game.add.text(16, 27, '', {
                  font: x.font,
                  fill: x.whiteFill,
                  wordWrap: !0,
                  wordWrapWidth: 161,
                })),
                (this.descriptionText.lineSpacing = -8),
                this.add(this.nameText),
                this.add(this.descriptionText);
              },
            },
            {
              key: 'createResourceGroup',
              value() {
                (this.resourceGroup = this.game.add.group()),
                (this.titaniumIcon = this.createSprite({
                  x: 15,
                  y: 62,
                  id: 'ingamemenu_resource_01_titanium.png',
                  key: 'gui-hd',
                })),
                (this.titaniumText = this.game.add.text(55, 81, '', P)),
                (this.siliciumIcon = this.createSprite({
                  x: 72,
                  y: 62,
                  id: 'ingamemenu_resource_02_silicium.png',
                  key: 'gui-hd',
                })),
                (this.siliciumText = this.game.add.text(115, 81, '', P)),
                (this.energyIcon = this.createSprite({
                  id: 'ingamemenu_resource_04_energy.png',
                  x: 128,
                  y: 62,
                  key: 'gui-hd',
                })),
                (this.energyText = this.game.add.text(165, 81, '', P)),
                (this.uraniumIcon = this.createSprite({
                  x: 15,
                  y: 84,
                  id: 'ingamemenu_resource_03_uranium.png',
                  key: 'gui-hd',
                })),
                (this.uraniumText = this.game.add.text(55, 104, '', P)),
                (this.supplyIcon = this.createSprite({
                  x: 72,
                  y: 84,
                  id: 'ingamemenu_resource_05_place.png',
                  key: 'gui-hd',
                })),
                (this.supplyText = this.game.add.text(115, 104, '', P)),
                (this.buildtimeIcon = this.createSprite({
                  x: 128,
                  y: 84,
                  id: 'ingamemenu_resource_06_time.png',
                  key: 'gui-hd',
                })),
                (this.buildtimeText = this.game.add.text(165, 104, '', P)),
                this.titaniumText.anchor.set(0.5),
                this.siliciumText.anchor.set(0.5),
                this.energyText.anchor.set(0.5),
                this.uraniumText.anchor.set(0.5),
                this.supplyText.anchor.set(0.5),
                this.buildtimeText.anchor.set(0.5),
                this.resourceGroup.add(this.titaniumIcon),
                this.resourceGroup.add(this.siliciumIcon),
                this.resourceGroup.add(this.energyIcon),
                this.resourceGroup.add(this.uraniumIcon),
                this.resourceGroup.add(this.supplyIcon),
                this.resourceGroup.add(this.buildtimeIcon),
                this.resourceGroup.add(this.titaniumText),
                this.resourceGroup.add(this.siliciumText),
                this.resourceGroup.add(this.energyText),
                this.resourceGroup.add(this.uraniumText),
                this.resourceGroup.add(this.supplyText),
                this.resourceGroup.add(this.buildtimeText),
                this.add(this.resourceGroup);
              },
            },
            {
              key: 'createPrerequisitsGroup',
              value() {
                let t = v.default.getInstance(),
                  e = t.translate('tooltip.entities.required');
                (this.prerequisitsGroup = this.game.add.group()),
                (this.prerequisitsHeader = this.game.add.text(20, 64, e, {
                  font: x.font,
                  fill: x.redFill,
                })),
                (this.requiredEntities = this.game.add.text(20, 77, '', {
                  font: x.font,
                  fill: x.redFill,
                  wordWrap: !0,
                  wordWrapWidth: 161,
                })),
                (this.requiredEntities.lineSpacing = -8),
                this.prerequisitsGroup.add(this.prerequisitsHeader),
                this.prerequisitsGroup.add(this.requiredEntities),
                this.add(this.prerequisitsGroup);
              },
            },
            {
              key: 'updateContent',
              value(t) {
                const e = this.getDataObjectByButton(t);
                this.updateHeader(e),
                t.isDisabled()
                  ? ((this.prerequisitsGroup.visible = !0),
                  (this.resourceGroup.visible = !1),
                  this.updatePrerequisits(e))
                  : ((this.prerequisitsGroup.visible = !1),
                  (this.resourceGroup.visible = !0),
                  this.updateProductionContent(e));
              },
            },
            {
              key: 'updateHeader',
              value(t) {
                const e = v.default.getInstance();
                this.nameText.text = e.translate(`entities.${t.id}`);
                const i = _.default.getInstance().getKeyByLogicId(t.id);
                i && (this.nameText.text += ` (${i.toUpperCase()})`),
                (this.descriptionText.text = e.translate(`entities.descriptions.${t.id}`));
              },
            },
            {
              key: 'updateProductionContent',
              value(t) {
                (this.titaniumText.text = t.titanium),
                (this.siliciumText.text = t.silicium),
                (this.energyText.text = t.energy),
                (this.uraniumText.text = t.uranium),
                (this.supplyText.text = t.space),
                (this.buildtimeText.text = t.buildingTime),
                t.titanium === 0
                  ? ((this.titaniumText.fill = x.darkFill),
                  (this.titaniumIcon.alpha = 0.3))
                  : ((this.titaniumText.fill = x.whiteFill),
                  (this.titaniumIcon.alpha = 1)),
                t.silicium === 0
                  ? ((this.siliciumText.fill = x.darkFill),
                  (this.siliciumIcon.alpha = 0.3))
                  : ((this.siliciumText.fill = x.whiteFill),
                  (this.siliciumIcon.alpha = 1)),
                t.uranium === 0
                  ? ((this.uraniumText.fill = x.darkFill),
                  (this.uraniumIcon.alpha = 0.3))
                  : ((this.uraniumText.fill = x.whiteFill),
                  (this.uraniumIcon.alpha = 1)),
                t.energy === 0
                  ? ((this.energyText.fill = x.darkFill),
                  (this.energyIcon.alpha = 0.3))
                  : ((this.energyText.fill = x.whiteFill),
                  (this.energyIcon.alpha = 1)),
                t.space === 0
                  ? ((this.supplyText.fill = x.darkFill),
                  (this.supplyIcon.alpha = 0.3))
                  : ((this.supplyText.fill = x.whiteFill),
                  (this.supplyIcon.alpha = 1));
              },
            },
            {
              key: 'updatePrerequisits',
              value(t) {
                let e = g.default.getInstance(),
                  i = v.default.getInstance(),
                  n = t.requiredEntities || [],
                  r = t.requiredResearches || [];
                this.requiredEntities.text = n
                  .concat(r)
                  .map(t => i.translate(e.getTranslationKey(t)))
                  .join('\n');
              },
            },
            {
              key: 'createSprite',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = t.id,
                  r = t.key,
                  a = this.game.add.sprite(e || 0, i || 0, r);
                return (a.frameName = n), this.add(a), a;
              },
            },
            {
              key: 'getDataObjectByButton',
              value(t) {
                if (!t) return {};
                let e = void 0;
                return (
                  t.isResearchButton()
                    ? (e = t.getResearch())
                    : (t.isProductionButton() || t.isConstructionButton()) &&
                      (e = t.getProducableEntity()),
                  g.default.getInstance().getTechById(e)
                );
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    (T.tooltipify = u), (e.default = T);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t) {
      let e = t.getDataObject(),
        i = b;
      return (
        e.isSpaceObject() ? (i = _) : e.isBuilding() && (i = m),
        { entity: t, type: i }
      );
    }
    function o(t, e) {
      return t.entity === e;
    }
    function s(t) {
      return t.getDataObject(), !t.isMoving();
    }
    Object.defineProperty(e, '__esModule', { value: !0 }),
    (e.OBSTACLE_AROUND_BIG_SHIP = e.OBSTACLE_SPACE_OBJECT = e.OBSTACLE_ENTITY = e.OBSTACLE_BUILDING = void 0);
    var u =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      l = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      c = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      h = i(412),
      d = n(h),
      f = i(3),
      p = n(f),
      g = i(2),
      y = window.fivenations,
      v = [0, 4],
      m = (e.OBSTACLE_BUILDING = 1),
      b = (e.OBSTACLE_ENTITY = 2),
      _ = (e.OBSTACLE_SPACE_OBJECT = 3),
      w = (e.OBSTACLE_AROUND_BIG_SHIP = 4),
      x = (function () {
        function t(e) {
          r(this, t),
          this.initMatrix(e),
          this.initEventDispatcher(),
          this.initEasyStar();
        }
        return (
          c(t, [
            {
              key: 'initMatrix',
              value(t) {
                (this.tiles = p.default.matrix(t.getWidth(), t.getHeight())),
                (this.map = t),
                (this.previousCoords = {});
              },
            },
            {
              key: 'initEventDispatcher',
              value() {
                this.dispatcher = new p.default.EventDispatcher();
              },
            },
            {
              key: 'initEasyStar',
              value() {
                const t = this;
                (this.easyStar = new d.default.js()),
                this.easyStar.setIterationsPerCalculation(1e3),
                this.easyStar.setGrid(this.tiles),
                this.easyStar.setAcceptableTiles(v),
                this.easyStar.setTileCost(w, 8),
                this.easyStar.enableDiagonals(),
                this.on('change', e => t.easyStar.setGrid(e));
              },
            },
            {
              key: 'calculatePath',
              value(t, e) {
                const i = this;
                return new Promise(((n) => {
                  i.easyStar.findPath(t.x, t.y, e.x, e.y, n);
                }));
              },
            },
            {
              key: 'setPreviousTile',
              value(t, e) {
                this.previousCoords[t.getGUID()] = e || t.getTile();
              },
            },
            {
              key: 'resetPreviousTile',
              value(t) {
                this.previousCoords[t.getGUID()] = null;
              },
            },
            {
              key: 'visit',
              value(t) {
                let e =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  i = e ? this.getPreviousTile(t) : t.getTile();
                if (!i) return this;
                if (!s(t) && !e) return this;
                for (
                  var n = l(i, 2),
                    r = n[0],
                    o = n[1],
                    u = t.getCollisionData(),
                    c = u.width,
                    h = u.height,
                    d = u.offsetX,
                    f = u.offsetY,
                    p = c - 1;
                  p >= 0;
                  p -= 1
                ) {
                  for (let g = h - 1; g >= 0; g -= 1) {
                    let y = Math.min(
                        Math.max(r - d + p, 0),
                        this.tiles[0].length - 1,
                      ),
                      v = Math.min(
                        Math.max(o - f + g, 0),
                        this.tiles.length - 1,
                      );
                    if (e) {
                      (this.tiles[v][y] =
                        this.tiles[v][y].previousTileContent || 0),
                      t.forceUnvisitNextTile(this);
                    } else {
                      const m = a(t);
                      (m.previousTileContent = this.tiles[v][y]),
                      (this.tiles[v][y] = m);
                    }
                  }
                }
                return (
                  e
                    ? s(t) || this.resetPreviousTile(t)
                    : this.setPreviousTile(t, [r, o]),
                  this.setDirtyFlag(!0),
                  this
                );
              },
            },
            {
              key: 'updateObstacleAroundBigShip',
              value(t, e) {
                if (t.isBigShip()) {
                  this.cleanupObstacleAroundBigShip(t);
                  for (
                    let i = e || t.getTile(),
                      n = l(i, 2),
                      r = n[0],
                      a = n[1],
                      o = r > 0 ? -1 : 0,
                      s = a > 0 ? -1 : 0,
                      u = r < this.tiles[0].length - 1 ? 1 : 0,
                      c = a < this.tiles.length - 1 ? 1 : 0,
                      h = o;
                    h <= u;
                    h += 1
                  ) {
                    for (let d = s; d <= c; d += 1) {
                      this.tiles[a + d][r + h] !== 0 ||
                        (h === 0 && d === 0) ||
                        ((this.tiles[a + d][r + h] = w),
                        t.bigShipTiles.push({ x: r + h, y: a + d }));
                    }
                  }
                }
              },
            },
            {
              key: 'cleanupObstacleAroundBigShip',
              value(t) {
                const e = this;
                t.bigShipTiles.forEach((t) => {
                  e.tiles[t.y][t.x] = 0;
                }),
                (t.bigShipTiles = []);
              },
            },
            {
              key: 'unvisitPrevious',
              value(t) {
                this.visit(t, !0);
              },
            },
            {
              key: 'visitTilesByEntity',
              value(t) {
                const e =
                  arguments.length > 1 &&
                  void 0 !== arguments[1] &&
                  arguments[1];
                if (this.hasPreviousTile(t)) {
                  const i = this.hasEntityChangedOccupiedTiles(t);
                  (e || i) && (this.unvisitPrevious(t), this.visit(t));
                } else this.visit(t);
                t.isEnroute() || this.updateObstacleAroundBigShip(t);
              },
            },
            {
              key: 'unvisitTilesByEntity',
              value(t) {
                this.cleanupObstacleAroundBigShip(t), this.unvisitPrevious(t);
              },
            },
            {
              key: 'visitTilesByEntities',
              value(t) {
                const e = this;
                t.forEach(t => e.visitTilesByEntity(t));
              },
            },
            {
              key: 'updateObstaclesForEntity',
              value(t) {
                t.setObstacleAhead(!1),
                this.isObstacleAheadForEntity(t) && t.setObstacleAhead(!0);
              },
            },
            {
              key: 'updateObstaclesForEntities',
              value(t) {
                const e = this;
                t.forEach(t => e.updateObstaclesForEntity(t));
              },
            },
            {
              key: 'update',
              value(t) {
                this.setDirtyFlag(!1);
                const e = t.entities(':not(hibernated)');
                if ((this.visitTilesByEntities(e), this.isDirty())) {
                  const i = e.filter(t => !t.getDataObject().isBuilding());
                  this.updateObstaclesForEntities(i),
                  this.dispatcher.dispatch('change', this.tiles);
                }
              },
            },
            {
              key: 'calculateEasyStarPaths',
              value() {
                this.easyStar.calculate();
              },
            },
            {
              key: 'forceVisit',
              value(t, e) {
                let i = t.x,
                  n = t.y;
                e
                  ? (this.tiles[n][i] = a(e))
                  : (this.tiles[n][i] && this.tiles[n][i].entity !== e) ||
                    (this.tiles[n][i] = 0);
              },
            },
            {
              key: 'forceUnvisit',
              value(t, e) {
                let i = t.x,
                  n = t.y;
                (this.tiles[n][i] && this.tiles[n][i].entity !== e) ||
                  (this.tiles[n][i] = 0);
              },
            },
            {
              key: 'setDirtyFlag',
              value(t) {
                this.dirty = t;
              },
            },
            {
              key: 'on',
              value(t, e) {
                this.dispatcher.addEventListener(t, e);
              },
            },
            {
              key: 'debug',
              value(t) {
                for (
                  var e = y.game.game, i = this.tiles.length - 1;
                  i >= 0;
                  i -= 1
                ) {
                  for (let n = this.tiles[i].length - 1; n >= 0; n -= 1) {
                    if (this.tiles[i][n]) {
                      let r = g.TILE_WIDTH,
                        a = g.TILE_HEIGHT,
                        o = n * r,
                        s = i * a,
                        u = new Phaser.Rectangle(o - 1, s - 1, r + 2, a + 2),
                        l = this.tiles[i][n] === w ? '#ff00ff' : '#fa0000';
                      e.debug.geom(u, l, !1);
                    }
                  }
                }
                t.entities(':not(hibernated)')
                  .filter(t => !t.getDataObject().isBuilding())
                  .forEach((t) => {
                    let i = t.getTilesAhead(),
                      n = g.TILE_WIDTH,
                      r = g.TILE_HEIGHT;
                    i.forEach((t) => {
                      let i = t.x * n,
                        a = t.y * r,
                        o = new Phaser.Rectangle(i, a, n, r);
                      e.debug.geom(o, '#ffac00', !1);
                    });
                    const a = t.getTilesToTarget();
                    a &&
                      a.forEach((t) => {
                        let i = t.x * n,
                          a = t.y * r,
                          o = new Phaser.Rectangle(i, a, n, r);
                        e.debug.geom(o, '#00ab00', !1);
                      });
                  });
              },
            },
            {
              key: 'renderGrid',
              value() {
                let t = y.game.game,
                  e = y.game.camera.x - (y.game.camera.x % g.TILE_WIDTH),
                  i = y.game.camera.y - (y.game.camera.y % g.TILE_HEIGHT);
                t.debug.currentAlpha = 0.2;
                for (let n = this.tiles.length - 1; n >= 0; n -= 1) {
                  t.debug.geom(
                    new Phaser.Line(
                      n * g.TILE_WIDTH + e,
                      0 + i,
                      n * g.TILE_WIDTH + e,
                      y.window.height + i,
                    ),
                    '#777777',
                    !1,
                  );
                }
                for (let r = this.tiles[0].length - 1; r >= 0; r -= 1) {
                  t.debug.geom(
                    new Phaser.Line(
                      0 + e,
                      r * g.TILE_HEIGHT + i,
                      y.window.width + e,
                      r * g.TILE_HEIGHT + i,
                    ),
                    '#777777',
                    !1,
                  );
                }
                t.debug.currentAlpha = 1;
              },
            },
            {
              key: 'getMatrix',
              value() {
                return this.tiles;
              },
            },
            {
              key: 'getMatrixChunk',
              value(t, e) {
                const i = this.tiles
                  .map(e => e.filter((e, i) => i >= t.x && i < t.x + t.width))
                  .filter((e, i) => i >= t.y && i < t.y + t.height);
                if (!e) return i;
                for (let n = i.length - 1; n >= 0; n -= 1) {
                  for (let r = i[n].length - 1; r >= 0; r -= 1) {
                    let a = t.x + n,
                      o = t.y + r,
                      s = e(a, o, i[n][r]);
                    s !== -1 && (i[n][r] = s);
                  }
                }
                return i;
              },
            },
            {
              key: 'getMap',
              value() {
                return this.map;
              },
            },
            {
              key: 'getPreviousTile',
              value(t) {
                return this.previousCoords[t.getGUID()];
              },
            },
            {
              key: 'getEmptyTilesNextToEntity',
              value(t) {
                let e =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  i = t.getTile();
                if (!i) return null;
                let n = [],
                  r = this.tiles[0].length,
                  a = this.tiles.length,
                  o = l(i, 2),
                  s = o[0],
                  u = o[1],
                  c = t.getCollisionData(),
                  h = c.width,
                  d = c.height,
                  f = c.offsetX,
                  p = c.offsetY;
                (h += 2), (d += 2), (f += 1), (p += 1);
                for (let g = 0; g < h; g += 1) {
                  for (let y = d - 1; y >= 0; y -= 1) {
                    if (g === h - 1 || g === 0 || y === d - 1 || y === 0) {
                      let v = Math.min(Math.max(s - f + g, 0), r),
                        m = Math.min(Math.max(u - p + y, 0), a);
                      if (!this.tiles[m][v] && (n.push({ x: v, y: m }), e)) { return n.shift(); }
                    }
                  }
                }
                return n;
              },
            },
            {
              key: 'getFirstEmptyTileNextToEntity',
              value(t) {
                return this.getEmptyTilesNextToEntity(t, !0);
              },
            },
            {
              key: 'getClosestEmptyTileNextToEntityFromEntity',
              value(t, e) {
                let i = e.getTileObj(),
                  n = this.getEmptyTilesNextToEntity(t);
                return n.length
                  ? n
                    .map(t => u({}, t, {
                      distance: p.default.distanceBetweenSprites(i, t),
                    }))
                    .sort((t, e) => t.distance - e.distance)
                    .shift()
                  : null;
              },
            },
            {
              key: 'hasPreviousTile',
              value(t) {
                return !!this.previousCoords[t.getGUID()];
              },
            },
            {
              key: 'isDirty',
              value() {
                return this.dirty;
              },
            },
            {
              key: 'isOccupied',
              value(t, e) {
                return (
                  t >= 0 &&
                  e >= 0 &&
                  e < this.tiles.length &&
                  t < this.tiles[0].length &&
                  this.tiles[e][t] !== 0 &&
                  this.tiles[e][t] !== w
                );
              },
            },
            {
              key: 'isChunkOccupied',
              value(t) {
                for (let e = t.length - 1; e >= 0; e -= 1) {
                  for (let i = t[e].length - 1; i >= 0; i -= 1) { if (t[e][i] !== 0 && t[e][i] !== w) return !0; }
                }
                return !1;
              },
            },
            {
              key: 'isOccupiedForEntity',
              value(t, e) {
                let i = t.x,
                  n = t.y;
                if (
                  i >= 0 &&
                  n >= 0 &&
                  n < this.tiles.length &&
                  i < this.tiles[0].length
                ) {
                  const r = this.tiles[n][i];
                  return !(!r || r === w || o(r, e));
                }
                return !1;
              },
            },
            {
              key: 'hasEntityChangedOccupiedTiles',
              value(t) {
                let e = this.getPreviousTile(t),
                  i = t.getTile();
                return !e.every((t, e) => i[e] === t);
              },
            },
            {
              key: 'isObstacleAheadForEntity',
              value(t) {
                const e = this;
                return (
                  !t.hasFlyOverObstacles() &&
                  t.getTilesAhead().some(i => e.isOccupiedForEntity(i, t))
                );
              },
            },
            {
              key: 'isEnclosed',
              value(t) {
                for (let e = -1; e <= 1; e += 1) {
                  for (let i = -1; i <= 1; i += 1) {
                    if (e !== 0 || i !== 0) {
                      let n = t.x + e,
                        r = t.y + i;
                      if (
                        this.isInsideMap({ x: n, y: r }) &&
                        !this.isOccupied(n, r)
                      ) { return !1; }
                    }
                  }
                }
                return !0;
              },
            },
            {
              key: 'isInsideMap',
              value(t) {
                let e = t.x,
                  i = t.y;
                return (
                  e >= 0 &&
                  i >= 0 &&
                  i < this.tiles.length &&
                  e < this.tiles[0].length
                );
              },
            },
            {
              key: 'getNextEmptyTileAroundEntity',
              value(t) {
                for (
                  let e = t.getTileObj(), i = e.x, n = e.y, r = 2;
                  r <= 10;
                  r += 1
                ) {
                  for (let a = -r; a <= r; a += 1) {
                    for (let o = -r; o <= r; o += 1) { if (
                      (Math.abs(a) >= r || Math.abs(o) >= r) &&
                        !this.isOccupied(i + o, n + a) &&
                        this.isInsideMap({ x: i + o, y: n + a })
                    )
                      return { x: i + o, y: n + a }; }
                  }
                }
                return null;
              },
            },
          ]),
          t
        );
      }());
    e.default = x;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(2),
      o = [
        [[1, 1, 1], [1, 1, 1], [1, 1, 1]],
        [
          [0, 1, 1, 1, 0],
          [1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1],
          [0, 1, 1, 1, 0],
        ],
        [
          [0, 0, 1, 1, 1, 0, 0],
          [0, 1, 1, 1, 1, 1, 0],
          [1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1],
          [0, 1, 1, 1, 1, 1, 0],
          [0, 0, 1, 1, 1, 0, 0],
        ],
        [
          [0, 0, 0, 1, 1, 1, 0, 0, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 0],
          [1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1],
          [0, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 0, 0, 1, 1, 1, 0, 0, 0],
        ],
        [
          [0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0],
        ],
        [
          [0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0],
          [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
          [0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0],
        ],
        [
          [0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0],
        ],
        [
          [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
          [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
          [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
        ],
        [
          [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
          [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
          [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
        ],
        [
          [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
          [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
          [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
        ],
        [
          [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
          [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
          [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
          [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        ],
        [
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
        ],
        [
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
        ],
        [
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
        ],
        [
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
        ],
        [
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
        ],
        [
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
        ],
        [
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
          ],
        ],
      ],
      s = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'getMaskBySize',
              value(t) {
                const e = [[1]];
                return !t || t < 1 ? e : o[t - 1] ? o[t - 1] : e;
              },
            },
            {
              key: 'getVisionScreenWidth',
              value(t) {
                const e = this.getMaskBySize(t);
                return Math.round(e.length / 2) * a.TILE_WIDTH;
              },
            },
          ]),
          t
        );
      }());
    e.default = new s();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t) {
      if (Array.isArray(t)) {
        for (var e = 0, i = Array(t.length); e < t.length; e++) i[e] = t[e];
        return i;
      }
      return Array.from(t);
    }
    function a(t, e, i, n, a) {
      for (
        var o = n.x, s = n.y, u = 1, l = [];
        o + u < t.length && s + u < t[0].length;

      ) {
        for (var c = !0, h = 0; h <= u; h += 1) {
          void 0 !== t[o + h][s + u] &&
            void 0 !== t[o + u][s + h] &&
            ((a(t[o + h][s + u]) &&
              a(t[o + u][s + h]) &&
              e[o + h][s + u] === 0 &&
              e[o + u][s + h] === 0) ||
              (c = !1),
            l.push({ x: o + h, y: s + u }),
            u !== h && l.push({ x: o + u, y: s + h }));
        }
        if (!c) return i.push(...r(l)), { x: o + u - 1, y: s + u - 1 };
        (u += 1),
        l.forEach((t) => {
          e[t.x][t.y] = 1;
        }),
        (l = []);
      }
      if (s + u < t[0].length) { for (let d = o; d < o + u; d += 1) l.push({ x: d, y: s + u }); }
      if (o + u < t.length) { for (let f = s; f < s + u; f += 1) l.push({ x: o + u, y: f }); }
      return i.push(...r(l)), { x: o + u - 1, y: s + u - 1 };
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(3),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = (function () {
        function t() {
          n(this, t);
        }
        return (
          o(t, [
            {
              key: 'createPartitions',
              value(t, e) {
                for (
                  var i = [{ x: 0, y: 0 }],
                    n = u.default.matrix(t[0].length, t.length),
                    r = [];
                  i.length > 0;

                ) {
                  const o = i.shift();
                  if (
                    !n[o.x][o.y] &&
                    ((n[o.x][o.y] = 1), void 0 !== t[o.x][o.y])
                  ) {
                    if (e(t[o.x][o.y])) {
                      const s = a(t, n, i, o, e);
                      r.push({ x: o.x, y: o.y, size: s.x - o.x });
                    } else {
                      o.x + 1 < t.length && i.push({ x: o.x + 1, y: o.y }),
                      o.y + 1 < t[0].length && i.push({ x: o.x, y: o.y + 1 }),
                      o.x + 1 < t.length &&
                          o.y + 1 < t[0].length &&
                          i.push({ x: o.x + 1, y: o.y + 1 });
                    }
                  }
                }
                return r;
              },
            },
          ]),
          t
        );
      }());
    e.default = new l();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e, i) {
      const n = t.add.bitmapData(e, e);
      n.clear();
      const r = n.context.createRadialGradient(
        e / 2,
        e / 2,
        (e / 4) * 0.75,
        e / 2,
        e / 2,
        e / 2,
      );
      return (
        r.addColorStop(0, `rgba(0, 0, 0, ${i})`),
        r.addColorStop(1, 'rgba(0, 0, 0, 0)'),
        (n.context.fillStyle = r),
        n.context.fillRect(0, 0, e, e),
        n
      );
    }
    function a(t, e, i, n) {
      let r = i * (n / 4 + 1),
        a = t.add.bitmapData(r, r);
      a.clear();
      for (let o = 0; o < n; o += 1) { for (let s = 0; s < n; s += 1) a.draw(e, (o * i) / 4, (s * i) / 4); }
      return a;
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = window.fivenations,
      u = (function () {
        function t() {
          n(this, t);
        }
        return (
          o(t, [
            {
              key: 'createMasks',
              value(t, e, i) {
                for (
                  var n = 4 * e,
                    o = r(t, n, i),
                    u = s.window.width / e,
                    l = s.window.height / e,
                    c = Math.min(u, l) + 3,
                    h = [],
                    d = 0;
                  d <= c;
                  d += 1
                ) { h.push(a(t, o, n, d)); }
                return h;
              },
            },
          ]),
          t
        );
      }());
    e.default = new u();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = (function () {
        function t(e) {
          n(this, t), this.setId(e), this.setCoordinates(e), this.setManager(e);
        }
        return (
          r(t, [
            {
              key: 'setId',
              value(t) {
                this.id = t.id;
              },
            },
            {
              key: 'setCoordinates',
              value(t) {
                (this.x = t.x),
                (this.y = t.y),
                (this.width = t.width),
                (this.height = t.height);
              },
            },
            {
              key: 'setManager',
              value(t) {
                this.manager = t.manager;
              },
            },
            {
              key: 'remove',
              value() {
                this.manager.remove(this);
              },
            },
            {
              key: 'getId',
              value() {
                return this.id;
              },
            },
            {
              key: 'getManager',
              value() {
                return this.manager;
              },
            },
            {
              key: 'getCenter',
              value() {
                return {
                  x: this.x + this.width / 2,
                  y: this.y + this.height / 2,
                };
              },
            },
          ]),
          t
        );
      }());
    e.default = a;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(143),
      l = n(u),
      c = i(53),
      h = n(c),
      d = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return i.initCancelButton(t), i;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'initConfirmButton',
              value(t) {
                let e = this,
                  i = t.okLabel,
                  n = t.onOK,
                  r = t.buttonOffsetX,
                  a = t.buttonOffsetY,
                  o = t.noAudio;
                this.okButton = new h.default({
                  label: i,
                  onClick() {
                    n && n(), e.eventDispatcher.dispatch('dismiss');
                  },
                  noAudio: o,
                });
                const s = this.background.width / 3 / 1.5;
                (this.okButton.x = r || s),
                (this.okButton.y =
                    this.background.height / 2 -
                    this.okButton.height / 2 -
                    u.STYLE.padding +
                    (a || 0)),
                this.window.add(this.okButton);
              },
            },
            {
              key: 'initCancelButton',
              value(t) {
                let e = this,
                  i = t.cancelLabel,
                  n = t.onCancel,
                  r = t.buttonOffsetX,
                  a = t.buttonOffsetY,
                  o = t.noAudio;
                this.cancelButton = new h.default({
                  label: i,
                  onClick() {
                    n && n(), e.hide(), e.eventDispatcher.dispatch('dismiss');
                  },
                  noAudio: o,
                });
                const s = this.background.width / 3 / 1.5;
                (this.cancelButton.x = r || -s),
                (this.cancelButton.y =
                    this.background.height / 2 -
                    this.cancelButton.height / 2 -
                    u.STYLE.padding +
                    (a || 0)),
                this.window.add(this.cancelButton);
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = d;
  },
  function (t, e, i) {
    Object.defineProperty(e, '__esModule', { value: !0 });
    const n = i(2);
    e.default = {
      load(t) {
        n.SUPPORTED_LOCALES.forEach((e) => {
          t.json(e, `${n.PUBLIC_URL}assets/translations/${e}.json`);
        });
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t) {
      let e =
          !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
        i = f.default.getInstance();
      return new Promise(((n) => {
        let r = t.text,
          a = 0;
        (t.text = ''), (t.visible = !0);
        var o = setInterval(() => {
          (t.text += r.charAt(a)),
          (a += 1),
          e &&
              i.playAudioSprite({ sprite: 'menu', marker: 'HUD_typewriter' }),
          a === r.length && (clearTimeout(o), n());
        }, 50);
        x = o;
      }));
    }
    function u(t) {
      return new Promise(((e) => {
        let i = f.default.getInstance(),
          n = t.sprite,
          r = t.marker;
        (P = i.playAudioSprite({ sprite: n, marker: r })),
        P ? P.onStop.addOnce(e) : e();
      }));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = i(53),
      h = n(c),
      d = i(8),
      f = n(d),
      p = i(72),
      g = n(p),
      y = i(7),
      v = n(y),
      m = i(49),
      b = n(m),
      _ = i(2),
      w = window.fivenations,
      x = void 0,
      P = void 0,
      k = (function (t) {
        function e() {
          r(this, e);
          const t = a(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return (t.filterGray = new g.default(t.game)), t;
        }
        return (
          o(e, t),
          l(e, [
            {
              key: 'create',
              value() {
                this.initAudio(),
                this.initPages(),
                this.createStage(),
                this.createBackgroundImages(),
                this.createSkipButton(),
                this.createTitleComponent(),
                this.createTextComponent(),
                this.start().then(this.onEndScene.bind(this)),
                this.executeOnCreate();
              },
            },
            {
              key: 'initAudio',
              value() {
                f.default.setGame(this.game),
                (this.audioManager = f.default.getInstance()),
                this.audioManager.loadAudioSprite('prequel-prologue');
              },
            },
            {
              key: 'initPages',
              value() {
                this.PAGES = [];
              },
            },
            {
              key: 'createStage',
              value() {
                this.stage = this.game.add.group();
              },
            },
            {
              key: 'createBackgroundImages',
              value() {
                let t = this,
                  e = w.window,
                  i = e.width,
                  n = e.height,
                  r = i / 2,
                  a = n / 2;
                this.PAGES.forEach((e) => {
                  const i = t.game.add.image(r, a, e.backgroundImage);
                  (i.visible = !1),
                  i.anchor.set(0.5),
                  t.stage.add(i),
                  (e.background = i);
                });
              },
            },
            {
              key: 'createTitleComponent',
              value() {
                (this.title = this.stage.add(this.game.add.text(100, 50, '', {
                  font: _.DEFAULT_FONT.font.replace('11px', '50px'),
                  fill: _.DEFAULT_FONT.color,
                  boundsAlignH: 'left',
                  boundsAlignV: 'middle',
                }))),
                this.title.setShadow(2, 2, 'rgba(0, 0, 0, 0.95)', 0),
                (this.title.visible = !1);
              },
            },
            {
              key: 'createTextComponent',
              value() {
                const t = w.window.width;
                (this.text = this.stage.add(this.game.add.text(100, 400, '', {
                  font: _.DEFAULT_FONT.font.replace('11px', '26px'),
                  fill: '#FFFFFF',
                  align: 'left',
                  wordWrap: !0,
                  wordWrapWidth: t - 200,
                }))),
                this.text.setShadow(2, 2, 'rgba(0, 0, 0, 0.95)', 0),
                (this.text.visible = !1);
              },
            },
            {
              key: 'createSkipButton',
              value() {
                let t = this,
                  e = w.window,
                  i = e.width,
                  n = e.height,
                  r = v.default.getInstance(),
                  a = r.translate('premission.buttons.skip');
                (this.button = new h.default({
                  game: this.game,
                  size: 'l',
                  label: a,
                  onClick() {
                    return t.onEndScene();
                  },
                })),
                (this.button.x = i - this.button.width / 2 - 15),
                (this.button.y = n - this.button.height / 2 - 15);
              },
            },
            {
              key: 'transitionToNextPage',
              value(t) {
                let e = this,
                  i = v.default.getInstance(),
                  n = t.title,
                  r = t.text,
                  a = t.audio;
                return (
                  (this.title.text = i.translate(n)),
                  (this.text.text = i.translate(r)),
                  (this.title.visible = !1),
                  (this.text.visible = !1),
                  (this.currentPage = t),
                  Promise.resolve()
                    .then(this.fadeIn.bind(this))
                    .then(() => (n ? s(e.title) : null))
                    .then(() => new Promise(((i) => {
                      let n = t.background,
                        r = e.game.add
                          .tween(n)
                          .from(
                            { alpha: 0 },
                            1e3,
                            Phaser.Easing.Exponential.InOut,
                            !0,
                          );
                      (n.visible = !0),
                      r.onComplete.addOnce(i),
                      (e.zoomTween = e.game.add
                        .tween(n.scale)
                        .to(
                          { x: 1.2, y: 1.2 },
                          3e4,
                          Phaser.Easing.Linear.None,
                          !0,
                        ));
                    })))
                    .then(this.wait.bind(this, 1e3))
                    .then(() => (e.exitAnimationStarted
                      ? Promise.resolve()
                      : (s(e.text, !1), u(a))))
                    .then(this.fadeOut.bind(this))
                );
              },
            },
            {
              key: 'start',
              value() {
                const t = this;
                return (
                  (this.exitAnimationStarted = !1),
                  this.game.add
                    .tween(this.button)
                    .from(
                      { alpha: 0, x: this.button.x + 150 },
                      500,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                      500,
                    ),
                  this.PAGES.reduce((e, i) => e.then(() => t.transitionToNextPage(i)), Promise.resolve())
                );
              },
            },
            {
              key: 'goToPremission',
              value() {
                return this.goToScene('game-premission');
              },
            },
            {
              key: 'goToMainMenu',
              value() {
                return this.goToScene('mainmenu');
              },
            },
            {
              key: 'goToSummary',
              value() {
                return this.goToScene('game-summary');
              },
            },
            {
              key: 'goToScene',
              value(t) {
                const e = this;
                return Promise.resolve()
                  .then(this.disableControls.bind(this))
                  .then(this.startExitAnimation.bind(this))
                  .then(this.fadeOut.bind(this))
                  .then(() => e.game.state.start(t));
              },
            },
            {
              key: 'disableControls',
              value() {
                (this.button.filters = [this.filterGray]),
                (this.button.inputEnabled = !1);
              },
            },
            {
              key: 'startExitAnimation',
              value() {
                const t = this;
                return (
                  (this.exitAnimationStarted = !0),
                  new Promise(((e) => {
                    t.game.add
                      .tween(t.button)
                      .to(
                        { alpha: 0, x: t.button.x + 150 },
                        500,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                      )
                      .onComplete.add(e);
                  }))
                );
              },
            },
            {
              key: 'fadeIn',
              value() {
                const t = this;
                return new Promise(((e) => {
                  (t.stage.alpha = 1),
                  t.game.add
                    .tween(t.stage)
                    .from(
                      { alpha: 0 },
                      250,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                    )
                    .onComplete.addOnce(e);
                }));
              },
            },
            {
              key: 'fadeOut',
              value() {
                const t = this;
                return new Promise(((e) => {
                  P &&
                    (P.fadeOut(450),
                    P.onFadeComplete.addOnce(() => P.stop())),
                  t.game.add
                    .tween(t.stage)
                    .to(
                      { alpha: 0 },
                      500,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                    )
                    .onComplete.add(() => {
                      t.tearDown(), e();
                    });
                }));
              },
            },
            {
              key: 'tearDown',
              value() {
                x && clearTimeout(x),
                this.game.tweens.remove(this.zoomTween),
                (this.currentPage.background.visible = !1);
              },
            },
            {
              key: 'onEndScene',
              value() {
                this.goToPremission();
              },
            },
          ]),
          e
        );
      }(b.default));
    e.default = k;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = void 0,
      o = (function () {
        function t() {
          n(this, t), (this.queue = []);
        }
        return (
          r(t, [
            {
              key: 'next',
              value() {
                return this.queue.shift();
              },
            },
            {
              key: 'add',
              value(t) {
                let e = this,
                  i = [];
                t &&
                  t.id &&
                  (t.targets &&
                    t.targets.length &&
                    (t.targets = t.targets.map(t => t.getGUID())),
                  (i = [].concat(t.id)),
                  i.length > 1
                    ? i.forEach((i) => {
                      const n = Object.create(t);
                      (n.id = i), e.queue.push(n);
                    })
                    : this.queue.push(t));
              },
            },
            {
              key: 'remove',
              value(t) {
                for (let e = this.queue.length - 1; e >= 0; e -= 1) {
                  if (this.queue[e].uid === t.uid) { return void this.queue.slice(e, 1); }
                }
              },
            },
            {
              key: 'reset',
              value() {
                this.queue.splice(0, this.queue.length);
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return a || (a = new o()), a;
      },
    };
  },
  function (t, e, i) {
    (function (t) {
      function e(t, e, i) {
        t[e] || Object[n](t, e, { writable: !0, configurable: !0, value: i });
      }
      if ((i(409), i(209), i(210), t._babelPolyfill)) { throw new Error('only one instance of babel-polyfill is allowed'); }
      t._babelPolyfill = !0;
      var n = 'defineProperty';
      e(String.prototype, 'padLeft', ''.padStart),
      e(String.prototype, 'padRight', ''.padEnd),
      'pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill'
        .split(',')
        .forEach((t) => {
          [][t] && e(Array, t, Function.call.bind([][t]));
        });
    }.call(e, i(71)));
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    let r = i(423),
      a = n(r),
      o = i(45),
      s = n(o);
    (a.default.Scriptbox = s.default), (window.FiveNations = a.default);
  },
  function (t, e, i) {
    (function (e) {
      t.exports = e.PIXI = i(420);
    }.call(e, i(71)));
  },
  function (t, e, i) {
    (function (e) {
      t.exports = e.Phaser = i(419);
    }.call(e, i(71)));
  },
  function (t, e, i) {
    (function (e) {
      t.exports = e.p2 = i(418);
    }.call(e, i(71)));
  },
  function (t, e, i) {
    (function (t, e) {
      const i =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          };
      !(function (t) {
        function n(t, e, i, n) {
          let r = e && e.prototype instanceof a ? e : a,
            o = Object.create(r.prototype),
            s = new p(n || []);
          return (o._invoke = c(t, i, s)), o;
        }
        function r(t, e, i) {
          try {
            return { type: 'normal', arg: t.call(e, i) };
          } catch (t) {
            return { type: 'throw', arg: t };
          }
        }
        function a() {}
        function o() {}
        function s() {}
        function u(t) {
          ['next', 'throw', 'return'].forEach((e) => {
            t[e] = function (t) {
              return this._invoke(e, t);
            };
          });
        }
        function l(e) {
          function n(t, a, o, s) {
            const u = r(e[t], e, a);
            if (u.type !== 'throw') {
              let l = u.arg,
                c = l.value;
              return c &&
                (void 0 === c ? 'undefined' : i(c)) === 'object' &&
                b.call(c, '__await')
                ? Promise.resolve(c.__await).then(
                  (t) => {
                    n('next', t, o, s);
                  },
                  (t) => {
                    n('throw', t, o, s);
                  },
                )
                : Promise.resolve(c).then((t) => {
                  (l.value = t), o(l);
                }, s);
            }
            s(u.arg);
          }
          function a(t, e) {
            function i() {
              return new Promise(((i, r) => {
                n(t, e, i, r);
              }));
            }
            return (o = o ? o.then(i, i) : i());
          }
          i(t.process) === 'object' &&
            t.process.domain &&
            (n = t.process.domain.bind(n));
          let o;
          this._invoke = a;
        }
        function c(t, e, i) {
          let n = O;
          return function (a, o) {
            if (n === S) throw new Error('Generator is already running');
            if (n === C) {
              if (a === 'throw') throw o;
              return y();
            }
            for (i.method = a, i.arg = o; ;) {
              const s = i.delegate;
              if (s) {
                const u = h(s, i);
                if (u) {
                  if (u === I) continue;
                  return u;
                }
              }
              if (i.method === 'next') i.sent = i._sent = i.arg;
              else if (i.method === 'throw') {
                if (n === O) throw ((n = C), i.arg);
                i.dispatchException(i.arg);
              } else i.method === 'return' && i.abrupt('return', i.arg);
              n = S;
              const l = r(t, e, i);
              if (l.type === 'normal') {
                if (((n = i.done ? C : E), l.arg === I)) continue;
                return { value: l.arg, done: i.done };
              }
              l.type === 'throw' &&
                ((n = C), (i.method = 'throw'), (i.arg = l.arg));
            }
          };
        }
        function h(t, e) {
          const i = t.iterator[e.method];
          if (i === v) {
            if (((e.delegate = null), e.method === 'throw')) {
              if (
                t.iterator.return &&
                ((e.method = 'return'),
                (e.arg = v),
                h(t, e),
                e.method === 'throw')
              ) { return I; }
              (e.method = 'throw'),
              (e.arg = new TypeError("The iterator does not provide a 'throw' method"));
            }
            return I;
          }
          const n = r(i, t.iterator, e.arg);
          if (n.type === 'throw') {
            return (
              (e.method = 'throw'), (e.arg = n.arg), (e.delegate = null), I
            );
          }
          const a = n.arg;
          return a
            ? a.done
              ? ((e[t.resultName] = a.value),
              (e.next = t.nextLoc),
              e.method !== 'return' && ((e.method = 'next'), (e.arg = v)),
              (e.delegate = null),
              I)
              : a
            : ((e.method = 'throw'),
            (e.arg = new TypeError('iterator result is not an object')),
            (e.delegate = null),
            I);
        }
        function d(t) {
          const e = { tryLoc: t[0] };
          1 in t && (e.catchLoc = t[1]),
          2 in t && ((e.finallyLoc = t[2]), (e.afterLoc = t[3])),
          this.tryEntries.push(e);
        }
        function f(t) {
          const e = t.completion || {};
          (e.type = 'normal'), delete e.arg, (t.completion = e);
        }
        function p(t) {
          (this.tryEntries = [{ tryLoc: 'root' }]),
          t.forEach(d, this),
          this.reset(!0);
        }
        function g(t) {
          if (t) {
            const e = t[w];
            if (e) return e.call(t);
            if (typeof t.next === 'function') return t;
            if (!isNaN(t.length)) {
              let i = -1,
                n = function e() {
                  for (; ++i < t.length;) { if (b.call(t, i)) return (e.value = t[i]), (e.done = !1), e; }
                  return (e.value = v), (e.done = !0), e;
                };
              return (n.next = n);
            }
          }
          return { next: y };
        }
        function y() {
          return { value: v, done: !0 };
        }
        var v,
          m = Object.prototype,
          b = m.hasOwnProperty,
          _ = typeof Symbol === 'function' ? Symbol : {},
          w = _.iterator || '@@iterator',
          x = _.asyncIterator || '@@asyncIterator',
          P = _.toStringTag || '@@toStringTag',
          k = i(e) === 'object',
          T = t.regeneratorRuntime;
        if (T) return void (k && (e.exports = T));
        (T = t.regeneratorRuntime = k ? e.exports : {}), (T.wrap = n);
        var O = 'suspendedStart',
          E = 'suspendedYield',
          S = 'executing',
          C = 'completed',
          I = {},
          M = {};
        M[w] = function () {
          return this;
        };
        let A = Object.getPrototypeOf,
          R = A && A(A(g([])));
        R && R !== m && b.call(R, w) && (M = R);
        const L = (s.prototype = a.prototype = Object.create(M));
        (o.prototype = L.constructor = s),
        (s.constructor = o),
        (s[P] = o.displayName = 'GeneratorFunction'),
        (T.isGeneratorFunction = function (t) {
          const e = typeof t === 'function' && t.constructor;
          return (
            !!e &&
              (e === o || (e.displayName || e.name) === 'GeneratorFunction')
          );
        }),
        (T.mark = function (t) {
          return (
            Object.setPrototypeOf
              ? Object.setPrototypeOf(t, s)
              : ((t.__proto__ = s), P in t || (t[P] = 'GeneratorFunction')),
            (t.prototype = Object.create(L)),
            t
          );
        }),
        (T.awrap = function (t) {
          return { __await: t };
        }),
        u(l.prototype),
        (l.prototype[x] = function () {
          return this;
        }),
        (T.AsyncIterator = l),
        (T.async = function (t, e, i, r) {
          const a = new l(n(t, e, i, r));
          return T.isGeneratorFunction(e)
            ? a
            : a.next().then(t => (t.done ? t.value : a.next()));
        }),
        u(L),
        (L[P] = 'Generator'),
        (L[w] = function () {
          return this;
        }),
        (L.toString = function () {
          return '[object Generator]';
        }),
        (T.keys = function (t) {
          const e = [];
          for (const i in t) e.push(i);
          return (
            e.reverse(),
            function i() {
              for (; e.length;) {
                const n = e.pop();
                if (n in t) return (i.value = n), (i.done = !1), i;
              }
              return (i.done = !0), i;
            }
          );
        }),
        (T.values = g),
        (p.prototype = {
          constructor: p,
          reset(t) {
            if (
              ((this.prev = 0),
              (this.next = 0),
              (this.sent = this._sent = v),
              (this.done = !1),
              (this.delegate = null),
              (this.method = 'next'),
              (this.arg = v),
              this.tryEntries.forEach(f),
              !t)
            ) {
              for (const e in this) {
                e.charAt(0) === 't' &&
                    b.call(this, e) &&
                    !isNaN(+e.slice(1)) &&
                    (this[e] = v); 
}
            }
          },
          stop() {
            this.done = !0;
            let t = this.tryEntries[0],
              e = t.completion;
            if (e.type === 'throw') throw e.arg;
            return this.rval;
          },
          dispatchException(t) {
            function e(e, n) {
              return (
                (a.type = 'throw'),
                (a.arg = t),
                (i.next = e),
                n && ((i.method = 'next'), (i.arg = v)),
                !!n
              );
            }
            if (this.done) throw t;
            for (var i = this, n = this.tryEntries.length - 1; n >= 0; --n) {
              var r = this.tryEntries[n],
                a = r.completion;
              if (r.tryLoc === 'root') return e('end');
              if (r.tryLoc <= this.prev) {
                let o = b.call(r, 'catchLoc'),
                  s = b.call(r, 'finallyLoc');
                if (o && s) {
                  if (this.prev < r.catchLoc) return e(r.catchLoc, !0);
                  if (this.prev < r.finallyLoc) return e(r.finallyLoc);
                } else if (o) {
                  if (this.prev < r.catchLoc) return e(r.catchLoc, !0);
                } else {
                  if (!s) { throw new Error('try statement without catch or finally'); }
                  if (this.prev < r.finallyLoc) return e(r.finallyLoc);
                }
              }
            }
          },
          abrupt(t, e) {
            for (let i = this.tryEntries.length - 1; i >= 0; --i) {
              const n = this.tryEntries[i];
              if (
                n.tryLoc <= this.prev &&
                  b.call(n, 'finallyLoc') &&
                  this.prev < n.finallyLoc
              ) {
                var r = n;
                break;
              }
            }
            r &&
                (t === 'break' || t === 'continue') &&
                r.tryLoc <= e &&
                e <= r.finallyLoc &&
                (r = null);
            const a = r ? r.completion : {};
            return (
              (a.type = t),
              (a.arg = e),
              r
                ? ((this.method = 'next'), (this.next = r.finallyLoc), I)
                : this.complete(a)
            );
          },
          complete(t, e) {
            if (t.type === 'throw') throw t.arg;
            return (
              t.type === 'break' || t.type === 'continue'
                ? (this.next = t.arg)
                : t.type === 'return'
                  ? ((this.rval = this.arg = t.arg),
                  (this.method = 'return'),
                  (this.next = 'end'))
                  : t.type === 'normal' && e && (this.next = e),
              I
            );
          },
          finish(t) {
            for (let e = this.tryEntries.length - 1; e >= 0; --e) {
              const i = this.tryEntries[e];
              if (i.finallyLoc === t) { return this.complete(i.completion, i.afterLoc), f(i), I; }
            }
          },
          catch(t) {
            for (let e = this.tryEntries.length - 1; e >= 0; --e) {
              const i = this.tryEntries[e];
              if (i.tryLoc === t) {
                const n = i.completion;
                if (n.type === 'throw') {
                  var r = n.arg;
                  f(i);
                }
                return r;
              }
            }
            throw new Error('illegal catch attempt');
          },
          delegateYield(t, e, i) {
            return (
              (this.delegate = { iterator: g(t), resultName: e, nextLoc: i }),
              this.method === 'next' && (this.arg = v),
              I
            );
          },
        });
      }((void 0 === t ? 'undefined' : i(t)) === 'object'
        ? t
        : (typeof window === 'undefined' ? 'undefined' : i(window)) ===
            'object'
          ? window
          : (typeof self === 'undefined' ? 'undefined' : i(self)) === 'object'
            ? self
            : void 0));
    }.call(e, i(71), i(134)(t)));
  },
  function (t, e, i) {
    i(217), (t.exports = i(36).RegExp.escape);
  },
  function (t, e, i) {
    let n = i(13),
      r = i(92),
      a = i(16)('species');
    t.exports = function (t) {
      let e;
      return (
        r(t) &&
          ((e = t.constructor),
          typeof e !== 'function' ||
            (e !== Array && !r(e.prototype)) ||
            (e = void 0),
          n(e) && (e = e[a]) === null && (e = void 0)),
        void 0 === e ? Array : e
      );
    };
  },
  function (t, e, i) {
    let n = i(12),
      r = Date.prototype.getTime,
      a = Date.prototype.toISOString,
      o = function (t) {
        return t > 9 ? t : `0${t}`;
      };
    t.exports =
      n(() => a.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z') ||
      !n(() => {
        a.call(new Date(NaN));
      })
        ? function () {
          if (!isFinite(r.call(this))) throw RangeError('Invalid time value');
          let t = this,
            e = t.getUTCFullYear(),
            i = t.getUTCMilliseconds(),
            n = e < 0 ? '-' : e > 9999 ? '+' : '';
          return (
            `${n +
              (`00000${Math.abs(e)}`).slice(n ? -6 : -4)
            }-${
              o(t.getUTCMonth() + 1)
            }-${
              o(t.getUTCDate())
            }T${
              o(t.getUTCHours())
            }:${
              o(t.getUTCMinutes())
            }:${
              o(t.getUTCSeconds())
            }.${
              i > 99 ? i : `0${o(i)}`
            }Z`
          );
        }
        : a;
  },
  function (t, e, i) {
    let n = i(6),
      r = i(44);
    t.exports = function (t) {
      if (t !== 'string' && t !== 'number' && t !== 'default') { throw TypeError('Incorrect hint'); }
      return r(n(this), t != 'number');
    };
  },
  function (t, e, i) {
    let n = i(58),
      r = i(96),
      a = i(79);
    t.exports = function (t) {
      let e = n(t),
        i = r.f;
      if (i) {
        for (var o, s = i(t), u = a.f, l = 0; s.length > l;) { u.call(t, (o = s[l++])) && e.push(o); }
      }
      return e;
    };
  },
  function (t, e, i) {
    t.exports = i(80)('native-function-to-string', Function.toString);
  },
  function (t, e, i) {
    t.exports = function (t, e) {
      const i =
        e === Object(e)
          ? function (t) {
            return e[t];
          }
          : e;
      return function (e) {
        return String(e).replace(t, i);
      };
    };
  },
  function (t, e, i) {
    let n = i(0),
      r = i(216)(/[\\^$*+?.()|[\]{}]/g, '\\$&');
    n(n.S, 'RegExp', {
      escape(t) {
        return r(t);
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.P, 'Array', { copyWithin: i(145) }), i(50)('copyWithin');
  },
  function (t, e, i) {
    let n = i(0),
      r = i(41)(4);
    n(n.P + n.F * !i(38)([].every, !0), 'Array', {
      every(t) {
        return r(this, t, arguments[1]);
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.P, 'Array', { fill: i(108) }), i(50)('fill');
  },
  function (t, e, i) {
    let n = i(0),
      r = i(41)(2);
    n(n.P + n.F * !i(38)([].filter, !0), 'Array', {
      filter(t) {
        return r(this, t, arguments[1]);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(41)(6),
      a = 'findIndex',
      o = !0;
    a in [] &&
      Array(1)[a](() => {
        o = !1;
      }),
    n(n.P + n.F * o, 'Array', {
      findIndex(t) {
        return r(this, t, arguments.length > 1 ? arguments[1] : void 0);
      },
    }),
    i(50)(a);
  },
  function (t, e, i) {
    let n = i(0),
      r = i(41)(5),
      a = !0;
    'find' in [] &&
      Array(1).find(() => {
        a = !1;
      }),
    n(n.P + n.F * a, 'Array', {
      find(t) {
        return r(this, t, arguments.length > 1 ? arguments[1] : void 0);
      },
    }),
    i(50)('find');
  },
  function (t, e, i) {
    let n = i(0),
      r = i(41)(0),
      a = i(38)([].forEach, !0);
    n(n.P + n.F * !a, 'Array', {
      forEach(t) {
        return r(this, t, arguments[1]);
      },
    });
  },
  function (t, e, i) {
    let n = i(37),
      r = i(0),
      a = i(20),
      o = i(156),
      s = i(116),
      u = i(17),
      l = i(110),
      c = i(132);
    r(
      r.S +
        r.F *
          !i(94)((t) => {
            Array.from(t);
          }),
      'Array',
      {
        from(t) {
          let e,
            i,
            r,
            h,
            d = a(t),
            f = typeof this === 'function' ? this : Array,
            p = arguments.length,
            g = p > 1 ? arguments[1] : void 0,
            y = void 0 !== g,
            v = 0,
            m = c(d);
          if (
            (y && (g = n(g, p > 2 ? arguments[2] : void 0, 2)),
            void 0 == m || (f == Array && s(m)))
          ) {
            for (e = u(d.length), i = new f(e); e > v; v++) { l(i, v, y ? g(d[v], v) : d[v]); }
          } else {
            for (h = m.call(d), i = new f(); !(r = h.next()).done; v++) { l(i, v, y ? o(h, g, [r.value, v], !0) : r.value); }
          }
          return (i.length = v), i;
        },
      },
    );
  },
  function (t, e, i) {
    let n = i(0),
      r = i(89)(!1),
      a = [].indexOf,
      o = !!a && 1 / [1].indexOf(1, -0) < 0;
    n(n.P + n.F * (o || !i(38)(a)), 'Array', {
      indexOf(t) {
        return o ? a.apply(this, arguments) || 0 : r(this, t, arguments[1]);
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Array', { isArray: i(92) });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(32),
      a = [].join;
    n(n.P + n.F * (i(78) != Object || !i(38)(a)), 'Array', {
      join(t) {
        return a.call(r(this), void 0 === t ? ',' : t);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(32),
      a = i(39),
      o = i(17),
      s = [].lastIndexOf,
      u = !!s && 1 / [1].lastIndexOf(1, -0) < 0;
    n(n.P + n.F * (u || !i(38)(s)), 'Array', {
      lastIndexOf(t) {
        if (u) return s.apply(this, arguments) || 0;
        let e = r(this),
          i = o(e.length),
          n = i - 1;
        for (
          arguments.length > 1 && (n = Math.min(n, a(arguments[1]))),
          n < 0 && (n = i + n);
          n >= 0;
          n--
        ) { if (n in e && e[n] === t) return n || 0; }
        return -1;
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(41)(1);
    n(n.P + n.F * !i(38)([].map, !0), 'Array', {
      map(t) {
        return r(this, t, arguments[1]);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(110);
    n(
      n.S +
        n.F *
          i(12)(() => {
            function t() {}
            return !(Array.of.call(t) instanceof t);
          }),
      'Array',
      {
        of() {
          for (
            var t = 0,
              e = arguments.length,
              i = new (typeof this === 'function' ? this : Array)(e);
            e > t;

          ) { r(i, t, arguments[t++]); }
          return (i.length = e), i;
        },
      },
    );
  },
  function (t, e, i) {
    let n = i(0),
      r = i(147);
    n(n.P + n.F * !i(38)([].reduceRight, !0), 'Array', {
      reduceRight(t) {
        return r(this, t, arguments.length, arguments[1], !0);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(147);
    n(n.P + n.F * !i(38)([].reduce, !0), 'Array', {
      reduce(t) {
        return r(this, t, arguments.length, arguments[1], !1);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(114),
      a = i(35),
      o = i(62),
      s = i(17),
      u = [].slice;
    n(
      n.P +
        n.F *
          i(12)(() => {
            r && u.call(r);
          }),
      'Array',
      {
        slice(t, e) {
          let i = s(this.length),
            n = a(this);
          if (((e = void 0 === e ? i : e), n == 'Array')) { return u.call(this, t, e); }
          for (
            var r = o(t, i), l = o(e, i), c = s(l - r), h = new Array(c), d = 0;
            d < c;
            d++
          ) { h[d] = n == 'String' ? this.charAt(r + d) : this[r + d]; }
          return h;
        },
      },
    );
  },
  function (t, e, i) {
    let n = i(0),
      r = i(41)(3);
    n(n.P + n.F * !i(38)([].some, !0), 'Array', {
      some(t) {
        return r(this, t, arguments[1]);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(21),
      a = i(20),
      o = i(12),
      s = [].sort,
      u = [1, 2, 3];
    n(
      n.P +
        n.F *
          (o(() => {
            u.sort(void 0);
          }) ||
            !o(() => {
              u.sort(null);
            }) ||
            !i(38)(s)),
      'Array',
      {
        sort(t) {
          return void 0 === t ? s.call(a(this)) : s.call(a(this), r(t));
        },
      },
    );
  },
  function (t, e, i) {
    i(61)('Array');
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Date', {
      now() {
        return new Date().getTime();
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(212);
    n(n.P + n.F * (Date.prototype.toISOString !== r), 'Date', {
      toISOString: r,
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(20),
      a = i(44);
    n(
      n.P +
        n.F *
          i(12)(() => (
            new Date(NaN).toJSON() !== null ||
              Date.prototype.toJSON.call({
                toISOString() {
                  return 1;
                },
              }) !==
                1
          )),
      'Date',
      {
        toJSON(t) {
          let e = r(this),
            i = a(e);
          return typeof i !== 'number' || isFinite(i) ? e.toISOString() : null;
        },
      },
    );
  },
  function (t, e, i) {
    let n = i(16)('toPrimitive'),
      r = Date.prototype;
    n in r || i(25)(r, n, i(213));
  },
  function (t, e, i) {
    let n = Date.prototype,
      r = n.toString,
      a = n.getTime;
    `${new Date(NaN)}` != 'Invalid Date' &&
      i(26)(n, 'toString', function () {
        const t = a.call(this);
        return t === t ? r.call(this) : 'Invalid Date';
      });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.P, 'Function', { bind: i(148) });
  },
  function (t, e, i) {
    let n = i(13),
      r = i(31),
      a = i(16)('hasInstance'),
      o = Function.prototype;
    a in o ||
      i(19).f(o, a, {
        value(t) {
          if (typeof this !== 'function' || !n(t)) return !1;
          if (!n(this.prototype)) return t instanceof this;
          for (; (t = r(t));) if (this.prototype === t) return !0;
          return !1;
        },
      });
  },
  function (t, e, i) {
    let n = i(19).f,
      r = Function.prototype,
      a = /^\s*function ([^ (]*)/;
    'name' in r ||
      (i(18) &&
        n(r, 'name', {
          configurable: !0,
          get() {
            try {
              return (`${this}`).match(a)[1];
            } catch (t) {
              return '';
            }
          },
        }));
  },
  function (t, e, i) {
    let n = i(0),
      r = i(159),
      a = Math.sqrt,
      o = Math.acosh;
    n(
      n.S +
        n.F *
          !(o && Math.floor(o(Number.MAX_VALUE)) == 710 && o(1 / 0) == 1 / 0),
      'Math',
      {
        acosh(t) {
          return (t = +t) < 1
            ? NaN
            : t > 94906265.62425156
              ? Math.log(t) + Math.LN2
              : r(t - 1 + a(t - 1) * a(t + 1));
        },
      },
    );
  },
  function (t, e, i) {
    function n(t) {
      return isFinite((t = +t)) && t != 0
        ? t < 0
          ? -n(-t)
          : Math.log(t + Math.sqrt(t * t + 1))
        : t;
    }
    let r = i(0),
      a = Math.asinh;
    r(r.S + r.F * !(a && 1 / a(0) > 0), 'Math', { asinh: n });
  },
  function (t, e, i) {
    let n = i(0),
      r = Math.atanh;
    n(n.S + n.F * !(r && 1 / r(-0) < 0), 'Math', {
      atanh(t) {
        return (t = +t) == 0 ? t : Math.log((1 + t) / (1 - t)) / 2;
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(120);
    n(n.S, 'Math', {
      cbrt(t) {
        return r((t = +t)) * Math.pow(Math.abs(t), 1 / 3);
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', {
      clz32(t) {
        return (t >>>= 0)
          ? 31 - Math.floor(Math.log(t + 0.5) * Math.LOG2E)
          : 32;
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = Math.exp;
    n(n.S, 'Math', {
      cosh(t) {
        return (r((t = +t)) + r(-t)) / 2;
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(119);
    n(n.S + n.F * (r != Math.expm1), 'Math', { expm1: r });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', { fround: i(158) });
  },
  function (t, e, i) {
    let n = i(0),
      r = Math.abs;
    n(n.S, 'Math', {
      hypot(t, e) {
        for (var i, n, a = 0, o = 0, s = arguments.length, u = 0; o < s;) {
          (i = r(arguments[o++])),
          u < i
            ? ((n = u / i), (a = a * n * n + 1), (u = i))
            : i > 0
              ? ((n = i / u), (a += n * n))
              : (a += i);
        }
        return u === 1 / 0 ? 1 / 0 : u * Math.sqrt(a);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = Math.imul;
    n(
      n.S +
        n.F *
          i(12)(() => r(4294967295, 5) != -5 || r.length != 2),
      'Math',
      {
        imul(t, e) {
          let i = +t,
            n = +e,
            r = 65535 & i,
            a = 65535 & n;
          return (
            0 |
            (r * a +
              ((((65535 & (i >>> 16)) * a + r * (65535 & (n >>> 16))) << 16) >>>
                0))
          );
        },
      },
    );
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', {
      log10(t) {
        return Math.log(t) * Math.LOG10E;
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', { log1p: i(159) });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', {
      log2(t) {
        return Math.log(t) / Math.LN2;
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', { sign: i(120) });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(119),
      a = Math.exp;
    n(
      n.S +
        n.F *
          i(12)(() => !Math.sinh(-2e-17) != -2e-17),
      'Math',
      {
        sinh(t) {
          return Math.abs((t = +t)) < 1
            ? (r(t) - r(-t)) / 2
            : (a(t - 1) - a(-t - 1)) * (Math.E / 2);
        },
      },
    );
  },
  function (t, e, i) {
    let n = i(0),
      r = i(119),
      a = Math.exp;
    n(n.S, 'Math', {
      tanh(t) {
        let e = r((t = +t)),
          i = r(-t);
        return e == 1 / 0 ? 1 : i == 1 / 0 ? -1 : (e - i) / (a(t) + a(-t));
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', {
      trunc(t) {
        return (t > 0 ? Math.floor : Math.ceil)(t);
      },
    });
  },
  function (t, e, i) {
    let n = i(9),
      r = i(29),
      a = i(35),
      o = i(115),
      s = i(44),
      u = i(12),
      l = i(57).f,
      c = i(30).f,
      h = i(19).f,
      d = i(70).trim,
      f = n.Number,
      p = f,
      g = f.prototype,
      y = a(i(56)(g)) == 'Number',
      v = 'trim' in String.prototype,
      m = function (t) {
        let e = s(t, !1);
        if (typeof e === 'string' && e.length > 2) {
          e = v ? e.trim() : d(e, 3);
          let i,
            n,
            r,
            a = e.charCodeAt(0);
          if (a === 43 || a === 45) {
            if ((i = e.charCodeAt(2)) === 88 || i === 120) return NaN;
          } else if (a === 48) {
            switch (e.charCodeAt(1)) {
              case 66:
              case 98:
                (n = 2), (r = 49);
                break;
              case 79:
              case 111:
                (n = 8), (r = 55);
                break;
              default:
                return +e;
            }
            for (var o, u = e.slice(2), l = 0, c = u.length; l < c; l++) { if ((o = u.charCodeAt(l)) < 48 || o > r) return NaN; }
            return parseInt(u, n);
          }
        }
        return +e;
      };
    if (!f(' 0o1') || !f('0b1') || f('+0x1')) {
      f = function (t) {
        let e = arguments.length < 1 ? 0 : t,
          i = this;
        return i instanceof f &&
          (y
            ? u(() => {
              g.valueOf.call(i);
            })
            : a(i) != 'Number')
          ? o(new p(m(e)), i, f)
          : m(e);
      };
      for (
        var b,
          _ = i(18)
            ? l(p)
            : 'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'.split(','),
          w = 0;
        _.length > w;
        w++
      ) { r(p, (b = _[w])) && !r(f, b) && h(f, b, c(p, b)); }
      (f.prototype = g), (g.constructor = f), i(26)(n, 'Number', f);
    }
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Number', { EPSILON: Math.pow(2, -52) });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(9).isFinite;
    n(n.S, 'Number', {
      isFinite(t) {
        return typeof t === 'number' && r(t);
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Number', { isInteger: i(155) });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Number', {
      isNaN(t) {
        return t != t;
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(155),
      a = Math.abs;
    n(n.S, 'Number', {
      isSafeInteger(t) {
        return r(t) && a(t) <= 9007199254740991;
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Number', { MAX_SAFE_INTEGER: 9007199254740991 });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Number', { MIN_SAFE_INTEGER: -9007199254740991 });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(167);
    n(n.S + n.F * (Number.parseFloat != r), 'Number', { parseFloat: r });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(168);
    n(n.S + n.F * (Number.parseInt != r), 'Number', { parseInt: r });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(39),
      a = i(144),
      o = i(127),
      s = (1).toFixed,
      u = Math.floor,
      l = [0, 0, 0, 0, 0, 0],
      c = 'Number.toFixed: incorrect invocation!',
      h = function (t, e) {
        for (let i = -1, n = e; ++i < 6;) { (n += t * l[i]), (l[i] = n % 1e7), (n = u(n / 1e7)); }
      },
      d = function (t) {
        for (let e = 6, i = 0; --e >= 0;) { (i += l[e]), (l[e] = u(i / t)), (i = (i % t) * 1e7); }
      },
      f = function () {
        for (var t = 6, e = ''; --t >= 0;) {
          if (e !== '' || t === 0 || l[t] !== 0) {
            const i = String(l[t]);
            e = e === '' ? i : e + o.call('0', 7 - i.length) + i;
          }
        }
        return e;
      },
      p = function t(e, i, n) {
        return i === 0
          ? n
          : i % 2 == 1
            ? t(e, i - 1, n * e)
            : t(e * e, i / 2, n);
      },
      g = function (t) {
        for (var e = 0, i = t; i >= 4096;) (e += 12), (i /= 4096);
        for (; i >= 2;) (e += 1), (i /= 2);
        return e;
      };
    n(
      n.P +
        n.F *
          ((!!s &&
            ((8e-5).toFixed(3) !== '0.000' ||
              (0.9).toFixed(0) !== '1' ||
              (1.255).toFixed(2) !== '1.25' ||
              (0xde0b6b3a7640080).toFixed(0) !== '1000000000000000128')) ||
            !i(12)(() => {
              s.call({});
            })),
      'Number',
      {
        toFixed(t) {
          let e,
            i,
            n,
            s,
            u = a(this, c),
            l = r(t),
            y = '',
            v = '0';
          if (l < 0 || l > 20) throw RangeError(c);
          if (u != u) return 'NaN';
          if (u <= -1e21 || u >= 1e21) return String(u);
          if ((u < 0 && ((y = '-'), (u = -u)), u > 1e-21)) {
            if (
              ((e = g(u * p(2, 69, 1)) - 69),
              (i = e < 0 ? u * p(2, -e, 1) : u / p(2, e, 1)),
              (i *= 4503599627370496),
              (e = 52 - e) > 0)
            ) {
              for (h(0, i), n = l; n >= 7;) h(1e7, 0), (n -= 7);
              for (h(p(10, n, 1), 0), n = e - 1; n >= 23;) { d(1 << 23), (n -= 23); }
              d(1 << n), h(1, 1), d(2), (v = f());
            } else h(0, i), h(1 << -e, 0), (v = f() + o.call('0', l));
          }
          return (
            l > 0
              ? ((s = v.length),
              (v =
                  y +
                  (s <= l
                    ? `0.${o.call('0', l - s)}${v}`
                    : `${v.slice(0, s - l)}.${v.slice(s - l)}`)))
              : (v = y + v),
            v
          );
        },
      },
    );
  },
  function (t, e, i) {
    let n = i(0),
      r = i(12),
      a = i(144),
      o = (1).toPrecision;
    n(
      n.P +
        n.F *
          (r(() => o.call(1, void 0) !== '1') ||
            !r(() => {
              o.call({});
            })),
      'Number',
      {
        toPrecision(t) {
          const e = a(this, 'Number#toPrecision: incorrect invocation!');
          return void 0 === t ? o.call(e) : o.call(e, t);
        },
      },
    );
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S + n.F, 'Object', { assign: i(161) });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Object', { create: i(56) });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S + n.F * !i(18), 'Object', { defineProperties: i(162) });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S + n.F * !i(18), 'Object', { defineProperty: i(19).f });
  },
  function (t, e, i) {
    let n = i(13),
      r = i(52).onFreeze;
    i(43)('freeze', t => function (e) {
      return t && n(e) ? t(r(e)) : e;
    });
  },
  function (t, e, i) {
    let n = i(32),
      r = i(30).f;
    i(43)('getOwnPropertyDescriptor', () => function (t, e) {
      return r(n(t), e);
    });
  },
  function (t, e, i) {
    i(43)('getOwnPropertyNames', () => i(163).f);
  },
  function (t, e, i) {
    let n = i(20),
      r = i(31);
    i(43)('getPrototypeOf', () => function (t) {
      return r(n(t));
    });
  },
  function (t, e, i) {
    const n = i(13);
    i(43)('isExtensible', t => function (e) {
      return !!n(e) && (!t || t(e));
    });
  },
  function (t, e, i) {
    const n = i(13);
    i(43)('isFrozen', t => function (e) {
      return !n(e) || (!!t && t(e));
    });
  },
  function (t, e, i) {
    const n = i(13);
    i(43)('isSealed', t => function (e) {
      return !n(e) || (!!t && t(e));
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Object', { is: i(171) });
  },
  function (t, e, i) {
    let n = i(20),
      r = i(58);
    i(43)('keys', () => function (t) {
      return r(n(t));
    });
  },
  function (t, e, i) {
    let n = i(13),
      r = i(52).onFreeze;
    i(43)('preventExtensions', t => function (e) {
      return t && n(e) ? t(r(e)) : e;
    });
  },
  function (t, e, i) {
    let n = i(13),
      r = i(52).onFreeze;
    i(43)('seal', t => function (e) {
      return t && n(e) ? t(r(e)) : e;
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Object', { setPrototypeOf: i(124).set });
  },
  function (t, e, i) {
    let n = i(67),
      r = {};
    (r[i(16)('toStringTag')] = 'z'),
    `${r}` != '[object z]' &&
        i(26)(
          Object.prototype,
          'toString',
          function () {
            return `[object ${n(this)}]`;
          },
          !0,
        );
  },
  function (t, e, i) {
    let n = i(0),
      r = i(167);
    n(n.G + n.F * (parseFloat != r), { parseFloat: r });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(168);
    n(n.G + n.F * (parseInt != r), { parseInt: r });
  },
  function (t, e, i) {
    var n,
      r,
      a,
      o,
      s = i(51),
      u = i(9),
      l = i(37),
      c = i(67),
      h = i(0),
      d = i(13),
      f = i(21),
      p = i(54),
      g = i(55),
      y = i(81),
      v = i(129).set,
      m = i(121)(),
      b = i(122),
      _ = i(169),
      w = i(102),
      x = i(170),
      P = u.TypeError,
      k = u.process,
      T = k && k.versions,
      O = (T && T.v8) || '',
      E = u.Promise,
      S = c(k) == 'process',
      C = function () {},
      I = (r = b.f),
      M = !!(function () {
        try {
          let t = E.resolve(1),
            e = ((t.constructor = {})[i(16)('species')] = function (t) {
              t(C, C);
            });
          return (
            (S || typeof PromiseRejectionEvent === 'function') &&
            t.then(C) instanceof e &&
            O.indexOf('6.6') !== 0 &&
            w.indexOf('Chrome/66') === -1
          );
        } catch (t) {}
      }()),
      A = function (t) {
        let e;
        return !(!d(t) || typeof (e = t.then) !== 'function') && e;
      },
      R = function (t, e) {
        if (!t._n) {
          t._n = !0;
          const i = t._c;
          m(() => {
            for (var n = t._v, r = t._s == 1, a = 0; i.length > a;) {
              !(function (e) {
                let i,
                  a,
                  o,
                  s = r ? e.ok : e.fail,
                  u = e.resolve,
                  l = e.reject,
                  c = e.domain;
                try {
                  s
                    ? (r || (t._h == 2 && B(t), (t._h = 1)),
                    !0 === s
                      ? (i = n)
                      : (c && c.enter(),
                      (i = s(n)),
                      c && (c.exit(), (o = !0))),
                    i === e.promise
                      ? l(P('Promise-chain cycle'))
                      : (a = A(i))
                        ? a.call(i, u, l)
                        : u(i))
                    : l(n);
                } catch (t) {
                  c && !o && c.exit(), l(t);
                }
              }(i[a++]));
            }
            (t._c = []), (t._n = !1), e && !t._h && L(t);
          });
        }
      },
      L = function (t) {
        v.call(u, () => {
          let e,
            i,
            n,
            r = t._v,
            a = D(t);
          if (
            (a &&
              ((e = _(() => {
                S
                  ? k.emit('unhandledRejection', r, t)
                  : (i = u.onunhandledrejection)
                    ? i({ promise: t, reason: r })
                    : (n = u.console) &&
                    n.error &&
                    n.error('Unhandled promise rejection', r);
              })),
              (t._h = S || D(t) ? 2 : 1)),
            (t._a = void 0),
            a && e.e)
          ) { throw e.v; }
        });
      },
      D = function (t) {
        return t._h !== 1 && (t._a || t._c).length === 0;
      },
      B = function (t) {
        v.call(u, () => {
          let e;
          S
            ? k.emit('rejectionHandled', t)
            : (e = u.onrejectionhandled) && e({ promise: t, reason: t._v });
        });
      },
      j = function (t) {
        let e = this;
        e._d ||
          ((e._d = !0),
          (e = e._w || e),
          (e._v = t),
          (e._s = 2),
          e._a || (e._a = e._c.slice()),
          R(e, !0));
      },
      F = function t(e) {
        let i,
          n = this;
        if (!n._d) {
          (n._d = !0), (n = n._w || n);
          try {
            if (n === e) throw P("Promise can't be resolved itself");
            (i = A(e))
              ? m(() => {
                const r = { _w: n, _d: !1 };
                try {
                  i.call(e, l(t, r, 1), l(j, r, 1));
                } catch (t) {
                  j.call(r, t);
                }
              })
              : ((n._v = e), (n._s = 1), R(n, !1));
          } catch (t) {
            j.call({ _w: n, _d: !1 }, t);
          }
        }
      };
    M ||
      ((E = function (t) {
        p(this, E, 'Promise', '_h'), f(t), n.call(this);
        try {
          t(l(F, this, 1), l(j, this, 1));
        } catch (t) {
          j.call(this, t);
        }
      }),
      (n = function (t) {
        (this._c = []),
        (this._a = void 0),
        (this._s = 0),
        (this._d = !1),
        (this._v = void 0),
        (this._h = 0),
        (this._n = !1);
      }),
      (n.prototype = i(60)(E.prototype, {
        then(t, e) {
          const i = I(y(this, E));
          return (
            (i.ok = typeof t !== 'function' || t),
            (i.fail = typeof e === 'function' && e),
            (i.domain = S ? k.domain : void 0),
            this._c.push(i),
            this._a && this._a.push(i),
            this._s && R(this, !1),
            i.promise
          );
        },
        catch(t) {
          return this.then(void 0, t);
        },
      })),
      (a = function () {
        const t = new n();
        (this.promise = t),
        (this.resolve = l(F, t, 1)),
        (this.reject = l(j, t, 1));
      }),
      (b.f = I = function (t) {
        return t === E || t === o ? new a(t) : r(t);
      })),
    h(h.G + h.W + h.F * !M, { Promise: E }),
    i(69)(E, 'Promise'),
    i(61)('Promise'),
    (o = i(36).Promise),
    h(h.S + h.F * !M, 'Promise', {
      reject(t) {
        const e = I(this);
        return (0, e.reject)(t), e.promise;
      },
    }),
    h(h.S + h.F * (s || !M), 'Promise', {
      resolve(t) {
        return x(s && this === o ? E : this, t);
      },
    }),
    h(
      h.S +
          h.F *
            !(
              M &&
              i(94)((t) => {
                E.all(t).catch(C);
              })
            ),
      'Promise',
      {
        all(t) {
          let e = this,
            i = I(e),
            n = i.resolve,
            r = i.reject,
            a = _(() => {
              let i = [],
                a = 0,
                o = 1;
              g(t, !1, (t) => {
                let s = a++,
                  u = !1;
                i.push(void 0),
                o++,
                e.resolve(t).then((t) => {
                  u || ((u = !0), (i[s] = t), --o || n(i));
                }, r);
              }),
              --o || n(i);
            });
          return a.e && r(a.v), i.promise;
        },
        race(t) {
          let e = this,
            i = I(e),
            n = i.reject,
            r = _(() => {
              g(t, !1, (t) => {
                e.resolve(t).then(i.resolve, n);
              });
            });
          return r.e && n(r.v), i.promise;
        },
      },
    );
  },
  function (t, e, i) {
    let n = i(0),
      r = i(21),
      a = i(6),
      o = (i(9).Reflect || {}).apply,
      s = Function.apply;
    n(
      n.S +
        n.F *
          !i(12)(() => {
            o(() => {});
          }),
      'Reflect',
      {
        apply(t, e, i) {
          let n = r(t),
            u = a(i);
          return o ? o(n, e, u) : s.call(n, e, u);
        },
      },
    );
  },
  function (t, e, i) {
    let n = i(0),
      r = i(56),
      a = i(21),
      o = i(6),
      s = i(13),
      u = i(12),
      l = i(148),
      c = (i(9).Reflect || {}).construct,
      h = u(() => {
        function t() {}
        return !(c(() => {}, [], t) instanceof t);
      }),
      d = !u(() => {
        c(() => {});
      });
    n(n.S + n.F * (h || d), 'Reflect', {
      construct(t, e) {
        a(t), o(e);
        const i = arguments.length < 3 ? t : a(arguments[2]);
        if (d && !h) return c(t, e, i);
        if (t == i) {
          switch (e.length) {
            case 0:
              return new t();
            case 1:
              return new t(e[0]);
            case 2:
              return new t(e[0], e[1]);
            case 3:
              return new t(e[0], e[1], e[2]);
            case 4:
              return new t(e[0], e[1], e[2], e[3]);
          }
          const n = [null];
          return n.push(...e), new (l.apply(t, n))();
        }
        let u = i.prototype,
          f = r(s(u) ? u : Object.prototype),
          p = Function.apply.call(t, f, e);
        return s(p) ? p : f;
      },
    });
  },
  function (t, e, i) {
    let n = i(19),
      r = i(0),
      a = i(6),
      o = i(44);
    r(
      r.S +
        r.F *
          i(12)(() => {
            Reflect.defineProperty(n.f({}, 1, { value: 1 }), 1, { value: 2 });
          }),
      'Reflect',
      {
        defineProperty(t, e, i) {
          a(t), (e = o(e, !0)), a(i);
          try {
            return n.f(t, e, i), !0;
          } catch (t) {
            return !1;
          }
        },
      },
    );
  },
  function (t, e, i) {
    let n = i(0),
      r = i(30).f,
      a = i(6);
    n(n.S, 'Reflect', {
      deleteProperty(t, e) {
        const i = r(a(t), e);
        return !(i && !i.configurable) && delete t[e];
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(6),
      a = function (t) {
        (this._t = r(t)), (this._i = 0);
        let e,
          i = (this._k = []);
        for (e in t) i.push(e);
      };
    i(117)(a, 'Object', function () {
      let t,
        e = this,
        i = e._k;
      do {
        if (e._i >= i.length) return { value: void 0, done: !0 };
      } while (!((t = i[e._i++]) in e._t));
      return { value: t, done: !1 };
    }),
    n(n.S, 'Reflect', {
      enumerate(t) {
        return new a(t);
      },
    });
  },
  function (t, e, i) {
    let n = i(30),
      r = i(0),
      a = i(6);
    r(r.S, 'Reflect', {
      getOwnPropertyDescriptor(t, e) {
        return n.f(a(t), e);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(31),
      a = i(6);
    n(n.S, 'Reflect', {
      getPrototypeOf(t) {
        return r(a(t));
      },
    });
  },
  function (t, e, i) {
    function n(t, e) {
      let i,
        s,
        c = arguments.length < 3 ? t : arguments[2];
      return l(t) === c
        ? t[e]
        : (i = r.f(t, e))
          ? o(i, 'value')
            ? i.value
            : void 0 !== i.get
              ? i.get.call(c)
              : void 0
          : u((s = a(t)))
            ? n(s, e, c)
            : void 0;
    }
    var r = i(30),
      a = i(31),
      o = i(29),
      s = i(0),
      u = i(13),
      l = i(6);
    s(s.S, 'Reflect', { get: n });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Reflect', {
      has(t, e) {
        return e in t;
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(6),
      a = Object.isExtensible;
    n(n.S, 'Reflect', {
      isExtensible(t) {
        return r(t), !a || a(t);
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Reflect', { ownKeys: i(166) });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(6),
      a = Object.preventExtensions;
    n(n.S, 'Reflect', {
      preventExtensions(t) {
        r(t);
        try {
          return a && a(t), !0;
        } catch (t) {
          return !1;
        }
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(124);
    r &&
      n(n.S, 'Reflect', {
        setPrototypeOf(t, e) {
          r.check(t, e);
          try {
            return r.set(t, e), !0;
          } catch (t) {
            return !1;
          }
        },
      });
  },
  function (t, e, i) {
    function n(t, e, i) {
      let u,
        d,
        f = arguments.length < 4 ? t : arguments[3],
        p = a.f(c(t), e);
      if (!p) {
        if (h((d = o(t)))) return n(d, e, i, f);
        p = l(0);
      }
      if (s(p, 'value')) {
        if (!1 === p.writable || !h(f)) return !1;
        if ((u = a.f(f, e))) {
          if (u.get || u.set || !1 === u.writable) return !1;
          (u.value = i), r.f(f, e, u);
        } else r.f(f, e, l(0, i));
        return !0;
      }
      return void 0 !== p.set && (p.set.call(f, i), !0);
    }
    var r = i(19),
      a = i(30),
      o = i(31),
      s = i(29),
      u = i(0),
      l = i(59),
      c = i(6),
      h = i(13);
    u(u.S, 'Reflect', { set: n });
  },
  function (t, e, i) {
    let n = i(9),
      r = i(115),
      a = i(19).f,
      o = i(57).f,
      s = i(93),
      u = i(77),
      l = n.RegExp,
      c = l,
      h = l.prototype,
      d = /a/g,
      f = /a/g,
      p = new l(d) !== d;
    if (
      i(18) &&
      (!p ||
        i(12)(() => (
          (f[i(16)('match')] = !1),
          l(d) != d || l(f) == f || l(d, 'i') != '/a/i'
        )))
    ) {
      l = function (t, e) {
        let i = this instanceof l,
          n = s(t),
          a = void 0 === e;
        return !i && n && t.constructor === l && a
          ? t
          : r(
            p
              ? new c(n && !a ? t.source : t, e)
              : c(
                (n = t instanceof l) ? t.source : t,
                n && a ? u.call(t) : e,
              ),
            i ? this : h,
            l,
          );
      };
      for (let g = o(c), y = 0; g.length > y;) {
        !(function (t) {
          t in l ||
            a(l, t, {
              configurable: !0,
              get() {
                return c[t];
              },
              set(e) {
                c[t] = e;
              },
            });
        }(g[y++]));
      }
      (h.constructor = l), (l.prototype = h), i(26)(n, 'RegExp', l);
    }
    i(61)('RegExp');
  },
  function (t, e, i) {
    let n = i(6),
      r = i(17),
      a = i(107),
      o = i(97);
    i(91)('match', 1, (t, e, i, s) => [
      function (i) {
        let n = t(this),
          r = void 0 == i ? void 0 : i[e];
        return void 0 !== r ? r.call(i, n) : new RegExp(i)[e](String(n));
      },
      function (t) {
        const e = s(i, t, this);
        if (e.done) return e.value;
        let u = n(t),
          l = String(this);
        if (!u.global) return o(u, l);
        const c = u.unicode;
        u.lastIndex = 0;
        for (var h, d = [], f = 0; (h = o(u, l)) !== null;) {
          const p = String(h[0]);
          (d[f] = p),
          p === '' && (u.lastIndex = a(l, r(u.lastIndex), c)),
          f++;
        }
        return f === 0 ? null : d;
      },
    ]);
  },
  function (t, e, i) {
    let n = i(6),
      r = i(20),
      a = i(17),
      o = i(39),
      s = i(107),
      u = i(97),
      l = Math.max,
      c = Math.min,
      h = Math.floor,
      d = /\$([$&`']|\d\d?|<[^>]*>)/g,
      f = /\$([$&`']|\d\d?)/g,
      p = function (t) {
        return void 0 === t ? t : String(t);
      };
    i(91)('replace', 2, (t, e, i, g) => {
      function y(t, e, n, a, o, s) {
        let u = n + t.length,
          l = a.length,
          c = f;
        return (
          void 0 !== o && ((o = r(o)), (c = d)),
          i.call(s, c, (i, r) => {
            let s;
            switch (r.charAt(0)) {
              case '$':
                return '$';
              case '&':
                return t;
              case '`':
                return e.slice(0, n);
              case "'":
                return e.slice(u);
              case '<':
                s = o[r.slice(1, -1)];
                break;
              default:
                var c = +r;
                if (c === 0) return i;
                if (c > l) {
                  const d = h(c / 10);
                  return d === 0
                    ? i
                    : d <= l
                      ? void 0 === a[d - 1]
                        ? r.charAt(1)
                        : a[d - 1] + r.charAt(1)
                      : i;
                }
                s = a[c - 1];
            }
            return void 0 === s ? '' : s;
          })
        );
      }
      return [
        function (n, r) {
          let a = t(this),
            o = void 0 == n ? void 0 : n[e];
          return void 0 !== o ? o.call(n, a, r) : i.call(String(a), n, r);
        },
        function (t, e) {
          const r = g(i, t, this, e);
          if (r.done) return r.value;
          let h = n(t),
            d = String(this),
            f = typeof e === 'function';
          f || (e = String(e));
          const v = h.global;
          if (v) {
            var m = h.unicode;
            h.lastIndex = 0;
          }
          for (var b = []; ;) {
            var _ = u(h, d);
            if (_ === null) break;
            if ((b.push(_), !v)) break;
            String(_[0]) === '' && (h.lastIndex = s(d, a(h.lastIndex), m));
          }
          for (var w = '', x = 0, P = 0; P < b.length; P++) {
            _ = b[P];
            for (
              var k = String(_[0]),
                T = l(c(o(_.index), d.length), 0),
                O = [],
                E = 1;
              E < _.length;
              E++
            ) { O.push(p(_[E])); }
            const S = _.groups;
            if (f) {
              const C = [k].concat(O, T, d);
              void 0 !== S && C.push(S);
              var I = String(e(...C));
            } else I = y(k, d, T, O, S, e);
            T >= x && ((w += d.slice(x, T) + I), (x = T + k.length));
          }
          return w + d.slice(x);
        },
      ];
    });
  },
  function (t, e, i) {
    let n = i(6),
      r = i(171),
      a = i(97);
    i(91)('search', 1, (t, e, i, o) => [
      function (i) {
        let n = t(this),
          r = void 0 == i ? void 0 : i[e];
        return void 0 !== r ? r.call(i, n) : new RegExp(i)[e](String(n));
      },
      function (t) {
        const e = o(i, t, this);
        if (e.done) return e.value;
        let s = n(t),
          u = String(this),
          l = s.lastIndex;
        r(l, 0) || (s.lastIndex = 0);
        const c = a(s, u);
        return (
          r(s.lastIndex, l) || (s.lastIndex = l), c === null ? -1 : c.index
        );
      },
    ]);
  },
  function (t, e, i) {
    let n = i(93),
      r = i(6),
      a = i(81),
      o = i(107),
      s = i(17),
      u = i(97),
      l = i(123),
      c = i(12),
      h = Math.min,
      d = [].push,
      f = 'length',
      p = !c(() => {
        RegExp(4294967295, 'y');
      });
    i(91)('split', 2, (t, e, i, c) => {
      let g;
      return (
        (g =
          'abbc'.split(/(b)*/)[1] == 'c' ||
          'test'.split(/(?:)/, -1)[f] != 4 ||
          'ab'.split(/(?:ab)*/)[f] != 2 ||
          '.'.split(/(.?)(.?)/)[f] != 4 ||
          '.'.split(/()()/)[f] > 1 ||
          ''.split(/.?/)[f]
            ? function (t, e) {
              const r = String(this);
              if (void 0 === t && e === 0) return [];
              if (!n(t)) return i.call(r, t, e);
              for (
                var a,
                  o,
                  s,
                  u = [],
                  c =
                      (t.ignoreCase ? 'i' : '') +
                      (t.multiline ? 'm' : '') +
                      (t.unicode ? 'u' : '') +
                      (t.sticky ? 'y' : ''),
                  h = 0,
                  p = void 0 === e ? 4294967295 : e >>> 0,
                  g = new RegExp(t.source, `${c}g`);
                (a = l.call(g, r)) &&
                  !(
                    (o = g.lastIndex) > h &&
                    (u.push(r.slice(h, a.index)),
                    a[f] > 1 && a.index < r[f] && d.apply(u, a.slice(1)),
                    (s = a[0][f]),
                    (h = o),
                    u[f] >= p)
                  );

              ) { g.lastIndex === a.index && g.lastIndex++; }
              return (
                h === r[f]
                  ? (!s && g.test('')) || u.push('')
                  : u.push(r.slice(h)),
                u[f] > p ? u.slice(0, p) : u
              );
            }
            : '0'.split(void 0, 0)[f]
              ? function (t, e) {
                return void 0 === t && e === 0 ? [] : i.call(this, t, e);
              }
              : i),
        [
          function (i, n) {
            let r = t(this),
              a = void 0 == i ? void 0 : i[e];
            return void 0 !== a ? a.call(i, r, n) : g.call(String(r), i, n);
          },
          function (t, e) {
            const n = c(g, t, this, e, g !== i);
            if (n.done) return n.value;
            let l = r(t),
              d = String(this),
              f = a(l, RegExp),
              y = l.unicode,
              v =
                (l.ignoreCase ? 'i' : '') +
                (l.multiline ? 'm' : '') +
                (l.unicode ? 'u' : '') +
                (p ? 'y' : 'g'),
              m = new f(p ? l : `^(?:${l.source})`, v),
              b = void 0 === e ? 4294967295 : e >>> 0;
            if (b === 0) return [];
            if (d.length === 0) return u(m, d) === null ? [d] : [];
            for (var _ = 0, w = 0, x = []; w < d.length;) {
              m.lastIndex = p ? w : 0;
              var P,
                k = u(m, p ? d : d.slice(w));
              if (
                k === null ||
                (P = h(s(m.lastIndex + (p ? 0 : w)), d.length)) === _
              ) { w = o(d, w, y); } else {
                if ((x.push(d.slice(_, w)), x.length === b)) return x;
                for (let T = 1; T <= k.length - 1; T++) { if ((x.push(k[T]), x.length === b)) return x; }
                w = _ = P;
              }
            }
            return x.push(d.slice(_)), x;
          },
        ]
      );
    });
  },
  function (t, e, i) {
    i(177);
    let n = i(6),
      r = i(77),
      a = i(18),
      o = /./.toString,
      s = function (t) {
        i(26)(RegExp.prototype, 'toString', t, !0);
      };
    i(12)(() => o.call({ source: 'a', flags: 'b' }) != '/a/b')
      ? s(function () {
        const t = n(this);
        return '/'.concat(
          t.source,
          '/',
          'flags' in t
            ? t.flags
            : !a && t instanceof RegExp
              ? r.call(t)
              : void 0,
        );
      })
      : o.name != 'toString' &&
        s(function () {
          return o.call(this);
        });
  },
  function (t, e, i) {
    i(27)('anchor', t => function (e) {
      return t(this, 'a', 'name', e);
    });
  },
  function (t, e, i) {
    i(27)('big', t => function () {
      return t(this, 'big', '', '');
    });
  },
  function (t, e, i) {
    i(27)('blink', t => function () {
      return t(this, 'blink', '', '');
    });
  },
  function (t, e, i) {
    i(27)('bold', t => function () {
      return t(this, 'b', '', '');
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(100)(!1);
    n(n.P, 'String', {
      codePointAt(t) {
        return r(this, t);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(17),
      a = i(126),
      o = ''.endsWith;
    n(n.P + n.F * i(113)('endsWith'), 'String', {
      endsWith(t) {
        let e = a(this, t, 'endsWith'),
          i = arguments.length > 1 ? arguments[1] : void 0,
          n = r(e.length),
          s = void 0 === i ? n : Math.min(r(i), n),
          u = String(t);
        return o ? o.call(e, u, s) : e.slice(s - u.length, s) === u;
      },
    });
  },
  function (t, e, i) {
    i(27)('fixed', t => function () {
      return t(this, 'tt', '', '');
    });
  },
  function (t, e, i) {
    i(27)('fontcolor', t => function (e) {
      return t(this, 'font', 'color', e);
    });
  },
  function (t, e, i) {
    i(27)('fontsize', t => function (e) {
      return t(this, 'font', 'size', e);
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(62),
      a = String.fromCharCode,
      o = String.fromCodePoint;
    n(n.S + n.F * (!!o && o.length != 1), 'String', {
      fromCodePoint(t) {
        for (var e, i = [], n = arguments.length, o = 0; n > o;) {
          if (((e = +arguments[o++]), r(e, 1114111) !== e)) { throw RangeError(`${e} is not a valid code point`); }
          i.push(e < 65536
            ? a(e)
            : a(55296 + ((e -= 65536) >> 10), (e % 1024) + 56320));
        }
        return i.join('');
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(126);
    n(n.P + n.F * i(113)('includes'), 'String', {
      includes(t) {
        return !!~r(this, t, 'includes').indexOf(
          t,
          arguments.length > 1 ? arguments[1] : void 0,
        );
      },
    });
  },
  function (t, e, i) {
    i(27)('italics', t => function () {
      return t(this, 'i', '', '');
    });
  },
  function (t, e, i) {
    const n = i(100)(!0);
    i(118)(
      String,
      'String',
      function (t) {
        (this._t = String(t)), (this._i = 0);
      },
      function () {
        let t,
          e = this._t,
          i = this._i;
        return i >= e.length
          ? { value: void 0, done: !0 }
          : ((t = n(e, i)), (this._i += t.length), { value: t, done: !1 });
      },
    );
  },
  function (t, e, i) {
    i(27)('link', t => function (e) {
      return t(this, 'a', 'href', e);
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(32),
      a = i(17);
    n(n.S, 'String', {
      raw(t) {
        for (
          var e = r(t.raw),
            i = a(e.length),
            n = arguments.length,
            o = [],
            s = 0;
          i > s;

        ) { o.push(String(e[s++])), s < n && o.push(String(arguments[s])); }
        return o.join('');
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.P, 'String', { repeat: i(127) });
  },
  function (t, e, i) {
    i(27)('small', t => function () {
      return t(this, 'small', '', '');
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(17),
      a = i(126),
      o = ''.startsWith;
    n(n.P + n.F * i(113)('startsWith'), 'String', {
      startsWith(t) {
        let e = a(this, t, 'startsWith'),
          i = r(Math.min(arguments.length > 1 ? arguments[1] : void 0, e.length)),
          n = String(t);
        return o ? o.call(e, n, i) : e.slice(i, i + n.length) === n;
      },
    });
  },
  function (t, e, i) {
    i(27)('strike', t => function () {
      return t(this, 'strike', '', '');
    });
  },
  function (t, e, i) {
    i(27)('sub', t => function () {
      return t(this, 'sub', '', '');
    });
  },
  function (t, e, i) {
    i(27)('sup', t => function () {
      return t(this, 'sup', '', '');
    });
  },
  function (t, e, i) {
    i(70)('trim', t => function () {
      return t(this, 3);
    });
  },
  function (t, e, i) {
    var n =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          },
      r = i(9),
      a = i(29),
      o = i(18),
      s = i(0),
      u = i(26),
      l = i(52).KEY,
      c = i(12),
      h = i(80),
      d = i(69),
      f = i(63),
      p = i(16),
      g = i(174),
      y = i(131),
      v = i(214),
      m = i(92),
      b = i(6),
      _ = i(13),
      w = i(20),
      x = i(32),
      P = i(44),
      k = i(59),
      T = i(56),
      O = i(163),
      E = i(30),
      S = i(96),
      C = i(19),
      I = i(58),
      M = E.f,
      A = C.f,
      R = O.f,
      L = r.Symbol,
      D = r.JSON,
      B = D && D.stringify,
      j = p('_hidden'),
      F = p('toPrimitive'),
      U = {}.propertyIsEnumerable,
      G = h('symbol-registry'),
      N = h('symbols'),
      W = h('op-symbols'),
      H = Object.prototype,
      X = typeof L === 'function' && !!S.f,
      V = r.QObject,
      z = !V || !V.prototype || !V.prototype.findChild,
      Y =
        o &&
        c(() => (
          T(A({}, 'a', {
            get() {
              return A(this, 'a', { value: 7 }).a;
            },
          })).a !=
            7
        ))
          ? function (t, e, i) {
            const n = M(H, e);
            n && delete H[e], A(t, e, i), n && t !== H && A(H, e, n);
          }
          : A,
      q = function (t) {
        const e = (N[t] = T(L.prototype));
        return (e._k = t), e;
      },
      K =
        X && n(L.iterator) == 'symbol'
          ? function (t) {
            return (void 0 === t ? 'undefined' : n(t)) == 'symbol';
          }
          : function (t) {
            return t instanceof L;
          },
      Q = function (t, e, i) {
        return (
          t === H && Q(W, e, i),
          b(t),
          (e = P(e, !0)),
          b(i),
          a(N, e)
            ? (i.enumerable
              ? (a(t, j) && t[j][e] && (t[j][e] = !1),
              (i = T(i, { enumerable: k(0, !1) })))
              : (a(t, j) || A(t, j, k(1, {})), (t[j][e] = !0)),
            Y(t, e, i))
            : A(t, e, i)
        );
      },
      J = function (t, e) {
        b(t);
        for (var i, n = v((e = x(e))), r = 0, a = n.length; a > r;) { Q(t, (i = n[r++]), e[i]); }
        return t;
      },
      Z = function (t, e) {
        return void 0 === e ? T(t) : J(T(t), e);
      },
      $ = function (t) {
        const e = U.call(this, (t = P(t, !0)));
        return (
          !(this === H && a(N, t) && !a(W, t)) &&
          (!(e || !a(this, t) || !a(N, t) || (a(this, j) && this[j][t])) || e)
        );
      },
      tt = function (t, e) {
        if (((t = x(t)), (e = P(e, !0)), t !== H || !a(N, e) || a(W, e))) {
          const i = M(t, e);
          return (
            !i || !a(N, e) || (a(t, j) && t[j][e]) || (i.enumerable = !0), i
          );
        }
      },
      et = function (t) {
        for (var e, i = R(x(t)), n = [], r = 0; i.length > r;) { a(N, (e = i[r++])) || e == j || e == l || n.push(e); }
        return n;
      },
      it = function (t) {
        for (
          var e, i = t === H, n = R(i ? W : x(t)), r = [], o = 0;
          n.length > o;

        ) { !a(N, (e = n[o++])) || (i && !a(H, e)) || r.push(N[e]); }
        return r;
      };
    X ||
      ((L = function () {
        if (this instanceof L) throw TypeError('Symbol is not a constructor!');
        let t = f(arguments.length > 0 ? arguments[0] : void 0),
          e = function e(i) {
            this === H && e.call(W, i),
            a(this, j) && a(this[j], t) && (this[j][t] = !1),
            Y(this, t, k(1, i));
          };
        return o && z && Y(H, t, { configurable: !0, set: e }), q(t);
      }),
      u(L.prototype, 'toString', function () {
        return this._k;
      }),
      (E.f = tt),
      (C.f = Q),
      (i(57).f = O.f = et),
      (i(79).f = $),
      (S.f = it),
      o && !i(51) && u(H, 'propertyIsEnumerable', $, !0),
      (g.f = function (t) {
        return q(p(t));
      })),
    s(s.G + s.W + s.F * !X, { Symbol: L });
    for (
      let nt = 'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'.split(','),
        rt = 0;
      nt.length > rt;

    ) { p(nt[rt++]); }
    for (let at = I(p.store), ot = 0; at.length > ot;) y(at[ot++]);
    s(s.S + s.F * !X, 'Symbol', {
      for(t) {
        return a(G, (t += '')) ? G[t] : (G[t] = L(t));
      },
      keyFor(t) {
        if (!K(t)) throw TypeError(`${t} is not a symbol!`);
        for (const e in G) if (G[e] === t) return e;
      },
      useSetter() {
        z = !0;
      },
      useSimple() {
        z = !1;
      },
    }),
    s(s.S + s.F * !X, 'Object', {
      create: Z,
      defineProperty: Q,
      defineProperties: J,
      getOwnPropertyDescriptor: tt,
      getOwnPropertyNames: et,
      getOwnPropertySymbols: it,
    });
    const st = c(() => {
      S.f(1);
    });
    s(s.S + s.F * st, 'Object', {
      getOwnPropertySymbols(t) {
        return S.f(w(t));
      },
    }),
    D &&
        s(
          s.S +
            s.F *
              (!X ||
                c(() => {
                  const t = L();
                  return (
                    B([t]) != '[null]' ||
                    B({ a: t }) != '{}' ||
                    B(Object(t)) != '{}'
                  );
                })),
          'JSON',
          {
            stringify(t) {
              for (var e, i, n = [t], r = 1; arguments.length > r;) { n.push(arguments[r++]); }
              if (((i = e = n[1]), (_(e) || void 0 !== t) && !K(t))) {
                return (
                  m(e) ||
                    (e = function (t, e) {
                      if (
                        (typeof i === 'function' && (e = i.call(this, t, e)),
                        !K(e))
                      ) { return e; }
                    }),
                  (n[1] = e),
                  B.apply(D, n)
                );
              }
            },
          },
        ),
    L.prototype[F] || i(25)(L.prototype, F, L.prototype.valueOf),
    d(L, 'Symbol'),
    d(Math, 'Math', !0),
    d(r.JSON, 'JSON', !0);
  },
  function (t, e, i) {
    let n = i(0),
      r = i(101),
      a = i(130),
      o = i(6),
      s = i(62),
      u = i(17),
      l = i(13),
      c = i(9).ArrayBuffer,
      h = i(81),
      d = a.ArrayBuffer,
      f = a.DataView,
      p = r.ABV && c.isView,
      g = d.prototype.slice,
      y = r.VIEW;
    n(n.G + n.W + n.F * (c !== d), { ArrayBuffer: d }),
    n(n.S + n.F * !r.CONSTR, 'ArrayBuffer', {
      isView(t) {
        return (p && p(t)) || (l(t) && y in t);
      },
    }),
    n(
      n.P +
          n.U +
          n.F *
            i(12)(() => !new d(2).slice(1, void 0).byteLength),
      'ArrayBuffer',
      {
        slice(t, e) {
          if (void 0 !== g && void 0 === e) return g.call(o(this), t);
          for (
            var i = o(this).byteLength,
              n = s(t, i),
              r = s(void 0 === e ? i : e, i),
              a = new (h(this, d))(u(r - n)),
              l = new f(this),
              c = new f(a),
              p = 0;
            n < r;

          ) { c.setUint8(p++, l.getUint8(n++)); }
          return a;
        },
      },
    ),
    i(61)('ArrayBuffer');
  },
  function (t, e, i) {
    const n = i(0);
    n(n.G + n.W + n.F * !i(101).ABV, { DataView: i(130).DataView });
  },
  function (t, e, i) {
    i(47)('Float32', 4, t => function (e, i, n) {
      return t(this, e, i, n);
    });
  },
  function (t, e, i) {
    i(47)('Float64', 8, t => function (e, i, n) {
      return t(this, e, i, n);
    });
  },
  function (t, e, i) {
    i(47)('Int16', 2, t => function (e, i, n) {
      return t(this, e, i, n);
    });
  },
  function (t, e, i) {
    i(47)('Int32', 4, t => function (e, i, n) {
      return t(this, e, i, n);
    });
  },
  function (t, e, i) {
    i(47)('Int8', 1, t => function (e, i, n) {
      return t(this, e, i, n);
    });
  },
  function (t, e, i) {
    i(47)('Uint16', 2, t => function (e, i, n) {
      return t(this, e, i, n);
    });
  },
  function (t, e, i) {
    i(47)('Uint32', 4, t => function (e, i, n) {
      return t(this, e, i, n);
    });
  },
  function (t, e, i) {
    i(47)('Uint8', 1, t => function (e, i, n) {
      return t(this, e, i, n);
    });
  },
  function (t, e, i) {
    i(47)(
      'Uint8',
      1,
      t => function (e, i, n) {
        return t(this, e, i, n);
      },
      !0,
    );
  },
  function (t, e, i) {
    let n = i(151),
      r = i(64);
    i(90)(
      'WeakSet',
      t => function () {
        return t(this, arguments.length > 0 ? arguments[0] : void 0);
      },
      {
        add(t) {
          return n.def(r(this, 'WeakSet'), t, !0);
        },
      },
      n,
      !1,
      !0,
    );
  },
  function (t, e, i) {
    let n = i(0),
      r = i(152),
      a = i(20),
      o = i(17),
      s = i(21),
      u = i(109);
    n(n.P, 'Array', {
      flatMap(t) {
        let e,
          i,
          n = a(this);
        return (
          s(t),
          (e = o(n.length)),
          (i = u(n, 0)),
          r(i, n, n, e, 0, 1, t, arguments[1]),
          i
        );
      },
    }),
    i(50)('flatMap');
  },
  function (t, e, i) {
    let n = i(0),
      r = i(152),
      a = i(20),
      o = i(17),
      s = i(39),
      u = i(109);
    n(n.P, 'Array', {
      flatten() {
        let t = arguments[0],
          e = a(this),
          i = o(e.length),
          n = u(e, 0);
        return r(n, e, e, i, 0, void 0 === t ? 1 : s(t)), n;
      },
    }),
    i(50)('flatten');
  },
  function (t, e, i) {
    let n = i(0),
      r = i(89)(!0);
    n(n.P, 'Array', {
      includes(t) {
        return r(this, t, arguments.length > 1 ? arguments[1] : void 0);
      },
    }),
    i(50)('includes');
  },
  function (t, e, i) {
    let n = i(0),
      r = i(121)(),
      a = i(9).process,
      o = i(35)(a) == 'process';
    n(n.G, {
      asap(t) {
        const e = o && a.domain;
        r(e ? e.bind(t) : t);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(35);
    n(n.S, 'Error', {
      isError(t) {
        return r(t) === 'Error';
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.G, { global: i(9) });
  },
  function (t, e, i) {
    i(98)('Map');
  },
  function (t, e, i) {
    i(99)('Map');
  },
  function (t, e, i) {
    const n = i(0);
    n(n.P + n.R, 'Map', { toJSON: i(150)('Map') });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', {
      clamp(t, e, i) {
        return Math.min(i, Math.max(e, t));
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', { DEG_PER_RAD: Math.PI / 180 });
  },
  function (t, e, i) {
    let n = i(0),
      r = 180 / Math.PI;
    n(n.S, 'Math', {
      degrees(t) {
        return t * r;
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(160),
      a = i(158);
    n(n.S, 'Math', {
      fscale(t, e, i, n, o) {
        return a(r(t, e, i, n, o));
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', {
      iaddh(t, e, i, n) {
        let r = t >>> 0,
          a = e >>> 0,
          o = i >>> 0;
        return (
          (a + (n >>> 0) + (((r & o) | ((r | o) & ~((r + o) >>> 0))) >>> 31)) |
          0
        );
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', {
      imulh(t, e) {
        let i = +t,
          n = +e,
          r = 65535 & i,
          a = 65535 & n,
          o = i >> 16,
          s = n >> 16,
          u = ((o * a) >>> 0) + ((r * a) >>> 16);
        return o * s + (u >> 16) + ((((r * s) >>> 0) + (65535 & u)) >> 16);
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', {
      isubh(t, e, i, n) {
        let r = t >>> 0,
          a = e >>> 0,
          o = i >>> 0;
        return (
          (a - (n >>> 0) - (((~r & o) | (~(r ^ o) & ((r - o) >>> 0))) >>> 31)) |
          0
        );
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', { RAD_PER_DEG: 180 / Math.PI });
  },
  function (t, e, i) {
    let n = i(0),
      r = Math.PI / 180;
    n(n.S, 'Math', {
      radians(t) {
        return t * r;
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', { scale: i(160) });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', {
      signbit(t) {
        return (t = +t) != t ? t : t == 0 ? 1 / t == 1 / 0 : t > 0;
      },
    });
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'Math', {
      umulh(t, e) {
        let i = +t,
          n = +e,
          r = 65535 & i,
          a = 65535 & n,
          o = i >>> 16,
          s = n >>> 16,
          u = ((o * a) >>> 0) + ((r * a) >>> 16);
        return o * s + (u >>> 16) + ((((r * s) >>> 0) + (65535 & u)) >>> 16);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(20),
      a = i(21),
      o = i(19);
    i(18) &&
      n(n.P + i(95), 'Object', {
        __defineGetter__(t, e) {
          o.f(r(this), t, { get: a(e), enumerable: !0, configurable: !0 });
        },
      });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(20),
      a = i(21),
      o = i(19);
    i(18) &&
      n(n.P + i(95), 'Object', {
        __defineSetter__(t, e) {
          o.f(r(this), t, { set: a(e), enumerable: !0, configurable: !0 });
        },
      });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(165)(!0);
    n(n.S, 'Object', {
      entries(t) {
        return r(t);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(166),
      a = i(32),
      o = i(30),
      s = i(110);
    n(n.S, 'Object', {
      getOwnPropertyDescriptors(t) {
        for (
          var e, i, n = a(t), u = o.f, l = r(n), c = {}, h = 0;
          l.length > h;

        ) { void 0 !== (i = u(n, (e = l[h++]))) && s(c, e, i); }
        return c;
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(20),
      a = i(44),
      o = i(31),
      s = i(30).f;
    i(18) &&
      n(n.P + i(95), 'Object', {
        __lookupGetter__(t) {
          let e,
            i = r(this),
            n = a(t, !0);
          do {
            if ((e = s(i, n))) return e.get;
          } while ((i = o(i)));
        },
      });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(20),
      a = i(44),
      o = i(31),
      s = i(30).f;
    i(18) &&
      n(n.P + i(95), 'Object', {
        __lookupSetter__(t) {
          let e,
            i = r(this),
            n = a(t, !0);
          do {
            if ((e = s(i, n))) return e.set;
          } while ((i = o(i)));
        },
      });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(165)(!1);
    n(n.S, 'Object', {
      values(t) {
        return r(t);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(9),
      a = i(36),
      o = i(121)(),
      s = i(16)('observable'),
      u = i(21),
      l = i(6),
      c = i(54),
      h = i(60),
      d = i(25),
      f = i(55),
      p = f.RETURN,
      g = function (t) {
        return t == null ? void 0 : u(t);
      },
      y = function (t) {
        const e = t._c;
        e && ((t._c = void 0), e());
      },
      v = function (t) {
        return void 0 === t._o;
      },
      m = function (t) {
        v(t) || ((t._o = void 0), y(t));
      },
      b = function (t, e) {
        l(t), (this._c = void 0), (this._o = t), (t = new _(this));
        try {
          let i = e(t),
            n = i;
          i != null &&
            (typeof i.unsubscribe === 'function'
              ? (i = function () {
                n.unsubscribe();
              })
              : u(i),
            (this._c = i));
        } catch (e) {
          return void t.error(e);
        }
        v(this) && y(this);
      };
    b.prototype = h(
      {},
      {
        unsubscribe() {
          m(this);
        },
      },
    );
    var _ = function (t) {
      this._s = t;
    };
    _.prototype = h(
      {},
      {
        next(t) {
          const e = this._s;
          if (!v(e)) {
            const i = e._o;
            try {
              const n = g(i.next);
              if (n) return n.call(i, t);
            } catch (t) {
              try {
                m(e);
              } finally {
                throw t;
              }
            }
          }
        },
        error(t) {
          const e = this._s;
          if (v(e)) throw t;
          const i = e._o;
          e._o = void 0;
          try {
            const n = g(i.error);
            if (!n) throw t;
            t = n.call(i, t);
          } catch (t) {
            try {
              y(e);
            } finally {
              throw t;
            }
          }
          return y(e), t;
        },
        complete(t) {
          const e = this._s;
          if (!v(e)) {
            const i = e._o;
            e._o = void 0;
            try {
              const n = g(i.complete);
              t = n ? n.call(i, t) : void 0;
            } catch (t) {
              try {
                y(e);
              } finally {
                throw t;
              }
            }
            return y(e), t;
          }
        },
      },
    );
    var w = function (t) {
      c(this, w, 'Observable', '_f')._f = u(t);
    };
    h(w.prototype, {
      subscribe(t) {
        return new b(t, this._f);
      },
      forEach(t) {
        const e = this;
        return new (a.Promise || r.Promise)(((i, n) => {
          u(t);
          var r = e.subscribe({
            next(e) {
              try {
                return t(e);
              } catch (t) {
                n(t), r.unsubscribe();
              }
            },
            error: n,
            complete: i,
          });
        }));
      },
    }),
    h(w, {
      from(t) {
        let e = typeof this === 'function' ? this : w,
          i = g(l(t)[s]);
        if (i) {
          const n = l(i.call(t));
          return n.constructor === e
            ? n
            : new e((t => n.subscribe(t)));
        }
        return new e(((e) => {
          let i = !1;
          return (
            o(() => {
              if (!i) {
                try {
                  if (
                    f(t, !1, (t) => {
                      if ((e.next(t), i)) return p;
                    }) === p
                  ) { return; }
                } catch (t) {
                  if (i) throw t;
                  return void e.error(t);
                }
                e.complete();
              }
            }),
            function () {
              i = !0;
            }
          );
        }));
      },
      of() {
        for (var t = 0, e = arguments.length, i = new Array(e); t < e;) { i[t] = arguments[t++]; }
        return new (typeof this === 'function' ? this : w)(((t) => {
          let e = !1;
          return (
            o(() => {
              if (!e) {
                for (let n = 0; n < i.length; ++n) { if ((t.next(i[n]), e)) return; }
                t.complete();
              }
            }),
            function () {
              e = !0;
            }
          );
        }));
      },
    }),
    d(w.prototype, s, function () {
      return this;
    }),
    n(n.G, { Observable: w }),
    i(61)('Observable');
  },
  function (t, e, i) {
    let n = i(0),
      r = i(36),
      a = i(9),
      o = i(81),
      s = i(170);
    n(n.P + n.R, 'Promise', {
      finally(t) {
        let e = o(this, r.Promise || a.Promise),
          i = typeof t === 'function';
        return this.then(
          i
            ? i => s(e, t()).then(() => i)
            : t,
          i
            ? i => s(e, t()).then(() => {
              throw i;
            })
            : t,
        );
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(122),
      a = i(169);
    n(n.S, 'Promise', {
      try(t) {
        let e = r.f(this),
          i = a(t);
        return (i.e ? e.reject : e.resolve)(i.v), e.promise;
      },
    });
  },
  function (t, e, i) {
    let n = i(46),
      r = i(6),
      a = n.key,
      o = n.set;
    n.exp({
      defineMetadata(t, e, i, n) {
        o(t, e, r(i), a(n));
      },
    });
  },
  function (t, e, i) {
    let n = i(46),
      r = i(6),
      a = n.key,
      o = n.map,
      s = n.store;
    n.exp({
      deleteMetadata(t, e) {
        let i = arguments.length < 3 ? void 0 : a(arguments[2]),
          n = o(r(e), i, !1);
        if (void 0 === n || !n.delete(t)) return !1;
        if (n.size) return !0;
        const u = s.get(e);
        return u.delete(i), !!u.size || s.delete(e);
      },
    });
  },
  function (t, e, i) {
    let n = i(178),
      r = i(146),
      a = i(46),
      o = i(6),
      s = i(31),
      u = a.keys,
      l = a.key,
      c = function t(e, i) {
        let a = u(e, i),
          o = s(e);
        if (o === null) return a;
        const l = t(o, i);
        return l.length ? (a.length ? r(new n(a.concat(l))) : l) : a;
      };
    a.exp({
      getMetadataKeys(t) {
        return c(o(t), arguments.length < 2 ? void 0 : l(arguments[1]));
      },
    });
  },
  function (t, e, i) {
    let n = i(46),
      r = i(6),
      a = i(31),
      o = n.has,
      s = n.get,
      u = n.key,
      l = function t(e, i, n) {
        if (o(e, i, n)) return s(e, i, n);
        const r = a(i);
        return r !== null ? t(e, r, n) : void 0;
      };
    n.exp({
      getMetadata(t, e) {
        return l(t, r(e), arguments.length < 3 ? void 0 : u(arguments[2]));
      },
    });
  },
  function (t, e, i) {
    let n = i(46),
      r = i(6),
      a = n.keys,
      o = n.key;
    n.exp({
      getOwnMetadataKeys(t) {
        return a(r(t), arguments.length < 2 ? void 0 : o(arguments[1]));
      },
    });
  },
  function (t, e, i) {
    let n = i(46),
      r = i(6),
      a = n.get,
      o = n.key;
    n.exp({
      getOwnMetadata(t, e) {
        return a(t, r(e), arguments.length < 3 ? void 0 : o(arguments[2]));
      },
    });
  },
  function (t, e, i) {
    let n = i(46),
      r = i(6),
      a = i(31),
      o = n.has,
      s = n.key,
      u = function t(e, i, n) {
        if (o(e, i, n)) return !0;
        const r = a(i);
        return r !== null && t(e, r, n);
      };
    n.exp({
      hasMetadata(t, e) {
        return u(t, r(e), arguments.length < 3 ? void 0 : s(arguments[2]));
      },
    });
  },
  function (t, e, i) {
    let n = i(46),
      r = i(6),
      a = n.has,
      o = n.key;
    n.exp({
      hasOwnMetadata(t, e) {
        return a(t, r(e), arguments.length < 3 ? void 0 : o(arguments[2]));
      },
    });
  },
  function (t, e, i) {
    let n = i(46),
      r = i(6),
      a = i(21),
      o = n.key,
      s = n.set;
    n.exp({
      metadata(t, e) {
        return function (i, n) {
          s(t, e, (void 0 !== n ? r : a)(i), o(n));
        };
      },
    });
  },
  function (t, e, i) {
    i(98)('Set');
  },
  function (t, e, i) {
    i(99)('Set');
  },
  function (t, e, i) {
    const n = i(0);
    n(n.P + n.R, 'Set', { toJSON: i(150)('Set') });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(100)(!0);
    n(n.P, 'String', {
      at(t) {
        return r(this, t);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(42),
      a = i(17),
      o = i(93),
      s = i(77),
      u = RegExp.prototype,
      l = function (t, e) {
        (this._r = t), (this._s = e);
      };
    i(117)(l, 'RegExp String', function () {
      const t = this._r.exec(this._s);
      return { value: t, done: t === null };
    }),
    n(n.P, 'String', {
      matchAll(t) {
        if ((r(this), !o(t))) throw TypeError(`${t} is not a regexp!`);
        let e = String(this),
          i = 'flags' in u ? String(t.flags) : s.call(t),
          n = new RegExp(t.source, ~i.indexOf('g') ? i : `g${i}`);
        return (n.lastIndex = a(t.lastIndex)), new l(n, e);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(172),
      a = i(102),
      o = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);
    n(n.P + n.F * o, 'String', {
      padEnd(t) {
        return r(this, t, arguments.length > 1 ? arguments[1] : void 0, !1);
      },
    });
  },
  function (t, e, i) {
    let n = i(0),
      r = i(172),
      a = i(102),
      o = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);
    n(n.P + n.F * o, 'String', {
      padStart(t) {
        return r(this, t, arguments.length > 1 ? arguments[1] : void 0, !0);
      },
    });
  },
  function (t, e, i) {
    i(70)(
      'trimLeft',
      t => function () {
        return t(this, 1);
      },
      'trimStart',
    );
  },
  function (t, e, i) {
    i(70)(
      'trimRight',
      t => function () {
        return t(this, 2);
      },
      'trimEnd',
    );
  },
  function (t, e, i) {
    i(131)('asyncIterator');
  },
  function (t, e, i) {
    i(131)('observable');
  },
  function (t, e, i) {
    const n = i(0);
    n(n.S, 'System', { global: i(9) });
  },
  function (t, e, i) {
    i(98)('WeakMap');
  },
  function (t, e, i) {
    i(99)('WeakMap');
  },
  function (t, e, i) {
    i(98)('WeakSet');
  },
  function (t, e, i) {
    i(99)('WeakSet');
  },
  function (t, e, i) {
    for (
      let n = i(133),
        r = i(58),
        a = i(26),
        o = i(9),
        s = i(25),
        u = i(68),
        l = i(16),
        c = l('iterator'),
        h = l('toStringTag'),
        d = u.Array,
        f = {
          CSSRuleList: !0,
          CSSStyleDeclaration: !1,
          CSSValueList: !1,
          ClientRectList: !1,
          DOMRectList: !1,
          DOMStringList: !1,
          DOMTokenList: !0,
          DataTransferItemList: !1,
          FileList: !1,
          HTMLAllCollection: !1,
          HTMLCollection: !1,
          HTMLFormElement: !1,
          HTMLSelectElement: !1,
          MediaList: !0,
          MimeTypeArray: !1,
          NamedNodeMap: !1,
          NodeList: !0,
          PaintRequestList: !1,
          Plugin: !1,
          PluginArray: !1,
          SVGLengthList: !1,
          SVGNumberList: !1,
          SVGPathSegList: !1,
          SVGPointList: !1,
          SVGStringList: !1,
          SVGTransformList: !1,
          SourceBufferList: !1,
          StyleSheetList: !0,
          TextTrackCueList: !1,
          TextTrackList: !1,
          TouchList: !1,
        },
        p = r(f),
        g = 0;
      g < p.length;
      g++
    ) {
      var y,
        v = p[g],
        m = f[v],
        b = o[v],
        _ = b && b.prototype;
      if (_ && (_[c] || s(_, c, d), _[h] || s(_, h, v), (u[v] = d), m)) { for (y in n) _[y] || a(_, y, n[y], !0); }
    }
  },
  function (t, e, i) {
    let n = i(0),
      r = i(129);
    n(n.G + n.B, { setImmediate: r.set, clearImmediate: r.clear });
  },
  function (t, e, i) {
    let n = i(9),
      r = i(0),
      a = i(102),
      o = [].slice,
      s = /MSIE .\./.test(a),
      u = function (t) {
        return function (e, i) {
          let n = arguments.length > 2,
            r = !!n && o.call(arguments, 2);
          return t(
            n
              ? function () {
                (typeof e === 'function' ? e : Function(e)).apply(this, r);
              }
              : e,
            i,
          );
        };
      };
    r(r.G + r.B + r.F * s, {
      setTimeout: u(n.setTimeout),
      setInterval: u(n.setInterval),
    });
  },
  function (t, e, i) {
    i(337),
    i(276),
    i(278),
    i(277),
    i(280),
    i(282),
    i(287),
    i(281),
    i(279),
    i(289),
    i(288),
    i(284),
    i(285),
    i(283),
    i(275),
    i(286),
    i(290),
    i(291),
    i(243),
    i(245),
    i(244),
    i(293),
    i(292),
    i(263),
    i(273),
    i(274),
    i(264),
    i(265),
    i(266),
    i(267),
    i(268),
    i(269),
    i(270),
    i(271),
    i(272),
    i(246),
    i(247),
    i(248),
    i(249),
    i(250),
    i(251),
    i(252),
    i(253),
    i(254),
    i(255),
    i(256),
    i(257),
    i(258),
    i(259),
    i(260),
    i(261),
    i(262),
    i(324),
    i(329),
    i(336),
    i(327),
    i(319),
    i(320),
    i(325),
    i(330),
    i(332),
    i(315),
    i(316),
    i(317),
    i(318),
    i(321),
    i(322),
    i(323),
    i(326),
    i(328),
    i(331),
    i(333),
    i(334),
    i(335),
    i(238),
    i(240),
    i(239),
    i(242),
    i(241),
    i(227),
    i(225),
    i(231),
    i(228),
    i(234),
    i(236),
    i(224),
    i(230),
    i(221),
    i(235),
    i(219),
    i(233),
    i(232),
    i(226),
    i(229),
    i(218),
    i(220),
    i(223),
    i(222),
    i(237),
    i(133),
    i(309),
    i(176),
    i(314),
    i(177),
    i(310),
    i(311),
    i(312),
    i(313),
    i(294),
    i(175),
    i(178),
    i(179),
    i(349),
    i(338),
    i(339),
    i(344),
    i(347),
    i(348),
    i(342),
    i(345),
    i(343),
    i(346),
    i(340),
    i(341),
    i(295),
    i(296),
    i(297),
    i(298),
    i(299),
    i(302),
    i(300),
    i(301),
    i(303),
    i(304),
    i(305),
    i(306),
    i(308),
    i(307),
    i(352),
    i(350),
    i(351),
    i(393),
    i(396),
    i(395),
    i(397),
    i(398),
    i(394),
    i(399),
    i(400),
    i(374),
    i(377),
    i(373),
    i(371),
    i(372),
    i(375),
    i(376),
    i(358),
    i(392),
    i(357),
    i(391),
    i(403),
    i(405),
    i(356),
    i(390),
    i(402),
    i(404),
    i(355),
    i(401),
    i(354),
    i(359),
    i(360),
    i(361),
    i(362),
    i(363),
    i(365),
    i(364),
    i(366),
    i(367),
    i(368),
    i(370),
    i(369),
    i(379),
    i(380),
    i(381),
    i(382),
    i(384),
    i(383),
    i(386),
    i(385),
    i(387),
    i(388),
    i(389),
    i(353),
    i(378),
    i(408),
    i(407),
    i(406),
    (t.exports = i(36));
  },
  function (t, e, i) {
    function n(t, e) {
      let i = t[1] || '',
        n = t[3];
      if (!n) return i;
      if (e && typeof btoa === 'function') {
        const a = r(n);
        return [i]
          .concat(n.sources.map(t => `/*# sourceURL=${n.sourceRoot}${t} */`))
          .concat([a])
          .join('\n');
      }
      return [i].join('\n');
    }
    function r(t) {
      return (
        `/*# sourceMappingURL=data:application/json;charset=utf-8;base64,${
          btoa(unescape(encodeURIComponent(JSON.stringify(t))))
        } */`
      );
    }
    t.exports = function (t) {
      const e = [];
      return (
        (e.toString = function () {
          return this.map((e) => {
            const i = n(e, t);
            return e[2] ? `@media ${e[2]}{${i}}` : i;
          }).join('');
        }),
        (e.i = function (t, i) {
          typeof t === 'string' && (t = [[null, t, '']]);
          for (var n = {}, r = 0; r < this.length; r++) {
            const a = this[r][0];
            typeof a === 'number' && (n[a] = !0);
          }
          for (r = 0; r < t.length; r++) {
            const o = t[r];
            (typeof o[0] === 'number' && n[o[0]]) ||
              (i && !o[2]
                ? (o[2] = i)
                : i && (o[2] = `(${o[2]}) and (${i})`),
              e.push(o));
          }
        }),
        e
      );
    };
  },
  function (t, e, i) {
    t.exports = function (t) {
      return typeof t !== 'string'
        ? t
        : (/^['"].*['"]$/.test(t) && (t = t.slice(1, -1)),
        /["'() \t\n]/.test(t)
          ? `"${t.replace(/"/g, '\\"').replace(/\n/g, '\\n')}"`
          : t);
    };
  },
  function (t, e, i) {
    let n = {},
      r = i(413),
      a = i(414),
      o = i(416);
    t.exports = n;
    let s = 1;
    (n.js = function () {
      let t,
        e,
        i,
        u = !1,
        l = {},
        c = {},
        h = {},
        d = {},
        f = !0,
        p = {},
        g = [],
        y = Number.MAX_VALUE,
        v = !1;
      (this.setAcceptableTiles = function (t) {
        t instanceof Array
          ? (i = t)
          : !isNaN(parseFloat(t)) && isFinite(t) && (i = [t]);
      }),
      (this.enableSync = function () {
        u = !0;
      }),
      (this.disableSync = function () {
        u = !1;
      }),
      (this.enableDiagonals = function () {
        v = !0;
      }),
      (this.disableDiagonals = function () {
        v = !1;
      }),
      (this.setGrid = function (e) {
        t = e;
        for (let i = 0; i < t.length; i++) {
          for (let n = 0; n < t[0].length; n++) { c[t[i][n]] || (c[t[i][n]] = 1); }
        }
      }),
      (this.setTileCost = function (t, e) {
        c[t] = e;
      }),
      (this.setAdditionalPointCost = function (t, e, i) {
        void 0 === h[e] && (h[e] = {}), (h[e][t] = i);
      }),
      (this.removeAdditionalPointCost = function (t, e) {
        void 0 !== h[e] && delete h[e][t];
      }),
      (this.removeAllAdditionalPointCosts = function () {
        h = {};
      }),
      (this.setDirectionalCondition = function (t, e, i) {
        void 0 === d[e] && (d[e] = {}), (d[e][t] = i);
      }),
      (this.removeAllDirectionalConditions = function () {
        d = {};
      }),
      (this.setIterationsPerCalculation = function (t) {
        y = t;
      }),
      (this.avoidAdditionalPoint = function (t, e) {
        void 0 === l[e] && (l[e] = {}), (l[e][t] = 1);
      }),
      (this.stopAvoidingAdditionalPoint = function (t, e) {
        void 0 !== l[e] && delete l[e][t];
      }),
      (this.enableCornerCutting = function () {
        f = !0;
      }),
      (this.disableCornerCutting = function () {
        f = !1;
      }),
      (this.stopAvoidingAllAdditionalPoints = function () {
        l = {};
      }),
      (this.findPath = function (e, n, a, l, c) {
        const h = function (t) {
          u
            ? c(t)
            : setTimeout(() => {
              c(t);
            });
        };
        if (void 0 === i) { throw new Error("You can't set a path without first calling setAcceptableTiles() on EasyStar."); }
        if (void 0 === t) { throw new Error("You can't set a path without first calling setGrid() on EasyStar."); }
        if (
          e < 0 ||
            n < 0 ||
            a < 0 ||
            l < 0 ||
            e > t[0].length - 1 ||
            n > t.length - 1 ||
            a > t[0].length - 1 ||
            l > t.length - 1
        ) { throw new Error('Your start or end point is outside the scope of your grid.'); }
        if (e === a && n === l) return void h([]);
        for (var d = t[l][a], f = !1, y = 0; y < i.length; y++) {
          if (d === i[y]) {
            f = !0;
            break;
          }
        }
        if (!1 === f) return void h(null);
        const v = new r();
        (v.openList = new o(((t, e) => t.bestGuessDistance() - e.bestGuessDistance()))),
        (v.isDoneCalculating = !1),
        (v.nodeHash = {}),
        (v.startX = e),
        (v.startY = n),
        (v.endX = a),
        (v.endY = l),
        (v.callback = h),
        v.openList.push(x(v, v.startX, v.startY, null, 1));
        const m = s++;
        return (p[m] = v), g.push(m), m;
      }),
      (this.cancelPath = function (t) {
        return t in p && (delete p[t], !0);
      }),
      (this.calculate = function () {
        if (g.length !== 0 && void 0 !== t && void 0 !== i) {
          for (e = 0; e < y; e++) {
            if (g.length === 0) return;
            u && (e = 0);
            let n = g[0],
              r = p[n];
            if (void 0 !== r) {
              if (r.openList.size() !== 0) {
                const a = r.openList.pop();
                if (r.endX !== a.x || r.endY !== a.y) {
(a.list = 0),
                a.y > 0 && m(r, a, 0, -1, 1 * w(a.x, a.y - 1)),
                a.x < t[0].length - 1 &&
                        m(r, a, 1, 0, 1 * w(a.x + 1, a.y)),
                a.y < t.length - 1 && m(r, a, 0, 1, 1 * w(a.x, a.y + 1)),
                a.x > 0 && m(r, a, -1, 0, 1 * w(a.x - 1, a.y)),
                v &&
                        (a.x > 0 &&
                          a.y > 0 &&
                          (f ||
                            (b(t, i, a.x, a.y - 1, a) &&
                              b(t, i, a.x - 1, a.y, a))) &&
                          m(r, a, -1, -1, 1.4 * w(a.x - 1, a.y - 1)),
                        a.x < t[0].length - 1 &&
                          a.y < t.length - 1 &&
                          (f ||
                            (b(t, i, a.x, a.y + 1, a) &&
                              b(t, i, a.x + 1, a.y, a))) &&
                          m(r, a, 1, 1, 1.4 * w(a.x + 1, a.y + 1)),
                        a.x < t[0].length - 1 &&
                          a.y > 0 &&
                          (f ||
                            (b(t, i, a.x, a.y - 1, a) &&
                              b(t, i, a.x + 1, a.y, a))) &&
                          m(r, a, 1, -1, 1.4 * w(a.x + 1, a.y - 1)),
                        a.x > 0 &&
                          a.y < t.length - 1 &&
                          (f ||
                            (b(t, i, a.x, a.y + 1, a) &&
                              b(t, i, a.x - 1, a.y, a))) &&
                          m(r, a, -1, 1, 1.4 * w(a.x - 1, a.y + 1))); } else {
                  const o = [];
                  o.push({ x: a.x, y: a.y });
                  for (let s = a.parent; s != null;) { o.push({ x: s.x, y: s.y }), (s = s.parent); }
                  o.reverse();
                  const l = o;
                  r.callback(l), delete p[n], g.shift();
                }
              } else r.callback(null), delete p[n], g.shift();
            } else g.shift();
          }
        }
      });
      var m = function (e, n, r, a, o) {
          let s = n.x + r,
            u = n.y + a;
          if ((void 0 === l[u] || void 0 === l[u][s]) && b(t, i, s, u, n)) {
            const c = x(e, s, u, n, o);
            void 0 === c.list
              ? ((c.list = 1), e.openList.push(c))
              : n.costSoFar + o < c.costSoFar &&
                ((c.costSoFar = n.costSoFar + o),
                (c.parent = n),
                e.openList.updateItem(c));
          }
        },
        b = function (t, e, i, n, r) {
          const a = d[n] && d[n][i];
          if (a) {
            const o = _(r.x - i, r.y - n);
            if (
              !(function () {
                for (let t = 0; t < a.length; t++) if (a[t] === o) return !0;
                return !1;
              }())
            ) { return !1; }
          }
          for (let s = 0; s < e.length; s++) if (t[n][i] === e[s]) return !0;
          return !1;
        },
        _ = function (t, e) {
          if (t === 0 && e === -1) return n.TOP;
          if (t === 1 && e === -1) return n.TOP_RIGHT;
          if (t === 1 && e === 0) return n.RIGHT;
          if (t === 1 && e === 1) return n.BOTTOM_RIGHT;
          if (t === 0 && e === 1) return n.BOTTOM;
          if (t === -1 && e === 1) return n.BOTTOM_LEFT;
          if (t === -1 && e === 0) return n.LEFT;
          if (t === -1 && e === -1) return n.TOP_LEFT;
          throw new Error(`These differences are not valid: ${t}, ${e}`);
        },
        w = function (e, i) {
          return (h[i] && h[i][e]) || c[t[i][e]];
        },
        x = function (t, e, i, n, r) {
          if (void 0 !== t.nodeHash[i]) {
            if (void 0 !== t.nodeHash[i][e]) return t.nodeHash[i][e];
          } else t.nodeHash[i] = {};
          const o = P(e, i, t.endX, t.endY);
          if (n !== null) var s = n.costSoFar + r;
          else s = 0;
          const u = new a(n, e, i, s, o);
          return (t.nodeHash[i][e] = u), u;
        },
        P = function (t, e, i, n) {
          if (v) {
            var r = Math.abs(t - i),
              a = Math.abs(e - n);
            return r < a ? 1.4 * r + a : 1.4 * a + r;
          }
          var r = Math.abs(t - i),
            a = Math.abs(e - n);
          return r + a;
        };
    }),
    (n.TOP = 'TOP'),
    (n.TOP_RIGHT = 'TOP_RIGHT'),
    (n.RIGHT = 'RIGHT'),
    (n.BOTTOM_RIGHT = 'BOTTOM_RIGHT'),
    (n.BOTTOM = 'BOTTOM'),
    (n.BOTTOM_LEFT = 'BOTTOM_LEFT'),
    (n.LEFT = 'LEFT'),
    (n.TOP_LEFT = 'TOP_LEFT');
  },
  function (t, e, i) {
    t.exports = function () {
      (this.pointsToAvoid = {}),
      this.startX,
      this.callback,
      this.startY,
      this.endX,
      this.endY,
      (this.nodeHash = {}),
      this.openList;
    };
  },
  function (t, e, i) {
    t.exports = function (t, e, i, n, r) {
      (this.parent = t),
      (this.x = e),
      (this.y = i),
      (this.costSoFar = n),
      (this.simpleDistanceToTarget = r),
      (this.bestGuessDistance = function () {
        return this.costSoFar + this.simpleDistanceToTarget;
      });
    };
  },
  function (t, e, i) {
    (function (t) {
      const e =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          };
      !(function () {
        function i(t, e) {
          document.addEventListener
            ? t.addEventListener('scroll', e, !1)
            : t.attachEvent('scroll', e);
        }
        function n(t) {
          document.body
            ? t()
            : document.addEventListener
              ? document.addEventListener('DOMContentLoaded', function e() {
                document.removeEventListener('DOMContentLoaded', e), t();
              })
              : document.attachEvent('onreadystatechange', function e() {
                (document.readyState != 'interactive' &&
                  document.readyState != 'complete') ||
                  (document.detachEvent('onreadystatechange', e), t());
              });
        }
        function r(t) {
          (this.a = document.createElement('div')),
          this.a.setAttribute('aria-hidden', 'true'),
          this.a.appendChild(document.createTextNode(t)),
          (this.b = document.createElement('span')),
          (this.c = document.createElement('span')),
          (this.h = document.createElement('span')),
          (this.f = document.createElement('span')),
          (this.g = -1),
          (this.b.style.cssText =
              'max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;'),
          (this.c.style.cssText =
              'max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;'),
          (this.f.style.cssText =
              'max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;'),
          (this.h.style.cssText =
              'display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;'),
          this.b.appendChild(this.h),
          this.c.appendChild(this.f),
          this.a.appendChild(this.b),
          this.a.appendChild(this.c);
        }
        function a(t, e) {
          t.a.style.cssText =
            `max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:${
              e
            };`;
        }
        function o(t) {
          let e = t.a.offsetWidth,
            i = e + 100;
          return (
            (t.f.style.width = `${i}px`),
            (t.c.scrollLeft = i),
            (t.b.scrollLeft = t.b.scrollWidth + 100),
            t.g !== e && ((t.g = e), !0)
          );
        }
        function s(t, e) {
          function n() {
            const t = r;
            o(t) && t.a.parentNode && e(t.g);
          }
          var r = t;
          i(t.b, n), i(t.c, n), o(t);
        }
        function u(t, e) {
          const i = e || {};
          (this.family = t),
          (this.style = i.style || 'normal'),
          (this.weight = i.weight || 'normal'),
          (this.stretch = i.stretch || 'normal');
        }
        function l() {
          if (p === null) {
            if (c() && /Apple/.test(window.navigator.vendor)) {
              const t = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);
              p = !!t && parseInt(t[1], 10) < 603;
            } else p = !1;
          }
          return p;
        }
        function c() {
          return y === null && (y = !!document.fonts), y;
        }
        function h() {
          if (g === null) {
            const t = document.createElement('div');
            try {
              t.style.font = 'condensed 100px sans-serif';
            } catch (t) {}
            g = t.style.font !== '';
          }
          return g;
        }
        function d(t, e) {
          return [t.style, t.weight, h() ? t.stretch : '', '100px', e].join(' ');
        }
        var f = null,
          p = null,
          g = null,
          y = null;
        (u.prototype.load = function (t, e) {
          let i = this,
            o = t || 'BESbswy',
            u = 0,
            h = e || 3e3,
            p = new Date().getTime();
          return new Promise(((t, e) => {
            if (c() && !l()) {
              let g = new Promise(((t, e) => {
                  function n() {
                    new Date().getTime() - p >= h
                      ? e(Error(`${h}ms timeout exceeded`))
                      : document.fonts
                        .load(d(i, `"${i.family}"`), o)
                        .then((e) => {
                          e.length >= 1 ? t() : setTimeout(n, 25);
                        }, e);
                  }
                  n();
                })),
                y = new Promise(((t, e) => {
                  u = setTimeout(() => {
                    e(Error(`${h}ms timeout exceeded`));
                  }, h);
                }));
              Promise.race([y, g]).then(() => {
                clearTimeout(u), t(i);
              }, e);
            } else {
              n(() => {
                function n() {
                  let e;
                  (e =
                    (v != -1 && m != -1) ||
                    (v != -1 && b != -1) ||
                    (m != -1 && b != -1)) &&
                    ((e = v != m && v != b && m != b) ||
                      (f === null &&
                        ((e = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent)),
                        (f =
                          !!e &&
                          (parseInt(e[1], 10) < 536 ||
                            (parseInt(e[1], 10) === 536 &&
                              parseInt(e[2], 10) <= 11)))),
                      (e =
                        f &&
                        ((v == _ && m == _ && b == _) ||
                          (v == w && m == w && b == w) ||
                          (v == x && m == x && b == x)))),
                    (e = !e)),
                  e &&
                      (P.parentNode && P.parentNode.removeChild(P),
                      clearTimeout(u),
                      t(i));
                }
                function l() {
                  if (new Date().getTime() - p >= h) {
                    P.parentNode && P.parentNode.removeChild(P),
                    e(Error(`${h}ms timeout exceeded`));
                  } else {
                    const t = document.hidden;
                    (!0 !== t && void 0 !== t) ||
                      ((v = c.a.offsetWidth),
                      (m = g.a.offsetWidth),
                      (b = y.a.offsetWidth),
                      n()),
                    (u = setTimeout(l, 50));
                  }
                }
                var c = new r(o),
                  g = new r(o),
                  y = new r(o),
                  v = -1,
                  m = -1,
                  b = -1,
                  _ = -1,
                  w = -1,
                  x = -1,
                  P = document.createElement('div');
                (P.dir = 'ltr'),
                a(c, d(i, 'sans-serif')),
                a(g, d(i, 'serif')),
                a(y, d(i, 'monospace')),
                P.appendChild(c.a),
                P.appendChild(g.a),
                P.appendChild(y.a),
                document.body.appendChild(P),
                (_ = c.a.offsetWidth),
                (w = g.a.offsetWidth),
                (x = y.a.offsetWidth),
                l(),
                s(c, (t) => {
                  (v = t), n();
                }),
                a(c, d(i, `"${i.family}",sans-serif`)),
                s(g, (t) => {
                  (m = t), n();
                }),
                a(g, d(i, `"${i.family}",serif`)),
                s(y, (t) => {
                  (b = t), n();
                }),
                a(y, d(i, `"${i.family}",monospace`));
              });
            }
          }));
        }),
        e(t) === 'object'
          ? (t.exports = u)
          : ((window.FontFaceObserver = u),
          (window.FontFaceObserver.prototype.load = u.prototype.load));
      }());
    }.call(e, i(134)(t)));
  },
  function (t, e, i) {
    t.exports = i(417);
  },
  function (t, e, i) {
    let n,
      r,
      a;
    typeof Symbol === 'function' && Symbol.iterator,
    function () {
      let i,
        o,
        s,
        u,
        l,
        c,
        h,
        d,
        f,
        p,
        g,
        y,
        v,
        m,
        b;
      (s = Math.floor),
      (p = Math.min),
      (o = function (t, e) {
        return t < e ? -1 : t > e ? 1 : 0;
      }),
      (f = function (t, e, i, n, r) {
        let a;
        if ((i == null && (i = 0), r == null && (r = o), i < 0)) { throw new Error('lo must be non-negative'); }
        for (n == null && (n = t.length); i < n;) { (a = s((i + n) / 2)), r(e, t[a]) < 0 ? (n = a) : (i = a + 1); }
        return [].splice.apply(t, [i, i - i].concat(e)), e;
      }),
      (c = function (t, e, i) {
        return i == null && (i = o), t.push(e), m(t, 0, t.length - 1, i);
      }),
      (l = function (t, e) {
        let i,
          n;
        return (
          e == null && (e = o),
          (i = t.pop()),
          t.length ? ((n = t[0]), (t[0] = i), b(t, 0, e)) : (n = i),
          n
        );
      }),
      (d = function (t, e, i) {
        let n;
        return i == null && (i = o), (n = t[0]), (t[0] = e), b(t, 0, i), n;
      }),
      (h = function (t, e, i) {
        let n;
        return (
          i == null && (i = o),
          t.length &&
                i(t[0], e) < 0 &&
                ((n = [t[0], e]), (e = n[0]), (t[0] = n[1]), b(t, 0, i)),
          e
        );
      }),
      (u = function (t, e) {
        let i,
          n,
          r,
          a,
          u,
          l;
        for (
          e == null && (e = o),
          a = function () {
            l = [];
            for (
              let e = 0, i = s(t.length / 2);
              i >= 0 ? e < i : e > i;
              i >= 0 ? e++ : e--
            ) { l.push(e); }
            return l;
          }
            .apply(this)
            .reverse(),
          u = [],
          n = 0,
          r = a.length;
          n < r;
          n++
        ) { (i = a[n]), u.push(b(t, i, e)); }
        return u;
      }),
      (v = function (t, e, i) {
        let n;
        if ((i == null && (i = o), (n = t.indexOf(e)) !== -1)) { return m(t, 0, n, i), b(t, n, i); }
      }),
      (g = function (t, e, i) {
        let n,
          r,
          a,
          s,
          l;
        if ((i == null && (i = o), (r = t.slice(0, e)), !r.length)) { return r; }
        for (u(r, i), l = t.slice(e), a = 0, s = l.length; a < s; a++) { (n = l[a]), h(r, n, i); }
        return r.sort(i).reverse();
      }),
      (y = function (t, e, i) {
        let n,
          r,
          a,
          s,
          c,
          h,
          d,
          g,
          y;
        if ((i == null && (i = o), 10 * e <= t.length)) {
          if (((a = t.slice(0, e).sort(i)), !a.length)) return a;
          for (
            r = a[a.length - 1], d = t.slice(e), s = 0, h = d.length;
            s < h;
            s++
          ) {
            (n = d[s]),
            i(n, r) < 0 &&
                    (f(a, n, 0, null, i), a.pop(), (r = a[a.length - 1]));
          }
          return a;
        }
        for (
          u(t, i), y = [], c = 0, g = p(e, t.length);
          g >= 0 ? c < g : c > g;
          g >= 0 ? ++c : --c
        ) { y.push(l(t, i)); }
        return y;
      }),
      (m = function (t, e, i, n) {
        let r,
          a,
          s;
        for (
          n == null && (n = o), r = t[i];
          i > e && ((s = (i - 1) >> 1), (a = t[s]), n(r, a) < 0);

        ) { (t[i] = a), (i = s); }
        return (t[i] = r);
      }),
      (b = function (t, e, i) {
        let n,
          r,
          a,
          s,
          u;
        for (
          i == null && (i = o),
          r = t.length,
          u = e,
          a = t[e],
          n = 2 * e + 1;
          n < r;

        ) {
          (s = n + 1),
          s < r && !(i(t[n], t[s]) < 0) && (n = s),
          (t[e] = t[n]),
          (e = n),
          (n = 2 * e + 1);
        }
        return (t[e] = a), m(t, u, e, i);
      }),
      (i = (function () {
        function t(t) {
          (this.cmp = t != null ? t : o), (this.nodes = []);
        }
        return (
          (t.push = c),
          (t.pop = l),
          (t.replace = d),
          (t.pushpop = h),
          (t.heapify = u),
          (t.updateItem = v),
          (t.nlargest = g),
          (t.nsmallest = y),
          (t.prototype.push = function (t) {
            return c(this.nodes, t, this.cmp);
          }),
          (t.prototype.pop = function () {
            return l(this.nodes, this.cmp);
          }),
          (t.prototype.peek = function () {
            return this.nodes[0];
          }),
          (t.prototype.contains = function (t) {
            return this.nodes.indexOf(t) !== -1;
          }),
          (t.prototype.replace = function (t) {
            return d(this.nodes, t, this.cmp);
          }),
          (t.prototype.pushpop = function (t) {
            return h(this.nodes, t, this.cmp);
          }),
          (t.prototype.heapify = function () {
            return u(this.nodes, this.cmp);
          }),
          (t.prototype.updateItem = function (t) {
            return v(this.nodes, t, this.cmp);
          }),
          (t.prototype.clear = function () {
            return (this.nodes = []);
          }),
          (t.prototype.empty = function () {
            return this.nodes.length === 0;
          }),
          (t.prototype.size = function () {
            return this.nodes.length;
          }),
          (t.prototype.clone = function () {
            let e;
            return (e = new t()), (e.nodes = this.nodes.slice(0)), e;
          }),
          (t.prototype.toArray = function () {
            return this.nodes.slice(0);
          }),
          (t.prototype.insert = t.prototype.push),
          (t.prototype.top = t.prototype.peek),
          (t.prototype.front = t.prototype.peek),
          (t.prototype.has = t.prototype.contains),
          (t.prototype.copy = t.prototype.clone),
          t
        );
      }())),
      (function (i, o) {
        (r = []),
        (n = o),
        void 0 !== (a = typeof n === 'function' ? n.apply(e, r) : n) &&
                (t.exports = a);
      }(0, () => i));
    }.call(void 0);
  },
  function (t, e, i) {
    (function (i) {
      var n,
        n,
        r =
          typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
            ? function (t) {
              return typeof t;
            }
            : function (t) {
              return t &&
                  typeof Symbol === 'function' &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                ? 'symbol'
                : typeof t;
            };
      !(function (n) {
        if (r(e) == 'object') t.exports = n();
        else {
          let a;
          typeof window !== 'undefined'
            ? (a = window)
            : void 0 !== i
              ? (a = i)
              : typeof self !== 'undefined' && (a = self),
          (a.p2 = n());
        }
      }(() => (function t(e, i, r) {
        function a(s, u) {
          if (!i[s]) {
            if (!e[s]) {
              const l = typeof n === 'function' && n;
              if (!u && l) return n(s, !0);
              if (o) return o(s, !0);
              throw new Error(`Cannot find module '${s}'`);
            }
            const c = (i[s] = { exports: {} });
            e[s][0].call(
              c.exports,
              t => a(e[s][1][t] || t),
              c,
              c.exports,
              t,
              e,
              i,
              r,
            );
          }
          return i[s].exports;
        }
        for (var o = typeof n === 'function' && n, s = 0; s < r.length; s++) { a(r[s]); }
        return a;
      }(
        {
          1: [
            function (t, e, i) {
              function n() {}
              const r = t('./Scalar');
              (e.exports = n),
              (n.lineInt = function (t, e, i) {
                i = i || 0;
                let n,
                  a,
                  o,
                  s,
                  u,
                  l,
                  c,
                  h = [0, 0];
                return (
                  (n = t[1][1] - t[0][1]),
                  (a = t[0][0] - t[1][0]),
                  (o = n * t[0][0] + a * t[0][1]),
                  (s = e[1][1] - e[0][1]),
                  (u = e[0][0] - e[1][0]),
                  (l = s * e[0][0] + u * e[0][1]),
                  (c = n * u - s * a),
                  r.eq(c, 0, i) ||
                        ((h[0] = (u * o - a * l) / c),
                        (h[1] = (n * l - s * o) / c)),
                  h
                );
              }),
              (n.segmentsIntersect = function (t, e, i, n) {
                let r = e[0] - t[0],
                  a = e[1] - t[1],
                  o = n[0] - i[0],
                  s = n[1] - i[1];
                if (o * a - s * r == 0) return !1;
                let u =
                        (r * (i[1] - t[1]) + a * (t[0] - i[0])) /
                        (o * a - s * r),
                  l =
                        (o * (t[1] - i[1]) + s * (i[0] - t[0])) /
                        (s * r - o * a);
                return u >= 0 && u <= 1 && l >= 0 && l <= 1;
              });
            },
            { './Scalar': 4 },
          ],
          2: [
            function (t, e, i) {
              function n() {}
              (e.exports = n),
              (n.area = function (t, e, i) {
                return (
                  (e[0] - t[0]) * (i[1] - t[1]) -
                      (i[0] - t[0]) * (e[1] - t[1])
                );
              }),
              (n.left = function (t, e, i) {
                return n.area(t, e, i) > 0;
              }),
              (n.leftOn = function (t, e, i) {
                return n.area(t, e, i) >= 0;
              }),
              (n.right = function (t, e, i) {
                return n.area(t, e, i) < 0;
              }),
              (n.rightOn = function (t, e, i) {
                return n.area(t, e, i) <= 0;
              });
              let r = [],
                a = [];
              (n.collinear = function (t, e, i, o) {
                if (o) {
                  let s = r,
                    u = a;
                  (s[0] = e[0] - t[0]),
                  (s[1] = e[1] - t[1]),
                  (u[0] = i[0] - e[0]),
                  (u[1] = i[1] - e[1]);
                  let l = s[0] * u[0] + s[1] * u[1],
                    c = Math.sqrt(s[0] * s[0] + s[1] * s[1]),
                    h = Math.sqrt(u[0] * u[0] + u[1] * u[1]);
                  return Math.acos(l / (c * h)) < o;
                }
                return n.area(t, e, i) == 0;
              }),
              (n.sqdist = function (t, e) {
                let i = e[0] - t[0],
                  n = e[1] - t[1];
                return i * i + n * n;
              });
            },
            {},
          ],
          3: [
            function (t, e, i) {
              function n() {
                this.vertices = [];
              }
              function r(t, e, i, n, r) {
                r = r || 0;
                let a = e[1] - t[1],
                  o = t[0] - e[0],
                  u = a * t[0] + o * t[1],
                  l = n[1] - i[1],
                  c = i[0] - n[0],
                  h = l * i[0] + c * i[1],
                  d = a * c - l * o;
                return s.eq(d, 0, r)
                  ? [0, 0]
                  : [(c * u - o * h) / d, (a * h - l * u) / d];
              }
              var a = t('./Line'),
                o = t('./Point'),
                s = t('./Scalar');
              (e.exports = n),
              (n.prototype.at = function (t) {
                let e = this.vertices,
                  i = e.length;
                return e[t < 0 ? (t % i) + i : t % i];
              }),
              (n.prototype.first = function () {
                return this.vertices[0];
              }),
              (n.prototype.last = function () {
                return this.vertices[this.vertices.length - 1];
              }),
              (n.prototype.clear = function () {
                this.vertices.length = 0;
              }),
              (n.prototype.append = function (t, e, i) {
                if (void 0 === e) throw new Error('From is not given!');
                if (void 0 === i) throw new Error('To is not given!');
                if (i - 1 < e) throw new Error('lol1');
                if (i > t.vertices.length) throw new Error('lol2');
                if (e < 0) throw new Error('lol3');
                for (let n = e; n < i; n++) { this.vertices.push(t.vertices[n]); }
              }),
              (n.prototype.makeCCW = function () {
                for (
                  var t = 0, e = this.vertices, i = 1;
                  i < this.vertices.length;
                  ++i
                ) {
                  (e[i][1] < e[t][1] ||
                        (e[i][1] == e[t][1] && e[i][0] > e[t][0])) &&
                        (t = i);
                }
                o.left(this.at(t - 1), this.at(t), this.at(t + 1)) ||
                      this.reverse();
              }),
              (n.prototype.reverse = function () {
                for (
                  var t = [], e = 0, i = this.vertices.length;
                  e !== i;
                  e++
                ) { t.push(this.vertices.pop()); }
                this.vertices = t;
              }),
              (n.prototype.isReflex = function (t) {
                return o.right(this.at(t - 1), this.at(t), this.at(t + 1));
              });
              let u = [],
                l = [];
              (n.prototype.canSee = function (t, e) {
                let i,
                  n,
                  r = u,
                  s = l;
                if (
                  o.leftOn(this.at(t + 1), this.at(t), this.at(e)) &&
                    o.rightOn(this.at(t - 1), this.at(t), this.at(e))
                ) { return !1; }
                n = o.sqdist(this.at(t), this.at(e));
                for (let c = 0; c !== this.vertices.length; ++c) {
                  if (
                    (c + 1) % this.vertices.length !== t &&
                      c !== t &&
                      o.leftOn(this.at(t), this.at(e), this.at(c + 1)) &&
                      o.rightOn(this.at(t), this.at(e), this.at(c)) &&
                      ((r[0] = this.at(t)),
                      (r[1] = this.at(e)),
                      (s[0] = this.at(c)),
                      (s[1] = this.at(c + 1)),
                      (i = a.lineInt(r, s)),
                      o.sqdist(this.at(t), i) < n)
                  )
                    {return !1;}
                }
                return !0;
              }),
              (n.prototype.copy = function (t, e, i) {
                const r = i || new n();
                if ((r.clear(), t < e)) {
                  for (var a = t; a <= e; a++)
                    {r.vertices.push(this.vertices[a]);}
                } else {
                  for (var a = 0; a <= e; a++) { r.vertices.push(this.vertices[a]); }
                  for (var a = t; a < this.vertices.length; a++) { r.vertices.push(this.vertices[a]); }
                }
                return r;
              }),
              (n.prototype.getCutEdges = function () {
                for (
                  var t = [],
                    e = [],
                    i = [],
                    r = new n(),
                    a = Number.MAX_VALUE,
                    o = 0;
                  o < this.vertices.length;
                  ++o
                ) {
                  if (this.isReflex(o)) {
for (let s = 0; s < this.vertices.length; ++s)
                    {if (this.canSee(o, s)) {
                      (e = this.copy(o, s, r).getCutEdges()),
                      (i = this.copy(s, o, r).getCutEdges());
                      for (let u = 0; u < i.length; u++) e.push(i[u]);
                      e.length < a &&
                              ((t = e),
                              (a = e.length),
                              t.push([this.at(o), this.at(s)]));
                    }}}
                }
                return t;
              }),
              (n.prototype.decomp = function () {
                const t = this.getCutEdges();
                return t.length > 0 ? this.slice(t) : [this];
              }),
              (n.prototype.slice = function (t) {
                if (t.length == 0) return [this];
                if (
                  t instanceof Array &&
                      t.length &&
                      t[0] instanceof Array &&
                      t[0].length == 2 &&
                      t[0][0] instanceof Array
                ) {
                  for (var e = [this], i = 0; i < t.length; i++) {
                    for (var n = t[i], r = 0; r < e.length; r++) {
                      let a = e[r],
                        o = a.slice(n);
                      if (o) {
                        e.splice(r, 1), e.push(o[0], o[1]);
                        break;
                      }
                    }
                  }
                  return e;
                }
                var n = t,
                  i = this.vertices.indexOf(n[0]),
                  r = this.vertices.indexOf(n[1]);
                return (
                  i != -1 && r != -1 && [this.copy(i, r), this.copy(r, i)]
                );
              }),
              (n.prototype.isSimple = function () {
                for (var t = this.vertices, e = 0; e < t.length - 1; e++) {
                  for (let i = 0; i < e - 1; i++) { if (a.segmentsIntersect(t[e], t[e + 1], t[i], t[i + 1]))
                    {return !1;}}
                }
                for (var e = 1; e < t.length - 2; e++) {
                  if (
                    a.segmentsIntersect(
                      t[0],
                      t[t.length - 1],
                      t[e],
                      t[e + 1],
                    )
                  )
                    {return !1;}
                }
                return !0;
              }),
              (n.prototype.quickDecomp = function (t, e, i, a, s, u) {
                (s = s || 100),
                (u = u || 0),
                (a = a || 25),
                (t = void 0 !== t ? t : []),
                (e = e || []),
                (i = i || []);
                let l = [0, 0],
                  c = [0, 0],
                  h = [0, 0],
                  d = 0,
                  f = 0,
                  p = 0,
                  g = 0,
                  y = 0,
                  v = 0,
                  m = 0,
                  b = new n(),
                  _ = new n(),
                  w = this,
                  x = this.vertices;
                if (x.length < 3) return t;
                if (++u > s) {
                  return (
                    console.warn(`quickDecomp: max level (${s}) reached.`),
                    t
                  );
                }
                for (let P = 0; P < this.vertices.length; ++P) {
                  if (w.isReflex(P)) {
                    e.push(w.vertices[P]), (d = f = Number.MAX_VALUE);
                    for (var k = 0; k < this.vertices.length; ++k) {
o.left(w.at(P - 1), w.at(P), w.at(k)) &&
                            o.rightOn(w.at(P - 1), w.at(P), w.at(k - 1)) &&
                            ((h = r(
                              w.at(P - 1),
                              w.at(P),
                              w.at(k),
                              w.at(k - 1),
                            )),
                            o.right(w.at(P + 1), w.at(P), h) &&
                              (p = o.sqdist(w.vertices[P], h)) < f &&
                              ((f = p), (c = h), (v = k))),
                    o.left(w.at(P + 1), w.at(P), w.at(k + 1)) &&
                              o.rightOn(w.at(P + 1), w.at(P), w.at(k)) &&
                              ((h = r(
                                w.at(P + 1),
                                w.at(P),
                                w.at(k),
                                w.at(k + 1),
                              )),
                              o.left(w.at(P - 1), w.at(P), h) &&
                                (p = o.sqdist(w.vertices[P], h)) < d &&
                                ((d = p), (l = h), (y = k))); }
                    if (v == (y + 1) % this.vertices.length) { (h[0] = (c[0] + l[0]) / 2),
                    (h[1] = (c[1] + l[1]) / 2),
                    i.push(h),
                    P < y
                      ? (b.append(w, P, y + 1),
                      b.vertices.push(h),
                      _.vertices.push(h),
                      v != 0 && _.append(w, v, w.vertices.length),
                      _.append(w, 0, P + 1))
                      : (P != 0 && b.append(w, P, w.vertices.length),
                      b.append(w, 0, y + 1),
                      b.vertices.push(h),
                      _.vertices.push(h),
                      _.append(w, v, P + 1));
} else {
                      if (
                        (v > y && (y += this.vertices.length),
                        (g = Number.MAX_VALUE),
                        y < v)
                      ) { return t; }
                      for (var k = v; k <= y; ++k) {
o.leftOn(w.at(P - 1), w.at(P), w.at(k)) &&
                              o.rightOn(w.at(P + 1), w.at(P), w.at(k)) &&
                              (p = o.sqdist(w.at(P), w.at(k))) < g &&
                              ((g = p), (m = k % this.vertices.length)); }
                      P < m
                        ? (b.append(w, P, m + 1),
                        m != 0 && _.append(w, m, x.length),
                        _.append(w, 0, P + 1))
                        : (P != 0 && b.append(w, P, x.length),
                        b.append(w, 0, m + 1),
                        _.append(w, m, P + 1));
                    }
                    return (
                      b.vertices.length < _.vertices.length
                        ? (b.quickDecomp(t, e, i, a, s, u),
                        _.quickDecomp(t, e, i, a, s, u))
                        : (_.quickDecomp(t, e, i, a, s, u),
                        b.quickDecomp(t, e, i, a, s, u)),
                      t
                    );
                  }
                }
                return t.push(this), t;
              }),
              (n.prototype.removeCollinearPoints = function (t) {
                for (
                  var e = 0, i = this.vertices.length - 1;
                  this.vertices.length > 3 && i >= 0;
                  --i
                ) {
                  o.collinear(
                    this.at(i - 1),
                    this.at(i),
                    this.at(i + 1),
                    t,
                  ) &&
                        (this.vertices.splice(i % this.vertices.length, 1),
                        i--,
                        e++);
                }
                return e;
              });
            },
            { './Line': 1, './Point': 2, './Scalar': 4 },
          ],
          4: [
            function (t, e, i) {
              function n() {}
              (e.exports = n),
              (n.eq = function (t, e, i) {
                return (i = i || 0), Math.abs(t - e) < i;
              });
            },
            {},
          ],
          5: [
            function (t, e, i) {
              e.exports = { Polygon: t('./Polygon'), Point: t('./Point') };
            },
            { './Point': 2, './Polygon': 3 },
          ],
          6: [
            function (t, e, i) {
              e.exports = {
                name: 'p2',
                version: '0.7.0',
                description: 'A JavaScript 2D physics engine.',
                author:
                    'Stefan Hedman <schteppe@gmail.com> (http://steffe.se)',
                keywords: ['p2.js', 'p2', 'physics', 'engine', '2d'],
                main: './src/p2.js',
                engines: { node: '*' },
                repository: {
                  type: 'git',
                  url: 'https://github.com/schteppe/p2.js.git',
                },
                bugs: { url: 'https://github.com/schteppe/p2.js/issues' },
                licenses: [{ type: 'MIT' }],
                devDependencies: {
                  grunt: '^0.4.5',
                  'grunt-contrib-jshint': '^0.11.2',
                  'grunt-contrib-nodeunit': '^0.4.1',
                  'grunt-contrib-uglify': '~0.4.0',
                  'grunt-contrib-watch': '~0.5.0',
                  'grunt-browserify': '~2.0.1',
                  'grunt-contrib-concat': '^0.4.0',
                },
                dependencies: { 'poly-decomp': '0.1.0' },
              };
            },
            {},
          ],
          7: [
            function (t, e, i) {
              function n(t) {
                (this.lowerBound = r.create()),
                t && t.lowerBound && r.copy(this.lowerBound, t.lowerBound),
                (this.upperBound = r.create()),
                t && t.upperBound && r.copy(this.upperBound, t.upperBound);
              }
              var r = t('../math/vec2');
              t('../utils/Utils'), (e.exports = n);
              const a = r.create();
              (n.prototype.setFromPoints = function (t, e, i, n) {
                let o = this.lowerBound,
                  s = this.upperBound;
                typeof i !== 'number' && (i = 0),
                i !== 0 ? r.rotate(o, t[0], i) : r.copy(o, t[0]),
                r.copy(s, o);
                for (
                  let u = Math.cos(i), l = Math.sin(i), c = 1;
                  c < t.length;
                  c++
                ) {
                  let h = t[c];
                  if (i !== 0) {
                    let d = h[0],
                      f = h[1];
                    (a[0] = u * d - l * f), (a[1] = l * d + u * f), (h = a);
                  }
                  for (let p = 0; p < 2; p++) {
                    h[p] > s[p] && (s[p] = h[p]),
                    h[p] < o[p] && (o[p] = h[p]);
                  }
                }
                e &&
                    (r.add(this.lowerBound, this.lowerBound, e),
                    r.add(this.upperBound, this.upperBound, e)),
                n &&
                      ((this.lowerBound[0] -= n),
                      (this.lowerBound[1] -= n),
                      (this.upperBound[0] += n),
                      (this.upperBound[1] += n));
              }),
              (n.prototype.copy = function (t) {
                r.copy(this.lowerBound, t.lowerBound),
                r.copy(this.upperBound, t.upperBound);
              }),
              (n.prototype.extend = function (t) {
                for (let e = 2; e--;) {
                  const i = t.lowerBound[e];
                  this.lowerBound[e] > i && (this.lowerBound[e] = i);
                  const n = t.upperBound[e];
                  this.upperBound[e] < n && (this.upperBound[e] = n);
                }
              }),
              (n.prototype.overlaps = function (t) {
                let e = this.lowerBound,
                  i = this.upperBound,
                  n = t.lowerBound,
                  r = t.upperBound;
                return (
                  ((n[0] <= i[0] && i[0] <= r[0]) ||
                        (e[0] <= r[0] && r[0] <= i[0])) &&
                      ((n[1] <= i[1] && i[1] <= r[1]) ||
                        (e[1] <= r[1] && r[1] <= i[1]))
                );
              }),
              (n.prototype.containsPoint = function (t) {
                let e = this.lowerBound,
                  i = this.upperBound;
                return (
                  e[0] <= t[0] &&
                      t[0] <= i[0] &&
                      e[1] <= t[1] &&
                      t[1] <= i[1]
                );
              }),
              (n.prototype.overlapsRay = function (t) {
                let e = 1 / t.direction[0],
                  i = 1 / t.direction[1],
                  n = (this.lowerBound[0] - t.from[0]) * e,
                  r = (this.upperBound[0] - t.from[0]) * e,
                  a = (this.lowerBound[1] - t.from[1]) * i,
                  o = (this.upperBound[1] - t.from[1]) * i,
                  s = Math.max(Math.max(Math.min(n, r), Math.min(a, o))),
                  u = Math.min(Math.min(Math.max(n, r), Math.max(a, o)));
                return u < 0 ? -1 : s > u ? -1 : s;
              });
            },
            { '../math/vec2': 30, '../utils/Utils': 57 },
          ],
          8: [
            function (t, e, i) {
              function n(t) {
                (this.type = t),
                (this.result = []),
                (this.world = null),
                (this.boundingVolumeType = n.AABB);
              }
              let r = t('../math/vec2'),
                a = t('../objects/Body');
              (e.exports = n),
              (n.AABB = 1),
              (n.BOUNDING_CIRCLE = 2),
              (n.prototype.setWorld = function (t) {
                this.world = t;
              }),
              (n.prototype.getCollisionPairs = function (t) {});
              const o = r.create();
              (n.boundingRadiusCheck = function (t, e) {
                r.sub(o, t.position, e.position);
                let i = r.squaredLength(o),
                  n = t.boundingRadius + e.boundingRadius;
                return i <= n * n;
              }),
              (n.aabbCheck = function (t, e) {
                return t.getAABB().overlaps(e.getAABB());
              }),
              (n.prototype.boundingVolumeCheck = function (t, e) {
                let i;
                switch (this.boundingVolumeType) {
                  case n.BOUNDING_CIRCLE:
                    i = n.boundingRadiusCheck(t, e);
                    break;
                  case n.AABB:
                    i = n.aabbCheck(t, e);
                    break;
                  default:
                    throw new Error(`Bounding volume type not recognized: ${
                      this.boundingVolumeType}`);
                }
                return i;
              }),
              (n.canCollide = function (t, e) {
                let i = a.KINEMATIC,
                  n = a.STATIC;
                return !(
                  (t.type === n && e.type === n) ||
                      (t.type === i && e.type === n) ||
                      (t.type === n && e.type === i) ||
                      (t.type === i && e.type === i) ||
                      (t.sleepState === a.SLEEPING &&
                        e.sleepState === a.SLEEPING) ||
                      (t.sleepState === a.SLEEPING && e.type === n) ||
                      (e.sleepState === a.SLEEPING && t.type === n)
                );
              }),
              (n.NAIVE = 1),
              (n.SAP = 2);
            },
            { '../math/vec2': 30, '../objects/Body': 31 },
          ],
          9: [
            function (t, e, i) {
              function n() {
                r.call(this, r.NAIVE);
              }
              var r =
                  (t('../shapes/Circle'),
                  t('../shapes/Plane'),
                  t('../shapes/Shape'),
                  t('../shapes/Particle'),
                  t('../collision/Broadphase'));
              t('../math/vec2'),
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.getCollisionPairs = function (t) {
                let e = t.bodies,
                  i = this.result;
                i.length = 0;
                for (let n = 0, a = e.length; n !== a; n++) {
                  for (let o = e[n], s = 0; s < n; s++) {
                    let u = e[s];
                    r.canCollide(o, u) &&
                          this.boundingVolumeCheck(o, u) &&
                          i.push(o, u);
                  }
                }
                return i;
              }),
              (n.prototype.aabbQuery = function (t, e, i) {
                i = i || [];
                for (let n = t.bodies, r = 0; r < n.length; r++) {
                  const a = n[r];
                  a.aabbNeedsUpdate && a.updateAABB(),
                  a.aabb.overlaps(e) && i.push(a);
                }
                return i;
              });
            },
            {
              '../collision/Broadphase': 8,
              '../math/vec2': 30,
              '../shapes/Circle': 39,
              '../shapes/Particle': 43,
              '../shapes/Plane': 44,
              '../shapes/Shape': 45,
            },
          ],
          10: [
            function (t, e, i) {
              function n() {
                (this.contactEquations = []),
                (this.frictionEquations = []),
                (this.enableFriction = !0),
                (this.enabledEquations = !0),
                (this.slipForce = 10),
                (this.frictionCoefficient = 0.3),
                (this.surfaceVelocity = 0),
                (this.contactEquationPool = new c({ size: 32 })),
                (this.frictionEquationPool = new h({ size: 64 })),
                (this.restitution = 0),
                (this.stiffness = f.DEFAULT_STIFFNESS),
                (this.relaxation = f.DEFAULT_RELAXATION),
                (this.frictionStiffness = f.DEFAULT_STIFFNESS),
                (this.frictionRelaxation = f.DEFAULT_RELAXATION),
                (this.enableFrictionReduction = !0),
                (this.collidingBodiesLastStep = new d()),
                (this.contactSkinSize = 0.01);
              }
              function r(t, e) {
                o.set(t.vertices[0], 0.5 * -e.length, -e.radius),
                o.set(t.vertices[1], 0.5 * e.length, -e.radius),
                o.set(t.vertices[2], 0.5 * e.length, e.radius),
                o.set(t.vertices[3], 0.5 * -e.length, e.radius);
              }
              function a(t, e, i, n) {
                for (
                  let r = V,
                    a = z,
                    l = Y,
                    c = q,
                    h = t,
                    d = e.vertices,
                    f = null,
                    p = 0;
                  p !== d.length + 1;
                  p++
                ) {
                  let g = d[p % d.length],
                    y = d[(p + 1) % d.length];
                  o.rotate(r, g, n),
                  o.rotate(a, y, n),
                  u(r, r, i),
                  u(a, a, i),
                  s(l, r, h),
                  s(c, a, h);
                  const v = o.crossLength(l, c);
                  if ((f === null && (f = v), v * f <= 0)) return !1;
                  f = v;
                }
                return !0;
              }
              var o = t('../math/vec2'),
                s = o.sub,
                u = o.add,
                l = o.dot,
                c = (t('../utils/Utils'), t('../utils/ContactEquationPool')),
                h = t('../utils/FrictionEquationPool'),
                d = t('../utils/TupleDictionary'),
                f = t('../equations/Equation'),
                p =
                    (t('../equations/ContactEquation'),
                    t('../equations/FrictionEquation'),
                    t('../shapes/Circle')),
                g = t('../shapes/Convex'),
                y = t('../shapes/Shape'),
                v = (t('../objects/Body'), t('../shapes/Box'));
              e.exports = n;
              let m = o.fromValues(0, 1),
                b = o.fromValues(0, 0),
                _ = o.fromValues(0, 0),
                w = o.fromValues(0, 0),
                x = o.fromValues(0, 0),
                P = o.fromValues(0, 0),
                k = o.fromValues(0, 0),
                T = o.fromValues(0, 0),
                O = o.fromValues(0, 0),
                E = o.fromValues(0, 0),
                S = o.fromValues(0, 0),
                C = o.fromValues(0, 0),
                I = o.fromValues(0, 0),
                M = o.fromValues(0, 0),
                A = o.fromValues(0, 0),
                R = o.fromValues(0, 0),
                L = o.fromValues(0, 0),
                D = o.fromValues(0, 0),
                B = o.fromValues(0, 0),
                j = [],
                F = o.create(),
                U = o.create();
              (n.prototype.bodiesOverlap = function (t, e) {
                for (
                  let i = F, n = U, r = 0, a = t.shapes.length;
                  r !== a;
                  r++
                ) {
                  const o = t.shapes[r];
                  t.toWorldFrame(i, o.position);
                  for (let s = 0, u = e.shapes.length; s !== u; s++) {
                    const l = e.shapes[s];
                    if (
                      (e.toWorldFrame(n, l.position),
                      this[o.type | l.type](
                        t,
                        o,
                        i,
                        o.angle + t.angle,
                        e,
                        l,
                        n,
                        l.angle + e.angle,
                        !0,
                      ))
                    ) { return !0; }
                  }
                }
                return !1;
              }),
              (n.prototype.collidedLastStep = function (t, e) {
                let i = 0 | t.id,
                  n = 0 | e.id;
                return !!this.collidingBodiesLastStep.get(i, n);
              }),
              (n.prototype.reset = function () {
                this.collidingBodiesLastStep.reset();
                for (let t = this.contactEquations, e = t.length; e--;) {
                  let i = t[e],
                    n = i.bodyA.id,
                    r = i.bodyB.id;
                  this.collidingBodiesLastStep.set(n, r, !0);
                }
                for (
                  var a = this.contactEquations,
                    o = this.frictionEquations,
                    s = 0;
                  s < a.length;
                  s++
                ) { this.contactEquationPool.release(a[s]); }
                for (var s = 0; s < o.length; s++) { this.frictionEquationPool.release(o[s]); }
                this.contactEquations.length = this.frictionEquations.length = 0;
              }),
              (n.prototype.createContactEquation = function (t, e, i, n) {
                const r = this.contactEquationPool.get();
                return (
                  (r.bodyA = t),
                  (r.bodyB = e),
                  (r.shapeA = i),
                  (r.shapeB = n),
                  (r.restitution = this.restitution),
                  (r.firstImpact = !this.collidedLastStep(t, e)),
                  (r.stiffness = this.stiffness),
                  (r.relaxation = this.relaxation),
                  (r.needsUpdate = !0),
                  (r.enabled = this.enabledEquations),
                  (r.offset = this.contactSkinSize),
                  r
                );
              }),
              (n.prototype.createFrictionEquation = function (t, e, i, n) {
                const r = this.frictionEquationPool.get();
                return (
                  (r.bodyA = t),
                  (r.bodyB = e),
                  (r.shapeA = i),
                  (r.shapeB = n),
                  r.setSlipForce(this.slipForce),
                  (r.frictionCoefficient = this.frictionCoefficient),
                  (r.relativeVelocity = this.surfaceVelocity),
                  (r.enabled = this.enabledEquations),
                  (r.needsUpdate = !0),
                  (r.stiffness = this.frictionStiffness),
                  (r.relaxation = this.frictionRelaxation),
                  (r.contactEquations.length = 0),
                  r
                );
              }),
              (n.prototype.createFrictionFromContact = function (t) {
                const e = this.createFrictionEquation(
                  t.bodyA,
                  t.bodyB,
                  t.shapeA,
                  t.shapeB,
                );
                return (
                  o.copy(e.contactPointA, t.contactPointA),
                  o.copy(e.contactPointB, t.contactPointB),
                  o.rotate90cw(e.t, t.normalA),
                  e.contactEquations.push(t),
                  e
                );
              }),
              (n.prototype.createFrictionFromAverage = function (t) {
                let e = this.contactEquations[
                    this.contactEquations.length - 1
                  ],
                  i = this.createFrictionEquation(
                    e.bodyA,
                    e.bodyB,
                    e.shapeA,
                    e.shapeB,
                  ),
                  n = e.bodyA;
                e.bodyB,
                o.set(i.contactPointA, 0, 0),
                o.set(i.contactPointB, 0, 0),
                o.set(i.t, 0, 0);
                for (let r = 0; r !== t; r++) {
                  (e = this.contactEquations[
                    this.contactEquations.length - 1 - r
                  ]),
                  e.bodyA === n
                    ? (o.add(i.t, i.t, e.normalA),
                    o.add(
                      i.contactPointA,
                      i.contactPointA,
                      e.contactPointA,
                    ),
                    o.add(
                      i.contactPointB,
                      i.contactPointB,
                      e.contactPointB,
                    ))
                    : (o.sub(i.t, i.t, e.normalA),
                    o.add(
                      i.contactPointA,
                      i.contactPointA,
                      e.contactPointB,
                    ),
                    o.add(
                      i.contactPointB,
                      i.contactPointB,
                      e.contactPointA,
                    )),
                  i.contactEquations.push(e);
                }
                const a = 1 / t;
                return (
                  o.scale(i.contactPointA, i.contactPointA, a),
                  o.scale(i.contactPointB, i.contactPointB, a),
                  o.normalize(i.t, i.t),
                  o.rotate90cw(i.t, i.t),
                  i
                );
              }),
              (n.prototype[
                y.LINE | y.CONVEX
              ] = n.prototype.convexLine = function (
                t,
                e,
                i,
                n,
                r,
                a,
                o,
                s,
                u,
              ) {
                return !u && 0;
              }),
              (n.prototype[y.LINE | y.BOX] = n.prototype.lineBox = function (
                t,
                e,
                i,
                n,
                r,
                a,
                o,
                s,
                u,
              ) {
                return !u && 0;
              });
              let G = new v({ width: 1, height: 1 }),
                N = o.create();
              (n.prototype[y.CAPSULE | y.CONVEX] = n.prototype[
                y.CAPSULE | y.BOX
              ] = n.prototype.convexCapsule = function (
                t,
                e,
                i,
                n,
                a,
                s,
                u,
                l,
                c,
              ) {
                const h = N;
                o.set(h, s.length / 2, 0), o.rotate(h, h, l), o.add(h, h, u);
                const d = this.circleConvex(
                  a,
                  s,
                  h,
                  l,
                  t,
                  e,
                  i,
                  n,
                  c,
                  s.radius,
                );
                o.set(h, -s.length / 2, 0), o.rotate(h, h, l), o.add(h, h, u);
                const f = this.circleConvex(
                  a,
                  s,
                  h,
                  l,
                  t,
                  e,
                  i,
                  n,
                  c,
                  s.radius,
                );
                if (c && (d || f)) return !0;
                const p = G;
                return (
                  r(p, s),
                  this.convexConvex(t, e, i, n, a, p, u, l, c) + d + f
                );
              }),
              (n.prototype[
                y.CAPSULE | y.LINE
              ] = n.prototype.lineCapsule = function (
                t,
                e,
                i,
                n,
                r,
                a,
                o,
                s,
                u,
              ) {
                return !u && 0;
              });
              let W = o.create(),
                H = o.create(),
                X = new v({ width: 1, height: 1 });
              (n.prototype[
                y.CAPSULE | y.CAPSULE
              ] = n.prototype.capsuleCapsule = function (
                t,
                e,
                i,
                n,
                a,
                s,
                u,
                l,
                c,
              ) {
                for (var h, d = W, f = H, p = 0, g = 0; g < 2; g++) {
                  o.set(d, ((g === 0 ? -1 : 1) * e.length) / 2, 0),
                  o.rotate(d, d, n),
                  o.add(d, d, i);
                  for (let y = 0; y < 2; y++) {
                    o.set(f, ((y === 0 ? -1 : 1) * s.length) / 2, 0),
                    o.rotate(f, f, l),
                    o.add(f, f, u),
                    this.enableFrictionReduction &&
                          ((h = this.enableFriction),
                          (this.enableFriction = !1));
                    const v = this.circleCircle(
                      t,
                      e,
                      d,
                      n,
                      a,
                      s,
                      f,
                      l,
                      c,
                      e.radius,
                      s.radius,
                    );
                    if (
                      (this.enableFrictionReduction &&
                          (this.enableFriction = h),
                      c && v)
                    ) { return !0; }
                    p += v;
                  }
                }
                this.enableFrictionReduction &&
                    ((h = this.enableFriction), (this.enableFriction = !1));
                const m = X;
                r(m, e);
                const b = this.convexCapsule(t, m, i, n, a, s, u, l, c);
                if (
                  (this.enableFrictionReduction && (this.enableFriction = h),
                  c && b)
                ) { return !0; }
                if (((p += b), this.enableFrictionReduction)) {
                  var h = this.enableFriction;
                  this.enableFriction = !1;
                }
                r(m, s);
                const _ = this.convexCapsule(a, m, u, l, t, e, i, n, c);
                return (
                  this.enableFrictionReduction && (this.enableFriction = h),
                  !(!c || !_) ||
                      ((p += _),
                      this.enableFrictionReduction &&
                        p &&
                        this.enableFriction &&
                        this.frictionEquations.push(this.createFrictionFromAverage(p)),
                      p)
                );
              }),
              (n.prototype[
                y.LINE | y.LINE
              ] = n.prototype.lineLine = function (
                t,
                e,
                i,
                n,
                r,
                a,
                o,
                s,
                u,
              ) {
                return !u && 0;
              }),
              (n.prototype[
                y.PLANE | y.LINE
              ] = n.prototype.planeLine = function (
                t,
                e,
                i,
                n,
                r,
                a,
                c,
                h,
                d,
              ) {
                let f = b,
                  p = _,
                  g = w,
                  y = x,
                  v = P,
                  S = k,
                  C = T,
                  I = O,
                  M = E,
                  A = j,
                  R = 0;
                o.set(f, -a.length / 2, 0),
                o.set(p, a.length / 2, 0),
                o.rotate(g, f, h),
                o.rotate(y, p, h),
                u(g, g, c),
                u(y, y, c),
                o.copy(f, g),
                o.copy(p, y),
                s(v, p, f),
                o.normalize(S, v),
                o.rotate90cw(M, S),
                o.rotate(I, m, n),
                (A[0] = f),
                (A[1] = p);
                for (let L = 0; L < A.length; L++) {
                  const D = A[L];
                  s(C, D, i);
                  const B = l(C, I);
                  if (B < 0) {
                    if (d) return !0;
                    const F = this.createContactEquation(t, r, e, a);
                    R++,
                    o.copy(F.normalA, I),
                    o.normalize(F.normalA, F.normalA),
                    o.scale(C, I, B),
                    s(F.contactPointA, D, C),
                    s(F.contactPointA, F.contactPointA, t.position),
                    s(F.contactPointB, D, c),
                    u(F.contactPointB, F.contactPointB, c),
                    s(F.contactPointB, F.contactPointB, r.position),
                    this.contactEquations.push(F),
                    this.enableFrictionReduction ||
                            (this.enableFriction &&
                              this.frictionEquations.push(this.createFrictionFromContact(F)));
                  }
                }
                return (
                  !d &&
                      (this.enableFrictionReduction ||
                        (R &&
                          this.enableFriction &&
                          this.frictionEquations.push(this.createFrictionFromAverage(R))),
                      R)
                );
              }),
              (n.prototype[
                y.PARTICLE | y.CAPSULE
              ] = n.prototype.particleCapsule = function (
                t,
                e,
                i,
                n,
                r,
                a,
                o,
                s,
                u,
              ) {
                return this.circleLine(
                  t,
                  e,
                  i,
                  n,
                  r,
                  a,
                  o,
                  s,
                  u,
                  a.radius,
                  0,
                );
              }),
              (n.prototype[
                y.CIRCLE | y.LINE
              ] = n.prototype.circleLine = function (
                t,
                e,
                i,
                n,
                r,
                a,
                c,
                h,
                d,
                f,
                p,
              ) {
                var f = f || 0,
                  p = void 0 !== p ? p : e.radius,
                  g = b,
                  y = _,
                  v = w,
                  m = x,
                  R = P,
                  L = k,
                  D = T,
                  B = O,
                  F = E,
                  U = S,
                  G = C,
                  N = I,
                  W = M,
                  H = A,
                  X = j;
                o.set(B, -a.length / 2, 0),
                o.set(F, a.length / 2, 0),
                o.rotate(U, B, h),
                o.rotate(G, F, h),
                u(U, U, c),
                u(G, G, c),
                o.copy(B, U),
                o.copy(F, G),
                s(L, F, B),
                o.normalize(D, L),
                o.rotate90cw(R, D),
                s(N, i, B);
                const V = l(N, R);
                s(m, B, c), s(W, i, c);
                const z = p + f;
                if (Math.abs(V) < z) {
                  o.scale(g, R, V),
                  s(v, i, g),
                  o.scale(y, R, l(R, W)),
                  o.normalize(y, y),
                  o.scale(y, y, f),
                  u(v, v, y);
                  let Y = l(D, v),
                    q = l(D, B),
                    K = l(D, F);
                  if (Y > q && Y < K) {
                    if (d) return !0;
                    var Q = this.createContactEquation(t, r, e, a);
                    return (
                      o.scale(Q.normalA, g, -1),
                      o.normalize(Q.normalA, Q.normalA),
                      o.scale(Q.contactPointA, Q.normalA, p),
                      u(Q.contactPointA, Q.contactPointA, i),
                      s(Q.contactPointA, Q.contactPointA, t.position),
                      s(Q.contactPointB, v, c),
                      u(Q.contactPointB, Q.contactPointB, c),
                      s(Q.contactPointB, Q.contactPointB, r.position),
                      this.contactEquations.push(Q),
                      this.enableFriction &&
                            this.frictionEquations.push(this.createFrictionFromContact(Q)),
                      1
                    );
                  }
                }
                (X[0] = B), (X[1] = F);
                for (let J = 0; J < X.length; J++) {
                  const Z = X[J];
                  if ((s(N, Z, i), o.squaredLength(N) < Math.pow(z, 2))) {
                    if (d) return !0;
                    var Q = this.createContactEquation(t, r, e, a);
                    return (
                      o.copy(Q.normalA, N),
                      o.normalize(Q.normalA, Q.normalA),
                      o.scale(Q.contactPointA, Q.normalA, p),
                      u(Q.contactPointA, Q.contactPointA, i),
                      s(Q.contactPointA, Q.contactPointA, t.position),
                      s(Q.contactPointB, Z, c),
                      o.scale(H, Q.normalA, -f),
                      u(Q.contactPointB, Q.contactPointB, H),
                      u(Q.contactPointB, Q.contactPointB, c),
                      s(Q.contactPointB, Q.contactPointB, r.position),
                      this.contactEquations.push(Q),
                      this.enableFriction &&
                            this.frictionEquations.push(this.createFrictionFromContact(Q)),
                      1
                    );
                  }
                }
                return 0;
              }),
              (n.prototype[
                y.CIRCLE | y.CAPSULE
              ] = n.prototype.circleCapsule = function (
                t,
                e,
                i,
                n,
                r,
                a,
                o,
                s,
                u,
              ) {
                return this.circleLine(t, e, i, n, r, a, o, s, u, a.radius);
              }),
              (n.prototype[y.CIRCLE | y.CONVEX] = n.prototype[
                y.CIRCLE | y.BOX
              ] = n.prototype.circleConvex = function (
                t,
                e,
                i,
                n,
                r,
                l,
                c,
                h,
                d,
                f,
              ) {
                for (
                  var f = typeof f === 'number' ? f : e.radius,
                    p = b,
                    g = _,
                    y = w,
                    v = x,
                    m = P,
                    k = S,
                    T = C,
                    O = M,
                    E = A,
                    I = R,
                    D = L,
                    B = !1,
                    j = Number.MAX_VALUE,
                    F = l.vertices,
                    U = 0;
                  U !== F.length + 1;
                  U++
                ) {
                  let G = F[U % F.length],
                    N = F[(U + 1) % F.length];
                  if (
                    (o.rotate(p, G, h),
                    o.rotate(g, N, h),
                    u(p, p, c),
                    u(g, g, c),
                    s(y, g, p),
                    o.normalize(v, y),
                    o.rotate90cw(m, v),
                    o.scale(E, m, -e.radius),
                    u(E, E, i),
                    a(E, l, c, h))
                  ) {
                    o.sub(I, p, E);
                    const W = Math.abs(o.dot(I, m));
                    W < j &&
                          (o.copy(D, E),
                          (j = W),
                          o.scale(O, m, W),
                          o.add(O, O, E),
                          (B = !0));
                  }
                }
                if (B) {
                  if (d) return !0;
                  var H = this.createContactEquation(t, r, e, l);
                  return (
                    o.sub(H.normalA, D, i),
                    o.normalize(H.normalA, H.normalA),
                    o.scale(H.contactPointA, H.normalA, f),
                    u(H.contactPointA, H.contactPointA, i),
                    s(H.contactPointA, H.contactPointA, t.position),
                    s(H.contactPointB, O, c),
                    u(H.contactPointB, H.contactPointB, c),
                    s(H.contactPointB, H.contactPointB, r.position),
                    this.contactEquations.push(H),
                    this.enableFriction &&
                          this.frictionEquations.push(this.createFrictionFromContact(H)),
                    1
                  );
                }
                if (f > 0) {
                  for (var U = 0; U < F.length; U++) {
                    let X = F[U];
                    if (
                      (o.rotate(T, X, h),
                      u(T, T, c),
                      s(k, T, i),
                      o.squaredLength(k) < Math.pow(f, 2))
                    ) {
                      if (d) return !0;
                      var H = this.createContactEquation(t, r, e, l);
                      return (
                        o.copy(H.normalA, k),
                        o.normalize(H.normalA, H.normalA),
                        o.scale(H.contactPointA, H.normalA, f),
                        u(H.contactPointA, H.contactPointA, i),
                        s(H.contactPointA, H.contactPointA, t.position),
                        s(H.contactPointB, T, c),
                        u(H.contactPointB, H.contactPointB, c),
                        s(H.contactPointB, H.contactPointB, r.position),
                        this.contactEquations.push(H),
                        this.enableFriction &&
                              this.frictionEquations.push(this.createFrictionFromContact(H)),
                        1
                      );
                    }
                  }
                }
                return 0;
              });
              var V = o.create(),
                z = o.create(),
                Y = o.create(),
                q = o.create();
              (n.prototype[y.PARTICLE | y.CONVEX] = n.prototype[
                y.PARTICLE | y.BOX
              ] = n.prototype.particleConvex = function (
                t,
                e,
                i,
                n,
                r,
                c,
                h,
                d,
                f,
              ) {
                let p = b,
                  g = _,
                  y = w,
                  v = x,
                  m = P,
                  O = k,
                  E = T,
                  C = S,
                  I = M,
                  A = D,
                  R = B,
                  L = Number.MAX_VALUE,
                  j = !1,
                  F = c.vertices;
                if (!a(i, c, h, d)) return 0;
                if (f) return !0;
                for (let U = 0; U !== F.length + 1; U++) {
                  let G = F[U % F.length],
                    N = F[(U + 1) % F.length];
                  o.rotate(p, G, d),
                  o.rotate(g, N, d),
                  u(p, p, h),
                  u(g, g, h),
                  s(y, g, p),
                  o.normalize(v, y),
                  o.rotate90cw(m, v),
                  s(C, i, p),
                  l(C, m),
                  s(O, p, h),
                  s(E, i, h),
                  o.sub(A, p, i);
                  const W = Math.abs(o.dot(A, m));
                  W < L &&
                      ((L = W),
                      o.scale(I, m, W),
                      o.add(I, I, i),
                      o.copy(R, m),
                      (j = !0));
                }
                if (j) {
                  const H = this.createContactEquation(t, r, e, c);
                  return (
                    o.scale(H.normalA, R, -1),
                    o.normalize(H.normalA, H.normalA),
                    o.set(H.contactPointA, 0, 0),
                    u(H.contactPointA, H.contactPointA, i),
                    s(H.contactPointA, H.contactPointA, t.position),
                    s(H.contactPointB, I, h),
                    u(H.contactPointB, H.contactPointB, h),
                    s(H.contactPointB, H.contactPointB, r.position),
                    this.contactEquations.push(H),
                    this.enableFriction &&
                        this.frictionEquations.push(this.createFrictionFromContact(H)),
                    1
                  );
                }
                return 0;
              }),
              (n.prototype[y.CIRCLE] = n.prototype.circleCircle = function (
                t,
                e,
                i,
                n,
                r,
                a,
                l,
                c,
                h,
                d,
                f,
              ) {
                var p = b,
                  d = d || e.radius,
                  f = f || a.radius;
                s(p, i, l);
                const g = d + f;
                if (o.squaredLength(p) > Math.pow(g, 2)) return 0;
                if (h) return !0;
                const y = this.createContactEquation(t, r, e, a);
                return (
                  s(y.normalA, l, i),
                  o.normalize(y.normalA, y.normalA),
                  o.scale(y.contactPointA, y.normalA, d),
                  o.scale(y.contactPointB, y.normalA, -f),
                  u(y.contactPointA, y.contactPointA, i),
                  s(y.contactPointA, y.contactPointA, t.position),
                  u(y.contactPointB, y.contactPointB, l),
                  s(y.contactPointB, y.contactPointB, r.position),
                  this.contactEquations.push(y),
                  this.enableFriction &&
                        this.frictionEquations.push(this.createFrictionFromContact(y)),
                  1
                );
              }),
              (n.prototype[y.PLANE | y.CONVEX] = n.prototype[
                y.PLANE | y.BOX
              ] = n.prototype.planeConvex = function (
                t,
                e,
                i,
                n,
                r,
                a,
                c,
                h,
                d,
              ) {
                let f = b,
                  p = _,
                  g = w,
                  y = 0;
                o.rotate(p, m, n);
                for (let v = 0; v !== a.vertices.length; v++) {
                  const x = a.vertices[v];
                  if (
                    (o.rotate(f, x, h),
                    u(f, f, c),
                    s(g, f, i),
                    l(g, p) <= 0)
                  ) {
                    if (d) return !0;
                    y++;
                    const P = this.createContactEquation(t, r, e, a);
                    s(g, f, i), o.copy(P.normalA, p);
                    const k = l(g, P.normalA);
                    o.scale(g, P.normalA, k),
                    s(P.contactPointB, f, r.position),
                    s(P.contactPointA, f, g),
                    s(P.contactPointA, P.contactPointA, t.position),
                    this.contactEquations.push(P),
                    this.enableFrictionReduction ||
                            (this.enableFriction &&
                              this.frictionEquations.push(this.createFrictionFromContact(P)));
                  }
                }
                return (
                  this.enableFrictionReduction &&
                        this.enableFriction &&
                        y &&
                        this.frictionEquations.push(this.createFrictionFromAverage(y)),
                  y
                );
              }),
              (n.prototype[
                y.PARTICLE | y.PLANE
              ] = n.prototype.particlePlane = function (
                t,
                e,
                i,
                n,
                r,
                a,
                u,
                c,
                h,
              ) {
                let d = b,
                  f = _;
                (c = c || 0), s(d, i, u), o.rotate(f, m, c);
                const p = l(d, f);
                if (p > 0) return 0;
                if (h) return !0;
                const g = this.createContactEquation(r, t, a, e);
                return (
                  o.copy(g.normalA, f),
                  o.scale(d, g.normalA, p),
                  s(g.contactPointA, i, d),
                  s(g.contactPointA, g.contactPointA, r.position),
                  s(g.contactPointB, i, t.position),
                  this.contactEquations.push(g),
                  this.enableFriction &&
                        this.frictionEquations.push(this.createFrictionFromContact(g)),
                  1
                );
              }),
              (n.prototype[
                y.CIRCLE | y.PARTICLE
              ] = n.prototype.circleParticle = function (
                t,
                e,
                i,
                n,
                r,
                a,
                l,
                c,
                h,
              ) {
                const d = b;
                if (
                  (s(d, l, i), o.squaredLength(d) > Math.pow(e.radius, 2))
                ) { return 0; }
                if (h) return !0;
                const f = this.createContactEquation(t, r, e, a);
                return (
                  o.copy(f.normalA, d),
                  o.normalize(f.normalA, f.normalA),
                  o.scale(f.contactPointA, f.normalA, e.radius),
                  u(f.contactPointA, f.contactPointA, i),
                  s(f.contactPointA, f.contactPointA, t.position),
                  s(f.contactPointB, l, r.position),
                  this.contactEquations.push(f),
                  this.enableFriction &&
                        this.frictionEquations.push(this.createFrictionFromContact(f)),
                  1
                );
              });
              let K = new p({ radius: 1 }),
                Q = o.create(),
                J = o.create();
              o.create(),
              (n.prototype[
                y.PLANE | y.CAPSULE
              ] = n.prototype.planeCapsule = function (
                t,
                e,
                i,
                n,
                r,
                a,
                s,
                l,
                c,
              ) {
                let h = Q,
                  d = J,
                  f = K;
                o.set(h, -a.length / 2, 0),
                o.rotate(h, h, l),
                u(h, h, s),
                o.set(d, a.length / 2, 0),
                o.rotate(d, d, l),
                u(d, d, s),
                (f.radius = a.radius);
                let p;
                this.enableFrictionReduction &&
                      ((p = this.enableFriction), (this.enableFriction = !1));
                let g = this.circlePlane(r, f, h, 0, t, e, i, n, c),
                  y = this.circlePlane(r, f, d, 0, t, e, i, n, c);
                if (
                  (this.enableFrictionReduction &&
                        (this.enableFriction = p),
                  c)
                ) { return g || y; }
                const v = g + y;
                return (
                  this.enableFrictionReduction &&
                        v &&
                        this.frictionEquations.push(this.createFrictionFromAverage(v)),
                  v
                );
              }),
              (n.prototype[
                y.CIRCLE | y.PLANE
              ] = n.prototype.circlePlane = function (
                t,
                e,
                i,
                n,
                r,
                a,
                c,
                h,
                d,
              ) {
                let f = t,
                  p = e,
                  g = i,
                  y = r,
                  v = c,
                  x = h;
                x = x || 0;
                let P = b,
                  k = _,
                  T = w;
                s(P, g, v), o.rotate(k, m, x);
                const O = l(k, P);
                if (O > p.radius) return 0;
                if (d) return !0;
                const E = this.createContactEquation(y, f, a, e);
                return (
                  o.copy(E.normalA, k),
                  o.scale(E.contactPointB, E.normalA, -p.radius),
                  u(E.contactPointB, E.contactPointB, g),
                  s(E.contactPointB, E.contactPointB, f.position),
                  o.scale(T, E.normalA, O),
                  s(E.contactPointA, P, T),
                  u(E.contactPointA, E.contactPointA, v),
                  s(E.contactPointA, E.contactPointA, y.position),
                  this.contactEquations.push(E),
                  this.enableFriction &&
                        this.frictionEquations.push(this.createFrictionFromContact(E)),
                  1
                );
              }),
              (n.prototype[y.CONVEX] = n.prototype[
                y.CONVEX | y.BOX
              ] = n.prototype[y.BOX] = n.prototype.convexConvex = function (
                t,
                e,
                i,
                r,
                a,
                c,
                h,
                d,
                f,
                p,
              ) {
                var g = b,
                  y = _,
                  v = w,
                  m = x,
                  k = P,
                  S = T,
                  C = O,
                  I = E,
                  M = 0,
                  p = typeof p === 'number' ? p : 0;
                if (!n.findSeparatingAxis(e, i, r, c, h, d, g)) return 0;
                s(C, h, i), l(g, C) > 0 && o.scale(g, g, -1);
                let A = n.getClosestEdge(e, r, g, !0),
                  R = n.getClosestEdge(c, d, g);
                if (A === -1 || R === -1) return 0;
                for (let L = 0; L < 2; L++) {
                  let D = A,
                    B = R,
                    j = e,
                    F = c,
                    U = i,
                    G = h,
                    N = r,
                    W = d,
                    H = t,
                    X = a;
                  if (L === 0) {
                    var V;
                    (V = D),
                    (D = B),
                    (B = V),
                    (V = j),
                    (j = F),
                    (F = V),
                    (V = U),
                    (U = G),
                    (G = V),
                    (V = N),
                    (N = W),
                    (W = V),
                    (V = H),
                    (H = X),
                    (X = V);
                  }
                  for (let z = B; z < B + 2; z++) {
                    const Y =
                          F.vertices[
                            (z + F.vertices.length) % F.vertices.length
                          ];
                    o.rotate(y, Y, W), u(y, y, G);
                    for (var q = 0, K = D - 1; K < D + 2; K++) {
                      var Q =
                              j.vertices[
                                (K + j.vertices.length) % j.vertices.length
                              ],
                        J =
                              j.vertices[
                                (K + 1 + j.vertices.length) % j.vertices.length
                              ];
                      o.rotate(v, Q, N),
                      o.rotate(m, J, N),
                      u(v, v, U),
                      u(m, m, U),
                      s(k, m, v),
                      o.rotate90cw(I, k),
                      o.normalize(I, I),
                      s(C, y, v);
                      var Z = l(I, C);
                      ((K === D && Z <= p) || (K !== D && Z <= 0)) && q++;
                    }
                    if (q >= 3) {
                      if (f) return !0;
                      const $ = this.createContactEquation(H, X, j, F);
                      M++;
                      var Q = j.vertices[D % j.vertices.length],
                        J = j.vertices[(D + 1) % j.vertices.length];
                      o.rotate(v, Q, N),
                      o.rotate(m, J, N),
                      u(v, v, U),
                      u(m, m, U),
                      s(k, m, v),
                      o.rotate90cw($.normalA, k),
                      o.normalize($.normalA, $.normalA),
                      s(C, y, v);
                      var Z = l($.normalA, C);
                      o.scale(S, $.normalA, Z),
                      s($.contactPointA, y, U),
                      s($.contactPointA, $.contactPointA, S),
                      u($.contactPointA, $.contactPointA, U),
                      s($.contactPointA, $.contactPointA, H.position),
                      s($.contactPointB, y, G),
                      u($.contactPointB, $.contactPointB, G),
                      s($.contactPointB, $.contactPointB, X.position),
                      this.contactEquations.push($),
                      this.enableFrictionReduction ||
                              (this.enableFriction &&
                                this.frictionEquations.push(this.createFrictionFromContact($)));
                    }
                  }
                }
                return (
                  this.enableFrictionReduction &&
                        this.enableFriction &&
                        M &&
                        this.frictionEquations.push(this.createFrictionFromAverage(M)),
                  M
                );
              });
              const Z = o.fromValues(0, 0);
              n.projectConvexOntoAxis = function (t, e, i, n, r) {
                let a,
                  s,
                  u = null,
                  c = null,
                  h = Z;
                o.rotate(h, n, -i);
                for (let d = 0; d < t.vertices.length; d++) {
                  (a = t.vertices[d]),
                  (s = l(a, h)),
                  (u === null || s > u) && (u = s),
                  (c === null || s < c) && (c = s);
                }
                if (c > u) {
                  const f = c;
                  (c = u), (u = f);
                }
                const p = l(e, n);
                o.set(r, c + p, u + p);
              };
              let $ = o.fromValues(0, 0),
                tt = o.fromValues(0, 0),
                et = o.fromValues(0, 0),
                it = o.fromValues(0, 0),
                nt = o.fromValues(0, 0),
                rt = o.fromValues(0, 0);
              n.findSeparatingAxis = function (t, e, i, r, a, u, l) {
                let c = null,
                  h = !1,
                  d = !1,
                  f = $,
                  p = tt,
                  g = et,
                  y = it,
                  m = nt,
                  b = rt;
                if (t instanceof v && r instanceof v) {
                  for (var _ = 0; _ !== 2; _++) {
                    var w = t,
                      x = i;
                    _ === 1 && ((w = r), (x = u));
                    for (var P = 0; P !== 2; P++) {
                      P === 0 ? o.set(y, 0, 1) : P === 1 && o.set(y, 1, 0),
                      x !== 0 && o.rotate(y, y, x),
                      n.projectConvexOntoAxis(t, e, i, y, m),
                      n.projectConvexOntoAxis(r, a, u, y, b);
                      var k = m,
                        T = b;
                      m[0] > b[0] && ((T = m), (k = b));
                      var O = T[0] - k[1];
                      (h = O <= 0),
                      (c === null || O > c) &&
                            (o.copy(l, y), (c = O), (d = h));
                    }
                  }
                } else {
                  for (var _ = 0; _ !== 2; _++) {
                    var w = t,
                      x = i;
                    _ === 1 && ((w = r), (x = u));
                    for (var P = 0; P !== w.vertices.length; P++) {
                      o.rotate(p, w.vertices[P], x),
                      o.rotate(
                        g,
                        w.vertices[(P + 1) % w.vertices.length],
                        x,
                      ),
                      s(f, g, p),
                      o.rotate90cw(y, f),
                      o.normalize(y, y),
                      n.projectConvexOntoAxis(t, e, i, y, m),
                      n.projectConvexOntoAxis(r, a, u, y, b);
                      var k = m,
                        T = b;
                      m[0] > b[0] && ((T = m), (k = b));
                      var O = T[0] - k[1];
                      (h = O <= 0),
                      (c === null || O > c) &&
                            (o.copy(l, y), (c = O), (d = h));
                    }
                  }
                }
                return d;
              };
              let at = o.fromValues(0, 0),
                ot = o.fromValues(0, 0),
                st = o.fromValues(0, 0);
              n.getClosestEdge = function (t, e, i, n) {
                let r = at,
                  a = ot,
                  u = st;
                o.rotate(r, i, -e), n && o.scale(r, r, -1);
                for (
                  var c = -1, h = t.vertices.length, d = -1, f = 0;
                  f !== h;
                  f++
                ) {
                  s(a, t.vertices[(f + 1) % h], t.vertices[f % h]),
                  o.rotate90cw(u, a),
                  o.normalize(u, u);
                  const p = l(u, r);
                  (c === -1 || p > d) && ((c = f % h), (d = p));
                }
                return c;
              };
              let ut = o.create(),
                lt = o.create(),
                ct = o.create(),
                ht = o.create(),
                dt = o.create(),
                ft = o.create(),
                pt = o.create();
              n.prototype[
                y.CIRCLE | y.HEIGHTFIELD
              ] = n.prototype.circleHeightfield = function (
                t,
                e,
                i,
                n,
                r,
                a,
                l,
                c,
                h,
                d,
              ) {
                var f = a.heights,
                  d = d || e.radius,
                  p = a.elementWidth,
                  g = lt,
                  y = ut,
                  v = dt,
                  m = pt,
                  b = ft,
                  _ = ct,
                  w = ht,
                  x = Math.floor((i[0] - d - l[0]) / p),
                  P = Math.ceil((i[0] + d - l[0]) / p);
                x < 0 && (x = 0), P >= f.length && (P = f.length - 1);
                for (var k = f[x], T = f[P], O = x; O < P; O++) { f[O] < T && (T = f[O]), f[O] > k && (k = f[O]); }
                if (i[1] - d > k) return !h && 0;
                for (var E = !1, O = x; O < P; O++) {
                  o.set(_, O * p, f[O]),
                  o.set(w, (O + 1) * p, f[O + 1]),
                  o.add(_, _, l),
                  o.add(w, w, l),
                  o.sub(b, w, _),
                  o.rotate(b, b, Math.PI / 2),
                  o.normalize(b, b),
                  o.scale(y, b, -d),
                  o.add(y, y, i),
                  o.sub(g, y, _);
                  const S = o.dot(g, b);
                  if (y[0] >= _[0] && y[0] < w[0] && S <= 0) {
                    if (h) return !0;
                    (E = !0), o.scale(g, b, -S), o.add(v, y, g), o.copy(m, b);
                    var C = this.createContactEquation(r, t, a, e);
                    o.copy(C.normalA, m),
                    o.scale(C.contactPointB, C.normalA, -d),
                    u(C.contactPointB, C.contactPointB, i),
                    s(C.contactPointB, C.contactPointB, t.position),
                    o.copy(C.contactPointA, v),
                    o.sub(C.contactPointA, C.contactPointA, r.position),
                    this.contactEquations.push(C),
                    this.enableFriction &&
                          this.frictionEquations.push(this.createFrictionFromContact(C));
                  }
                }
                if (((E = !1), d > 0)) {
                  for (var O = x; O <= P; O++) {
if (
                    (o.set(_, O * p, f[O]),
                    o.add(_, _, l),
                    o.sub(g, i, _),
                    o.squaredLength(g) < Math.pow(d, 2))
                  ) {
                    if (h) return !0;
                    E = !0;
                    var C = this.createContactEquation(r, t, a, e);
                    o.copy(C.normalA, g),
                    o.normalize(C.normalA, C.normalA),
                    o.scale(C.contactPointB, C.normalA, -d),
                    u(C.contactPointB, C.contactPointB, i),
                    s(C.contactPointB, C.contactPointB, t.position),
                    s(C.contactPointA, _, l),
                    u(C.contactPointA, C.contactPointA, l),
                    s(C.contactPointA, C.contactPointA, r.position),
                    this.contactEquations.push(C),
                    this.enableFriction &&
                            this.frictionEquations.push(this.createFrictionFromContact(C));
                  } }
                }
                return E ? 1 : 0;
              };
              let gt = o.create(),
                yt = o.create(),
                vt = o.create(),
                mt = new g({
                  vertices: [o.create(), o.create(), o.create(), o.create()],
                });
              n.prototype[y.BOX | y.HEIGHTFIELD] = n.prototype[
                y.CONVEX | y.HEIGHTFIELD
              ] = n.prototype.convexHeightfield = function (
                t,
                e,
                i,
                n,
                r,
                a,
                s,
                u,
                l,
              ) {
                let c = a.heights,
                  h = a.elementWidth,
                  d = gt,
                  f = yt,
                  p = vt,
                  g = mt,
                  y = Math.floor((t.aabb.lowerBound[0] - s[0]) / h),
                  v = Math.ceil((t.aabb.upperBound[0] - s[0]) / h);
                y < 0 && (y = 0), v >= c.length && (v = c.length - 1);
                for (var m = c[y], b = c[v], _ = y; _ < v; _++) { c[_] < b && (b = c[_]), c[_] > m && (m = c[_]); }
                if (t.aabb.lowerBound[1] > m) return !l && 0;
                for (var w = 0, _ = y; _ < v; _++) {
                  o.set(d, _ * h, c[_]),
                  o.set(f, (_ + 1) * h, c[_ + 1]),
                  o.add(d, d, s),
                  o.add(f, f, s),
                  o.set(p, 0.5 * (f[0] + d[0]), 0.5 * (f[1] + d[1] - 100)),
                  o.sub(g.vertices[0], f, p),
                  o.sub(g.vertices[1], d, p),
                  o.copy(g.vertices[2], g.vertices[1]),
                  o.copy(g.vertices[3], g.vertices[0]),
                  (g.vertices[2][1] -= 100),
                  (g.vertices[3][1] -= 100),
                  (w += this.convexConvex(t, e, i, n, r, g, p, 0, l));
                }
                return w;
              };
            },
            {
              '../equations/ContactEquation': 21,
              '../equations/Equation': 22,
              '../equations/FrictionEquation': 23,
              '../math/vec2': 30,
              '../objects/Body': 31,
              '../shapes/Box': 37,
              '../shapes/Circle': 39,
              '../shapes/Convex': 40,
              '../shapes/Shape': 45,
              '../utils/ContactEquationPool': 48,
              '../utils/FrictionEquationPool': 49,
              '../utils/TupleDictionary': 56,
              '../utils/Utils': 57,
            },
          ],
          11: [
            function (t, e, i) {
              function n(t) {
                (t = t || {}),
                (this.from = t.from
                  ? a.fromValues(t.from[0], t.from[1])
                  : a.create()),
                (this.to = t.to
                  ? a.fromValues(t.to[0], t.to[1])
                  : a.create()),
                (this.checkCollisionResponse =
                      void 0 === t.checkCollisionResponse ||
                      t.checkCollisionResponse),
                (this.skipBackfaces = !!t.skipBackfaces),
                (this.collisionMask =
                      void 0 !== t.collisionMask ? t.collisionMask : -1),
                (this.collisionGroup =
                      void 0 !== t.collisionGroup ? t.collisionGroup : -1),
                (this.mode = void 0 !== t.mode ? t.mode : n.ANY),
                (this.callback = t.callback || function (t) {}),
                (this.direction = a.create()),
                (this.length = 1),
                this.update();
              }
              function r(t, e, i) {
                a.sub(s, i, t);
                const n = a.dot(s, e);
                return (
                  a.scale(u, e, n), a.add(u, u, t), a.squaredDistance(i, u)
                );
              }
              e.exports = n;
              var a = t('../math/vec2');
              t('../collision/RaycastResult'),
              t('../shapes/Shape'),
              t('../collision/AABB'),
              (n.prototype.constructor = n),
              (n.CLOSEST = 1),
              (n.ANY = 2),
              (n.ALL = 4),
              (n.prototype.update = function () {
                const t = this.direction;
                a.sub(t, this.to, this.from),
                (this.length = a.length(t)),
                a.normalize(t, t);
              }),
              (n.prototype.intersectBodies = function (t, e) {
                for (
                  let i = 0, n = e.length;
                  !t.shouldStop(this) && i < n;
                  i++
                ) {
                  let r = e[i],
                    a = r.getAABB();
                  (a.overlapsRay(this) >= 0 ||
                        a.containsPoint(this.from)) &&
                        this.intersectBody(t, r);
                }
              });
              const o = a.create();
              (n.prototype.intersectBody = function (t, e) {
                const i = this.checkCollisionResponse;
                if (!i || e.collisionResponse) {
                  for (let n = o, r = 0, s = e.shapes.length; r < s; r++) {
                    let u = e.shapes[r];
                    if (
                      (!i || u.collisionResponse) &&
                        (this.collisionGroup & u.collisionMask) != 0 &&
                        (u.collisionGroup & this.collisionMask) != 0
                    ) {
                      a.rotate(n, u.position, e.angle),
                      a.add(n, n, e.position);
                      let l = u.angle + e.angle;
                      if (
                        (this.intersectShape(t, u, l, n, e),
                        t.shouldStop(this))
                      ) { break; }
                    }
                  }
                }
              }),
              (n.prototype.intersectShape = function (t, e, i, n, a) {
                r(this.from, this.direction, n) >
                      e.boundingRadius * e.boundingRadius ||
                      ((this._currentBody = a),
                      (this._currentShape = e),
                      e.raycast(t, this, n, i),
                      (this._currentBody = this._currentShape = null));
              }),
              (n.prototype.getAABB = function (t) {
                let e = this.to,
                  i = this.from;
                a.set(
                  t.lowerBound,
                  Math.min(e[0], i[0]),
                  Math.min(e[1], i[1]),
                ),
                a.set(
                  t.upperBound,
                  Math.max(e[0], i[0]),
                  Math.max(e[1], i[1]),
                );
              }),
              a.create(),
              (n.prototype.reportIntersection = function (t, e, i, r) {
                let o = (this.from, this.to, this._currentShape),
                  s = this._currentBody;
                if (!(this.skipBackfaces && a.dot(i, this.direction) > 0)) {
                  switch (this.mode) {
                    case n.ALL:
                      t.set(i, o, s, e, r), this.callback(t);
                      break;
                    case n.CLOSEST:
                      (e < t.fraction || !t.hasHit()) &&
                            t.set(i, o, s, e, r);
                      break;
                    case n.ANY:
                      t.set(i, o, s, e, r);
                  }
                }
              });
              var s = a.create(),
                u = a.create();
            },
            {
              '../collision/AABB': 7,
              '../collision/RaycastResult': 12,
              '../math/vec2': 30,
              '../shapes/Shape': 45,
            },
          ],
          12: [
            function (t, e, i) {
              function n() {
                (this.normal = r.create()),
                (this.shape = null),
                (this.body = null),
                (this.faceIndex = -1),
                (this.fraction = -1),
                (this.isStopped = !1);
              }
              var r = t('../math/vec2'),
                a = t('../collision/Ray');
              (e.exports = n),
              (n.prototype.reset = function () {
                r.set(this.normal, 0, 0),
                (this.shape = null),
                (this.body = null),
                (this.faceIndex = -1),
                (this.fraction = -1),
                (this.isStopped = !1);
              }),
              (n.prototype.getHitDistance = function (t) {
                return r.distance(t.from, t.to) * this.fraction;
              }),
              (n.prototype.hasHit = function () {
                return this.fraction !== -1;
              }),
              (n.prototype.getHitPoint = function (t, e) {
                r.lerp(t, e.from, e.to, this.fraction);
              }),
              (n.prototype.stop = function () {
                this.isStopped = !0;
              }),
              (n.prototype.shouldStop = function (t) {
                return (
                  this.isStopped ||
                      (this.fraction !== -1 && t.mode === a.ANY)
                );
              }),
              (n.prototype.set = function (t, e, i, n, a) {
                r.copy(this.normal, t),
                (this.shape = e),
                (this.body = i),
                (this.fraction = n),
                (this.faceIndex = a);
              });
            },
            { '../collision/Ray': 11, '../math/vec2': 30 },
          ],
          13: [
            function (t, e, i) {
              function n() {
                a.call(this, a.SAP),
                (this.axisList = []),
                (this.axisIndex = 0);
                const t = this;
                (this._addBodyHandler = function (e) {
                  t.axisList.push(e.body);
                }),
                (this._removeBodyHandler = function (e) {
                  const i = t.axisList.indexOf(e.body);
                  i !== -1 && t.axisList.splice(i, 1);
                });
              }
              var r = t('../utils/Utils'),
                a = t('../collision/Broadphase');
              (e.exports = n),
              (n.prototype = new a()),
              (n.prototype.constructor = n),
              (n.prototype.setWorld = function (t) {
                (this.axisList.length = 0),
                r.appendArray(this.axisList, t.bodies),
                t
                  .off('addBody', this._addBodyHandler)
                  .off('removeBody', this._removeBodyHandler),
                t
                  .on('addBody', this._addBodyHandler)
                  .on('removeBody', this._removeBodyHandler),
                (this.world = t);
              }),
              (n.sortAxisList = function (t, e) {
                e |= 0;
                for (let i = 1, n = t.length; i < n; i++) {
                  for (
                    var r = t[i], a = i - 1;
                    a >= 0 &&
                        !(t[a].aabb.lowerBound[e] <= r.aabb.lowerBound[e]);
                    a--
                  ) { t[a + 1] = t[a]; }
                  t[a + 1] = r;
                }
                return t;
              }),
              (n.prototype.sortList = function () {
                let t = this.axisList,
                  e = this.axisIndex;
                n.sortAxisList(t, e);
              }),
              (n.prototype.getCollisionPairs = function (t) {
                let e = this.axisList,
                  i = this.result,
                  n = this.axisIndex;
                i.length = 0;
                for (let r = e.length; r--;) {
                  const o = e[r];
                  o.aabbNeedsUpdate && o.updateAABB();
                }
                this.sortList();
                for (let s = 0, u = 0 | e.length; s !== u; s++) {
                  for (let l = e[s], c = s + 1; c < u; c++) {
                    let h = e[c],
                      d = h.aabb.lowerBound[n] <= l.aabb.upperBound[n];
                    if (!d) break;
                    a.canCollide(l, h) &&
                          this.boundingVolumeCheck(l, h) &&
                          i.push(l, h);
                  }
                }
                return i;
              }),
              (n.prototype.aabbQuery = function (t, e, i) {
                (i = i || []), this.sortList();
                let n = this.axisIndex,
                  r = 'x';
                n === 1 && (r = 'y'), n === 2 && (r = 'z');
                for (
                  let a = this.axisList,
                    o = (e.lowerBound[r], e.upperBound[r], 0);
                  o < a.length;
                  o++
                ) {
                  const s = a[o];
                  s.aabbNeedsUpdate && s.updateAABB(),
                  s.aabb.overlaps(e) && i.push(s);
                }
                return i;
              });
            },
            { '../collision/Broadphase': 8, '../utils/Utils': 57 },
          ],
          14: [
            function (t, e, i) {
              function n(t, e, i, n) {
                (this.type = i),
                (n = r.defaults(n, {
                  collideConnected: !0,
                  wakeUpBodies: !0,
                })),
                (this.equations = []),
                (this.bodyA = t),
                (this.bodyB = e),
                (this.collideConnected = n.collideConnected),
                n.wakeUpBodies && (t && t.wakeUp(), e && e.wakeUp());
              }
              e.exports = n;
              var r = t('../utils/Utils');
              (n.prototype.update = function () {
                throw new Error('method update() not implmemented in this Constraint subclass!');
              }),
              (n.DISTANCE = 1),
              (n.GEAR = 2),
              (n.LOCK = 3),
              (n.PRISMATIC = 4),
              (n.REVOLUTE = 5),
              (n.prototype.setStiffness = function (t) {
                for (let e = this.equations, i = 0; i !== e.length; i++) {
                  const n = e[i];
                  (n.stiffness = t), (n.needsUpdate = !0);
                }
              }),
              (n.prototype.setRelaxation = function (t) {
                for (let e = this.equations, i = 0; i !== e.length; i++) {
                  const n = e[i];
                  (n.relaxation = t), (n.needsUpdate = !0);
                }
              });
            },
            { '../utils/Utils': 57 },
          ],
          15: [
            function (t, e, i) {
              function n(t, e, i) {
                (i = s.defaults(i, {
                  localAnchorA: [0, 0],
                  localAnchorB: [0, 0],
                })),
                r.call(this, t, e, r.DISTANCE, i),
                (this.localAnchorA = o.fromValues(
                  i.localAnchorA[0],
                  i.localAnchorA[1],
                )),
                (this.localAnchorB = o.fromValues(
                  i.localAnchorB[0],
                  i.localAnchorB[1],
                ));
                let n = this.localAnchorA,
                  u = this.localAnchorB;
                if (((this.distance = 0), typeof i.distance === 'number')) { this.distance = i.distance; } else {
                  var l = o.create(),
                    c = o.create(),
                    h = o.create();
                  o.rotate(l, n, t.angle),
                  o.rotate(c, u, e.angle),
                  o.add(h, e.position, c),
                  o.sub(h, h, l),
                  o.sub(h, h, t.position),
                  (this.distance = o.length(h));
                }
                let d;
                d = void 0 === i.maxForce ? Number.MAX_VALUE : i.maxForce;
                const f = new a(t, e, -d, d);
                (this.equations = [f]), (this.maxForce = d);
                var h = o.create(),
                  p = o.create(),
                  g = o.create(),
                  y = this;
                (f.computeGq = function () {
                  let t = this.bodyA,
                    e = this.bodyB,
                    i = t.position,
                    r = e.position;
                  return (
                    o.rotate(p, n, t.angle),
                    o.rotate(g, u, e.angle),
                    o.add(h, r, g),
                    o.sub(h, h, p),
                    o.sub(h, h, i),
                    o.length(h) - y.distance
                  );
                }),
                this.setMaxForce(d),
                (this.upperLimitEnabled = !1),
                (this.upperLimit = 1),
                (this.lowerLimitEnabled = !1),
                (this.lowerLimit = 0),
                (this.position = 0);
              }
              var r = t('./Constraint'),
                a = t('../equations/Equation'),
                o = t('../math/vec2'),
                s = t('../utils/Utils');
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n);
              let u = o.create(),
                l = o.create(),
                c = o.create();
              (n.prototype.update = function () {
                let t = this.equations[0],
                  e = this.bodyA,
                  i = this.bodyB,
                  n = (this.distance, e.position),
                  r = i.position,
                  a = this.equations[0],
                  s = t.G;
                o.rotate(l, this.localAnchorA, e.angle),
                o.rotate(c, this.localAnchorB, i.angle),
                o.add(u, r, c),
                o.sub(u, u, l),
                o.sub(u, u, n),
                (this.position = o.length(u));
                let h = !1;
                if (
                  (this.upperLimitEnabled &&
                      this.position > this.upperLimit &&
                      ((a.maxForce = 0),
                      (a.minForce = -this.maxForce),
                      (this.distance = this.upperLimit),
                      (h = !0)),
                  this.lowerLimitEnabled &&
                      this.position < this.lowerLimit &&
                      ((a.maxForce = this.maxForce),
                      (a.minForce = 0),
                      (this.distance = this.lowerLimit),
                      (h = !0)),
                  (this.lowerLimitEnabled || this.upperLimitEnabled) && !h)
                ) { return void (a.enabled = !1); }
                (a.enabled = !0), o.normalize(u, u);
                let d = o.crossLength(l, u),
                  f = o.crossLength(c, u);
                (s[0] = -u[0]),
                (s[1] = -u[1]),
                (s[2] = -d),
                (s[3] = u[0]),
                (s[4] = u[1]),
                (s[5] = f);
              }),
              (n.prototype.setMaxForce = function (t) {
                const e = this.equations[0];
                (e.minForce = -t), (e.maxForce = t);
              }),
              (n.prototype.getMaxForce = function () {
                return this.equations[0].maxForce;
              });
            },
            {
              '../equations/Equation': 22,
              '../math/vec2': 30,
              '../utils/Utils': 57,
              './Constraint': 14,
            },
          ],
          16: [
            function (t, e, i) {
              function n(t, e, i) {
                (i = i || {}),
                r.call(this, t, e, r.GEAR, i),
                (this.ratio = void 0 !== i.ratio ? i.ratio : 1),
                (this.angle =
                      void 0 !== i.angle
                        ? i.angle
                        : e.angle - this.ratio * t.angle),
                (i.angle = this.angle),
                (i.ratio = this.ratio),
                (this.equations = [new a(t, e, i)]),
                void 0 !== i.maxTorque && this.setMaxTorque(i.maxTorque);
              }
              var r = t('./Constraint'),
                a =
                    (t('../equations/Equation'),
                    t('../equations/AngleLockEquation'));
              t('../math/vec2'),
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.update = function () {
                const t = this.equations[0];
                t.ratio !== this.ratio && t.setRatio(this.ratio),
                (t.angle = this.angle);
              }),
              (n.prototype.setMaxTorque = function (t) {
                this.equations[0].setMaxTorque(t);
              }),
              (n.prototype.getMaxTorque = function (t) {
                return this.equations[0].maxForce;
              });
            },
            {
              '../equations/AngleLockEquation': 20,
              '../equations/Equation': 22,
              '../math/vec2': 30,
              './Constraint': 14,
            },
          ],
          17: [
            function (t, e, i) {
              function n(t, e, i) {
                (i = i || {}), r.call(this, t, e, r.LOCK, i);
                let n = void 0 === i.maxForce ? Number.MAX_VALUE : i.maxForce,
                  s = (i.localAngleB, new o(t, e, -n, n)),
                  u = new o(t, e, -n, n),
                  l = new o(t, e, -n, n),
                  c = a.create(),
                  h = a.create(),
                  d = this;
                (s.computeGq = function () {
                  return (
                    a.rotate(c, d.localOffsetB, t.angle),
                    a.sub(h, e.position, t.position),
                    a.sub(h, h, c),
                    h[0]
                  );
                }),
                (u.computeGq = function () {
                  return (
                    a.rotate(c, d.localOffsetB, t.angle),
                    a.sub(h, e.position, t.position),
                    a.sub(h, h, c),
                    h[1]
                  );
                });
                let f = a.create(),
                  p = a.create();
                (l.computeGq = function () {
                  return (
                    a.rotate(f, d.localOffsetB, e.angle - d.localAngleB),
                    a.scale(f, f, -1),
                    a.sub(h, t.position, e.position),
                    a.add(h, h, f),
                    a.rotate(p, f, -Math.PI / 2),
                    a.normalize(p, p),
                    a.dot(h, p)
                  );
                }),
                (this.localOffsetB = a.create()),
                i.localOffsetB
                  ? a.copy(this.localOffsetB, i.localOffsetB)
                  : (a.sub(this.localOffsetB, e.position, t.position),
                  a.rotate(
                    this.localOffsetB,
                    this.localOffsetB,
                    -t.angle,
                  )),
                (this.localAngleB = 0),
                typeof i.localAngleB === 'number'
                  ? (this.localAngleB = i.localAngleB)
                  : (this.localAngleB = e.angle - t.angle),
                this.equations.push(s, u, l),
                this.setMaxForce(n);
              }
              var r = t('./Constraint'),
                a = t('../math/vec2'),
                o = t('../equations/Equation');
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.setMaxForce = function (t) {
                for (
                  let e = this.equations, i = 0;
                  i < this.equations.length;
                  i++
                ) { (e[i].maxForce = t), (e[i].minForce = -t); }
              }),
              (n.prototype.getMaxForce = function () {
                return this.equations[0].maxForce;
              });
              let s = a.create(),
                u = a.create(),
                l = a.create(),
                c = a.fromValues(1, 0),
                h = a.fromValues(0, 1);
              n.prototype.update = function () {
                let t = this.equations[0],
                  e = this.equations[1],
                  i = this.equations[2],
                  n = this.bodyA,
                  r = this.bodyB;
                a.rotate(s, this.localOffsetB, n.angle),
                a.rotate(u, this.localOffsetB, r.angle - this.localAngleB),
                a.scale(u, u, -1),
                a.rotate(l, u, Math.PI / 2),
                a.normalize(l, l),
                (t.G[0] = -1),
                (t.G[1] = 0),
                (t.G[2] = -a.crossLength(s, c)),
                (t.G[3] = 1),
                (e.G[0] = 0),
                (e.G[1] = -1),
                (e.G[2] = -a.crossLength(s, h)),
                (e.G[4] = 1),
                (i.G[0] = -l[0]),
                (i.G[1] = -l[1]),
                (i.G[3] = l[0]),
                (i.G[4] = l[1]),
                (i.G[5] = a.crossLength(u, l));
              };
            },
            {
              '../equations/Equation': 22,
              '../math/vec2': 30,
              './Constraint': 14,
            },
          ],
          18: [
            function (t, e, i) {
              function n(t, e, i) {
                (i = i || {}), r.call(this, t, e, r.PRISMATIC, i);
                let n = s.fromValues(0, 0),
                  l = s.fromValues(1, 0),
                  c = s.fromValues(0, 0);
                i.localAnchorA && s.copy(n, i.localAnchorA),
                i.localAxisA && s.copy(l, i.localAxisA),
                i.localAnchorB && s.copy(c, i.localAnchorB),
                (this.localAnchorA = n),
                (this.localAnchorB = c),
                (this.localAxisA = l);
                let h = (this.maxForce =
                      void 0 !== i.maxForce ? i.maxForce : Number.MAX_VALUE),
                  d = new o(t, e, -h, h),
                  f = new s.create(),
                  p = new s.create(),
                  g = new s.create(),
                  y = new s.create();
                if (
                  ((d.computeGq = function () {
                    return s.dot(g, y);
                  }),
                  (d.updateJacobian = function () {
                    let i = this.G,
                      r = t.position,
                      a = e.position;
                    s.rotate(f, n, t.angle),
                    s.rotate(p, c, e.angle),
                    s.add(g, a, p),
                    s.sub(g, g, r),
                    s.sub(g, g, f),
                    s.rotate(y, l, t.angle + Math.PI / 2),
                    (i[0] = -y[0]),
                    (i[1] = -y[1]),
                    (i[2] = -s.crossLength(f, y) + s.crossLength(y, g)),
                    (i[3] = y[0]),
                    (i[4] = y[1]),
                    (i[5] = s.crossLength(p, y));
                  }),
                  this.equations.push(d),
                  !i.disableRotationalLock)
                ) {
                  const v = new u(t, e, -h, h);
                  this.equations.push(v);
                }
                (this.position = 0),
                (this.velocity = 0),
                (this.lowerLimitEnabled = void 0 !== i.lowerLimit),
                (this.upperLimitEnabled = void 0 !== i.upperLimit),
                (this.lowerLimit =
                      void 0 !== i.lowerLimit ? i.lowerLimit : 0),
                (this.upperLimit =
                      void 0 !== i.upperLimit ? i.upperLimit : 1),
                (this.upperLimitEquation = new a(t, e)),
                (this.lowerLimitEquation = new a(t, e)),
                (this.upperLimitEquation.minForce = this.lowerLimitEquation.minForce = 0),
                (this.upperLimitEquation.maxForce = this.lowerLimitEquation.maxForce = h),
                (this.motorEquation = new o(t, e)),
                (this.motorEnabled = !1),
                (this.motorSpeed = 0);
                let m = this,
                  b = this.motorEquation;
                b.computeGW,
                (b.computeGq = function () {
                  return 0;
                }),
                (b.computeGW = function () {
                  let t = this.G,
                    e = this.bodyA,
                    i = this.bodyB,
                    n = e.velocity,
                    r = i.velocity,
                    a = e.angularVelocity,
                    o = i.angularVelocity;
                  return this.gmult(t, n, a, r, o) + m.motorSpeed;
                });
              }
              var r = t('./Constraint'),
                a = t('../equations/ContactEquation'),
                o = t('../equations/Equation'),
                s = t('../math/vec2'),
                u = t('../equations/RotationalLockEquation');
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n);
              let l = s.create(),
                c = s.create(),
                h = s.create(),
                d = s.create(),
                f = s.create(),
                p = s.create();
              (n.prototype.update = function () {
                let t = this.equations,
                  e = t[0],
                  i = this.upperLimit,
                  n = this.lowerLimit,
                  r = this.upperLimitEquation,
                  a = this.lowerLimitEquation,
                  o = this.bodyA,
                  u = this.bodyB,
                  g = this.localAxisA,
                  y = this.localAnchorA,
                  v = this.localAnchorB;
                e.updateJacobian(),
                s.rotate(l, g, o.angle),
                s.rotate(d, y, o.angle),
                s.add(c, d, o.position),
                s.rotate(f, v, u.angle),
                s.add(h, f, u.position);
                const m = (this.position = s.dot(h, l) - s.dot(c, l));
                if (this.motorEnabled) {
                  const b = this.motorEquation.G;
                  (b[0] = l[0]),
                  (b[1] = l[1]),
                  (b[2] = s.crossLength(l, f)),
                  (b[3] = -l[0]),
                  (b[4] = -l[1]),
                  (b[5] = -s.crossLength(l, d));
                }
                if (this.upperLimitEnabled && m > i) {
                  s.scale(r.normalA, l, -1),
                  s.sub(r.contactPointA, c, o.position),
                  s.sub(r.contactPointB, h, u.position),
                  s.scale(p, l, i),
                  s.add(r.contactPointA, r.contactPointA, p),
                  t.indexOf(r) === -1 && t.push(r);
                } else {
                  var _ = t.indexOf(r);
                  _ !== -1 && t.splice(_, 1);
                }
                if (this.lowerLimitEnabled && m < n) {
                  s.scale(a.normalA, l, 1),
                  s.sub(a.contactPointA, c, o.position),
                  s.sub(a.contactPointB, h, u.position),
                  s.scale(p, l, n),
                  s.sub(a.contactPointB, a.contactPointB, p),
                  t.indexOf(a) === -1 && t.push(a);
                } else {
                  var _ = t.indexOf(a);
                  _ !== -1 && t.splice(_, 1);
                }
              }),
              (n.prototype.enableMotor = function () {
                this.motorEnabled ||
                      (this.equations.push(this.motorEquation),
                      (this.motorEnabled = !0));
              }),
              (n.prototype.disableMotor = function () {
                if (this.motorEnabled) {
                  const t = this.equations.indexOf(this.motorEquation);
                  this.equations.splice(t, 1), (this.motorEnabled = !1);
                }
              }),
              (n.prototype.setLimits = function (t, e) {
                typeof t === 'number'
                  ? ((this.lowerLimit = t), (this.lowerLimitEnabled = !0))
                  : ((this.lowerLimit = t), (this.lowerLimitEnabled = !1)),
                typeof e === 'number'
                  ? ((this.upperLimit = e), (this.upperLimitEnabled = !0))
                  : ((this.upperLimit = e),
                  (this.upperLimitEnabled = !1));
              });
            },
            {
              '../equations/ContactEquation': 21,
              '../equations/Equation': 22,
              '../equations/RotationalLockEquation': 24,
              '../math/vec2': 30,
              './Constraint': 14,
            },
          ],
          19: [
            function (t, e, i) {
              function n(t, e, i) {
                (i = i || {}), r.call(this, t, e, r.REVOLUTE, i);
                const n = (this.maxForce =
                    void 0 !== i.maxForce ? i.maxForce : Number.MAX_VALUE);
                (this.pivotA = u.create()),
                (this.pivotB = u.create()),
                i.worldPivot
                  ? (u.sub(this.pivotA, i.worldPivot, t.position),
                  u.sub(this.pivotB, i.worldPivot, e.position),
                  u.rotate(this.pivotA, this.pivotA, -t.angle),
                  u.rotate(this.pivotB, this.pivotB, -e.angle))
                  : (u.copy(this.pivotA, i.localPivotA),
                  u.copy(this.pivotB, i.localPivotB));
                let p = (this.equations = [
                    new a(t, e, -n, n),
                    new a(t, e, -n, n),
                  ]),
                  g = p[0],
                  y = p[1],
                  v = this;
                (g.computeGq = function () {
                  return (
                    u.rotate(l, v.pivotA, t.angle),
                    u.rotate(c, v.pivotB, e.angle),
                    u.add(f, e.position, c),
                    u.sub(f, f, t.position),
                    u.sub(f, f, l),
                    u.dot(f, h)
                  );
                }),
                (y.computeGq = function () {
                  return (
                    u.rotate(l, v.pivotA, t.angle),
                    u.rotate(c, v.pivotB, e.angle),
                    u.add(f, e.position, c),
                    u.sub(f, f, t.position),
                    u.sub(f, f, l),
                    u.dot(f, d)
                  );
                }),
                (y.minForce = g.minForce = -n),
                (y.maxForce = g.maxForce = n),
                (this.motorEquation = new o(t, e)),
                (this.motorEnabled = !1),
                (this.angle = 0),
                (this.lowerLimitEnabled = !1),
                (this.upperLimitEnabled = !1),
                (this.lowerLimit = 0),
                (this.upperLimit = 0),
                (this.upperLimitEquation = new s(t, e)),
                (this.lowerLimitEquation = new s(t, e)),
                (this.upperLimitEquation.minForce = 0),
                (this.lowerLimitEquation.maxForce = 0);
              }
              var r = t('./Constraint'),
                a = t('../equations/Equation'),
                o = t('../equations/RotationalVelocityEquation'),
                s = t('../equations/RotationalLockEquation'),
                u = t('../math/vec2');
              e.exports = n;
              var l = u.create(),
                c = u.create(),
                h = u.fromValues(1, 0),
                d = u.fromValues(0, 1),
                f = u.create();
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.setLimits = function (t, e) {
                typeof t === 'number'
                  ? ((this.lowerLimit = t), (this.lowerLimitEnabled = !0))
                  : ((this.lowerLimit = t), (this.lowerLimitEnabled = !1)),
                typeof e === 'number'
                  ? ((this.upperLimit = e), (this.upperLimitEnabled = !0))
                  : ((this.upperLimit = e),
                  (this.upperLimitEnabled = !1));
              }),
              (n.prototype.update = function () {
                let t = this.bodyA,
                  e = this.bodyB,
                  i = this.pivotA,
                  n = this.pivotB,
                  r = this.equations,
                  a = (r[0], r[1], r[0]),
                  o = r[1],
                  s = this.upperLimit,
                  f = this.lowerLimit,
                  p = this.upperLimitEquation,
                  g = this.lowerLimitEquation,
                  y = (this.angle = e.angle - t.angle);
                if (this.upperLimitEnabled && y > s) { (p.angle = s), r.indexOf(p) === -1 && r.push(p); } else {
                  var v = r.indexOf(p);
                  v !== -1 && r.splice(v, 1);
                }
                if (this.lowerLimitEnabled && y < f) { (g.angle = f), r.indexOf(g) === -1 && r.push(g); } else {
                  var v = r.indexOf(g);
                  v !== -1 && r.splice(v, 1);
                }
                u.rotate(l, i, t.angle),
                u.rotate(c, n, e.angle),
                (a.G[0] = -1),
                (a.G[1] = 0),
                (a.G[2] = -u.crossLength(l, h)),
                (a.G[3] = 1),
                (a.G[4] = 0),
                (a.G[5] = u.crossLength(c, h)),
                (o.G[0] = 0),
                (o.G[1] = -1),
                (o.G[2] = -u.crossLength(l, d)),
                (o.G[3] = 0),
                (o.G[4] = 1),
                (o.G[5] = u.crossLength(c, d));
              }),
              (n.prototype.enableMotor = function () {
                this.motorEnabled ||
                      (this.equations.push(this.motorEquation),
                      (this.motorEnabled = !0));
              }),
              (n.prototype.disableMotor = function () {
                if (this.motorEnabled) {
                  const t = this.equations.indexOf(this.motorEquation);
                  this.equations.splice(t, 1), (this.motorEnabled = !1);
                }
              }),
              (n.prototype.motorIsEnabled = function () {
                return !!this.motorEnabled;
              }),
              (n.prototype.setMotorSpeed = function (t) {
                if (this.motorEnabled) {
                  const e = this.equations.indexOf(this.motorEquation);
                  this.equations[e].relativeVelocity = t;
                }
              }),
              (n.prototype.getMotorSpeed = function () {
                return (
                  !!this.motorEnabled && this.motorEquation.relativeVelocity
                );
              });
            },
            {
              '../equations/Equation': 22,
              '../equations/RotationalLockEquation': 24,
              '../equations/RotationalVelocityEquation': 25,
              '../math/vec2': 30,
              './Constraint': 14,
            },
          ],
          20: [
            function (t, e, i) {
              function n(t, e, i) {
                (i = i || {}),
                r.call(this, t, e, -Number.MAX_VALUE, Number.MAX_VALUE),
                (this.angle = i.angle || 0),
                (this.ratio = typeof i.ratio === 'number' ? i.ratio : 1),
                this.setRatio(this.ratio);
              }
              var r = t('./Equation');
              t('../math/vec2'),
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.computeGq = function () {
                return (
                  this.ratio * this.bodyA.angle -
                      this.bodyB.angle +
                      this.angle
                );
              }),
              (n.prototype.setRatio = function (t) {
                const e = this.G;
                (e[2] = t), (e[5] = -1), (this.ratio = t);
              }),
              (n.prototype.setMaxTorque = function (t) {
                (this.maxForce = t), (this.minForce = -t);
              });
            },
            { '../math/vec2': 30, './Equation': 22 },
          ],
          21: [
            function (t, e, i) {
              function n(t, e) {
                r.call(this, t, e, 0, Number.MAX_VALUE),
                (this.contactPointA = a.create()),
                (this.penetrationVec = a.create()),
                (this.contactPointB = a.create()),
                (this.normalA = a.create()),
                (this.restitution = 0),
                (this.firstImpact = !1),
                (this.shapeA = null),
                (this.shapeB = null);
              }
              var r = t('./Equation'),
                a = t('../math/vec2');
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.computeB = function (t, e, i) {
                let n = this.bodyA,
                  r = this.bodyB,
                  o = this.contactPointA,
                  s = this.contactPointB,
                  u = n.position,
                  l = r.position,
                  c = this.penetrationVec,
                  h = this.normalA,
                  d = this.G,
                  f = a.crossLength(o, h),
                  p = a.crossLength(s, h);
                (d[0] = -h[0]),
                (d[1] = -h[1]),
                (d[2] = -f),
                (d[3] = h[0]),
                (d[4] = h[1]),
                (d[5] = p),
                a.add(c, l, s),
                a.sub(c, c, u),
                a.sub(c, c, o);
                let g,
                  y;
                return (
                  this.firstImpact && this.restitution !== 0
                    ? ((y = 0),
                    (g =
                            (1 / e) *
                            (1 + this.restitution) *
                            this.computeGW()))
                    : ((y = a.dot(h, c) + this.offset),
                    (g = this.computeGW())),
                  -y * t - g * e - i * this.computeGiMf()
                );
              });
            },
            { '../math/vec2': 30, './Equation': 22 },
          ],
          22: [
            function (t, e, i) {
              function n(t, e, i, r) {
                (this.minForce = void 0 === i ? -Number.MAX_VALUE : i),
                (this.maxForce = void 0 === r ? Number.MAX_VALUE : r),
                (this.bodyA = t),
                (this.bodyB = e),
                (this.stiffness = n.DEFAULT_STIFFNESS),
                (this.relaxation = n.DEFAULT_RELAXATION),
                (this.G = new a.ARRAY_TYPE(6));
                for (let o = 0; o < 6; o++) this.G[o] = 0;
                (this.offset = 0),
                (this.a = 0),
                (this.b = 0),
                (this.epsilon = 0),
                (this.timeStep = 1 / 60),
                (this.needsUpdate = !0),
                (this.multiplier = 0),
                (this.relativeVelocity = 0),
                (this.enabled = !0);
              }
              e.exports = n;
              var r = t('../math/vec2'),
                a = t('../utils/Utils');
              t('../objects/Body'),
              (n.prototype.constructor = n),
              (n.DEFAULT_STIFFNESS = 1e6),
              (n.DEFAULT_RELAXATION = 4),
              (n.prototype.update = function () {
                let t = this.stiffness,
                  e = this.relaxation,
                  i = this.timeStep;
                (this.a = 4 / (i * (1 + 4 * e))),
                (this.b = (4 * e) / (1 + 4 * e)),
                (this.epsilon = 4 / (i * i * t * (1 + 4 * e))),
                (this.needsUpdate = !1);
              }),
              (n.prototype.gmult = function (t, e, i, n, r) {
                return (
                  t[0] * e[0] +
                      t[1] * e[1] +
                      t[2] * i +
                      t[3] * n[0] +
                      t[4] * n[1] +
                      t[5] * r
                );
              }),
              (n.prototype.computeB = function (t, e, i) {
                const n = this.computeGW();
                return (
                  -this.computeGq() * t - n * e - this.computeGiMf() * i
                );
              });
              let o = r.create(),
                s = r.create();
              (n.prototype.computeGq = function () {
                let t = this.G,
                  e = this.bodyA,
                  i = this.bodyB,
                  n = (e.position, i.position, e.angle),
                  r = i.angle;
                return this.gmult(t, o, n, s, r) + this.offset;
              }),
              (n.prototype.computeGW = function () {
                let t = this.G,
                  e = this.bodyA,
                  i = this.bodyB,
                  n = e.velocity,
                  r = i.velocity,
                  a = e.angularVelocity,
                  o = i.angularVelocity;
                return this.gmult(t, n, a, r, o) + this.relativeVelocity;
              }),
              (n.prototype.computeGWlambda = function () {
                let t = this.G,
                  e = this.bodyA,
                  i = this.bodyB,
                  n = e.vlambda,
                  r = i.vlambda,
                  a = e.wlambda,
                  o = i.wlambda;
                return this.gmult(t, n, a, r, o);
              });
              let u = r.create(),
                l = r.create();
              (n.prototype.computeGiMf = function () {
                let t = this.bodyA,
                  e = this.bodyB,
                  i = t.force,
                  n = t.angularForce,
                  a = e.force,
                  o = e.angularForce,
                  s = t.invMassSolve,
                  c = e.invMassSolve,
                  h = t.invInertiaSolve,
                  d = e.invInertiaSolve,
                  f = this.G;
                return (
                  r.scale(u, i, s),
                  r.multiply(u, t.massMultiplier, u),
                  r.scale(l, a, c),
                  r.multiply(l, e.massMultiplier, l),
                  this.gmult(f, u, n * h, l, o * d)
                );
              }),
              (n.prototype.computeGiMGt = function () {
                let t = this.bodyA,
                  e = this.bodyB,
                  i = t.invMassSolve,
                  n = e.invMassSolve,
                  r = t.invInertiaSolve,
                  a = e.invInertiaSolve,
                  o = this.G;
                return (
                  o[0] * o[0] * i * t.massMultiplier[0] +
                      o[1] * o[1] * i * t.massMultiplier[1] +
                      o[2] * o[2] * r +
                      o[3] * o[3] * n * e.massMultiplier[0] +
                      o[4] * o[4] * n * e.massMultiplier[1] +
                      o[5] * o[5] * a
                );
              });
              let c = r.create(),
                h = r.create(),
                d = r.create();
              r.create(),
              r.create(),
              r.create(),
              (n.prototype.addToWlambda = function (t) {
                let e = this.bodyA,
                  i = this.bodyB,
                  n = c,
                  a = h,
                  o = d,
                  s = e.invMassSolve,
                  u = i.invMassSolve,
                  l = e.invInertiaSolve,
                  f = i.invInertiaSolve,
                  p = this.G;
                (a[0] = p[0]),
                (a[1] = p[1]),
                (o[0] = p[3]),
                (o[1] = p[4]),
                r.scale(n, a, s * t),
                r.multiply(n, n, e.massMultiplier),
                r.add(e.vlambda, e.vlambda, n),
                (e.wlambda += l * p[2] * t),
                r.scale(n, o, u * t),
                r.multiply(n, n, i.massMultiplier),
                r.add(i.vlambda, i.vlambda, n),
                (i.wlambda += f * p[5] * t);
              }),
              (n.prototype.computeInvC = function (t) {
                return 1 / (this.computeGiMGt() + t);
              });
            },
            {
              '../math/vec2': 30,
              '../objects/Body': 31,
              '../utils/Utils': 57,
            },
          ],
          23: [
            function (t, e, i) {
              function n(t, e, i) {
                a.call(this, t, e, -i, i),
                (this.contactPointA = r.create()),
                (this.contactPointB = r.create()),
                (this.t = r.create()),
                (this.contactEquations = []),
                (this.shapeA = null),
                (this.shapeB = null),
                (this.frictionCoefficient = 0.3);
              }
              var r = t('../math/vec2'),
                a = t('./Equation');
              t('../utils/Utils'),
              (e.exports = n),
              (n.prototype = new a()),
              (n.prototype.constructor = n),
              (n.prototype.setSlipForce = function (t) {
                (this.maxForce = t), (this.minForce = -t);
              }),
              (n.prototype.getSlipForce = function () {
                return this.maxForce;
              }),
              (n.prototype.computeB = function (t, e, i) {
                let n = (this.bodyA, this.bodyB, this.contactPointA),
                  a = this.contactPointB,
                  o = this.t,
                  s = this.G;
                return (
                  (s[0] = -o[0]),
                  (s[1] = -o[1]),
                  (s[2] = -r.crossLength(n, o)),
                  (s[3] = o[0]),
                  (s[4] = o[1]),
                  (s[5] = r.crossLength(a, o)),
                  -this.computeGW() * e - i * this.computeGiMf()
                );
              });
            },
            { '../math/vec2': 30, '../utils/Utils': 57, './Equation': 22 },
          ],
          24: [
            function (t, e, i) {
              function n(t, e, i) {
                (i = i || {}),
                r.call(this, t, e, -Number.MAX_VALUE, Number.MAX_VALUE),
                (this.angle = i.angle || 0);
                const n = this.G;
                (n[2] = 1), (n[5] = -1);
              }
              var r = t('./Equation'),
                a = t('../math/vec2');
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n);
              let o = a.create(),
                s = a.create(),
                u = a.fromValues(1, 0),
                l = a.fromValues(0, 1);
              n.prototype.computeGq = function () {
                return (
                  a.rotate(o, u, this.bodyA.angle + this.angle),
                  a.rotate(s, l, this.bodyB.angle),
                  a.dot(o, s)
                );
              };
            },
            { '../math/vec2': 30, './Equation': 22 },
          ],
          25: [
            function (t, e, i) {
              function n(t, e) {
                r.call(this, t, e, -Number.MAX_VALUE, Number.MAX_VALUE),
                (this.relativeVelocity = 1),
                (this.ratio = 1);
              }
              var r = t('./Equation');
              t('../math/vec2'),
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.computeB = function (t, e, i) {
                const n = this.G;
                (n[2] = -1), (n[5] = this.ratio);
                const r = this.computeGiMf();
                return -this.computeGW() * e - i * r;
              });
            },
            { '../math/vec2': 30, './Equation': 22 },
          ],
          26: [
            function (t, e, i) {
              const n = function () {};
              (e.exports = n),
              (n.prototype = {
                constructor: n,
                on(t, e, i) {
                  (e.context = i || this),
                  void 0 === this._listeners && (this._listeners = {});
                  const n = this._listeners;
                  return (
                    void 0 === n[t] && (n[t] = []),
                    n[t].indexOf(e) === -1 && n[t].push(e),
                    this
                  );
                },
                has(t, e) {
                  if (void 0 === this._listeners) return !1;
                  const i = this._listeners;
                  if (e) {
                    if (void 0 !== i[t] && i[t].indexOf(e) !== -1) { return !0; }
                  } else if (void 0 !== i[t]) return !0;
                  return !1;
                },
                off(t, e) {
                  if (void 0 === this._listeners) return this;
                  let i = this._listeners,
                    n = i[t].indexOf(e);
                  return n !== -1 && i[t].splice(n, 1), this;
                },
                emit(t) {
                  if (void 0 === this._listeners) return this;
                  let e = this._listeners,
                    i = e[t.type];
                  if (void 0 !== i) {
                    t.target = this;
                    for (let n = 0, r = i.length; n < r; n++) {
                      const a = i[n];
                      a.call(a.context, t);
                    }
                  }
                  return this;
                },
              });
            },
            {},
          ],
          27: [
            function (t, e, i) {
              function n(t, e, i) {
                if (((i = i || {}), !(t instanceof r && e instanceof r))) { throw new Error('First two arguments must be Material instances.'); }
                (this.id = n.idCounter++),
                (this.materialA = t),
                (this.materialB = e),
                (this.friction =
                      void 0 !== i.friction ? Number(i.friction) : 0.3),
                (this.restitution =
                      void 0 !== i.restitution ? Number(i.restitution) : 0),
                (this.stiffness =
                      void 0 !== i.stiffness
                        ? Number(i.stiffness)
                        : a.DEFAULT_STIFFNESS),
                (this.relaxation =
                      void 0 !== i.relaxation
                        ? Number(i.relaxation)
                        : a.DEFAULT_RELAXATION),
                (this.frictionStiffness =
                      void 0 !== i.frictionStiffness
                        ? Number(i.frictionStiffness)
                        : a.DEFAULT_STIFFNESS),
                (this.frictionRelaxation =
                      void 0 !== i.frictionRelaxation
                        ? Number(i.frictionRelaxation)
                        : a.DEFAULT_RELAXATION),
                (this.surfaceVelocity =
                      void 0 !== i.surfaceVelocity
                        ? Number(i.surfaceVelocity)
                        : 0),
                (this.contactSkinSize = 0.005);
              }
              var r = t('./Material'),
                a = t('../equations/Equation');
              (e.exports = n), (n.idCounter = 0);
            },
            { '../equations/Equation': 22, './Material': 28 },
          ],
          28: [
            function (t, e, i) {
              function n(t) {
                this.id = t || n.idCounter++;
              }
              (e.exports = n), (n.idCounter = 0);
            },
            {},
          ],
          29: [
            function (t, e, i) {
              const n = {};
              (n.GetArea = function (t) {
                if (t.length < 6) return 0;
                for (var e = t.length - 2, i = 0, n = 0; n < e; n += 2) { i += (t[n + 2] - t[n]) * (t[n + 1] + t[n + 3]); }
                return 0.5 * -(i += (t[0] - t[e]) * (t[e + 1] + t[1]));
              }),
              (n.Triangulate = function (t) {
                const e = t.length >> 1;
                if (e < 3) return [];
                for (var i = [], r = [], a = 0; a < e; a++) r.push(a);
                for (var a = 0, o = e; o > 3;) {
                  let s = r[(a + 0) % o],
                    u = r[(a + 1) % o],
                    l = r[(a + 2) % o],
                    c = t[2 * s],
                    h = t[2 * s + 1],
                    d = t[2 * u],
                    f = t[2 * u + 1],
                    p = t[2 * l],
                    g = t[2 * l + 1],
                    y = !1;
                  if (n._convex(c, h, d, f, p, g)) {
                    y = !0;
                    for (let v = 0; v < o; v++) {
                      const m = r[v];
                      if (
                        m != s &&
                            m != u &&
                            m != l &&
                            n._PointInTriangle(
                              t[2 * m],
                              t[2 * m + 1],
                              c,
                              h,
                              d,
                              f,
                              p,
                              g,
                            )
                      ) {
                        y = !1;
                        break;
                      }
                    }
                  }
                  if (y) { i.push(s, u, l), r.splice((a + 1) % o, 1), o--, (a = 0); } else if (a++ > 3 * o) break;
                }
                return i.push(r[0], r[1], r[2]), i;
              }),
              (n._PointInTriangle = function (t, e, i, n, r, a, o, s) {
                let u = o - i,
                  l = s - n,
                  c = r - i,
                  h = a - n,
                  d = t - i,
                  f = e - n,
                  p = u * u + l * l,
                  g = u * c + l * h,
                  y = u * d + l * f,
                  v = c * c + h * h,
                  m = c * d + h * f,
                  b = 1 / (p * v - g * g),
                  _ = (v * y - g * m) * b,
                  w = (p * m - g * y) * b;
                return _ >= 0 && w >= 0 && _ + w < 1;
              }),
              (n._convex = function (t, e, i, n, r, a) {
                return (e - n) * (r - i) + (i - t) * (a - n) >= 0;
              }),
              (e.exports = n);
            },
            {},
          ],
          30: [
            function (t, e, i) {
              let n = (e.exports = {}),
                r = t('../utils/Utils');
              (n.crossLength = function (t, e) {
                return t[0] * e[1] - t[1] * e[0];
              }),
              (n.crossVZ = function (t, e, i) {
                return n.rotate(t, e, -Math.PI / 2), n.scale(t, t, i), t;
              }),
              (n.crossZV = function (t, e, i) {
                return n.rotate(t, i, Math.PI / 2), n.scale(t, t, e), t;
              }),
              (n.rotate = function (t, e, i) {
                if (i !== 0) {
                  let n = Math.cos(i),
                    r = Math.sin(i),
                    a = e[0],
                    o = e[1];
                  (t[0] = n * a - r * o), (t[1] = r * a + n * o);
                } else (t[0] = e[0]), (t[1] = e[1]);
              }),
              (n.rotate90cw = function (t, e) {
                let i = e[0],
                  n = e[1];
                (t[0] = n), (t[1] = -i);
              }),
              (n.toLocalFrame = function (t, e, i, r) {
                n.copy(t, e), n.sub(t, t, i), n.rotate(t, t, -r);
              }),
              (n.toGlobalFrame = function (t, e, i, r) {
                n.copy(t, e), n.rotate(t, t, r), n.add(t, t, i);
              }),
              (n.vectorToLocalFrame = function (t, e, i) {
                n.rotate(t, e, -i);
              }),
              (n.vectorToGlobalFrame = function (t, e, i) {
                n.rotate(t, e, i);
              }),
              (n.centroid = function (t, e, i, r) {
                return (
                  n.add(t, e, i), n.add(t, t, r), n.scale(t, t, 1 / 3), t
                );
              }),
              (n.create = function () {
                const t = new r.ARRAY_TYPE(2);
                return (t[0] = 0), (t[1] = 0), t;
              }),
              (n.clone = function (t) {
                const e = new r.ARRAY_TYPE(2);
                return (e[0] = t[0]), (e[1] = t[1]), e;
              }),
              (n.fromValues = function (t, e) {
                const i = new r.ARRAY_TYPE(2);
                return (i[0] = t), (i[1] = e), i;
              }),
              (n.copy = function (t, e) {
                return (t[0] = e[0]), (t[1] = e[1]), t;
              }),
              (n.set = function (t, e, i) {
                return (t[0] = e), (t[1] = i), t;
              }),
              (n.add = function (t, e, i) {
                return (t[0] = e[0] + i[0]), (t[1] = e[1] + i[1]), t;
              }),
              (n.subtract = function (t, e, i) {
                return (t[0] = e[0] - i[0]), (t[1] = e[1] - i[1]), t;
              }),
              (n.sub = n.subtract),
              (n.multiply = function (t, e, i) {
                return (t[0] = e[0] * i[0]), (t[1] = e[1] * i[1]), t;
              }),
              (n.mul = n.multiply),
              (n.divide = function (t, e, i) {
                return (t[0] = e[0] / i[0]), (t[1] = e[1] / i[1]), t;
              }),
              (n.div = n.divide),
              (n.scale = function (t, e, i) {
                return (t[0] = e[0] * i), (t[1] = e[1] * i), t;
              }),
              (n.distance = function (t, e) {
                let i = e[0] - t[0],
                  n = e[1] - t[1];
                return Math.sqrt(i * i + n * n);
              }),
              (n.dist = n.distance),
              (n.squaredDistance = function (t, e) {
                let i = e[0] - t[0],
                  n = e[1] - t[1];
                return i * i + n * n;
              }),
              (n.sqrDist = n.squaredDistance),
              (n.length = function (t) {
                let e = t[0],
                  i = t[1];
                return Math.sqrt(e * e + i * i);
              }),
              (n.len = n.length),
              (n.squaredLength = function (t) {
                let e = t[0],
                  i = t[1];
                return e * e + i * i;
              }),
              (n.sqrLen = n.squaredLength),
              (n.negate = function (t, e) {
                return (t[0] = -e[0]), (t[1] = -e[1]), t;
              }),
              (n.normalize = function (t, e) {
                let i = e[0],
                  n = e[1],
                  r = i * i + n * n;
                return (
                  r > 0 &&
                        ((r = 1 / Math.sqrt(r)),
                        (t[0] = e[0] * r),
                        (t[1] = e[1] * r)),
                  t
                );
              }),
              (n.dot = function (t, e) {
                return t[0] * e[0] + t[1] * e[1];
              }),
              (n.str = function (t) {
                return `vec2(${t[0]}, ${t[1]})`;
              }),
              (n.lerp = function (t, e, i, n) {
                let r = e[0],
                  a = e[1];
                return (
                  (t[0] = r + n * (i[0] - r)),
                  (t[1] = a + n * (i[1] - a)),
                  t
                );
              }),
              (n.reflect = function (t, e, i) {
                const n = e[0] * i[0] + e[1] * i[1];
                (t[0] = e[0] - 2 * i[0] * n), (t[1] = e[1] - 2 * i[1] * n);
              }),
              (n.getLineSegmentsIntersection = function (t, e, i, r, a) {
                const o = n.getLineSegmentsIntersectionFraction(e, i, r, a);
                return !(
                  o < 0 ||
                      ((t[0] = e[0] + o * (i[0] - e[0])),
                      (t[1] = e[1] + o * (i[1] - e[1])),
                      0)
                );
              }),
              (n.getLineSegmentsIntersectionFraction = function (
                t,
                e,
                i,
                n,
              ) {
                let r,
                  a,
                  o = e[0] - t[0],
                  s = e[1] - t[1],
                  u = n[0] - i[0],
                  l = n[1] - i[1];
                return (
                  (r =
                        (-s * (t[0] - i[0]) + o * (t[1] - i[1])) /
                        (-u * s + o * l)),
                  (a =
                        (u * (t[1] - i[1]) - l * (t[0] - i[0])) /
                        (-u * s + o * l)),
                  r >= 0 && r <= 1 && a >= 0 && a <= 1 ? a : -1
                );
              });
            },
            { '../utils/Utils': 57 },
          ],
          31: [
            function (t, e, i) {
              function n(t) {
                (t = t || {}),
                c.call(this),
                (this.id = t.id || ++n._idCounter),
                (this.world = null),
                (this.shapes = []),
                (this.mass = t.mass || 0),
                (this.invMass = 0),
                (this.inertia = 0),
                (this.invInertia = 0),
                (this.invMassSolve = 0),
                (this.invInertiaSolve = 0),
                (this.fixedRotation = !!t.fixedRotation),
                (this.fixedX = !!t.fixedX),
                (this.fixedY = !!t.fixedY),
                (this.massMultiplier = r.create()),
                (this.position = r.fromValues(0, 0)),
                t.position && r.copy(this.position, t.position),
                (this.interpolatedPosition = r.fromValues(0, 0)),
                (this.interpolatedAngle = 0),
                (this.previousPosition = r.fromValues(0, 0)),
                (this.previousAngle = 0),
                (this.velocity = r.fromValues(0, 0)),
                t.velocity && r.copy(this.velocity, t.velocity),
                (this.vlambda = r.fromValues(0, 0)),
                (this.wlambda = 0),
                (this.angle = t.angle || 0),
                (this.angularVelocity = t.angularVelocity || 0),
                (this.force = r.create()),
                t.force && r.copy(this.force, t.force),
                (this.angularForce = t.angularForce || 0),
                (this.damping =
                      typeof t.damping === 'number' ? t.damping : 0.1),
                (this.angularDamping =
                      typeof t.angularDamping === 'number'
                        ? t.angularDamping
                        : 0.1),
                (this.type = n.STATIC),
                void 0 !== t.type
                  ? (this.type = t.type)
                  : t.mass
                    ? (this.type = n.DYNAMIC)
                    : (this.type = n.STATIC),
                (this.boundingRadius = 0),
                (this.aabb = new l()),
                (this.aabbNeedsUpdate = !0),
                (this.allowSleep = void 0 === t.allowSleep || t.allowSleep),
                (this.wantsToSleep = !1),
                (this.sleepState = n.AWAKE),
                (this.sleepSpeedLimit =
                      void 0 !== t.sleepSpeedLimit ? t.sleepSpeedLimit : 0.2),
                (this.sleepTimeLimit =
                      void 0 !== t.sleepTimeLimit ? t.sleepTimeLimit : 1),
                (this.gravityScale =
                      void 0 !== t.gravityScale ? t.gravityScale : 1),
                (this.collisionResponse =
                      void 0 === t.collisionResponse || t.collisionResponse),
                (this.idleTime = 0),
                (this.timeLastSleepy = 0),
                (this.ccdSpeedThreshold =
                      void 0 !== t.ccdSpeedThreshold
                        ? t.ccdSpeedThreshold
                        : -1),
                (this.ccdIterations =
                      void 0 !== t.ccdIterations ? t.ccdIterations : 10),
                (this.concavePath = null),
                (this._wakeUpAfterNarrowphase = !1),
                this.updateMassProperties();
              }
              var r = t('../math/vec2'),
                a = t('poly-decomp'),
                o = t('../shapes/Convex'),
                s = t('../collision/RaycastResult'),
                u = t('../collision/Ray'),
                l = t('../collision/AABB'),
                c = t('../events/EventEmitter');
              (e.exports = n),
              (n.prototype = new c()),
              (n.prototype.constructor = n),
              (n._idCounter = 0),
              (n.prototype.updateSolveMassProperties = function () {
                this.sleepState === n.SLEEPING || this.type === n.KINEMATIC
                  ? ((this.invMassSolve = 0), (this.invInertiaSolve = 0))
                  : ((this.invMassSolve = this.invMass),
                  (this.invInertiaSolve = this.invInertia));
              }),
              (n.prototype.setDensity = function (t) {
                const e = this.getArea();
                (this.mass = e * t), this.updateMassProperties();
              }),
              (n.prototype.getArea = function () {
                for (var t = 0, e = 0; e < this.shapes.length; e++) { t += this.shapes[e].area; }
                return t;
              }),
              (n.prototype.getAABB = function () {
                return this.aabbNeedsUpdate && this.updateAABB(), this.aabb;
              });
              let h = new l(),
                d = r.create();
              (n.prototype.updateAABB = function () {
                for (
                  let t = this.shapes,
                    e = t.length,
                    i = d,
                    n = this.angle,
                    a = 0;
                  a !== e;
                  a++
                ) {
                  let o = t[a],
                    s = o.angle + n;
                  r.rotate(i, o.position, n),
                  r.add(i, i, this.position),
                  o.computeAABB(h, i, s),
                  a === 0 ? this.aabb.copy(h) : this.aabb.extend(h);
                }
                this.aabbNeedsUpdate = !1;
              }),
              (n.prototype.updateBoundingRadius = function () {
                for (
                  var t = this.shapes, e = t.length, i = 0, n = 0;
                  n !== e;
                  n++
                ) {
                  let a = t[n],
                    o = r.length(a.position),
                    s = a.boundingRadius;
                  o + s > i && (i = o + s);
                }
                this.boundingRadius = i;
              }),
              (n.prototype.addShape = function (t, e, i) {
                if (t.body) { throw new Error('A shape can only be added to one body.'); }
                (t.body = this),
                e ? r.copy(t.position, e) : r.set(t.position, 0, 0),
                (t.angle = i || 0),
                this.shapes.push(t),
                this.updateMassProperties(),
                this.updateBoundingRadius(),
                (this.aabbNeedsUpdate = !0);
              }),
              (n.prototype.removeShape = function (t) {
                const e = this.shapes.indexOf(t);
                return (
                  e !== -1 &&
                      (this.shapes.splice(e, 1),
                      (this.aabbNeedsUpdate = !0),
                      (t.body = null),
                      !0)
                );
              }),
              (n.prototype.updateMassProperties = function () {
                if (this.type === n.STATIC || this.type === n.KINEMATIC) {
                  (this.mass = Number.MAX_VALUE),
                  (this.invMass = 0),
                  (this.inertia = Number.MAX_VALUE),
                  (this.invInertia = 0);
                } else {
                  let t = this.shapes,
                    e = t.length,
                    i = this.mass / e,
                    a = 0;
                  if (this.fixedRotation) {
                    (this.inertia = Number.MAX_VALUE),
                    (this.invInertia = 0);
                  } else {
                    for (let o = 0; o < e; o++) {
                      let s = t[o],
                        u = r.squaredLength(s.position);
                      a += s.computeMomentOfInertia(i) + i * u;
                    }
                    (this.inertia = a),
                    (this.invInertia = a > 0 ? 1 / a : 0);
                  }
                  (this.invMass = 1 / this.mass),
                  r.set(
                    this.massMultiplier,
                    this.fixedX ? 0 : 1,
                    this.fixedY ? 0 : 1,
                  );
                }
              }),
              r.create(),
              (n.prototype.applyForce = function (t, e) {
                if ((r.add(this.force, this.force, t), e)) {
                  const i = r.crossLength(e, t);
                  this.angularForce += i;
                }
              });
              let f = r.create(),
                p = r.create(),
                g = r.create();
              n.prototype.applyForceLocal = function (t, e) {
                e = e || g;
                let i = f,
                  n = p;
                this.vectorToWorldFrame(i, t),
                this.vectorToWorldFrame(n, e),
                this.applyForce(i, n);
              };
              const y = r.create();
              n.prototype.applyImpulse = function (t, e) {
                if (this.type === n.DYNAMIC) {
                  const i = y;
                  if (
                    (r.scale(i, t, this.invMass),
                    r.multiply(i, this.massMultiplier, i),
                    r.add(this.velocity, i, this.velocity),
                    e)
                  ) {
                    let a = r.crossLength(e, t);
                    (a *= this.invInertia), (this.angularVelocity += a);
                  }
                }
              };
              let v = r.create(),
                m = r.create(),
                b = r.create();
              (n.prototype.applyImpulseLocal = function (t, e) {
                e = e || b;
                let i = v,
                  n = m;
                this.vectorToWorldFrame(i, t),
                this.vectorToWorldFrame(n, e),
                this.applyImpulse(i, n);
              }),
              (n.prototype.toLocalFrame = function (t, e) {
                r.toLocalFrame(t, e, this.position, this.angle);
              }),
              (n.prototype.toWorldFrame = function (t, e) {
                r.toGlobalFrame(t, e, this.position, this.angle);
              }),
              (n.prototype.vectorToLocalFrame = function (t, e) {
                r.vectorToLocalFrame(t, e, this.angle);
              }),
              (n.prototype.vectorToWorldFrame = function (t, e) {
                r.vectorToGlobalFrame(t, e, this.angle);
              }),
              (n.prototype.fromPolygon = function (t, e) {
                e = e || {};
                for (var i = this.shapes.length; i >= 0; --i) { this.removeShape(this.shapes[i]); }
                const n = new a.Polygon();
                if (
                  ((n.vertices = t),
                  n.makeCCW(),
                  typeof e.removeCollinearPoints === 'number' &&
                        n.removeCollinearPoints(e.removeCollinearPoints),
                  void 0 === e.skipSimpleCheck && !n.isSimple())
                ) { return !1; }
                this.concavePath = n.vertices.slice(0);
                for (var i = 0; i < this.concavePath.length; i++) {
                  var s = [0, 0];
                  r.copy(s, this.concavePath[i]), (this.concavePath[i] = s);
                }
                let u;
                u = e.optimalDecomp ? n.decomp() : n.quickDecomp();
                for (var l = r.create(), i = 0; i !== u.length; i++) {
                  for (
                    var c = new o({ vertices: u[i].vertices }), h = 0;
                    h !== c.vertices.length;
                    h++
                  ) {
                    var s = c.vertices[h];
                    r.sub(s, s, c.centerOfMass);
                  }
                  r.scale(l, c.centerOfMass, 1),
                  c.updateTriangles(),
                  c.updateCenterOfMass(),
                  c.updateBoundingRadius(),
                  this.addShape(c, l);
                }
                return (
                  this.adjustCenterOfMass(), (this.aabbNeedsUpdate = !0), !0
                );
              });
              let _ = (r.fromValues(0, 0), r.fromValues(0, 0)),
                w = r.fromValues(0, 0),
                x = r.fromValues(0, 0);
              (n.prototype.adjustCenterOfMass = function () {
                let t = _,
                  e = w,
                  i = x,
                  n = 0;
                r.set(e, 0, 0);
                for (var a = 0; a !== this.shapes.length; a++) {
                  var o = this.shapes[a];
                  r.scale(t, o.position, o.area),
                  r.add(e, e, t),
                  (n += o.area);
                }
                r.scale(i, e, 1 / n);
                for (var a = 0; a !== this.shapes.length; a++) {
                  var o = this.shapes[a];
                  r.sub(o.position, o.position, i);
                }
                r.add(this.position, this.position, i);
                for (
                  var a = 0;
                  this.concavePath && a < this.concavePath.length;
                  a++
                ) { r.sub(this.concavePath[a], this.concavePath[a], i); }
                this.updateMassProperties(), this.updateBoundingRadius();
              }),
              (n.prototype.setZeroForce = function () {
                r.set(this.force, 0, 0), (this.angularForce = 0);
              }),
              (n.prototype.resetConstraintVelocity = function () {
                let t = this,
                  e = t.vlambda;
                r.set(e, 0, 0), (t.wlambda = 0);
              }),
              (n.prototype.addConstraintVelocity = function () {
                let t = this,
                  e = t.velocity;
                r.add(e, e, t.vlambda), (t.angularVelocity += t.wlambda);
              }),
              (n.prototype.applyDamping = function (t) {
                if (this.type === n.DYNAMIC) {
                  const e = this.velocity;
                  r.scale(e, e, Math.pow(1 - this.damping, t)),
                  (this.angularVelocity *= Math.pow(
                    1 - this.angularDamping,
                    t,
                  ));
                }
              }),
              (n.prototype.wakeUp = function () {
                const t = this.sleepState;
                (this.sleepState = n.AWAKE),
                (this.idleTime = 0),
                t !== n.AWAKE && this.emit(n.wakeUpEvent);
              }),
              (n.prototype.sleep = function () {
                (this.sleepState = n.SLEEPING),
                (this.angularVelocity = 0),
                (this.angularForce = 0),
                r.set(this.velocity, 0, 0),
                r.set(this.force, 0, 0),
                this.emit(n.sleepEvent);
              }),
              (n.prototype.sleepTick = function (t, e, i) {
                this.allowSleep &&
                      this.type !== n.SLEEPING &&
                      ((this.wantsToSleep = !1),
                      this.sleepState,
                      r.squaredLength(this.velocity) +
                        Math.pow(this.angularVelocity, 2) >=
                      Math.pow(this.sleepSpeedLimit, 2)
                        ? ((this.idleTime = 0), (this.sleepState = n.AWAKE))
                        : ((this.idleTime += i), (this.sleepState = n.SLEEPY)),
                      this.idleTime > this.sleepTimeLimit &&
                        (e ? (this.wantsToSleep = !0) : this.sleep()));
              }),
              (n.prototype.overlaps = function (t) {
                return this.world.overlapKeeper.bodiesAreOverlapping(
                  this,
                  t,
                );
              });
              let P = r.create(),
                k = r.create();
              n.prototype.integrate = function (t) {
                let e = this.invMass,
                  i = this.force,
                  n = this.position,
                  a = this.velocity;
                r.copy(this.previousPosition, this.position),
                (this.previousAngle = this.angle),
                this.fixedRotation ||
                      (this.angularVelocity +=
                        this.angularForce * this.invInertia * t),
                r.scale(P, i, t * e),
                r.multiply(P, this.massMultiplier, P),
                r.add(a, P, a),
                this.integrateToTimeOfImpact(t) ||
                      (r.scale(k, a, t),
                      r.add(n, n, k),
                      this.fixedRotation ||
                        (this.angle += this.angularVelocity * t)),
                (this.aabbNeedsUpdate = !0);
              };
              let T = new s(),
                O = new u({ mode: u.ALL }),
                E = r.create(),
                S = r.create(),
                C = r.create(),
                I = r.create();
              (n.prototype.integrateToTimeOfImpact = function (t) {
                if (
                  this.ccdSpeedThreshold < 0 ||
                    r.squaredLength(this.velocity) <
                      Math.pow(this.ccdSpeedThreshold, 2)
                ) { return !1; }
                r.normalize(E, this.velocity),
                r.scale(S, this.velocity, t),
                r.add(S, S, this.position),
                r.sub(C, S, this.position);
                let e,
                  i = this.angularVelocity * t,
                  n = r.length(C),
                  a = 1,
                  o = this;
                if (
                  (T.reset(),
                  (O.callback = function (t) {
                    t.body !== o &&
                        ((e = t.body),
                        t.getHitPoint(S, O),
                        r.sub(C, S, o.position),
                        (a = r.length(C) / n),
                        t.stop());
                  }),
                  r.copy(O.from, this.position),
                  r.copy(O.to, S),
                  O.update(),
                  this.world.raycast(T, O),
                  !e)
                ) { return !1; }
                const s = this.angle;
                r.copy(I, this.position);
                for (
                  var u = 0, l = 0, c = 0, h = a;
                  h >= l && u < this.ccdIterations;

                ) {
                  u++,
                  (c = (h - l) / 2),
                  r.scale(k, C, a),
                  r.add(this.position, I, k),
                  (this.angle = s + i * a),
                  this.updateAABB(),
                  this.aabb.overlaps(e.aabb) &&
                      this.world.narrowphase.bodiesOverlap(this, e)
                    ? (l = c)
                    : (h = c);
                }
                return (
                  (a = c),
                  r.copy(this.position, I),
                  (this.angle = s),
                  r.scale(k, C, a),
                  r.add(this.position, this.position, k),
                  this.fixedRotation || (this.angle += i * a),
                  !0
                );
              }),
              (n.prototype.getVelocityAtPoint = function (t, e) {
                return (
                  r.crossVZ(t, e, this.angularVelocity),
                  r.subtract(t, this.velocity, t),
                  t
                );
              }),
              (n.sleepyEvent = { type: 'sleepy' }),
              (n.sleepEvent = { type: 'sleep' }),
              (n.wakeUpEvent = { type: 'wakeup' }),
              (n.DYNAMIC = 1),
              (n.STATIC = 2),
              (n.KINEMATIC = 4),
              (n.AWAKE = 0),
              (n.SLEEPY = 1),
              (n.SLEEPING = 2);
            },
            {
              '../collision/AABB': 7,
              '../collision/Ray': 11,
              '../collision/RaycastResult': 12,
              '../events/EventEmitter': 26,
              '../math/vec2': 30,
              '../shapes/Convex': 40,
              'poly-decomp': 5,
            },
          ],
          32: [
            function (t, e, i) {
              function n(t, e, i) {
                (i = i || {}),
                a.call(this, t, e, i),
                (this.localAnchorA = r.fromValues(0, 0)),
                (this.localAnchorB = r.fromValues(0, 0)),
                i.localAnchorA && r.copy(this.localAnchorA, i.localAnchorA),
                i.localAnchorB && r.copy(this.localAnchorB, i.localAnchorB),
                i.worldAnchorA && this.setWorldAnchorA(i.worldAnchorA),
                i.worldAnchorB && this.setWorldAnchorB(i.worldAnchorB);
                let n = r.create(),
                  o = r.create();
                this.getWorldAnchorA(n), this.getWorldAnchorB(o);
                const s = r.distance(n, o);
                this.restLength =
                    typeof i.restLength === 'number' ? i.restLength : s;
              }
              var r = t('../math/vec2'),
                a = t('./Spring');
              t('../utils/Utils'),
              (e.exports = n),
              (n.prototype = new a()),
              (n.prototype.constructor = n),
              (n.prototype.setWorldAnchorA = function (t) {
                this.bodyA.toLocalFrame(this.localAnchorA, t);
              }),
              (n.prototype.setWorldAnchorB = function (t) {
                this.bodyB.toLocalFrame(this.localAnchorB, t);
              }),
              (n.prototype.getWorldAnchorA = function (t) {
                this.bodyA.toWorldFrame(t, this.localAnchorA);
              }),
              (n.prototype.getWorldAnchorB = function (t) {
                this.bodyB.toWorldFrame(t, this.localAnchorB);
              });
              let o = r.create(),
                s = r.create(),
                u = r.create(),
                l = r.create(),
                c = r.create(),
                h = r.create(),
                d = r.create(),
                f = r.create(),
                p = r.create();
              n.prototype.applyForce = function () {
                let t = this.stiffness,
                  e = this.damping,
                  i = this.restLength,
                  n = this.bodyA,
                  a = this.bodyB,
                  g = o,
                  y = s,
                  v = u,
                  m = l,
                  b = p,
                  _ = c,
                  w = h,
                  x = d,
                  P = f;
                this.getWorldAnchorA(_),
                this.getWorldAnchorB(w),
                r.sub(x, _, n.position),
                r.sub(P, w, a.position),
                r.sub(g, w, _);
                const k = r.len(g);
                r.normalize(y, g),
                r.sub(v, a.velocity, n.velocity),
                r.crossZV(b, a.angularVelocity, P),
                r.add(v, v, b),
                r.crossZV(b, n.angularVelocity, x),
                r.sub(v, v, b),
                r.scale(m, y, -t * (k - i) - e * r.dot(v, y)),
                r.sub(n.force, n.force, m),
                r.add(a.force, a.force, m);
                let T = r.crossLength(x, m),
                  O = r.crossLength(P, m);
                (n.angularForce -= T), (a.angularForce += O);
              };
            },
            { '../math/vec2': 30, '../utils/Utils': 57, './Spring': 34 },
          ],
          33: [
            function (t, e, i) {
              function n(t, e, i) {
                (i = i || {}),
                r.call(this, t, e, i),
                (this.restAngle =
                      typeof i.restAngle === 'number'
                        ? i.restAngle
                        : e.angle - t.angle);
              }
              var r = (t('../math/vec2'), t('./Spring'));
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.applyForce = function () {
                let t = this.stiffness,
                  e = this.damping,
                  i = this.restAngle,
                  n = this.bodyA,
                  r = this.bodyB,
                  a = r.angle - n.angle,
                  o = r.angularVelocity - n.angularVelocity,
                  s = -t * (a - i) - e * o * 0;
                (n.angularForce -= s), (r.angularForce += s);
              });
            },
            { '../math/vec2': 30, './Spring': 34 },
          ],
          34: [
            function (t, e, i) {
              function n(t, e, i) {
                (i = r.defaults(i, { stiffness: 100, damping: 1 })),
                (this.stiffness = i.stiffness),
                (this.damping = i.damping),
                (this.bodyA = t),
                (this.bodyB = e);
              }
              var r = (t('../math/vec2'), t('../utils/Utils'));
              (e.exports = n), (n.prototype.applyForce = function () {});
            },
            { '../math/vec2': 30, '../utils/Utils': 57 },
          ],
          35: [
            function (t, e, i) {
              function n(t, e) {
                (e = e || {}),
                (this.chassisBody = t),
                (this.wheels = []),
                (this.groundBody = new u({ mass: 0 })),
                (this.world = null);
                const i = this;
                this.preStepCallback = function () {
                  i.update();
                };
              }
              function r(t, e) {
                (e = e || {}),
                (this.vehicle = t),
                (this.forwardEquation = new s(t.chassisBody, t.groundBody)),
                (this.sideEquation = new s(t.chassisBody, t.groundBody)),
                (this.steerValue = 0),
                (this.engineForce = 0),
                this.setSideFriction(void 0 !== e.sideFriction ? e.sideFriction : 5),
                (this.localForwardVector = a.fromValues(0, 1)),
                e.localForwardVector &&
                      a.copy(this.localForwardVector, e.localForwardVector),
                (this.localPosition = a.fromValues(0, 0)),
                e.localPosition &&
                      a.copy(this.localPosition, e.localPosition),
                o.apply(this, t.chassisBody, t.groundBody),
                this.equations.push(
                  this.forwardEquation,
                  this.sideEquation,
                ),
                this.setBrakeForce(0);
              }
              var a = t('../math/vec2'),
                o = (t('../utils/Utils'), t('../constraints/Constraint')),
                s = t('../equations/FrictionEquation'),
                u = t('../objects/Body');
              (e.exports = n),
              (n.prototype.addToWorld = function (t) {
                (this.world = t),
                t.addBody(this.groundBody),
                t.on('preStep', this.preStepCallback);
                for (let e = 0; e < this.wheels.length; e++) {
                  const i = this.wheels[e];
                  t.addConstraint(i);
                }
              }),
              (n.prototype.removeFromWorld = function () {
                const t = this.world;
                t.removeBody(this.groundBody),
                t.off('preStep', this.preStepCallback);
                for (let e = 0; e < this.wheels.length; e++) {
                  const i = this.wheels[e];
                  t.removeConstraint(i);
                }
                this.world = null;
              }),
              (n.prototype.addWheel = function (t) {
                const e = new r(this, t);
                return this.wheels.push(e), e;
              }),
              (n.prototype.update = function () {
                for (let t = 0; t < this.wheels.length; t++) { this.wheels[t].update(); }
              }),
              (r.prototype = new o()),
              (r.prototype.setBrakeForce = function (t) {
                this.forwardEquation.setSlipForce(t);
              }),
              (r.prototype.setSideFriction = function (t) {
                this.sideEquation.setSlipForce(t);
              });
              let l = a.create(),
                c = a.create();
              r.prototype.getSpeed = function () {
                return (
                  this.vehicle.chassisBody.vectorToWorldFrame(
                    c,
                    this.localForwardVector,
                  ),
                  this.vehicle.chassisBody.getVelocityAtPoint(l, c),
                  a.dot(l, c)
                );
              };
              const h = a.create();
              r.prototype.update = function () {
                this.vehicle.chassisBody.vectorToWorldFrame(
                  this.forwardEquation.t,
                  this.localForwardVector,
                ),
                a.rotate(
                  this.sideEquation.t,
                  this.localForwardVector,
                  Math.PI / 2,
                ),
                this.vehicle.chassisBody.vectorToWorldFrame(
                  this.sideEquation.t,
                  this.sideEquation.t,
                ),
                a.rotate(
                  this.forwardEquation.t,
                  this.forwardEquation.t,
                  this.steerValue,
                ),
                a.rotate(
                  this.sideEquation.t,
                  this.sideEquation.t,
                  this.steerValue,
                ),
                this.vehicle.chassisBody.toWorldFrame(
                  this.forwardEquation.contactPointB,
                  this.localPosition,
                ),
                a.copy(
                  this.sideEquation.contactPointB,
                  this.forwardEquation.contactPointB,
                ),
                this.vehicle.chassisBody.vectorToWorldFrame(
                  this.forwardEquation.contactPointA,
                  this.localPosition,
                ),
                a.copy(
                  this.sideEquation.contactPointA,
                  this.forwardEquation.contactPointA,
                ),
                a.normalize(h, this.forwardEquation.t),
                a.scale(h, h, this.engineForce),
                this.vehicle.chassisBody.applyForce(
                  h,
                  this.forwardEquation.contactPointA,
                );
              };
            },
            {
              '../constraints/Constraint': 14,
              '../equations/FrictionEquation': 23,
              '../math/vec2': 30,
              '../objects/Body': 31,
              '../utils/Utils': 57,
            },
          ],
          36: [
            function (t, e, i) {
              const n = (e.exports = {
                AABB: t('./collision/AABB'),
                AngleLockEquation: t('./equations/AngleLockEquation'),
                Body: t('./objects/Body'),
                Broadphase: t('./collision/Broadphase'),
                Capsule: t('./shapes/Capsule'),
                Circle: t('./shapes/Circle'),
                Constraint: t('./constraints/Constraint'),
                ContactEquation: t('./equations/ContactEquation'),
                ContactEquationPool: t('./utils/ContactEquationPool'),
                ContactMaterial: t('./material/ContactMaterial'),
                Convex: t('./shapes/Convex'),
                DistanceConstraint: t('./constraints/DistanceConstraint'),
                Equation: t('./equations/Equation'),
                EventEmitter: t('./events/EventEmitter'),
                FrictionEquation: t('./equations/FrictionEquation'),
                FrictionEquationPool: t('./utils/FrictionEquationPool'),
                GearConstraint: t('./constraints/GearConstraint'),
                GSSolver: t('./solver/GSSolver'),
                Heightfield: t('./shapes/Heightfield'),
                Line: t('./shapes/Line'),
                LockConstraint: t('./constraints/LockConstraint'),
                Material: t('./material/Material'),
                Narrowphase: t('./collision/Narrowphase'),
                NaiveBroadphase: t('./collision/NaiveBroadphase'),
                Particle: t('./shapes/Particle'),
                Plane: t('./shapes/Plane'),
                Pool: t('./utils/Pool'),
                RevoluteConstraint: t('./constraints/RevoluteConstraint'),
                PrismaticConstraint: t('./constraints/PrismaticConstraint'),
                Ray: t('./collision/Ray'),
                RaycastResult: t('./collision/RaycastResult'),
                Box: t('./shapes/Box'),
                RotationalVelocityEquation: t('./equations/RotationalVelocityEquation'),
                SAPBroadphase: t('./collision/SAPBroadphase'),
                Shape: t('./shapes/Shape'),
                Solver: t('./solver/Solver'),
                Spring: t('./objects/Spring'),
                TopDownVehicle: t('./objects/TopDownVehicle'),
                LinearSpring: t('./objects/LinearSpring'),
                RotationalSpring: t('./objects/RotationalSpring'),
                Utils: t('./utils/Utils'),
                World: t('./world/World'),
                vec2: t('./math/vec2'),
                version: t('../package.json').version,
              });
              Object.defineProperty(n, 'Rectangle', {
                get() {
                  return (
                    console.warn('The Rectangle class has been renamed to Box.'),
                    this.Box
                  );
                },
              });
            },
            {
              '../package.json': 6,
              './collision/AABB': 7,
              './collision/Broadphase': 8,
              './collision/NaiveBroadphase': 9,
              './collision/Narrowphase': 10,
              './collision/Ray': 11,
              './collision/RaycastResult': 12,
              './collision/SAPBroadphase': 13,
              './constraints/Constraint': 14,
              './constraints/DistanceConstraint': 15,
              './constraints/GearConstraint': 16,
              './constraints/LockConstraint': 17,
              './constraints/PrismaticConstraint': 18,
              './constraints/RevoluteConstraint': 19,
              './equations/AngleLockEquation': 20,
              './equations/ContactEquation': 21,
              './equations/Equation': 22,
              './equations/FrictionEquation': 23,
              './equations/RotationalVelocityEquation': 25,
              './events/EventEmitter': 26,
              './material/ContactMaterial': 27,
              './material/Material': 28,
              './math/vec2': 30,
              './objects/Body': 31,
              './objects/LinearSpring': 32,
              './objects/RotationalSpring': 33,
              './objects/Spring': 34,
              './objects/TopDownVehicle': 35,
              './shapes/Box': 37,
              './shapes/Capsule': 38,
              './shapes/Circle': 39,
              './shapes/Convex': 40,
              './shapes/Heightfield': 41,
              './shapes/Line': 42,
              './shapes/Particle': 43,
              './shapes/Plane': 44,
              './shapes/Shape': 45,
              './solver/GSSolver': 46,
              './solver/Solver': 47,
              './utils/ContactEquationPool': 48,
              './utils/FrictionEquationPool': 49,
              './utils/Pool': 55,
              './utils/Utils': 57,
              './world/World': 61,
            },
          ],
          37: [
            function (t, e, i) {
              function n(t) {
                typeof arguments[0] === 'number' &&
                    typeof arguments[1] === 'number' &&
                    ((t = { width: arguments[0], height: arguments[1] }),
                    console.warn('The Rectangle has been renamed to Box and its constructor signature has changed. Please use the following format: new Box({ width: 1, height: 1, ... })')),
                (t = t || {});
                let e = (this.width = t.width || 1),
                  i = (this.height = t.height || 1),
                  n = [
                    r.fromValues(-e / 2, -i / 2),
                    r.fromValues(e / 2, -i / 2),
                    r.fromValues(e / 2, i / 2),
                    r.fromValues(-e / 2, i / 2),
                  ],
                  s = [r.fromValues(1, 0), r.fromValues(0, 1)];
                (t.vertices = n),
                (t.axes = s),
                (t.type = a.BOX),
                o.call(this, t);
              }
              var r = t('../math/vec2'),
                a = t('./Shape'),
                o = t('./Convex');
              (e.exports = n),
              (n.prototype = new o()),
              (n.prototype.constructor = n),
              (n.prototype.computeMomentOfInertia = function (t) {
                let e = this.width,
                  i = this.height;
                return (t * (i * i + e * e)) / 12;
              }),
              (n.prototype.updateBoundingRadius = function () {
                let t = this.width,
                  e = this.height;
                this.boundingRadius = Math.sqrt(t * t + e * e) / 2;
              }),
              r.create(),
              r.create(),
              r.create(),
              r.create(),
              (n.prototype.computeAABB = function (t, e, i) {
                t.setFromPoints(this.vertices, e, i, 0);
              }),
              (n.prototype.updateArea = function () {
                this.area = this.width * this.height;
              });
            },
            { '../math/vec2': 30, './Convex': 40, './Shape': 45 },
          ],
          38: [
            function (t, e, i) {
              function n(t) {
                typeof arguments[0] === 'number' &&
                    typeof arguments[1] === 'number' &&
                    ((t = { length: arguments[0], radius: arguments[1] }),
                    console.warn('The Capsule constructor signature has changed. Please use the following format: new Capsule({ radius: 1, length: 1 })')),
                (t = t || {}),
                (this.length = t.length || 1),
                (this.radius = t.radius || 1),
                (t.type = r.CAPSULE),
                r.call(this, t);
              }
              var r = t('./Shape'),
                a = t('../math/vec2');
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.computeMomentOfInertia = function (t) {
                let e = this.radius,
                  i = this.length + e,
                  n = 2 * e;
                return (t * (n * n + i * i)) / 12;
              }),
              (n.prototype.updateBoundingRadius = function () {
                this.boundingRadius = this.radius + this.length / 2;
              }),
              (n.prototype.updateArea = function () {
                this.area =
                      Math.PI * this.radius * this.radius +
                      2 * this.radius * this.length;
              });
              const o = a.create();
              n.prototype.computeAABB = function (t, e, i) {
                const n = this.radius;
                a.set(o, this.length / 2, 0),
                i !== 0 && a.rotate(o, o, i),
                a.set(
                  t.upperBound,
                  Math.max(o[0] + n, -o[0] + n),
                  Math.max(o[1] + n, -o[1] + n),
                ),
                a.set(
                  t.lowerBound,
                  Math.min(o[0] - n, -o[0] - n),
                  Math.min(o[1] - n, -o[1] - n),
                ),
                a.add(t.lowerBound, t.lowerBound, e),
                a.add(t.upperBound, t.upperBound, e);
              };
              let s = a.create(),
                u = a.create(),
                l = a.create(),
                c = a.create(),
                h = a.fromValues(0, 1);
              n.prototype.raycast = function (t, e, i, n) {
                for (
                  var r = e.from,
                    o = e.to,
                    d = (e.direction, s),
                    f = u,
                    p = l,
                    g = c,
                    y = this.length / 2,
                    v = 0;
                  v < 2;
                  v++
                ) {
                  const m = this.radius * (2 * v - 1);
                  a.set(p, -y, m),
                  a.set(g, y, m),
                  a.toGlobalFrame(p, p, i, n),
                  a.toGlobalFrame(g, g, i, n);
                  var b = a.getLineSegmentsIntersectionFraction(r, o, p, g);
                  if (
                    b >= 0 &&
                      (a.rotate(f, h, n),
                      a.scale(f, f, 2 * v - 1),
                      e.reportIntersection(t, b, f, -1),
                      t.shouldStop(e))
                  ) { return; }
                }
                for (
                  var _ = Math.pow(this.radius, 2) + Math.pow(y, 2), v = 0;
                  v < 2;
                  v++
                ) {
                  a.set(p, y * (2 * v - 1), 0), a.toGlobalFrame(p, p, i, n);
                  var w = Math.pow(o[0] - r[0], 2) + Math.pow(o[1] - r[1], 2),
                    x =
                        2 *
                        ((o[0] - r[0]) * (r[0] - p[0]) +
                          (o[1] - r[1]) * (r[1] - p[1])),
                    P =
                        Math.pow(r[0] - p[0], 2) +
                        Math.pow(r[1] - p[1], 2) -
                        Math.pow(this.radius, 2),
                    b = Math.pow(x, 2) - 4 * w * P;
                  if (!(b < 0)) {
                    if (b === 0) {
                      if (
                        (a.lerp(d, r, o, b),
                        a.squaredDistance(d, i) > _ &&
                            (a.sub(f, d, p),
                            a.normalize(f, f),
                            e.reportIntersection(t, b, f, -1),
                            t.shouldStop(e)))
                      ) { return; }
                    } else {
                      let k = Math.sqrt(b),
                        T = 1 / (2 * w),
                        O = (-x - k) * T,
                        E = (-x + k) * T;
                      if (
                        O >= 0 &&
                          O <= 1 &&
                          (a.lerp(d, r, o, O),
                          a.squaredDistance(d, i) > _ &&
                            (a.sub(f, d, p),
                            a.normalize(f, f),
                            e.reportIntersection(t, O, f, -1),
                            t.shouldStop(e)))
                      ) { return; }
                      if (
                        E >= 0 &&
                          E <= 1 &&
                          (a.lerp(d, r, o, E),
                          a.squaredDistance(d, i) > _ &&
                            (a.sub(f, d, p),
                            a.normalize(f, f),
                            e.reportIntersection(t, E, f, -1),
                            t.shouldStop(e)))
                      ) { return; }
                    }
                  }
                }
              };
            },
            { '../math/vec2': 30, './Shape': 45 },
          ],
          39: [
            function (t, e, i) {
              function n(t) {
                typeof arguments[0] === 'number' &&
                    ((t = { radius: arguments[0] }),
                    console.warn('The Circle constructor signature has changed. Please use the following format: new Circle({ radius: 1 })')),
                (t = t || {}),
                (this.radius = t.radius || 1),
                (t.type = r.CIRCLE),
                r.call(this, t);
              }
              var r = t('./Shape'),
                a = t('../math/vec2');
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.computeMomentOfInertia = function (t) {
                const e = this.radius;
                return (t * e * e) / 2;
              }),
              (n.prototype.updateBoundingRadius = function () {
                this.boundingRadius = this.radius;
              }),
              (n.prototype.updateArea = function () {
                this.area = Math.PI * this.radius * this.radius;
              }),
              (n.prototype.computeAABB = function (t, e, i) {
                const n = this.radius;
                a.set(t.upperBound, n, n),
                a.set(t.lowerBound, -n, -n),
                e &&
                        (a.add(t.lowerBound, t.lowerBound, e),
                        a.add(t.upperBound, t.upperBound, e));
              });
              let o = a.create(),
                s = a.create();
              n.prototype.raycast = function (t, e, i, n) {
                let r = e.from,
                  u = e.to,
                  l = this.radius,
                  c = Math.pow(u[0] - r[0], 2) + Math.pow(u[1] - r[1], 2),
                  h =
                      2 *
                      ((u[0] - r[0]) * (r[0] - i[0]) +
                        (u[1] - r[1]) * (r[1] - i[1])),
                  d =
                      Math.pow(r[0] - i[0], 2) +
                      Math.pow(r[1] - i[1], 2) -
                      Math.pow(l, 2),
                  f = Math.pow(h, 2) - 4 * c * d,
                  p = o,
                  g = s;
                if (!(f < 0)) {
                  if (f === 0)
                    {a.lerp(p, r, u, f),
                    a.sub(g, p, i),
                    a.normalize(g, g),
                    e.reportIntersection(t, f, g, -1);}
                  else {
                    let y = Math.sqrt(f),
                      v = 1 / (2 * c),
                      m = (-h - y) * v,
                      b = (-h + y) * v;
                    if (
                      m >= 0 &&
                        m <= 1 &&
                        (a.lerp(p, r, u, m),
                        a.sub(g, p, i),
                        a.normalize(g, g),
                        e.reportIntersection(t, m, g, -1),
                        t.shouldStop(e))
                    )
                      {return;}
                    b >= 0 &&
                        b <= 1 &&
                        (a.lerp(p, r, u, b),
                        a.sub(g, p, i),
                        a.normalize(g, g),
                        e.reportIntersection(t, b, g, -1));
                  }
                }
              };
            },
            { '../math/vec2': 30, './Shape': 45 },
          ],
          40: [
            function (t, e, i) {
              function n(t) {
                Array.isArray(arguments[0]) &&
                    ((t = { vertices: arguments[0], axes: arguments[1] }),
                    console.warn('The Convex constructor signature has changed. Please use the following format: new Convex({ vertices: [...], ... })')),
                (t = t || {}),
                (this.vertices = []);
                for (
                  var e = void 0 !== t.vertices ? t.vertices : [], i = 0;
                  i < e.length;
                  i++
                ) {
                  const n = a.create();
                  a.copy(n, e[i]), this.vertices.push(n);
                }
                if (((this.axes = []), t.axes)) {
                  for (var i = 0; i < t.axes.length; i++) {
                    let o = a.create();
                    a.copy(o, t.axes[i]), this.axes.push(o);
                  }
                } else {
                  for (var i = 0; i < this.vertices.length; i++) {
                    let s = this.vertices[i],
                      u = this.vertices[(i + 1) % this.vertices.length],
                      l = a.create();
                    a.sub(l, u, s),
                    a.rotate90cw(l, l),
                    a.normalize(l, l),
                    this.axes.push(l);
                  }
                }
                if (
                  ((this.centerOfMass = a.fromValues(0, 0)),
                  (this.triangles = []),
                  this.vertices.length &&
                      (this.updateTriangles(), this.updateCenterOfMass()),
                  (this.boundingRadius = 0),
                  (t.type = r.CONVEX),
                  r.call(this, t),
                  this.updateBoundingRadius(),
                  this.updateArea(),
                  this.area < 0)
                ) { throw new Error('Convex vertices must be given in conter-clockwise winding.'); }
              }
              var r = t('./Shape'),
                a = t('../math/vec2'),
                o = t('../math/polyk');
              t('poly-decomp'),
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n);
              let s = a.create(),
                u = a.create();
              (n.prototype.projectOntoLocalAxis = function (t, e) {
                for (
                  var i, n, r = null, o = null, t = s, u = 0;
                  u < this.vertices.length;
                  u++
                ) {
                  (i = this.vertices[u]),
                  (n = a.dot(i, t)),
                  (r === null || n > r) && (r = n),
                  (o === null || n < o) && (o = n);
                }
                if (o > r) {
                  const l = o;
                  (o = r), (r = l);
                }
                a.set(e, o, r);
              }),
              (n.prototype.projectOntoWorldAxis = function (t, e, i, n) {
                let r = u;
                this.projectOntoLocalAxis(t, n),
                i !== 0 ? a.rotate(r, t, i) : (r = t);
                const o = a.dot(e, r);
                a.set(n, n[0] + o, n[1] + o);
              }),
              (n.prototype.updateTriangles = function () {
                this.triangles.length = 0;
                for (var t = [], e = 0; e < this.vertices.length; e++) {
                  const i = this.vertices[e];
                  t.push(i[0], i[1]);
                }
                for (
                  var n = o.Triangulate(t), e = 0;
                  e < n.length;
                  e += 3
                ) {
                  let r = n[e],
                    a = n[e + 1],
                    s = n[e + 2];
                  this.triangles.push([r, a, s]);
                }
              });
              let l = a.create(),
                c = a.create(),
                h = a.create(),
                d = a.create(),
                f = a.create();
              a.create(),
              a.create(),
              a.create(),
              a.create(),
              (n.prototype.updateCenterOfMass = function () {
                var t = this.triangles,
                  e = this.vertices,
                  i = this.centerOfMass,
                  r = l,
                  o = h,
                  s = d,
                  u = f,
                  p = c;
                a.set(i, 0, 0);
                for (var g = 0, y = 0; y !== t.length; y++) {
                  var v = t[y],
                    o = e[v[0]],
                    s = e[v[1]],
                    u = e[v[2]];
                  a.centroid(r, o, s, u);
                  const m = n.triangleArea(o, s, u);
                  (g += m), a.scale(p, r, m), a.add(i, i, p);
                }
                a.scale(i, i, 1 / g);
              }),
              (n.prototype.computeMomentOfInertia = function (t) {
                for (
                  var e = 0,
                    i = 0,
                    n = this.vertices.length,
                    r = n - 1,
                    o = 0;
                  o < n;
                  r = o, o++
                ) {
                  let s = this.vertices[r],
                    u = this.vertices[o],
                    l = Math.abs(a.crossLength(s, u));
                  (e += l * (a.dot(u, u) + a.dot(u, s) + a.dot(s, s))),
                  (i += l);
                }
                return (t / 6) * (e / i);
              }),
              (n.prototype.updateBoundingRadius = function () {
                for (
                  var t = this.vertices, e = 0, i = 0;
                  i !== t.length;
                  i++
                ) {
                  const n = a.squaredLength(t[i]);
                  n > e && (e = n);
                }
                this.boundingRadius = Math.sqrt(e);
              }),
              (n.triangleArea = function (t, e, i) {
                return (
                  0.5 *
                      ((e[0] - t[0]) * (i[1] - t[1]) -
                        (i[0] - t[0]) * (e[1] - t[1]))
                );
              }),
              (n.prototype.updateArea = function () {
                this.updateTriangles(), (this.area = 0);
                for (
                  let t = this.triangles, e = this.vertices, i = 0;
                  i !== t.length;
                  i++
                ) {
                  let r = t[i],
                    a = e[r[0]],
                    o = e[r[1]],
                    s = e[r[2]],
                    u = n.triangleArea(a, o, s);
                  this.area += u;
                }
              }),
              (n.prototype.computeAABB = function (t, e, i) {
                t.setFromPoints(this.vertices, e, i, 0);
              });
              let p = a.create(),
                g = a.create(),
                y = a.create();
              n.prototype.raycast = function (t, e, i, n) {
                let r = p,
                  o = g,
                  s = y,
                  u = this.vertices;
                a.toLocalFrame(r, e.from, i, n),
                a.toLocalFrame(o, e.to, i, n);
                for (
                  let l = u.length, c = 0;
                  c < l && !t.shouldStop(e);
                  c++
                ) {
                  let h = u[c],
                    d = u[(c + 1) % l],
                    f = a.getLineSegmentsIntersectionFraction(r, o, h, d);
                  f >= 0 &&
                      (a.sub(s, d, h),
                      a.rotate(s, s, -Math.PI / 2 + n),
                      a.normalize(s, s),
                      e.reportIntersection(t, f, s, c));
                }
              };
            },
            {
              '../math/polyk': 29,
              '../math/vec2': 30,
              './Shape': 45,
              'poly-decomp': 5,
            },
          ],
          41: [
            function (t, e, i) {
              function n(t) {
                if (Array.isArray(arguments[0])) {
                  if (
                    ((t = { heights: arguments[0] }),
                    r(arguments[1]) === 'object')
                  ) { for (const e in arguments[1]) t[e] = arguments[1][e]; }
                  console.warn('The Heightfield constructor signature has changed. Please use the following format: new Heightfield({ heights: [...], ... })');
                }
                (t = t || {}),
                (this.heights = t.heights ? t.heights.slice(0) : []),
                (this.maxValue = t.maxValue || null),
                (this.minValue = t.minValue || null),
                (this.elementWidth = t.elementWidth || 0.1),
                (void 0 !== t.maxValue && void 0 !== t.minValue) ||
                      this.updateMaxMinValues(),
                (t.type = a.HEIGHTFIELD),
                a.call(this, t);
              }
              var a = t('./Shape'),
                o = t('../math/vec2');
              t('../utils/Utils'),
              (e.exports = n),
              (n.prototype = new a()),
              (n.prototype.constructor = n),
              (n.prototype.updateMaxMinValues = function () {
                for (
                  var t = this.heights, e = t[0], i = t[0], n = 0;
                  n !== t.length;
                  n++
                ) {
                  const r = t[n];
                  r > e && (e = r), r < i && (i = r);
                }
                (this.maxValue = e), (this.minValue = i);
              }),
              (n.prototype.computeMomentOfInertia = function (t) {
                return Number.MAX_VALUE;
              }),
              (n.prototype.updateBoundingRadius = function () {
                this.boundingRadius = Number.MAX_VALUE;
              }),
              (n.prototype.updateArea = function () {
                for (
                  var t = this.heights, e = 0, i = 0;
                  i < t.length - 1;
                  i++
                ) { e += ((t[i] + t[i + 1]) / 2) * this.elementWidth; }
                this.area = e;
              });
              const s = [o.create(), o.create(), o.create(), o.create()];
              (n.prototype.computeAABB = function (t, e, i) {
                o.set(s[0], 0, this.maxValue),
                o.set(
                  s[1],
                  this.elementWidth * this.heights.length,
                  this.maxValue,
                ),
                o.set(
                  s[2],
                  this.elementWidth * this.heights.length,
                  this.minValue,
                ),
                o.set(s[3], 0, this.minValue),
                t.setFromPoints(s, e, i);
              }),
              (n.prototype.getLineSegment = function (t, e, i) {
                let n = this.heights,
                  r = this.elementWidth;
                o.set(t, i * r, n[i]), o.set(e, (i + 1) * r, n[i + 1]);
              }),
              (n.prototype.getSegmentIndex = function (t) {
                return Math.floor(t[0] / this.elementWidth);
              }),
              (n.prototype.getClampedSegmentIndex = function (t) {
                let e = this.getSegmentIndex(t);
                return (e = Math.min(this.heights.length, Math.max(e, 0)));
              });
              let u = (o.create(), o.create()),
                l = o.create(),
                c = o.create(),
                h = o.create(),
                d = o.create();
              o.fromValues(0, 1),
              (n.prototype.raycast = function (t, e, i, n) {
                let r = e.from,
                  a = e.to,
                  s = (e.direction, u),
                  f = l,
                  p = c,
                  g = h,
                  y = d;
                o.toLocalFrame(g, r, i, n), o.toLocalFrame(y, a, i, n);
                let v = this.getClampedSegmentIndex(g),
                  m = this.getClampedSegmentIndex(y);
                if (v > m) {
                  const b = v;
                  (v = m), (m = b);
                }
                for (let _ = 0; _ < this.heights.length - 1; _++) {
                  this.getLineSegment(f, p, _);
                  const w = o.getLineSegmentsIntersectionFraction(g, y, f, p);
                  if (
                    w >= 0 &&
                        (o.sub(s, p, f),
                        o.rotate(s, s, n + Math.PI / 2),
                        o.normalize(s, s),
                        e.reportIntersection(t, w, s, -1),
                        t.shouldStop(e))
                  ) { return; }
                }
              });
            },
            { '../math/vec2': 30, '../utils/Utils': 57, './Shape': 45 },
          ],
          42: [
            function (t, e, i) {
              function n(t) {
                typeof arguments[0] === 'number' &&
                    ((t = { length: arguments[0] }),
                    console.warn('The Line constructor signature has changed. Please use the following format: new Line({ length: 1, ... })')),
                (t = t || {}),
                (this.length = t.length || 1),
                (t.type = r.LINE),
                r.call(this, t);
              }
              var r = t('./Shape'),
                a = t('../math/vec2');
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.computeMomentOfInertia = function (t) {
                return (t * Math.pow(this.length, 2)) / 12;
              }),
              (n.prototype.updateBoundingRadius = function () {
                this.boundingRadius = this.length / 2;
              });
              const o = [a.create(), a.create()];
              n.prototype.computeAABB = function (t, e, i) {
                const n = this.length / 2;
                a.set(o[0], -n, 0),
                a.set(o[1], n, 0),
                t.setFromPoints(o, e, i, 0);
              };
              let s = (a.create(), a.create()),
                u = a.create(),
                l = a.create(),
                c = a.fromValues(0, 1);
              n.prototype.raycast = function (t, e, i, n) {
                let r = e.from,
                  o = e.to,
                  h = u,
                  d = l,
                  f = this.length / 2;
                a.set(h, -f, 0),
                a.set(d, f, 0),
                a.toGlobalFrame(h, h, i, n),
                a.toGlobalFrame(d, d, i, n);
                const p = a.getLineSegmentsIntersectionFraction(h, d, r, o);
                if (p >= 0) {
                  const g = s;
                  a.rotate(g, c, n), e.reportIntersection(t, p, g, -1);
                }
              };
            },
            { '../math/vec2': 30, './Shape': 45 },
          ],
          43: [
            function (t, e, i) {
              function n(t) {
                (t = t || {}), (t.type = r.PARTICLE), r.call(this, t);
              }
              var r = t('./Shape'),
                a = t('../math/vec2');
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.computeMomentOfInertia = function (t) {
                return 0;
              }),
              (n.prototype.updateBoundingRadius = function () {
                this.boundingRadius = 0;
              }),
              (n.prototype.computeAABB = function (t, e, i) {
                a.copy(t.lowerBound, e), a.copy(t.upperBound, e);
              });
            },
            { '../math/vec2': 30, './Shape': 45 },
          ],
          44: [
            function (t, e, i) {
              function n(t) {
                (t = t || {}), (t.type = r.PLANE), r.call(this, t);
              }
              var r = t('./Shape'),
                a = t('../math/vec2');
              t('../utils/Utils'),
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.computeMomentOfInertia = function (t) {
                return 0;
              }),
              (n.prototype.updateBoundingRadius = function () {
                this.boundingRadius = Number.MAX_VALUE;
              }),
              (n.prototype.computeAABB = function (t, e, i) {
                let n = i % (2 * Math.PI),
                  r = a.set,
                  o = Number.MAX_VALUE,
                  s = t.lowerBound,
                  u = t.upperBound;
                n === 0
                  ? (r(s, -o, -o), r(u, o, 0))
                  : n === Math.PI / 2
                    ? (r(s, 0, -o), r(u, o, o))
                    : n === Math.PI
                      ? (r(s, -o, 0), r(u, o, o))
                      : n === (3 * Math.PI) / 2
                        ? (r(s, -o, -o), r(u, 0, o))
                        : (r(s, -o, -o), r(u, o, o)),
                a.add(s, s, e),
                a.add(u, u, e);
              }),
              (n.prototype.updateArea = function () {
                this.area = Number.MAX_VALUE;
              });
              let o = a.create(),
                s = (a.create(), a.create(), a.create()),
                u = a.create();
              n.prototype.raycast = function (t, e, i, n) {
                let r = e.from,
                  l = e.to,
                  c = e.direction,
                  h = o,
                  d = s,
                  f = u;
                a.set(d, 0, 1), a.rotate(d, d, n), a.sub(f, r, i);
                const p = a.dot(f, d);
                if (
                  (a.sub(f, l, i),
                  !(p * a.dot(f, d) > 0 || a.squaredDistance(r, l) < p * p))
                ) {
                  const g = a.dot(d, c);
                  a.sub(h, r, i);
                  const y = -a.dot(d, h) / g / e.length;
                  e.reportIntersection(t, y, d, -1);
                }
              };
            },
            { '../math/vec2': 30, '../utils/Utils': 57, './Shape': 45 },
          ],
          45: [
            function (t, e, i) {
              function n(t) {
                (t = t || {}),
                (this.body = null),
                (this.position = r.fromValues(0, 0)),
                t.position && r.copy(this.position, t.position),
                (this.angle = t.angle || 0),
                (this.type = t.type || 0),
                (this.id = n.idCounter++),
                (this.boundingRadius = 0),
                (this.collisionGroup =
                      void 0 !== t.collisionGroup ? t.collisionGroup : 1),
                (this.collisionResponse =
                      void 0 === t.collisionResponse || t.collisionResponse),
                (this.collisionMask =
                      void 0 !== t.collisionMask ? t.collisionMask : 1),
                (this.material = t.material || null),
                (this.area = 0),
                (this.sensor = void 0 !== t.sensor && t.sensor),
                this.type && this.updateBoundingRadius(),
                this.updateArea();
              }
              e.exports = n;
              var r = t('../math/vec2');
              (n.idCounter = 0),
              (n.CIRCLE = 1),
              (n.PARTICLE = 2),
              (n.PLANE = 4),
              (n.CONVEX = 8),
              (n.LINE = 16),
              (n.BOX = 32),
              Object.defineProperty(n, 'RECTANGLE', {
                get() {
                  return (
                    console.warn('Shape.RECTANGLE is deprecated, use Shape.BOX instead.'),
                    n.BOX
                  );
                },
              }),
              (n.CAPSULE = 64),
              (n.HEIGHTFIELD = 128),
              (n.prototype.computeMomentOfInertia = function (t) {}),
              (n.prototype.updateBoundingRadius = function () {}),
              (n.prototype.updateArea = function () {}),
              (n.prototype.computeAABB = function (t, e, i) {}),
              (n.prototype.raycast = function (t, e, i, n) {});
            },
            { '../math/vec2': 30 },
          ],
          46: [
            function (t, e, i) {
              function n(t) {
                o.call(this, t, o.GS),
                (t = t || {}),
                (this.iterations = t.iterations || 10),
                (this.tolerance = t.tolerance || 1e-7),
                (this.arrayStep = 30),
                (this.lambda = new s.ARRAY_TYPE(this.arrayStep)),
                (this.Bs = new s.ARRAY_TYPE(this.arrayStep)),
                (this.invCs = new s.ARRAY_TYPE(this.arrayStep)),
                (this.useZeroRHS = !1),
                (this.frictionIterations = 0),
                (this.usedIterations = 0);
              }
              function r(t) {
                for (let e = t.length; e--;) t[e] = 0;
              }
              var a = t('../math/vec2'),
                o = t('./Solver'),
                s = t('../utils/Utils'),
                u = t('../equations/FrictionEquation');
              (e.exports = n),
              (n.prototype = new o()),
              (n.prototype.constructor = n),
              (n.prototype.solve = function (t, e) {
                this.sortEquations();
                var i = 0,
                  o = this.iterations,
                  l = this.frictionIterations,
                  c = this.equations,
                  h = c.length,
                  d = Math.pow(this.tolerance * h, 2),
                  f = e.bodies,
                  p = e.bodies.length,
                  g = (a.add, a.set, this.useZeroRHS),
                  y = this.lambda;
                if (((this.usedIterations = 0), h)) {
                  for (var v = 0; v !== p; v++) {
                    var m = f[v];
                    m.updateSolveMassProperties();
                  }
                }
                y.length < h &&
                      ((y = this.lambda = new s.ARRAY_TYPE(h + this.arrayStep)),
                      (this.Bs = new s.ARRAY_TYPE(h + this.arrayStep)),
                      (this.invCs = new s.ARRAY_TYPE(h + this.arrayStep))),
                r(y);
                for (
                  var b = this.invCs, _ = this.Bs, y = this.lambda, v = 0;
                  v !== c.length;
                  v++
                ) {
                  var w = c[v];
                  (w.timeStep !== t || w.needsUpdate) &&
                        ((w.timeStep = t), w.update()),
                  (_[v] = w.computeB(w.a, w.b, t)),
                  (b[v] = w.computeInvC(w.epsilon));
                }
                var w,
                  x,
                  v,
                  P;
                if (h !== 0) {
                  for (v = 0; v !== p; v++) {
                    var m = f[v];
                    m.resetConstraintVelocity();
                  }
                  if (l) {
                    for (i = 0; i !== l; i++) {
                      for (x = 0, P = 0; P !== h; P++) {
                        w = c[P];
                        var k = n.iterateEquation(
                          P,
                          w,
                          w.epsilon,
                          _,
                          b,
                          y,
                          g,
                          t,
                          i,
                        );
                        x += Math.abs(k);
                      }
                      if ((this.usedIterations++, x * x <= d)) break;
                    }
                    for (
                      n.updateMultipliers(c, y, 1 / t), P = 0;
                      P !== h;
                      P++
                    ) {
                      const T = c[P];
                      if (T instanceof u) {
                        for (
                          var O = 0, E = 0;
                          E !== T.contactEquations.length;
                          E++
                        ) { O += T.contactEquations[E].multiplier; }
                        (O *=
                              T.frictionCoefficient /
                              T.contactEquations.length),
                        (T.maxForce = O),
                        (T.minForce = -O);
                      }
                    }
                  }
                  for (i = 0; i !== o; i++) {
                    for (x = 0, P = 0; P !== h; P++) {
                      w = c[P];
                      var k = n.iterateEquation(
                        P,
                        w,
                        w.epsilon,
                        _,
                        b,
                        y,
                        g,
                        t,
                        i,
                      );
                      x += Math.abs(k);
                    }
                    if ((this.usedIterations++, x * x <= d)) break;
                  }
                  for (v = 0; v !== p; v++) f[v].addConstraintVelocity();
                  n.updateMultipliers(c, y, 1 / t);
                }
              }),
              (n.updateMultipliers = function (t, e, i) {
                for (let n = t.length; n--;) t[n].multiplier = e[n] * i;
              }),
              (n.iterateEquation = function (t, e, i, n, r, a, o, s, u) {
                let l = n[t],
                  c = r[t],
                  h = a[t],
                  d = e.computeGWlambda(),
                  f = e.maxForce,
                  p = e.minForce;
                o && (l = 0);
                let g = c * (l - d - i * h),
                  y = h + g;
                return (
                  y < p * s
                    ? (g = p * s - h)
                    : y > f * s && (g = f * s - h),
                  (a[t] += g),
                  e.addToWlambda(g),
                  g
                );
              });
            },
            {
              '../equations/FrictionEquation': 23,
              '../math/vec2': 30,
              '../utils/Utils': 57,
              './Solver': 47,
            },
          ],
          47: [
            function (t, e, i) {
              function n(t, e) {
                (t = t || {}),
                r.call(this),
                (this.type = e),
                (this.equations = []),
                (this.equationSortFunction = t.equationSortFunction || !1);
              }
              var r = (t('../utils/Utils'), t('../events/EventEmitter'));
              (e.exports = n),
              (n.prototype = new r()),
              (n.prototype.constructor = n),
              (n.prototype.solve = function (t, e) {
                throw new Error('Solver.solve should be implemented by subclasses!');
              });
              const a = { bodies: [] };
              (n.prototype.solveIsland = function (t, e) {
                this.removeAllEquations(),
                e.equations.length &&
                      (this.addEquations(e.equations),
                      (a.bodies.length = 0),
                      e.getBodies(a.bodies),
                      a.bodies.length && this.solve(t, a));
              }),
              (n.prototype.sortEquations = function () {
                this.equationSortFunction &&
                      this.equations.sort(this.equationSortFunction);
              }),
              (n.prototype.addEquation = function (t) {
                t.enabled && this.equations.push(t);
              }),
              (n.prototype.addEquations = function (t) {
                for (let e = 0, i = t.length; e !== i; e++) {
                  const n = t[e];
                  n.enabled && this.equations.push(n);
                }
              }),
              (n.prototype.removeEquation = function (t) {
                const e = this.equations.indexOf(t);
                e !== -1 && this.equations.splice(e, 1);
              }),
              (n.prototype.removeAllEquations = function () {
                this.equations.length = 0;
              }),
              (n.GS = 1),
              (n.ISLAND = 2);
            },
            { '../events/EventEmitter': 26, '../utils/Utils': 57 },
          ],
          48: [
            function (t, e, i) {
              function n() {
                a.apply(this, arguments);
              }
              var r = t('../equations/ContactEquation'),
                a = t('./Pool');
              (e.exports = n),
              (n.prototype = new a()),
              (n.prototype.constructor = n),
              (n.prototype.create = function () {
                return new r();
              }),
              (n.prototype.destroy = function (t) {
                return (t.bodyA = t.bodyB = null), this;
              });
            },
            { '../equations/ContactEquation': 21, './Pool': 55 },
          ],
          49: [
            function (t, e, i) {
              function n() {
                a.apply(this, arguments);
              }
              var r = t('../equations/FrictionEquation'),
                a = t('./Pool');
              (e.exports = n),
              (n.prototype = new a()),
              (n.prototype.constructor = n),
              (n.prototype.create = function () {
                return new r();
              }),
              (n.prototype.destroy = function (t) {
                return (t.bodyA = t.bodyB = null), this;
              });
            },
            { '../equations/FrictionEquation': 23, './Pool': 55 },
          ],
          50: [
            function (t, e, i) {
              function n() {
                a.apply(this, arguments);
              }
              var r = t('../world/IslandNode'),
                a = t('./Pool');
              (e.exports = n),
              (n.prototype = new a()),
              (n.prototype.constructor = n),
              (n.prototype.create = function () {
                return new r();
              }),
              (n.prototype.destroy = function (t) {
                return t.reset(), this;
              });
            },
            { '../world/IslandNode': 60, './Pool': 55 },
          ],
          51: [
            function (t, e, i) {
              function n() {
                a.apply(this, arguments);
              }
              var r = t('../world/Island'),
                a = t('./Pool');
              (e.exports = n),
              (n.prototype = new a()),
              (n.prototype.constructor = n),
              (n.prototype.create = function () {
                return new r();
              }),
              (n.prototype.destroy = function (t) {
                return t.reset(), this;
              });
            },
            { '../world/Island': 58, './Pool': 55 },
          ],
          52: [
            function (t, e, i) {
              function n() {
                (this.overlappingShapesLastState = new r()),
                (this.overlappingShapesCurrentState = new r()),
                (this.recordPool = new a({ size: 16 })),
                (this.tmpDict = new r()),
                (this.tmpArray1 = []);
              }
              var r = t('./TupleDictionary'),
                a =
                    (t('./OverlapKeeperRecord'),
                    t('./OverlapKeeperRecordPool'));
              t('./Utils'),
              (e.exports = n),
              (n.prototype.tick = function () {
                for (
                  var t = this.overlappingShapesLastState,
                    e = this.overlappingShapesCurrentState,
                    i = t.keys.length;
                  i--;

                ) {
                  let n = t.keys[i],
                    r = t.getByKey(n);
                  e.getByKey(n), r && this.recordPool.release(r);
                }
                t.reset(), t.copy(e), e.reset();
              }),
              (n.prototype.setOverlapping = function (t, e, i, n) {
                const r =
                      (this.overlappingShapesLastState,
                      this.overlappingShapesCurrentState);
                if (!r.get(e.id, n.id)) {
                  const a = this.recordPool.get();
                  a.set(t, e, i, n), r.set(e.id, n.id, a);
                }
              }),
              (n.prototype.getNewOverlaps = function (t) {
                return this.getDiff(
                  this.overlappingShapesLastState,
                  this.overlappingShapesCurrentState,
                  t,
                );
              }),
              (n.prototype.getEndOverlaps = function (t) {
                return this.getDiff(
                  this.overlappingShapesCurrentState,
                  this.overlappingShapesLastState,
                  t,
                );
              }),
              (n.prototype.bodiesAreOverlapping = function (t, e) {
                for (
                  let i = this.overlappingShapesCurrentState,
                    n = i.keys.length;
                  n--;

                ) {
                  let r = i.keys[n],
                    a = i.data[r];
                  if (
                    (a.bodyA === t && a.bodyB === e) ||
                        (a.bodyA === e && a.bodyB === t)
                  ) { return !0; }
                }
                return !1;
              }),
              (n.prototype.getDiff = function (t, e, i) {
                var i = i || [],
                  n = t,
                  r = e;
                i.length = 0;
                for (let a = r.keys.length; a--;) {
                  let o = r.keys[a],
                    s = r.data[o];
                  if (!s) throw new Error(`Key ${o} had no data!`);
                  n.data[o] || i.push(s);
                }
                return i;
              }),
              (n.prototype.isNewOverlap = function (t, e) {
                let i = 0 | t.id,
                  n = 0 | e.id,
                  r = this.overlappingShapesLastState,
                  a = this.overlappingShapesCurrentState;
                return !r.get(i, n) && !!a.get(i, n);
              }),
              (n.prototype.getNewBodyOverlaps = function (t) {
                this.tmpArray1.length = 0;
                const e = this.getNewOverlaps(this.tmpArray1);
                return this.getBodyDiff(e, t);
              }),
              (n.prototype.getEndBodyOverlaps = function (t) {
                this.tmpArray1.length = 0;
                const e = this.getEndOverlaps(this.tmpArray1);
                return this.getBodyDiff(e, t);
              }),
              (n.prototype.getBodyDiff = function (t, e) {
                e = e || [];
                for (var i = this.tmpDict, n = t.length; n--;) {
                  var r = t[n];
                  i.set(0 | r.bodyA.id, 0 | r.bodyB.id, r);
                }
                for (n = i.keys.length; n--;) {
                  var r = i.getByKey(i.keys[n]);
                  r && e.push(r.bodyA, r.bodyB);
                }
                return i.reset(), e;
              });
            },
            {
              './OverlapKeeperRecord': 53,
              './OverlapKeeperRecordPool': 54,
              './TupleDictionary': 56,
              './Utils': 57,
            },
          ],
          53: [
            function (t, e, i) {
              function n(t, e, i, n) {
                (this.shapeA = e),
                (this.shapeB = n),
                (this.bodyA = t),
                (this.bodyB = i);
              }
              (e.exports = n),
              (n.prototype.set = function (t, e, i, r) {
                n.call(this, t, e, i, r);
              });
            },
            {},
          ],
          54: [
            function (t, e, i) {
              function n() {
                a.apply(this, arguments);
              }
              var r = t('./OverlapKeeperRecord'),
                a = t('./Pool');
              (e.exports = n),
              (n.prototype = new a()),
              (n.prototype.constructor = n),
              (n.prototype.create = function () {
                return new r();
              }),
              (n.prototype.destroy = function (t) {
                return (
                  (t.bodyA = t.bodyB = t.shapeA = t.shapeB = null), this
                );
              });
            },
            { './OverlapKeeperRecord': 53, './Pool': 55 },
          ],
          55: [
            function (t, e, i) {
              function n(t) {
                (t = t || {}),
                (this.objects = []),
                void 0 !== t.size && this.resize(t.size);
              }
              (e.exports = n),
              (n.prototype.resize = function (t) {
                for (var e = this.objects; e.length > t;) e.pop();
                for (; e.length < t;) e.push(this.create());
                return this;
              }),
              (n.prototype.get = function () {
                const t = this.objects;
                return t.length ? t.pop() : this.create();
              }),
              (n.prototype.release = function (t) {
                return this.destroy(t), this.objects.push(t), this;
              });
            },
            {},
          ],
          56: [
            function (t, e, i) {
              function n() {
                (this.data = {}), (this.keys = []);
              }
              const r = t('./Utils');
              (e.exports = n),
              (n.prototype.getKey = function (t, e) {
                return (
                  (t |= 0),
                  (e |= 0),
                  (0 | t) == (0 | e)
                    ? -1
                    : 0 |
                          ((0 | t) > (0 | e)
                            ? (t << 16) | (65535 & e)
                            : (e << 16) | (65535 & t))
                );
              }),
              (n.prototype.getByKey = function (t) {
                return (t |= 0), this.data[t];
              }),
              (n.prototype.get = function (t, e) {
                return this.data[this.getKey(t, e)];
              }),
              (n.prototype.set = function (t, e, i) {
                if (!i) throw new Error('No data!');
                const n = this.getKey(t, e);
                return (
                  this.data[n] || this.keys.push(n), (this.data[n] = i), n
                );
              }),
              (n.prototype.reset = function () {
                for (var t = this.data, e = this.keys, i = e.length; i--;) { delete t[e[i]]; }
                e.length = 0;
              }),
              (n.prototype.copy = function (t) {
                this.reset(), r.appendArray(this.keys, t.keys);
                for (let e = t.keys.length; e--;) {
                  const i = t.keys[e];
                  this.data[i] = t.data[i];
                }
              });
            },
            { './Utils': 57 },
          ],
          57: [
            function (t, e, i) {
              function n() {}
              (e.exports = n),
              (n.appendArray = function (t, e) {
                if (e.length < 15e4) t.push(...e);
                else { for (let i = 0, n = e.length; i !== n; ++i) t.push(e[i]); }
              }),
              (n.splice = function (t, e, i) {
                i = i || 1;
                for (var n = e, r = t.length - i; n < r; n++) { t[n] = t[n + i]; }
                t.length = r;
              }),
              typeof P2_ARRAY_TYPE !== 'undefined'
                ? (n.ARRAY_TYPE = P2_ARRAY_TYPE)
                : typeof Float32Array !== 'undefined'
                  ? (n.ARRAY_TYPE = Float32Array)
                  : (n.ARRAY_TYPE = Array),
              (n.extend = function (t, e) {
                for (const i in e) t[i] = e[i];
              }),
              (n.defaults = function (t, e) {
                t = t || {};
                for (const i in e) i in t || (t[i] = e[i]);
                return t;
              });
            },
            {},
          ],
          58: [
            function (t, e, i) {
              function n() {
                (this.equations = []), (this.bodies = []);
              }
              const r = t('../objects/Body');
              (e.exports = n),
              (n.prototype.reset = function () {
                this.equations.length = this.bodies.length = 0;
              });
              const a = [];
              (n.prototype.getBodies = function (t) {
                let e = t || [],
                  i = this.equations;
                a.length = 0;
                for (let n = 0; n !== i.length; n++) {
                  const r = i[n];
                  a.indexOf(r.bodyA.id) === -1 &&
                      (e.push(r.bodyA), a.push(r.bodyA.id)),
                  a.indexOf(r.bodyB.id) === -1 &&
                        (e.push(r.bodyB), a.push(r.bodyB.id));
                }
                return e;
              }),
              (n.prototype.wantsToSleep = function () {
                for (let t = 0; t < this.bodies.length; t++) {
                  const e = this.bodies[t];
                  if (e.type === r.DYNAMIC && !e.wantsToSleep) return !1;
                }
                return !0;
              }),
              (n.prototype.sleep = function () {
                for (let t = 0; t < this.bodies.length; t++) { this.bodies[t].sleep(); }
                return !0;
              });
            },
            { '../objects/Body': 31 },
          ],
          59: [
            function (t, e, i) {
              function n(t) {
                (this.nodePool = new r({ size: 16 })),
                (this.islandPool = new a({ size: 8 })),
                (this.equations = []),
                (this.islands = []),
                (this.nodes = []),
                (this.queue = []);
              }
              var r =
                    (t('../math/vec2'),
                    t('./Island'),
                    t('./IslandNode'),
                    t('./../utils/IslandNodePool')),
                a = t('./../utils/IslandPool'),
                o = t('../objects/Body');
              (e.exports = n),
              (n.getUnvisitedNode = function (t) {
                for (let e = t.length, i = 0; i !== e; i++) {
                  const n = t[i];
                  if (!n.visited && n.body.type === o.DYNAMIC) return n;
                }
                return !1;
              }),
              (n.prototype.visit = function (t, e, i) {
                e.push(t.body);
                for (let n = t.equations.length, r = 0; r !== n; r++) {
                  const a = t.equations[r];
                  i.indexOf(a) === -1 && i.push(a);
                }
              }),
              (n.prototype.bfs = function (t, e, i) {
                const r = this.queue;
                for (
                  r.length = 0,
                  r.push(t),
                  t.visited = !0,
                  this.visit(t, e, i);
                  r.length;

                ) {
                  for (
                    var a, s = r.pop();
                    (a = n.getUnvisitedNode(s.neighbors));

                  ) { (a.visited = !0),
                  this.visit(a, e, i),
                  a.body.type === o.DYNAMIC && r.push(a); }
                }
              }),
              (n.prototype.split = function (t) {
                for (
                  var e = t.bodies, i = this.nodes, r = this.equations;
                  i.length;

                ) { this.nodePool.release(i.pop()); }
                for (var a = 0; a !== e.length; a++) {
                  const o = this.nodePool.get();
                  (o.body = e[a]), i.push(o);
                }
                for (let s = 0; s !== r.length; s++) {
                  var u = r[s],
                    a = e.indexOf(u.bodyA),
                    l = e.indexOf(u.bodyB),
                    c = i[a],
                    h = i[l];
                  c.neighbors.push(h),
                  h.neighbors.push(c),
                  c.equations.push(u),
                  h.equations.push(u);
                }
                for (var d = this.islands, a = 0; a < d.length; a++) { this.islandPool.release(d[a]); }
                d.length = 0;
                for (var f; (f = n.getUnvisitedNode(i));) {
                  const p = this.islandPool.get();
                  this.bfs(f, p.bodies, p.equations), d.push(p);
                }
                return d;
              });
            },
            {
              '../math/vec2': 30,
              '../objects/Body': 31,
              './../utils/IslandNodePool': 50,
              './../utils/IslandPool': 51,
              './Island': 58,
              './IslandNode': 60,
            },
          ],
          60: [
            function (t, e, i) {
              function n(t) {
                (this.body = t),
                (this.neighbors = []),
                (this.equations = []),
                (this.visited = !1);
              }
              (e.exports = n),
              (n.prototype.reset = function () {
                (this.equations.length = 0),
                (this.neighbors.length = 0),
                (this.visited = !1),
                (this.body = null);
              });
            },
            {},
          ],
          61: [
            function (t, e, i) {
              function n(t) {
                h.apply(this),
                (t = t || {}),
                (this.springs = []),
                (this.bodies = []),
                (this.disabledBodyCollisionPairs = []),
                (this.solver = t.solver || new r()),
                (this.narrowphase = new v(this)),
                (this.islandManager = new _()),
                (this.gravity = a.fromValues(0, -9.78)),
                t.gravity && a.copy(this.gravity, t.gravity),
                (this.frictionGravity = a.length(this.gravity) || 10),
                (this.useWorldGravityAsFrictionGravity = !0),
                (this.useFrictionGravityOnZeroGravity = !0),
                (this.broadphase = t.broadphase || new y()),
                this.broadphase.setWorld(this),
                (this.constraints = []),
                (this.defaultMaterial = new f()),
                (this.defaultContactMaterial = new p(
                  this.defaultMaterial,
                  this.defaultMaterial,
                )),
                (this.lastTimeStep = 1 / 60),
                (this.applySpringForces = !0),
                (this.applyDamping = !0),
                (this.applyGravity = !0),
                (this.solveConstraints = !0),
                (this.contactMaterials = []),
                (this.time = 0),
                (this.accumulator = 0),
                (this.stepping = !1),
                (this.bodiesToBeRemoved = []),
                (this.islandSplit =
                      void 0 === t.islandSplit || !!t.islandSplit),
                (this.emitImpactEvent = !0),
                (this._constraintIdCounter = 0),
                (this._bodyIdCounter = 0),
                (this.postStepEvent = { type: 'postStep' }),
                (this.addBodyEvent = { type: 'addBody', body: null }),
                (this.removeBodyEvent = { type: 'removeBody', body: null }),
                (this.addSpringEvent = { type: 'addSpring', spring: null }),
                (this.impactEvent = {
                  type: 'impact',
                  bodyA: null,
                  bodyB: null,
                  shapeA: null,
                  shapeB: null,
                  contactEquation: null,
                }),
                (this.postBroadphaseEvent = {
                  type: 'postBroadphase',
                  pairs: null,
                }),
                (this.sleepMode = n.NO_SLEEPING),
                (this.beginContactEvent = {
                  type: 'beginContact',
                  shapeA: null,
                  shapeB: null,
                  bodyA: null,
                  bodyB: null,
                  contactEquations: [],
                }),
                (this.endContactEvent = {
                  type: 'endContact',
                  shapeA: null,
                  shapeB: null,
                  bodyA: null,
                  bodyB: null,
                }),
                (this.preSolveEvent = {
                  type: 'preSolve',
                  contactEquations: null,
                  frictionEquations: null,
                }),
                (this.overlappingShapesLastState = { keys: [] }),
                (this.overlappingShapesCurrentState = { keys: [] }),
                (this.overlapKeeper = new b());
              }
              var r = t('../solver/GSSolver'),
                a =
                    (t('../solver/Solver'),
                    t('../collision/Ray'),
                    t('../math/vec2')),
                o = t('../shapes/Circle'),
                s = t('../shapes/Convex'),
                u = (t('../shapes/Line'), t('../shapes/Plane')),
                l = t('../shapes/Capsule'),
                c = t('../shapes/Particle'),
                h = t('../events/EventEmitter'),
                d = t('../objects/Body'),
                f =
                    (t('../shapes/Shape'),
                    t('../objects/LinearSpring'),
                    t('../material/Material')),
                p = t('../material/ContactMaterial'),
                g =
                    (t('../constraints/DistanceConstraint'),
                    t('../constraints/Constraint'),
                    t('../constraints/LockConstraint'),
                    t('../constraints/RevoluteConstraint'),
                    t('../constraints/PrismaticConstraint'),
                    t('../constraints/GearConstraint'),
                    t('../../package.json'),
                    t('../collision/Broadphase'),
                    t('../collision/AABB')),
                y = t('../collision/SAPBroadphase'),
                v = t('../collision/Narrowphase'),
                m = t('../utils/Utils'),
                b = t('../utils/OverlapKeeper'),
                _ = t('./IslandManager');
              t('../objects/RotationalSpring'),
              (e.exports = n),
              (n.prototype = new Object(h.prototype)),
              (n.prototype.constructor = n),
              (n.NO_SLEEPING = 1),
              (n.BODY_SLEEPING = 2),
              (n.ISLAND_SLEEPING = 4),
              (n.prototype.addConstraint = function (t) {
                this.constraints.push(t);
              }),
              (n.prototype.addContactMaterial = function (t) {
                this.contactMaterials.push(t);
              }),
              (n.prototype.removeContactMaterial = function (t) {
                const e = this.contactMaterials.indexOf(t);
                e !== -1 && m.splice(this.contactMaterials, e, 1);
              }),
              (n.prototype.getContactMaterial = function (t, e) {
                for (
                  let i = this.contactMaterials, n = 0, r = i.length;
                  n !== r;
                  n++
                ) {
                  const a = i[n];
                  if (
                    (a.materialA.id === t.id && a.materialB.id === e.id) ||
                        (a.materialA.id === e.id && a.materialB.id === t.id)
                  ) { return a; }
                }
                return !1;
              }),
              (n.prototype.removeConstraint = function (t) {
                const e = this.constraints.indexOf(t);
                e !== -1 && m.splice(this.constraints, e, 1);
              });
              let w =
                    (a.create(),
                    a.create(),
                    a.create(),
                    a.create(),
                    a.create(),
                    a.create(),
                    a.create()),
                x = a.fromValues(0, 0),
                P = a.fromValues(0, 0);
              a.fromValues(0, 0),
              a.fromValues(0, 0),
              (n.prototype.step = function (t, e, i) {
                if (((i = i || 10), (e = e || 0) === 0)) { this.internalStep(t), (this.time += t); } else {
                  this.accumulator += e;
                  for (let n = 0; this.accumulator >= t && n < i;) {
                    this.internalStep(t),
                    (this.time += t),
                    (this.accumulator -= t),
                    n++;
                  }
                  for (
                    let r = (this.accumulator % t) / t, o = 0;
                    o !== this.bodies.length;
                    o++
                  ) {
                    const s = this.bodies[o];
                    a.lerp(
                      s.interpolatedPosition,
                      s.previousPosition,
                      s.position,
                      r,
                    ),
                    (s.interpolatedAngle =
                            s.previousAngle + r * (s.angle - s.previousAngle));
                  }
                }
              });
              const k = [];
              (n.prototype.internalStep = function (t) {
                this.stepping = !0;
                let e = this.springs.length,
                  i = this.springs,
                  r = this.bodies,
                  o = this.gravity,
                  s = this.solver,
                  u = this.bodies.length,
                  l = this.broadphase,
                  c = this.narrowphase,
                  h = this.constraints,
                  f = w,
                  p = (a.scale, a.add),
                  g = (a.rotate, this.islandManager);
                if (
                  (this.overlapKeeper.tick(),
                  (this.lastTimeStep = t),
                  this.useWorldGravityAsFrictionGravity)
                ) {
                  const y = a.length(this.gravity);
                  (y === 0 && this.useFrictionGravityOnZeroGravity) ||
                      (this.frictionGravity = y);
                }
                if (this.applyGravity) {
                  for (var v = 0; v !== u; v++) {
                    var b = r[v],
                      _ = b.force;
                    b.type === d.DYNAMIC &&
                        b.sleepState !== d.SLEEPING &&
                        (a.scale(f, o, b.mass * b.gravityScale), p(_, _, f));
                  }
                }
                if (this.applySpringForces) {
                  for (var v = 0; v !== e; v++) {
                    let x = i[v];
                    x.applyForce();
                  }
                }
                if (this.applyDamping) {
                  for (var v = 0; v !== u; v++) {
                    var b = r[v];
                    b.type === d.DYNAMIC && b.applyDamping(t);
                  }
                }
                for (
                  var P = l.getCollisionPairs(this),
                    T = this.disabledBodyCollisionPairs,
                    v = T.length - 2;
                  v >= 0;
                  v -= 2
                ) {
                  for (var O = P.length - 2; O >= 0; O -= 2) { ((T[v] === P[O] && T[v + 1] === P[O + 1]) ||
                        (T[v + 1] === P[O] && T[v] === P[O + 1])) &&
                        P.splice(O, 2); }
                }
                var E = h.length;
                for (v = 0; v !== E; v++) {
                  const S = h[v];
                  if (!S.collideConnected) {
                    for (var O = P.length - 2; O >= 0; O -= 2) {
((S.bodyA === P[O] && S.bodyB === P[O + 1]) ||
                          (S.bodyB === P[O] && S.bodyA === P[O + 1])) &&
                          P.splice(O, 2); }
                  }
                }
                (this.postBroadphaseEvent.pairs = P),
                this.emit(this.postBroadphaseEvent),
                (this.postBroadphaseEvent.pairs = null),
                c.reset(this);
                for (var v = 0, C = P.length; v !== C; v += 2) {
                  for (
                    let I = P[v], M = P[v + 1], A = 0, R = I.shapes.length;
                    A !== R;
                    A++
                  ) { for (
                    var L = I.shapes[A],
                      D = L.position,
                      B = L.angle,
                      j = 0,
                      F = M.shapes.length;
                    j !== F;
                    j++
                  ) {
                    let U = M.shapes[j],
                      G = U.position,
                      N = U.angle,
                      W = this.defaultContactMaterial;
                    if (L.material && U.material) {
                      let H = this.getContactMaterial(
                        L.material,
                        U.material,
                      );
                      H && (W = H);
                    }
                    this.runNarrowphase(
                      c,
                      I,
                      L,
                      D,
                      B,
                      M,
                      U,
                      G,
                      N,
                      W,
                      this.frictionGravity,
                    );
                  } }
                }
                for (var v = 0; v !== u; v++) {
                  var X = r[v];
                  X._wakeUpAfterNarrowphase &&
                      (X.wakeUp(), (X._wakeUpAfterNarrowphase = !1));
                }
                if (this.has('endContact')) {
                  this.overlapKeeper.getEndOverlaps(k);
                  for (var V = this.endContactEvent, j = k.length; j--;) {
                    const z = k[j];
                    (V.shapeA = z.shapeA),
                    (V.shapeB = z.shapeB),
                    (V.bodyA = z.bodyA),
                    (V.bodyB = z.bodyB),
                    this.emit(V);
                  }
                  k.length = 0;
                }
                const Y = this.preSolveEvent;
                (Y.contactEquations = c.contactEquations),
                (Y.frictionEquations = c.frictionEquations),
                this.emit(Y),
                (Y.contactEquations = Y.frictionEquations = null);
                var E = h.length;
                for (v = 0; v !== E; v++) h[v].update();
                if (
                  c.contactEquations.length ||
                    c.frictionEquations.length ||
                    E
                ) {
                  if (this.islandSplit) {
                    for (
                      g.equations.length = 0,
                      m.appendArray(g.equations, c.contactEquations),
                      m.appendArray(g.equations, c.frictionEquations),
                      v = 0;
                      v !== E;
                      v++
                    ) { m.appendArray(g.equations, h[v].equations); }
                    g.split(this);
                    for (var v = 0; v !== g.islands.length; v++) {
                      var q = g.islands[v];
                      q.equations.length && s.solveIsland(t, q);
                    }
                  } else {
                    for (
                      s.addEquations(c.contactEquations),
                      s.addEquations(c.frictionEquations),
                      v = 0;
                      v !== E;
                      v++
                    ) { s.addEquations(h[v].equations); }
                    this.solveConstraints && s.solve(t, this),
                    s.removeAllEquations();
                  }
                }
                for (var v = 0; v !== u; v++) {
                  var X = r[v];
                  X.integrate(t);
                }
                for (var v = 0; v !== u; v++) r[v].setZeroForce();
                if (this.emitImpactEvent && this.has('impact')) {
                  for (
                    var K = this.impactEvent, v = 0;
                    v !== c.contactEquations.length;
                    v++
                  ) {
                    let Q = c.contactEquations[v];
                    Q.firstImpact &&
                        ((K.bodyA = Q.bodyA),
                        (K.bodyB = Q.bodyB),
                        (K.shapeA = Q.shapeA),
                        (K.shapeB = Q.shapeB),
                        (K.contactEquation = Q),
                        this.emit(K));
                  }
                }
                if (this.sleepMode === n.BODY_SLEEPING) { for (v = 0; v !== u; v++) r[v].sleepTick(this.time, !1, t); } else if (
                  this.sleepMode === n.ISLAND_SLEEPING &&
                    this.islandSplit
                ) {
                  for (v = 0; v !== u; v++) r[v].sleepTick(this.time, !0, t);
                  for (
                    var v = 0;
                    v < this.islandManager.islands.length;
                    v++
                  ) {
                    var q = this.islandManager.islands[v];
                    q.wantsToSleep() && q.sleep();
                  }
                }
                this.stepping = !1;
                for (
                  var J = this.bodiesToBeRemoved, v = 0;
                  v !== J.length;
                  v++
                ) { this.removeBody(J[v]); }
                (J.length = 0), this.emit(this.postStepEvent);
              }),
              (n.prototype.runNarrowphase = function (
                t,
                e,
                i,
                n,
                r,
                o,
                s,
                u,
                l,
                c,
                h,
              ) {
                if (
                  (i.collisionGroup & s.collisionMask) != 0 &&
                      (s.collisionGroup & i.collisionMask) != 0
                ) {
                  a.rotate(x, n, e.angle),
                  a.rotate(P, u, o.angle),
                  a.add(x, x, e.position),
                  a.add(P, P, o.position);
                  let f = r + e.angle,
                    p = l + o.angle;
                  (t.enableFriction = c.friction > 0),
                  (t.frictionCoefficient = c.friction);
                  let g;
                  (g =
                        e.type === d.STATIC || e.type === d.KINEMATIC
                          ? o.mass
                          : o.type === d.STATIC || o.type === d.KINEMATIC
                            ? e.mass
                            : (e.mass * o.mass) / (e.mass + o.mass)),
                  (t.slipForce = c.friction * h * g),
                  (t.restitution = c.restitution),
                  (t.surfaceVelocity = c.surfaceVelocity),
                  (t.frictionStiffness = c.frictionStiffness),
                  (t.frictionRelaxation = c.frictionRelaxation),
                  (t.stiffness = c.stiffness),
                  (t.relaxation = c.relaxation),
                  (t.contactSkinSize = c.contactSkinSize),
                  (t.enabledEquations =
                          e.collisionResponse &&
                          o.collisionResponse &&
                          i.collisionResponse &&
                          s.collisionResponse);
                  let y = t[i.type | s.type],
                    v = 0;
                  if (y) {
                    let m = i.sensor || s.sensor,
                      b = t.frictionEquations.length;
                    v =
                          i.type < s.type
                            ? y.call(t, e, i, x, f, o, s, P, p, m)
                            : y.call(t, o, s, P, p, e, i, x, f, m);
                    const _ = t.frictionEquations.length - b;
                    if (v) {
                      if (
                        (e.allowSleep &&
                              e.type === d.DYNAMIC &&
                              e.sleepState === d.SLEEPING &&
                              o.sleepState === d.AWAKE &&
                              o.type !== d.STATIC &&
                              a.squaredLength(o.velocity) +
                                Math.pow(o.angularVelocity, 2) >=
                                2 * Math.pow(o.sleepSpeedLimit, 2) &&
                              (e._wakeUpAfterNarrowphase = !0),
                        o.allowSleep &&
                              o.type === d.DYNAMIC &&
                              o.sleepState === d.SLEEPING &&
                              e.sleepState === d.AWAKE &&
                              e.type !== d.STATIC &&
                              a.squaredLength(e.velocity) +
                                Math.pow(e.angularVelocity, 2) >=
                                2 * Math.pow(e.sleepSpeedLimit, 2) &&
                              (o._wakeUpAfterNarrowphase = !0),
                        this.overlapKeeper.setOverlapping(e, i, o, s),
                        this.has('beginContact') &&
                              this.overlapKeeper.isNewOverlap(i, s))
                      ) {
                        const w = this.beginContactEvent;
                        if (
                          ((w.shapeA = i),
                          (w.shapeB = s),
                          (w.bodyA = e),
                          (w.bodyB = o),
                          (w.contactEquations.length = 0),
                          typeof v === 'number')
                        ) {
                          for (
                            var k = t.contactEquations.length - v;
                            k < t.contactEquations.length;
                            k++
                          )
                            {w.contactEquations.push(t.contactEquations[k]);} 
                        }
                        this.emit(w);
                      }
                      if (typeof v === 'number' && _ > 1) {
                        for (
                          var k = t.frictionEquations.length - _;
                          k < t.frictionEquations.length;
                          k++
                        ) {
                          let T = t.frictionEquations[k];
                          T.setSlipForce(T.getSlipForce() / _);
                        }
                      }
                    }
                  }
                }
              }),
              (n.prototype.addSpring = function (t) {
                this.springs.push(t);
                const e = this.addSpringEvent;
                (e.spring = t), this.emit(e), (e.spring = null);
              }),
              (n.prototype.removeSpring = function (t) {
                const e = this.springs.indexOf(t);
                e !== -1 && m.splice(this.springs, e, 1);
              }),
              (n.prototype.addBody = function (t) {
                if (this.bodies.indexOf(t) === -1) {
                  this.bodies.push(t), (t.world = this);
                  const e = this.addBodyEvent;
                  (e.body = t), this.emit(e), (e.body = null);
                }
              }),
              (n.prototype.removeBody = function (t) {
                if (this.stepping) this.bodiesToBeRemoved.push(t);
                else {
                  t.world = null;
                  const e = this.bodies.indexOf(t);
                  e !== -1 &&
                        (m.splice(this.bodies, e, 1),
                        (this.removeBodyEvent.body = t),
                        t.resetConstraintVelocity(),
                        this.emit(this.removeBodyEvent),
                        (this.removeBodyEvent.body = null));
                }
              }),
              (n.prototype.getBodyById = function (t) {
                for (let e = this.bodies, i = 0; i < e.length; i++) {
                  const n = e[i];
                  if (n.id === t) return n;
                }
                return !1;
              }),
              (n.prototype.disableBodyCollision = function (t, e) {
                this.disabledBodyCollisionPairs.push(t, e);
              }),
              (n.prototype.enableBodyCollision = function (t, e) {
                for (
                  let i = this.disabledBodyCollisionPairs, n = 0;
                  n < i.length;
                  n += 2
                ) {
                  if (
                    (i[n] === t && i[n + 1] === e) ||
                        (i[n + 1] === t && i[n] === e)
                  )
                    {return void i.splice(n, 2);}
                }
              }),
              (n.prototype.clear = function () {
                (this.time = 0),
                this.solver &&
                        this.solver.equations.length &&
                        this.solver.removeAllEquations();
                for (
                  var t = this.constraints, e = t.length - 1;
                  e >= 0;
                  e--
                ) { this.removeConstraint(t[e]); }
                for (var i = this.bodies, e = i.length - 1; e >= 0; e--) { this.removeBody(i[e]); }
                for (var r = this.springs, e = r.length - 1; e >= 0; e--) { this.removeSpring(r[e]); }
                for (
                  var a = this.contactMaterials, e = a.length - 1;
                  e >= 0;
                  e--
                ) { this.removeContactMaterial(a[e]); }
                n.apply(this);
              });
              let T = a.create(),
                O = (a.fromValues(0, 0), a.fromValues(0, 0));
              (n.prototype.hitTest = function (t, e, i) {
                i = i || 0;
                let n = new d({ position: t }),
                  r = new c(),
                  h = t,
                  f = T,
                  p = O;
                n.addShape(r);
                for (
                  var g = this.narrowphase, y = [], v = 0, m = e.length;
                  v !== m;
                  v++
                ) {
                  for (
                    let b = e[v], _ = 0, w = b.shapes.length;
                    _ !== w;
                    _++
                  ) {
                    let x = b.shapes[_];
                    a.rotate(f, x.position, b.angle), a.add(f, f, b.position);
                    let P = x.angle + b.angle;
                    ((x instanceof o &&
                        g.circleParticle(b, x, f, P, n, r, h, 0, !0)) ||
                        (x instanceof s &&
                          g.particleConvex(n, r, h, 0, b, x, f, P, !0)) ||
                        (x instanceof u &&
                          g.particlePlane(n, r, h, 0, b, x, f, P, !0)) ||
                        (x instanceof l &&
                          g.particleCapsule(n, r, h, 0, b, x, f, P, !0)) ||
                        (x instanceof c &&
                          a.squaredLength(a.sub(p, f, t)) < i * i)) &&
                        y.push(b);
                  }
                }
                return y;
              }),
              (n.prototype.setGlobalStiffness = function (t) {
                for (var e = this.constraints, i = 0; i !== e.length; i++) {
                  for (var n = e[i], r = 0; r !== n.equations.length; r++) {
                    let a = n.equations[r];
                    (a.stiffness = t), (a.needsUpdate = !0);
                  }
                }
                for (
                  var o = this.contactMaterials, i = 0;
                  i !== o.length;
                  i++
                ) {
                  var n = o[i];
                  n.stiffness = n.frictionStiffness = t;
                }
                var n = this.defaultContactMaterial;
                n.stiffness = n.frictionStiffness = t;
              }),
              (n.prototype.setGlobalRelaxation = function (t) {
                for (var e = 0; e !== this.constraints.length; e++) {
                  for (
                    var i = this.constraints[e], n = 0;
                    n !== i.equations.length;
                    n++
                  ) {
                    let r = i.equations[n];
                    (r.relaxation = t), (r.needsUpdate = !0);
                  }
                }
                for (var e = 0; e !== this.contactMaterials.length; e++) {
                  var i = this.contactMaterials[e];
                  i.relaxation = i.frictionRelaxation = t;
                }
                var i = this.defaultContactMaterial;
                i.relaxation = i.frictionRelaxation = t;
              });
              let E = new g(),
                S = [];
              n.prototype.raycast = function (t, e) {
                return (
                  e.getAABB(E),
                  this.broadphase.aabbQuery(this, E, S),
                  e.intersectBodies(t, S),
                  (S.length = 0),
                  t.hasHit()
                );
              };
            },
            {
              '../../package.json': 6,
              '../collision/AABB': 7,
              '../collision/Broadphase': 8,
              '../collision/Narrowphase': 10,
              '../collision/Ray': 11,
              '../collision/SAPBroadphase': 13,
              '../constraints/Constraint': 14,
              '../constraints/DistanceConstraint': 15,
              '../constraints/GearConstraint': 16,
              '../constraints/LockConstraint': 17,
              '../constraints/PrismaticConstraint': 18,
              '../constraints/RevoluteConstraint': 19,
              '../events/EventEmitter': 26,
              '../material/ContactMaterial': 27,
              '../material/Material': 28,
              '../math/vec2': 30,
              '../objects/Body': 31,
              '../objects/LinearSpring': 32,
              '../objects/RotationalSpring': 33,
              '../shapes/Capsule': 38,
              '../shapes/Circle': 39,
              '../shapes/Convex': 40,
              '../shapes/Line': 42,
              '../shapes/Particle': 43,
              '../shapes/Plane': 44,
              '../shapes/Shape': 45,
              '../solver/GSSolver': 46,
              '../solver/Solver': 47,
              '../utils/OverlapKeeper': 52,
              '../utils/Utils': 57,
              './IslandManager': 59,
            },
          ],
        },
        {},
        [36],
      ))(36)));
    }.call(e, i(71)));
  },
  function (t, e, i) {
    (function (i) {
      const n =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          };
      (function () {
        function r(t, e) {
          (this._scaleFactor = t),
          (this._deltaMode = e),
          (this.originalEvent = null);
        }
        var a = a || {
          VERSION: '2.4.9',
          GAMES: [],
          AUTO: 0,
          CANVAS: 1,
          WEBGL: 2,
          HEADLESS: 3,
          NONE: 0,
          LEFT: 1,
          RIGHT: 2,
          UP: 3,
          DOWN: 4,
          SPRITE: 0,
          BUTTON: 1,
          IMAGE: 2,
          GRAPHICS: 3,
          TEXT: 4,
          TILESPRITE: 5,
          BITMAPTEXT: 6,
          GROUP: 7,
          RENDERTEXTURE: 8,
          TILEMAP: 9,
          TILEMAPLAYER: 10,
          EMITTER: 11,
          POLYGON: 12,
          BITMAPDATA: 13,
          CANVAS_FILTER: 14,
          WEBGL_FILTER: 15,
          ELLIPSE: 16,
          SPRITEBATCH: 17,
          RETROFONT: 18,
          POINTER: 19,
          ROPE: 20,
          CIRCLE: 21,
          RECTANGLE: 22,
          LINE: 23,
          MATRIX: 24,
          POINT: 25,
          ROUNDEDRECTANGLE: 26,
          CREATURE: 27,
          VIDEO: 28,
          PENDING_ATLAS: -1,
          HORIZONTAL: 0,
          VERTICAL: 1,
          LANDSCAPE: 0,
          PORTRAIT: 1,
          ANGLE_UP: 270,
          ANGLE_DOWN: 90,
          ANGLE_LEFT: 180,
          ANGLE_RIGHT: 0,
          ANGLE_NORTH_EAST: 315,
          ANGLE_NORTH_WEST: 225,
          ANGLE_SOUTH_EAST: 45,
          ANGLE_SOUTH_WEST: 135,
          TOP_LEFT: 0,
          TOP_CENTER: 1,
          TOP_RIGHT: 2,
          LEFT_TOP: 3,
          LEFT_CENTER: 4,
          LEFT_BOTTOM: 5,
          CENTER: 6,
          RIGHT_TOP: 7,
          RIGHT_CENTER: 8,
          RIGHT_BOTTOM: 9,
          BOTTOM_LEFT: 10,
          BOTTOM_CENTER: 11,
          BOTTOM_RIGHT: 12,
          blendModes: {
            NORMAL: 0,
            ADD: 1,
            MULTIPLY: 2,
            SCREEN: 3,
            OVERLAY: 4,
            DARKEN: 5,
            LIGHTEN: 6,
            COLOR_DODGE: 7,
            COLOR_BURN: 8,
            HARD_LIGHT: 9,
            SOFT_LIGHT: 10,
            DIFFERENCE: 11,
            EXCLUSION: 12,
            HUE: 13,
            SATURATION: 14,
            COLOR: 15,
            LUMINOSITY: 16,
          },
          scaleModes: { DEFAULT: 0, LINEAR: 0, NEAREST: 1 },
          PIXI: PIXI || {},
        };
        if (
          (Math.trunc ||
            (Math.trunc = function (t) {
              return t < 0 ? Math.ceil(t) : Math.floor(t);
            }),
          Function.prototype.bind ||
            (Function.prototype.bind = (function () {
              const t = Array.prototype.slice;
              return function (e) {
                function i() {
                  const a = r.concat(t.call(arguments));
                  n.apply(this instanceof i ? this : e, a);
                }
                var n = this,
                  r = t.call(arguments, 1);
                if (typeof n !== 'function') throw new TypeError();
                return (
                  (i.prototype = (function t(e) {
                    if ((e && (t.prototype = e), !(this instanceof t))) { return new t(); }
                  }(n.prototype))),
                  i
                );
              };
            }())),
          Array.isArray ||
            (Array.isArray = function (t) {
              return Object.prototype.toString.call(t) == '[object Array]';
            }),
          Array.prototype.forEach ||
            (Array.prototype.forEach = function (t) {
              if (void 0 === this || this === null) throw new TypeError();
              let e = Object(this),
                i = e.length >>> 0;
              if (typeof t !== 'function') throw new TypeError();
              for (
                let n = arguments.length >= 2 ? arguments[1] : void 0, r = 0;
                r < i;
                r++
              ) { r in e && t.call(n, e[r], r, e); }
            }),
          typeof window.Uint32Array !== 'function' &&
            n(window.Uint32Array) !== 'object')
        ) {
          const o = function (t) {
            const e = new Array();
            (window[t] = function (t) {
              if (typeof t === 'number') {
                Array.call(this, t), (this.length = t);
                for (var e = 0; e < this.length; e++) this[e] = 0;
              } else {
                Array.call(this, t.length), (this.length = t.length);
                for (var e = 0; e < this.length; e++) this[e] = t[e];
              }
            }),
            (window[t].prototype = e),
            (window[t].constructor = window[t]);
          };
          o('Uint32Array'), o('Int16Array');
        }
        window.console ||
          ((window.console = {}),
          (window.console.log = window.console.assert = function () {}),
          (window.console.warn = window.console.assert = function () {})),
        (a.Utils = {
          getProperty(t, e) {
            for (
              var i = e.split('.'),
                n = i.pop(),
                r = i.length,
                a = 1,
                o = i[0];
              a < r && (t = t[o]);

            ) { (o = i[a]), a++; }
            return t ? t[n] : null;
          },
          setProperty(t, e, i) {
            for (
              var n = e.split('.'),
                r = n.pop(),
                a = n.length,
                o = 1,
                s = n[0];
              o < a && (t = t[s]);

            ) { (s = n[o]), o++; }
            return t && (t[r] = i), t;
          },
          chanceRoll(t) {
            return (
              void 0 === t && (t = 50), t > 0 && 100 * Math.random() <= t
            );
          },
          randomChoice(t, e) {
            return Math.random() < 0.5 ? t : e;
          },
          parseDimension(t, e) {
            let i = 0,
              n = 0;
            return (
              typeof t === 'string'
                ? t.substr(-1) === '%'
                  ? ((i = parseInt(t, 10) / 100),
                  (n =
                        e === 0
                          ? window.innerWidth * i
                          : window.innerHeight * i))
                  : (n = parseInt(t, 10))
                : (n = t),
              n
            );
          },
          pad(t, e, i, n) {
            if (void 0 === e) var e = 0;
            if (void 0 === i) var i = ' ';
            if (void 0 === n) var n = 3;
            let r = 0;
            if (e + 1 >= t.length) {
              switch (n) {
                case 1:
                  t = new Array(e + 1 - t.length).join(i) + t;
                  break;
                case 3:
                  var a = Math.ceil((r = e - t.length) / 2),
                    o = r - a;
                  t = new Array(o + 1).join(i) + t + new Array(a + 1).join(i);
                  break;
                default:
                  t += new Array(e + 1 - t.length).join(i);
              }
            }
            return t;
          },
          isPlainObject(t) {
            if (
              (void 0 === t ? 'undefined' : n(t)) !== 'object' ||
                t.nodeType ||
                t === t.window
            ) { return !1; }
            try {
              if (
                t.constructor &&
                  !{}.hasOwnProperty.call(
                    t.constructor.prototype,
                    'isPrototypeOf',
                  )
              ) { return !1; }
            } catch (t) {
              return !1;
            }
            return !0;
          },
          extend() {
            let t,
              e,
              i,
              n,
              r,
              o,
              s = arguments[0] || {},
              u = 1,
              l = arguments.length,
              c = !1;
            for (
              typeof s === 'boolean' &&
                  ((c = s), (s = arguments[1] || {}), (u = 2)),
              l === u && ((s = this), --u);
              u < l;
              u++
            ) {
              if ((t = arguments[u]) != null) {
                for (e in t)
                  {(i = s[e]),
                  (n = t[e]),
                  s !== n &&
                        (c &&
                        n &&
                        (a.Utils.isPlainObject(n) || (r = Array.isArray(n)))
                          ? (r
                            ? ((r = !1), (o = i && Array.isArray(i) ? i : []))
                            : (o = i && a.Utils.isPlainObject(i) ? i : {}),
                          (s[e] = a.Utils.extend(c, o, n)))
                          : void 0 !== n && (s[e] = n));} 
              }
            }
            return s;
          },
          mixinPrototype(t, e, i) {
            void 0 === i && (i = !1);
            for (let n = Object.keys(e), r = 0; r < n.length; r++) {
              let a = n[r],
                o = e[a];
              (!i && a in t) ||
                  (!o ||
                  (typeof o.get !== 'function' && typeof o.set !== 'function')
                    ? (t[a] = o)
                    : typeof o.clone === 'function'
                      ? (t[a] = o.clone())
                      : Object.defineProperty(t, a, o));
            }
          },
          mixin(t, e) {
            if (!t || (void 0 === t ? 'undefined' : n(t)) !== 'object') { return e; }
            for (const i in t) {
              const r = t[i];
              if (!r.childNodes && !r.cloneNode) {
                const o = n(t[i]);
                t[i] && o === 'object'
                  ? n(e[i]) === o
                    ? (e[i] = a.Utils.mixin(t[i], e[i]))
                    : (e[i] = a.Utils.mixin(t[i], new r.constructor()))
                  : (e[i] = t[i]);
              }
            }
            return e;
          },
        }),
        (a.Circle = function (t, e, i) {
          (t = t || 0),
          (e = e || 0),
          (i = i || 0),
          (this.x = t),
          (this.y = e),
          (this._diameter = i),
          (this._radius = 0),
          i > 0 && (this._radius = 0.5 * i),
          (this.type = a.CIRCLE);
        }),
        (a.Circle.prototype = {
          circumference() {
            return Math.PI * this._radius * 2;
          },
          random(t) {
            void 0 === t && (t = new a.Point());
            let e = 2 * Math.PI * Math.random(),
              i = Math.random() + Math.random(),
              n = i > 1 ? 2 - i : i,
              r = n * Math.cos(e),
              o = n * Math.sin(e);
            return (
              (t.x = this.x + r * this.radius),
              (t.y = this.y + o * this.radius),
              t
            );
          },
          getBounds() {
            return new a.Rectangle(
              this.x - this.radius,
              this.y - this.radius,
              this.diameter,
              this.diameter,
            );
          },
          setTo(t, e, i) {
            return (
              (this.x = t),
              (this.y = e),
              (this._diameter = i),
              (this._radius = 0.5 * i),
              this
            );
          },
          copyFrom(t) {
            return this.setTo(t.x, t.y, t.diameter);
          },
          copyTo(t) {
            return (
              (t.x = this.x), (t.y = this.y), (t.diameter = this._diameter), t
            );
          },
          distance(t, e) {
            const i = a.Math.distance(this.x, this.y, t.x, t.y);
            return e ? Math.round(i) : i;
          },
          clone(t) {
            return (
              void 0 === t || t === null
                ? (t = new a.Circle(this.x, this.y, this.diameter))
                : t.setTo(this.x, this.y, this.diameter),
              t
            );
          },
          contains(t, e) {
            return a.Circle.contains(this, t, e);
          },
          circumferencePoint(t, e, i) {
            return a.Circle.circumferencePoint(this, t, e, i);
          },
          offset(t, e) {
            return (this.x += t), (this.y += e), this;
          },
          offsetPoint(t) {
            return this.offset(t.x, t.y);
          },
          toString() {
            return (
              `[{Phaser.Circle (x=${
                this.x
              } y=${
                this.y
              } diameter=${
                this.diameter
              } radius=${
                this.radius
              })}]`
            );
          },
        }),
        (a.Circle.prototype.constructor = a.Circle),
        Object.defineProperty(a.Circle.prototype, 'diameter', {
          get() {
            return this._diameter;
          },
          set(t) {
            t > 0 && ((this._diameter = t), (this._radius = 0.5 * t));
          },
        }),
        Object.defineProperty(a.Circle.prototype, 'radius', {
          get() {
            return this._radius;
          },
          set(t) {
            t > 0 && ((this._radius = t), (this._diameter = 2 * t));
          },
        }),
        Object.defineProperty(a.Circle.prototype, 'left', {
          get() {
            return this.x - this._radius;
          },
          set(t) {
            t > this.x
              ? ((this._radius = 0), (this._diameter = 0))
              : (this.radius = this.x - t);
          },
        }),
        Object.defineProperty(a.Circle.prototype, 'right', {
          get() {
            return this.x + this._radius;
          },
          set(t) {
            t < this.x
              ? ((this._radius = 0), (this._diameter = 0))
              : (this.radius = t - this.x);
          },
        }),
        Object.defineProperty(a.Circle.prototype, 'top', {
          get() {
            return this.y - this._radius;
          },
          set(t) {
            t > this.y
              ? ((this._radius = 0), (this._diameter = 0))
              : (this.radius = this.y - t);
          },
        }),
        Object.defineProperty(a.Circle.prototype, 'bottom', {
          get() {
            return this.y + this._radius;
          },
          set(t) {
            t < this.y
              ? ((this._radius = 0), (this._diameter = 0))
              : (this.radius = t - this.y);
          },
        }),
        Object.defineProperty(a.Circle.prototype, 'area', {
          get() {
            return this._radius > 0
              ? Math.PI * this._radius * this._radius
              : 0;
          },
        }),
        Object.defineProperty(a.Circle.prototype, 'empty', {
          get() {
            return this._diameter === 0;
          },
          set(t) {
            !0 === t && this.setTo(0, 0, 0);
          },
        }),
        (a.Circle.contains = function (t, e, i) {
          return (
            t.radius > 0 &&
              e >= t.left &&
              e <= t.right &&
              i >= t.top &&
              i <= t.bottom &&
              (t.x - e) * (t.x - e) + (t.y - i) * (t.y - i) <=
                t.radius * t.radius
          );
        }),
        (a.Circle.equals = function (t, e) {
          return t.x == e.x && t.y == e.y && t.diameter == e.diameter;
        }),
        (a.Circle.intersects = function (t, e) {
          return a.Math.distance(t.x, t.y, e.x, e.y) <= t.radius + e.radius;
        }),
        (a.Circle.circumferencePoint = function (t, e, i, n) {
          return (
            void 0 === i && (i = !1),
            void 0 === n && (n = new a.Point()),
            !0 === i && (e = a.Math.degToRad(e)),
            (n.x = t.x + t.radius * Math.cos(e)),
            (n.y = t.y + t.radius * Math.sin(e)),
            n
          );
        }),
        (a.Circle.intersectsRectangle = function (t, e) {
          const i = Math.abs(t.x - e.x - e.halfWidth);
          if (i > e.halfWidth + t.radius) return !1;
          const n = Math.abs(t.y - e.y - e.halfHeight);
          if (n > e.halfHeight + t.radius) return !1;
          if (i <= e.halfWidth || n <= e.halfHeight) return !0;
          let r = i - e.halfWidth,
            a = n - e.halfHeight;
          return r * r + a * a <= t.radius * t.radius;
        }),
        (PIXI.Circle = a.Circle),
        (a.Ellipse = function (t, e, i, n) {
          (t = t || 0),
          (e = e || 0),
          (i = i || 0),
          (n = n || 0),
          (this.x = t),
          (this.y = e),
          (this.width = i),
          (this.height = n),
          (this.type = a.ELLIPSE);
        }),
        (a.Ellipse.prototype = {
          setTo(t, e, i, n) {
            return (
              (this.x = t),
              (this.y = e),
              (this.width = i),
              (this.height = n),
              this
            );
          },
          getBounds() {
            return new a.Rectangle(
              this.x - this.width,
              this.y - this.height,
              this.width,
              this.height,
            );
          },
          copyFrom(t) {
            return this.setTo(t.x, t.y, t.width, t.height);
          },
          copyTo(t) {
            return (
              (t.x = this.x),
              (t.y = this.y),
              (t.width = this.width),
              (t.height = this.height),
              t
            );
          },
          clone(t) {
            return (
              void 0 === t || t === null
                ? (t = new a.Ellipse(this.x, this.y, this.width, this.height))
                : t.setTo(this.x, this.y, this.width, this.height),
              t
            );
          },
          contains(t, e) {
            return a.Ellipse.contains(this, t, e);
          },
          random(t) {
            void 0 === t && (t = new a.Point());
            let e = Math.random() * Math.PI * 2,
              i = Math.random();
            return (
              (t.x = Math.sqrt(i) * Math.cos(e)),
              (t.y = Math.sqrt(i) * Math.sin(e)),
              (t.x = this.x + (t.x * this.width) / 2),
              (t.y = this.y + (t.y * this.height) / 2),
              t
            );
          },
          toString() {
            return (
              `[{Phaser.Ellipse (x=${
                this.x
              } y=${
                this.y
              } width=${
                this.width
              } height=${
                this.height
              })}]`
            );
          },
        }),
        (a.Ellipse.prototype.constructor = a.Ellipse),
        Object.defineProperty(a.Ellipse.prototype, 'left', {
          get() {
            return this.x;
          },
          set(t) {
            this.x = t;
          },
        }),
        Object.defineProperty(a.Ellipse.prototype, 'right', {
          get() {
            return this.x + this.width;
          },
          set(t) {
            t < this.x ? (this.width = 0) : (this.width = t - this.x);
          },
        }),
        Object.defineProperty(a.Ellipse.prototype, 'top', {
          get() {
            return this.y;
          },
          set(t) {
            this.y = t;
          },
        }),
        Object.defineProperty(a.Ellipse.prototype, 'bottom', {
          get() {
            return this.y + this.height;
          },
          set(t) {
            t < this.y ? (this.height = 0) : (this.height = t - this.y);
          },
        }),
        Object.defineProperty(a.Ellipse.prototype, 'empty', {
          get() {
            return this.width === 0 || this.height === 0;
          },
          set(t) {
            !0 === t && this.setTo(0, 0, 0, 0);
          },
        }),
        (a.Ellipse.contains = function (t, e, i) {
          if (t.width <= 0 || t.height <= 0) return !1;
          let n = (e - t.x) / t.width - 0.5,
            r = (i - t.y) / t.height - 0.5;
          return (n *= n), (r *= r), n + r < 0.25;
        }),
        (PIXI.Ellipse = a.Ellipse),
        (a.Line = function (t, e, i, n) {
          (t = t || 0),
          (e = e || 0),
          (i = i || 0),
          (n = n || 0),
          (this.start = new a.Point(t, e)),
          (this.end = new a.Point(i, n)),
          (this.type = a.LINE);
        }),
        (a.Line.prototype = {
          setTo(t, e, i, n) {
            return this.start.setTo(t, e), this.end.setTo(i, n), this;
          },
          fromSprite(t, e, i) {
            return (
              void 0 === i && (i = !1),
              i
                ? this.setTo(t.center.x, t.center.y, e.center.x, e.center.y)
                : this.setTo(t.x, t.y, e.x, e.y)
            );
          },
          fromAngle(t, e, i, n) {
            return (
              this.start.setTo(t, e),
              this.end.setTo(t + Math.cos(i) * n, e + Math.sin(i) * n),
              this
            );
          },
          rotate(t, e) {
            let i = (this.start.x + this.end.x) / 2,
              n = (this.start.y + this.end.y) / 2;
            return (
              this.start.rotate(i, n, t, e), this.end.rotate(i, n, t, e), this
            );
          },
          rotateAround(t, e, i, n) {
            return (
              this.start.rotate(t, e, i, n), this.end.rotate(t, e, i, n), this
            );
          },
          intersects(t, e, i) {
            return a.Line.intersectsPoints(
              this.start,
              this.end,
              t.start,
              t.end,
              e,
              i,
            );
          },
          reflect(t) {
            return a.Line.reflect(this, t);
          },
          midPoint(t) {
            return (
              void 0 === t && (t = new a.Point()),
              (t.x = (this.start.x + this.end.x) / 2),
              (t.y = (this.start.y + this.end.y) / 2),
              t
            );
          },
          centerOn(t, e) {
            let i = (this.start.x + this.end.x) / 2,
              n = (this.start.y + this.end.y) / 2,
              r = t - i,
              a = e - n;
            this.start.add(r, a), this.end.add(r, a);
          },
          pointOnLine(t, e) {
            return (
              (t - this.start.x) * (this.end.y - this.start.y) ==
                (this.end.x - this.start.x) * (e - this.start.y)
            );
          },
          pointOnSegment(t, e) {
            let i = Math.min(this.start.x, this.end.x),
              n = Math.max(this.start.x, this.end.x),
              r = Math.min(this.start.y, this.end.y),
              a = Math.max(this.start.y, this.end.y);
            return (
              this.pointOnLine(t, e) && t >= i && t <= n && e >= r && e <= a
            );
          },
          random(t) {
            void 0 === t && (t = new a.Point());
            const e = Math.random();
            return (
              (t.x = this.start.x + e * (this.end.x - this.start.x)),
              (t.y = this.start.y + e * (this.end.y - this.start.y)),
              t
            );
          },
          coordinatesOnLine(t, e) {
            void 0 === t && (t = 1), void 0 === e && (e = []);
            let i = Math.round(this.start.x),
              n = Math.round(this.start.y),
              r = Math.round(this.end.x),
              a = Math.round(this.end.y),
              o = Math.abs(r - i),
              s = Math.abs(a - n),
              u = i < r ? 1 : -1,
              l = n < a ? 1 : -1,
              c = o - s;
            e.push([i, n]);
            for (let h = 1; i != r || n != a;) {
              const d = c << 1;
              d > -s && ((c -= s), (i += u)),
              d < o && ((c += o), (n += l)),
              h % t == 0 && e.push([i, n]),
              h++;
            }
            return e;
          },
          clone(t) {
            return (
              void 0 === t || t === null
                ? (t = new a.Line(
                  this.start.x,
                  this.start.y,
                  this.end.x,
                  this.end.y,
                ))
                : t.setTo(this.start.x, this.start.y, this.end.x, this.end.y),
              t
            );
          },
        }),
        Object.defineProperty(a.Line.prototype, 'length', {
          get() {
            return Math.sqrt((this.end.x - this.start.x) * (this.end.x - this.start.x) +
                  (this.end.y - this.start.y) * (this.end.y - this.start.y));
          },
        }),
        Object.defineProperty(a.Line.prototype, 'angle', {
          get() {
            return Math.atan2(
              this.end.y - this.start.y,
              this.end.x - this.start.x,
            );
          },
        }),
        Object.defineProperty(a.Line.prototype, 'slope', {
          get() {
            return (this.end.y - this.start.y) / (this.end.x - this.start.x);
          },
        }),
        Object.defineProperty(a.Line.prototype, 'perpSlope', {
          get() {
            return -(this.end.x - this.start.x) / (this.end.y - this.start.y);
          },
        }),
        Object.defineProperty(a.Line.prototype, 'x', {
          get() {
            return Math.min(this.start.x, this.end.x);
          },
        }),
        Object.defineProperty(a.Line.prototype, 'y', {
          get() {
            return Math.min(this.start.y, this.end.y);
          },
        }),
        Object.defineProperty(a.Line.prototype, 'left', {
          get() {
            return Math.min(this.start.x, this.end.x);
          },
        }),
        Object.defineProperty(a.Line.prototype, 'right', {
          get() {
            return Math.max(this.start.x, this.end.x);
          },
        }),
        Object.defineProperty(a.Line.prototype, 'top', {
          get() {
            return Math.min(this.start.y, this.end.y);
          },
        }),
        Object.defineProperty(a.Line.prototype, 'bottom', {
          get() {
            return Math.max(this.start.y, this.end.y);
          },
        }),
        Object.defineProperty(a.Line.prototype, 'width', {
          get() {
            return Math.abs(this.start.x - this.end.x);
          },
        }),
        Object.defineProperty(a.Line.prototype, 'height', {
          get() {
            return Math.abs(this.start.y - this.end.y);
          },
        }),
        Object.defineProperty(a.Line.prototype, 'normalX', {
          get() {
            return Math.cos(this.angle - 1.5707963267948966);
          },
        }),
        Object.defineProperty(a.Line.prototype, 'normalY', {
          get() {
            return Math.sin(this.angle - 1.5707963267948966);
          },
        }),
        Object.defineProperty(a.Line.prototype, 'normalAngle', {
          get() {
            return a.Math.wrap(
              this.angle - 1.5707963267948966,
              -Math.PI,
              Math.PI,
            );
          },
        }),
        (a.Line.intersectsPoints = function (t, e, i, n, r, o) {
          void 0 === r && (r = !0), void 0 === o && (o = new a.Point());
          let s = e.y - t.y,
            u = n.y - i.y,
            l = t.x - e.x,
            c = i.x - n.x,
            h = e.x * t.y - t.x * e.y,
            d = n.x * i.y - i.x * n.y,
            f = s * c - u * l;
          if (f === 0) return null;
          if (((o.x = (l * d - c * h) / f), (o.y = (u * h - s * d) / f), r)) {
            let p = (n.y - i.y) * (e.x - t.x) - (n.x - i.x) * (e.y - t.y),
              g = ((n.x - i.x) * (t.y - i.y) - (n.y - i.y) * (t.x - i.x)) / p,
              y = ((e.x - t.x) * (t.y - i.y) - (e.y - t.y) * (t.x - i.x)) / p;
            return g >= 0 && g <= 1 && y >= 0 && y <= 1 ? o : null;
          }
          return o;
        }),
        (a.Line.intersects = function (t, e, i, n) {
          return a.Line.intersectsPoints(
            t.start,
            t.end,
            e.start,
            e.end,
            i,
            n,
          );
        }),
        (a.Line.intersectsRectangle = function (t, e) {
          if (!a.Rectangle.intersects(t, e)) return !1;
          let i = t.start.x,
            n = t.start.y,
            r = t.end.x,
            o = t.end.y,
            s = e.x,
            u = e.y,
            l = e.right,
            c = e.bottom,
            h = 0;
          if (
            (i >= s && i <= l && n >= u && n <= c) ||
              (r >= s && r <= l && o >= u && o <= c)
          ) { return !0; }
          if (i < s && r >= s) {
            if ((h = n + ((o - n) * (s - i)) / (r - i)) > u && h <= c) { return !0; }
          } else if (
            i > l &&
              r <= l &&
              (h = n + ((o - n) * (l - i)) / (r - i)) >= u &&
              h <= c
          ) { return !0; }
          if (n < u && o >= u) {
            if ((h = i + ((r - i) * (u - n)) / (o - n)) >= s && h <= l) { return !0; }
          } else if (
            n > c &&
              o <= c &&
              (h = i + ((r - i) * (c - n)) / (o - n)) >= s &&
              h <= l
          ) { return !0; }
          return !1;
        }),
        (a.Line.reflect = function (t, e) {
          return 2 * e.normalAngle - 3.141592653589793 - t.angle;
        }),
        (a.Matrix = function (t, e, i, n, r, o) {
          (void 0 !== t && t !== null) || (t = 1),
          (void 0 !== e && e !== null) || (e = 0),
          (void 0 !== i && i !== null) || (i = 0),
          (void 0 !== n && n !== null) || (n = 1),
          (void 0 !== r && r !== null) || (r = 0),
          (void 0 !== o && o !== null) || (o = 0),
          (this.a = t),
          (this.b = e),
          (this.c = i),
          (this.d = n),
          (this.tx = r),
          (this.ty = o),
          (this.type = a.MATRIX);
        }),
        (a.Matrix.prototype = {
          fromArray(t) {
            return this.setTo(t[0], t[1], t[3], t[4], t[2], t[5]);
          },
          setTo(t, e, i, n, r, a) {
            return (
              (this.a = t),
              (this.b = e),
              (this.c = i),
              (this.d = n),
              (this.tx = r),
              (this.ty = a),
              this
            );
          },
          clone(t) {
            return (
              void 0 === t || t === null
                ? (t = new a.Matrix(
                  this.a,
                  this.b,
                  this.c,
                  this.d,
                  this.tx,
                  this.ty,
                ))
                : ((t.a = this.a),
                (t.b = this.b),
                (t.c = this.c),
                (t.d = this.d),
                (t.tx = this.tx),
                (t.ty = this.ty)),
              t
            );
          },
          copyTo(t) {
            return t.copyFrom(this), t;
          },
          copyFrom(t) {
            return (
              (this.a = t.a),
              (this.b = t.b),
              (this.c = t.c),
              (this.d = t.d),
              (this.tx = t.tx),
              (this.ty = t.ty),
              this
            );
          },
          toArray(t, e) {
            return (
              void 0 === e && (e = new PIXI.Float32Array(9)),
              t
                ? ((e[0] = this.a),
                (e[1] = this.b),
                (e[2] = 0),
                (e[3] = this.c),
                (e[4] = this.d),
                (e[5] = 0),
                (e[6] = this.tx),
                (e[7] = this.ty),
                (e[8] = 1))
                : ((e[0] = this.a),
                (e[1] = this.c),
                (e[2] = this.tx),
                (e[3] = this.b),
                (e[4] = this.d),
                (e[5] = this.ty),
                (e[6] = 0),
                (e[7] = 0),
                (e[8] = 1)),
              e
            );
          },
          apply(t, e) {
            return (
              void 0 === e && (e = new a.Point()),
              (e.x = this.a * t.x + this.c * t.y + this.tx),
              (e.y = this.b * t.x + this.d * t.y + this.ty),
              e
            );
          },
          applyInverse(t, e) {
            void 0 === e && (e = new a.Point());
            let i = 1 / (this.a * this.d + this.c * -this.b),
              n = t.x,
              r = t.y;
            return (
              (e.x =
                  this.d * i * n +
                  -this.c * i * r +
                  (this.ty * this.c - this.tx * this.d) * i),
              (e.y =
                  this.a * i * r +
                  -this.b * i * n +
                  (-this.ty * this.a + this.tx * this.b) * i),
              e
            );
          },
          translate(t, e) {
            return (this.tx += t), (this.ty += e), this;
          },
          scale(t, e) {
            return (
              (this.a *= t),
              (this.d *= e),
              (this.c *= t),
              (this.b *= e),
              (this.tx *= t),
              (this.ty *= e),
              this
            );
          },
          rotate(t) {
            let e = Math.cos(t),
              i = Math.sin(t),
              n = this.a,
              r = this.c,
              a = this.tx;
            return (
              (this.a = n * e - this.b * i),
              (this.b = n * i + this.b * e),
              (this.c = r * e - this.d * i),
              (this.d = r * i + this.d * e),
              (this.tx = a * e - this.ty * i),
              (this.ty = a * i + this.ty * e),
              this
            );
          },
          append(t) {
            let e = this.a,
              i = this.b,
              n = this.c,
              r = this.d;
            return (
              (this.a = t.a * e + t.b * n),
              (this.b = t.a * i + t.b * r),
              (this.c = t.c * e + t.d * n),
              (this.d = t.c * i + t.d * r),
              (this.tx = t.tx * e + t.ty * n + this.tx),
              (this.ty = t.tx * i + t.ty * r + this.ty),
              this
            );
          },
          identity() {
            return this.setTo(1, 0, 0, 1, 0, 0);
          },
        }),
        (a.identityMatrix = new a.Matrix()),
        (PIXI.Matrix = a.Matrix),
        (PIXI.identityMatrix = a.identityMatrix),
        (a.Point = function (t, e) {
          (t = t || 0),
          (e = e || 0),
          (this.x = t),
          (this.y = e),
          (this.type = a.POINT);
        }),
        (a.Point.prototype = {
          copyFrom(t) {
            return this.setTo(t.x, t.y);
          },
          invert() {
            return this.setTo(this.y, this.x);
          },
          setTo(t, e) {
            return (
              (this.x = t || 0), (this.y = e || (e !== 0 ? this.x : 0)), this
            );
          },
          set(t, e) {
            return (
              (this.x = t || 0), (this.y = e || (e !== 0 ? this.x : 0)), this
            );
          },
          add(t, e) {
            return (this.x += t), (this.y += e), this;
          },
          subtract(t, e) {
            return (this.x -= t), (this.y -= e), this;
          },
          multiply(t, e) {
            return (this.x *= t), (this.y *= e), this;
          },
          divide(t, e) {
            return (this.x /= t), (this.y /= e), this;
          },
          clampX(t, e) {
            return (this.x = a.Math.clamp(this.x, t, e)), this;
          },
          clampY(t, e) {
            return (this.y = a.Math.clamp(this.y, t, e)), this;
          },
          clamp(t, e) {
            return (
              (this.x = a.Math.clamp(this.x, t, e)),
              (this.y = a.Math.clamp(this.y, t, e)),
              this
            );
          },
          clone(t) {
            return (
              void 0 === t || t === null
                ? (t = new a.Point(this.x, this.y))
                : t.setTo(this.x, this.y),
              t
            );
          },
          copyTo(t) {
            return (t.x = this.x), (t.y = this.y), t;
          },
          distance(t, e) {
            return a.Point.distance(this, t, e);
          },
          equals(t) {
            return t.x === this.x && t.y === this.y;
          },
          angle(t, e) {
            return (
              void 0 === e && (e = !1),
              e
                ? a.Math.radToDeg(Math.atan2(t.y - this.y, t.x - this.x))
                : Math.atan2(t.y - this.y, t.x - this.x)
            );
          },
          rotate(t, e, i, n, r) {
            return a.Point.rotate(this, t, e, i, n, r);
          },
          getMagnitude() {
            return Math.sqrt(this.x * this.x + this.y * this.y);
          },
          getMagnitudeSq() {
            return this.x * this.x + this.y * this.y;
          },
          setMagnitude(t) {
            return this.normalize().multiply(t, t);
          },
          normalize() {
            if (!this.isZero()) {
              const t = this.getMagnitude();
              (this.x /= t), (this.y /= t);
            }
            return this;
          },
          isZero() {
            return this.x === 0 && this.y === 0;
          },
          dot(t) {
            return this.x * t.x + this.y * t.y;
          },
          cross(t) {
            return this.x * t.y - this.y * t.x;
          },
          perp() {
            return this.setTo(-this.y, this.x);
          },
          rperp() {
            return this.setTo(this.y, -this.x);
          },
          normalRightHand() {
            return this.setTo(-1 * this.y, this.x);
          },
          floor() {
            return this.setTo(Math.floor(this.x), Math.floor(this.y));
          },
          ceil() {
            return this.setTo(Math.ceil(this.x), Math.ceil(this.y));
          },
          toString() {
            return `[{Point (x=${this.x} y=${this.y})}]`;
          },
        }),
        (a.Point.prototype.constructor = a.Point),
        (a.Point.add = function (t, e, i) {
          return (
            void 0 === i && (i = new a.Point()),
            (i.x = t.x + e.x),
            (i.y = t.y + e.y),
            i
          );
        }),
        (a.Point.subtract = function (t, e, i) {
          return (
            void 0 === i && (i = new a.Point()),
            (i.x = t.x - e.x),
            (i.y = t.y - e.y),
            i
          );
        }),
        (a.Point.multiply = function (t, e, i) {
          return (
            void 0 === i && (i = new a.Point()),
            (i.x = t.x * e.x),
            (i.y = t.y * e.y),
            i
          );
        }),
        (a.Point.divide = function (t, e, i) {
          return (
            void 0 === i && (i = new a.Point()),
            (i.x = t.x / e.x),
            (i.y = t.y / e.y),
            i
          );
        }),
        (a.Point.equals = function (t, e) {
          return t.x === e.x && t.y === e.y;
        }),
        (a.Point.angle = function (t, e) {
          return Math.atan2(t.y - e.y, t.x - e.x);
        }),
        (a.Point.negative = function (t, e) {
          return void 0 === e && (e = new a.Point()), e.setTo(-t.x, -t.y);
        }),
        (a.Point.multiplyAdd = function (t, e, i, n) {
          return (
            void 0 === n && (n = new a.Point()),
            n.setTo(t.x + e.x * i, t.y + e.y * i)
          );
        }),
        (a.Point.interpolate = function (t, e, i, n) {
          return (
            void 0 === n && (n = new a.Point()),
            n.setTo(t.x + (e.x - t.x) * i, t.y + (e.y - t.y) * i)
          );
        }),
        (a.Point.perp = function (t, e) {
          return void 0 === e && (e = new a.Point()), e.setTo(-t.y, t.x);
        }),
        (a.Point.rperp = function (t, e) {
          return void 0 === e && (e = new a.Point()), e.setTo(t.y, -t.x);
        }),
        (a.Point.distance = function (t, e, i) {
          const n = a.Math.distance(t.x, t.y, e.x, e.y);
          return i ? Math.round(n) : n;
        }),
        (a.Point.project = function (t, e, i) {
          void 0 === i && (i = new a.Point());
          const n = t.dot(e) / e.getMagnitudeSq();
          return n !== 0 && i.setTo(n * e.x, n * e.y), i;
        }),
        (a.Point.projectUnit = function (t, e, i) {
          void 0 === i && (i = new a.Point());
          const n = t.dot(e);
          return n !== 0 && i.setTo(n * e.x, n * e.y), i;
        }),
        (a.Point.normalRightHand = function (t, e) {
          return void 0 === e && (e = new a.Point()), e.setTo(-1 * t.y, t.x);
        }),
        (a.Point.normalize = function (t, e) {
          void 0 === e && (e = new a.Point());
          const i = t.getMagnitude();
          return i !== 0 && e.setTo(t.x / i, t.y / i), e;
        }),
        (a.Point.rotate = function (t, e, i, n, r, o) {
          if ((r && (n = a.Math.degToRad(n)), void 0 === o)) {
            t.subtract(e, i);
            let s = Math.sin(n),
              u = Math.cos(n),
              l = u * t.x - s * t.y,
              c = s * t.x + u * t.y;
            (t.x = l + e), (t.y = c + i);
          } else {
            const h = n + Math.atan2(t.y - i, t.x - e);
            (t.x = e + o * Math.cos(h)), (t.y = i + o * Math.sin(h));
          }
          return t;
        }),
        (a.Point.centroid = function (t, e) {
          if (
            (void 0 === e && (e = new a.Point()),
            Object.prototype.toString.call(t) !== '[object Array]')
          ) { throw new Error("Phaser.Point. Parameter 'points' must be an array"); }
          const i = t.length;
          if (i < 1) { throw new Error("Phaser.Point. Parameter 'points' array must not be empty"); }
          if (i === 1) return e.copyFrom(t[0]), e;
          for (let n = 0; n < i; n++) a.Point.add(e, t[n], e);
          return e.divide(i, i), e;
        }),
        (a.Point.parse = function (t, e, i) {
          (e = e || 'x'), (i = i || 'y');
          const n = new a.Point();
          return (
            t[e] && (n.x = parseInt(t[e], 10)),
            t[i] && (n.y = parseInt(t[i], 10)),
            n
          );
        }),
        (PIXI.Point = a.Point),
        (a.Polygon = function () {
          (this.area = 0),
          (this._points = []),
          arguments.length > 0 && this.setTo.apply(this, arguments),
          (this.closed = !0),
          (this.type = a.POLYGON);
        }),
        (a.Polygon.prototype = {
          toNumberArray(t) {
            void 0 === t && (t = []);
            for (let e = 0; e < this._points.length; e++) {
              typeof this._points[e] === 'number'
                ? (t.push(this._points[e]), t.push(this._points[e + 1]), e++)
                : (t.push(this._points[e].x), t.push(this._points[e].y));
            }
            return t;
          },
          flatten() {
            return (this._points = this.toNumberArray()), this;
          },
          clone(t) {
            const e = this._points.slice();
            return (
              void 0 === t || t === null
                ? (t = new a.Polygon(e))
                : t.setTo(e),
              t
            );
          },
          contains(t, e) {
            for (
              var i = this._points.length, n = !1, r = -1, a = i - 1;
              ++r < i;
              a = r
            ) {
              let o = this._points[r].x,
                s = this._points[r].y,
                u = this._points[a].x,
                l = this._points[a].y;
              ((s <= e && e < l) || (l <= e && e < s)) &&
                  t < ((u - o) * (e - s)) / (l - s) + o &&
                  (n = !n);
            }
            return n;
          },
          setTo(t) {
            if (
              ((this.area = 0), (this._points = []), arguments.length > 0)
            ) {
              Array.isArray(t) || (t = Array.prototype.slice.call(arguments));
              for (
                var e = Number.MAX_VALUE, i = 0, n = t.length;
                i < n;
                i++
              ) {
                if (typeof t[i] === 'number') {
                  var r = new PIXI.Point(t[i], t[i + 1]);
                  i++;
                } else if (Array.isArray(t[i])) { var r = new PIXI.Point(t[i][0], t[i][1]); } else var r = new PIXI.Point(t[i].x, t[i].y);
                this._points.push(r), r.y < e && (e = r.y);
              }
              this.calculateArea(e);
            }
            return this;
          },
          calculateArea(t) {
            for (var e, i, n, r, a = 0, o = this._points.length; a < o; a++) {
              (e = this._points[a]),
              (i = a === o - 1 ? this._points[0] : this._points[a + 1]),
              (n = (e.y - t + (i.y - t)) / 2),
              (r = e.x - i.x),
              (this.area += n * r);
            }
            return this.area;
          },
        }),
        (a.Polygon.prototype.constructor = a.Polygon),
        Object.defineProperty(a.Polygon.prototype, 'points', {
          get() {
            return this._points;
          },
          set(t) {
            t != null ? this.setTo(t) : this.setTo();
          },
        }),
        (PIXI.Polygon = a.Polygon),
        (a.Rectangle = function (t, e, i, n) {
          (t = t || 0),
          (e = e || 0),
          (i = i || 0),
          (n = n || 0),
          (this.x = t),
          (this.y = e),
          (this.width = i),
          (this.height = n),
          (this.type = a.RECTANGLE);
        }),
        (a.Rectangle.prototype = {
          offset(t, e) {
            return (this.x += t), (this.y += e), this;
          },
          offsetPoint(t) {
            return this.offset(t.x, t.y);
          },
          setTo(t, e, i, n) {
            return (
              (this.x = t),
              (this.y = e),
              (this.width = i),
              (this.height = n),
              this
            );
          },
          scale(t, e) {
            return (
              void 0 === e && (e = t),
              (this.width *= t),
              (this.height *= e),
              this
            );
          },
          centerOn(t, e) {
            return (this.centerX = t), (this.centerY = e), this;
          },
          floor() {
            (this.x = Math.floor(this.x)), (this.y = Math.floor(this.y));
          },
          floorAll() {
            (this.x = Math.floor(this.x)),
            (this.y = Math.floor(this.y)),
            (this.width = Math.floor(this.width)),
            (this.height = Math.floor(this.height));
          },
          ceil() {
            (this.x = Math.ceil(this.x)), (this.y = Math.ceil(this.y));
          },
          ceilAll() {
            (this.x = Math.ceil(this.x)),
            (this.y = Math.ceil(this.y)),
            (this.width = Math.ceil(this.width)),
            (this.height = Math.ceil(this.height));
          },
          copyFrom(t) {
            return this.setTo(t.x, t.y, t.width, t.height);
          },
          copyTo(t) {
            return (
              (t.x = this.x),
              (t.y = this.y),
              (t.width = this.width),
              (t.height = this.height),
              t
            );
          },
          inflate(t, e) {
            return a.Rectangle.inflate(this, t, e);
          },
          size(t) {
            return a.Rectangle.size(this, t);
          },
          resize(t, e) {
            return (this.width = t), (this.height = e), this;
          },
          clone(t) {
            return a.Rectangle.clone(this, t);
          },
          contains(t, e) {
            return a.Rectangle.contains(this, t, e);
          },
          containsRect(t) {
            return a.Rectangle.containsRect(t, this);
          },
          equals(t) {
            return a.Rectangle.equals(this, t);
          },
          intersection(t, e) {
            return a.Rectangle.intersection(this, t, e);
          },
          intersects(t) {
            return a.Rectangle.intersects(this, t);
          },
          intersectsRaw(t, e, i, n, r) {
            return a.Rectangle.intersectsRaw(this, t, e, i, n, r);
          },
          union(t, e) {
            return a.Rectangle.union(this, t, e);
          },
          random(t) {
            return (
              void 0 === t && (t = new a.Point()),
              (t.x = this.randomX),
              (t.y = this.randomY),
              t
            );
          },
          getPoint(t, e) {
            switch ((void 0 === e && (e = new a.Point()), t)) {
              default:
              case a.TOP_LEFT:
                return e.set(this.x, this.y);
              case a.TOP_CENTER:
                return e.set(this.centerX, this.y);
              case a.TOP_RIGHT:
                return e.set(this.right, this.y);
              case a.LEFT_CENTER:
                return e.set(this.x, this.centerY);
              case a.CENTER:
                return e.set(this.centerX, this.centerY);
              case a.RIGHT_CENTER:
                return e.set(this.right, this.centerY);
              case a.BOTTOM_LEFT:
                return e.set(this.x, this.bottom);
              case a.BOTTOM_CENTER:
                return e.set(this.centerX, this.bottom);
              case a.BOTTOM_RIGHT:
                return e.set(this.right, this.bottom);
            }
          },
          toString() {
            return (
              `[{Rectangle (x=${
                this.x
              } y=${
                this.y
              } width=${
                this.width
              } height=${
                this.height
              } empty=${
                this.empty
              })}]`
            );
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'halfWidth', {
          get() {
            return Math.round(this.width / 2);
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'halfHeight', {
          get() {
            return Math.round(this.height / 2);
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'bottom', {
          get() {
            return this.y + this.height;
          },
          set(t) {
            t <= this.y ? (this.height = 0) : (this.height = t - this.y);
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'bottomLeft', {
          get() {
            return new a.Point(this.x, this.bottom);
          },
          set(t) {
            (this.x = t.x), (this.bottom = t.y);
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'bottomRight', {
          get() {
            return new a.Point(this.right, this.bottom);
          },
          set(t) {
            (this.right = t.x), (this.bottom = t.y);
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'left', {
          get() {
            return this.x;
          },
          set(t) {
            t >= this.right
              ? (this.width = 0)
              : (this.width = this.right - t),
            (this.x = t);
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'right', {
          get() {
            return this.x + this.width;
          },
          set(t) {
            t <= this.x ? (this.width = 0) : (this.width = t - this.x);
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'volume', {
          get() {
            return this.width * this.height;
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'perimeter', {
          get() {
            return 2 * this.width + 2 * this.height;
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'centerX', {
          get() {
            return this.x + this.halfWidth;
          },
          set(t) {
            this.x = t - this.halfWidth;
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'centerY', {
          get() {
            return this.y + this.halfHeight;
          },
          set(t) {
            this.y = t - this.halfHeight;
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'randomX', {
          get() {
            return this.x + Math.random() * this.width;
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'randomY', {
          get() {
            return this.y + Math.random() * this.height;
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'top', {
          get() {
            return this.y;
          },
          set(t) {
            t >= this.bottom
              ? ((this.height = 0), (this.y = t))
              : (this.height = this.bottom - t);
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'topLeft', {
          get() {
            return new a.Point(this.x, this.y);
          },
          set(t) {
            (this.x = t.x), (this.y = t.y);
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'topRight', {
          get() {
            return new a.Point(this.x + this.width, this.y);
          },
          set(t) {
            (this.right = t.x), (this.y = t.y);
          },
        }),
        Object.defineProperty(a.Rectangle.prototype, 'empty', {
          get() {
            return !this.width || !this.height;
          },
          set(t) {
            !0 === t && this.setTo(0, 0, 0, 0);
          },
        }),
        (a.Rectangle.prototype.constructor = a.Rectangle),
        (a.Rectangle.inflate = function (t, e, i) {
          return (
            (t.x -= e), (t.width += 2 * e), (t.y -= i), (t.height += 2 * i), t
          );
        }),
        (a.Rectangle.inflatePoint = function (t, e) {
          return a.Rectangle.inflate(t, e.x, e.y);
        }),
        (a.Rectangle.size = function (t, e) {
          return (
            void 0 === e || e === null
              ? (e = new a.Point(t.width, t.height))
              : e.setTo(t.width, t.height),
            e
          );
        }),
        (a.Rectangle.clone = function (t, e) {
          return (
            void 0 === e || e === null
              ? (e = new a.Rectangle(t.x, t.y, t.width, t.height))
              : e.setTo(t.x, t.y, t.width, t.height),
            e
          );
        }),
        (a.Rectangle.contains = function (t, e, i) {
          return (
            !(t.width <= 0 || t.height <= 0) &&
              e >= t.x &&
              e < t.right &&
              i >= t.y &&
              i < t.bottom
          );
        }),
        (a.Rectangle.containsRaw = function (t, e, i, n, r, a) {
          return r >= t && r < t + i && a >= e && a < e + n;
        }),
        (a.Rectangle.containsPoint = function (t, e) {
          return a.Rectangle.contains(t, e.x, e.y);
        }),
        (a.Rectangle.containsRect = function (t, e) {
          return (
            !(t.volume > e.volume) &&
              t.x >= e.x &&
              t.y >= e.y &&
              t.right < e.right &&
              t.bottom < e.bottom
          );
        }),
        (a.Rectangle.equals = function (t, e) {
          return (
            t.x == e.x &&
              t.y == e.y &&
              t.width == e.width &&
              t.height == e.height
          );
        }),
        (a.Rectangle.sameDimensions = function (t, e) {
          return t.width === e.width && t.height === e.height;
        }),
        (a.Rectangle.intersection = function (t, e, i) {
          return (
            void 0 === i && (i = new a.Rectangle()),
            a.Rectangle.intersects(t, e) &&
                ((i.x = Math.max(t.x, e.x)),
                (i.y = Math.max(t.y, e.y)),
                (i.width = Math.min(t.right, e.right) - i.x),
                (i.height = Math.min(t.bottom, e.bottom) - i.y)),
            i
          );
        }),
        (a.Rectangle.intersects = function (t, e) {
          return !(
            t.width <= 0 ||
              t.height <= 0 ||
              e.width <= 0 ||
              e.height <= 0 ||
              t.right < e.x ||
              t.bottom < e.y ||
              t.x > e.right ||
              t.y > e.bottom
          );
        }),
        (a.Rectangle.intersectsRaw = function (t, e, i, n, r, a) {
          return (
            void 0 === a && (a = 0),
            !(
              e > t.right + a ||
                i < t.left - a ||
                n > t.bottom + a ||
                r < t.top - a
            )
          );
        }),
        (a.Rectangle.union = function (t, e, i) {
          return (
            void 0 === i && (i = new a.Rectangle()),
            i.setTo(
              Math.min(t.x, e.x),
              Math.min(t.y, e.y),
              Math.max(t.right, e.right) - Math.min(t.left, e.left),
              Math.max(t.bottom, e.bottom) - Math.min(t.top, e.top),
            )
          );
        }),
        (a.Rectangle.aabb = function (t, e) {
          void 0 === e && (e = new a.Rectangle());
          let i = Number.NEGATIVE_INFINITY,
            n = Number.POSITIVE_INFINITY,
            r = Number.NEGATIVE_INFINITY,
            o = Number.POSITIVE_INFINITY;
          return (
            t.forEach((t) => {
              t.x > i && (i = t.x),
              t.x < n && (n = t.x),
              t.y > r && (r = t.y),
              t.y < o && (o = t.y);
            }),
            e.setTo(n, o, i - n, r - o),
            e
          );
        }),
        (PIXI.Rectangle = a.Rectangle),
        (PIXI.EmptyRectangle = new a.Rectangle(0, 0, 0, 0)),
        (a.RoundedRectangle = function (t, e, i, n, r) {
          void 0 === t && (t = 0),
          void 0 === e && (e = 0),
          void 0 === i && (i = 0),
          void 0 === n && (n = 0),
          void 0 === r && (r = 20),
          (this.x = t),
          (this.y = e),
          (this.width = i),
          (this.height = n),
          (this.radius = r || 20),
          (this.type = a.ROUNDEDRECTANGLE);
        }),
        (a.RoundedRectangle.prototype = {
          clone() {
            return new a.RoundedRectangle(
              this.x,
              this.y,
              this.width,
              this.height,
              this.radius,
            );
          },
          contains(t, e) {
            if (this.width <= 0 || this.height <= 0) return !1;
            const i = this.x;
            if (t >= i && t <= i + this.width) {
              const n = this.y;
              if (e >= n && e <= n + this.height) return !0;
            }
            return !1;
          },
        }),
        (a.RoundedRectangle.prototype.constructor = a.RoundedRectangle),
        (PIXI.RoundedRectangle = a.RoundedRectangle),
        (a.Camera = function (t, e, i, n, r, o) {
          (this.game = t),
          (this.world = t.world),
          (this.id = 0),
          (this.view = new a.Rectangle(i, n, r, o)),
          (this.bounds = new a.Rectangle(i, n, r, o)),
          (this.deadzone = null),
          (this.visible = !0),
          (this.roundPx = !0),
          (this.atLimit = { x: !1, y: !1 }),
          (this.target = null),
          (this.displayObject = null),
          (this.scale = null),
          (this.totalInView = 0),
          (this.lerp = new a.Point(1, 1)),
          (this.onShakeComplete = new a.Signal()),
          (this.onFlashComplete = new a.Signal()),
          (this.onFadeComplete = new a.Signal()),
          (this.fx = null),
          (this._targetPosition = new a.Point()),
          (this._edge = 0),
          (this._position = new a.Point()),
          (this._shake = {
            intensity: 0,
            duration: 0,
            horizontal: !1,
            vertical: !1,
            shakeBounds: !0,
            x: 0,
            y: 0,
          }),
          (this._fxDuration = 0),
          (this._fxType = 0);
        }),
        (a.Camera.FOLLOW_LOCKON = 0),
        (a.Camera.FOLLOW_PLATFORMER = 1),
        (a.Camera.FOLLOW_TOPDOWN = 2),
        (a.Camera.FOLLOW_TOPDOWN_TIGHT = 3),
        (a.Camera.SHAKE_BOTH = 4),
        (a.Camera.SHAKE_HORIZONTAL = 5),
        (a.Camera.SHAKE_VERTICAL = 6),
        (a.Camera.ENABLE_FX = !0),
        (a.Camera.prototype = {
          boot() {
            (this.displayObject = this.game.world),
            (this.scale = this.game.world.scale),
            (this.game.camera = this),
            a.Graphics &&
                  a.Camera.ENABLE_FX &&
                  ((this.fx = new a.Graphics(this.game)),
                  this.game.stage.addChild(this.fx));
          },
          preUpdate() {
            this.totalInView = 0;
          },
          follow(t, e, i, n) {
            void 0 === e && (e = a.Camera.FOLLOW_LOCKON),
            void 0 === i && (i = 1),
            void 0 === n && (n = 1),
            (this.target = t),
            this.lerp.set(i, n);
            let r;
            switch (e) {
              case a.Camera.FOLLOW_PLATFORMER:
                var o = this.width / 8,
                  s = this.height / 3;
                this.deadzone = new a.Rectangle(
                  (this.width - o) / 2,
                  (this.height - s) / 2 - 0.25 * s,
                  o,
                  s,
                );
                break;
              case a.Camera.FOLLOW_TOPDOWN:
                (r = Math.max(this.width, this.height) / 4),
                (this.deadzone = new a.Rectangle(
                  (this.width - r) / 2,
                  (this.height - r) / 2,
                  r,
                  r,
                ));
                break;
              case a.Camera.FOLLOW_TOPDOWN_TIGHT:
                (r = Math.max(this.width, this.height) / 8),
                (this.deadzone = new a.Rectangle(
                  (this.width - r) / 2,
                  (this.height - r) / 2,
                  r,
                  r,
                ));
                break;
              case a.Camera.FOLLOW_LOCKON:
              default:
                this.deadzone = null;
            }
          },
          unfollow() {
            this.target = null;
          },
          focusOn(t) {
            this.setPosition(
              Math.round(t.x - this.view.halfWidth),
              Math.round(t.y - this.view.halfHeight),
            );
          },
          focusOnXY(t, e) {
            this.setPosition(
              Math.round(t - this.view.halfWidth),
              Math.round(e - this.view.halfHeight),
            );
          },
          shake(t, e, i, n, r) {
            return (
              void 0 === t && (t = 0.05),
              void 0 === e && (e = 500),
              void 0 === i && (i = !0),
              void 0 === n && (n = a.Camera.SHAKE_BOTH),
              void 0 === r && (r = !0),
              !(
                (!i && this._shake.duration > 0) ||
                  ((this._shake.intensity = t),
                  (this._shake.duration = e),
                  (this._shake.shakeBounds = r),
                  (this._shake.x = 0),
                  (this._shake.y = 0),
                  (this._shake.horizontal =
                    n === a.Camera.SHAKE_BOTH ||
                    n === a.Camera.SHAKE_HORIZONTAL),
                  (this._shake.vertical =
                    n === a.Camera.SHAKE_BOTH || n === a.Camera.SHAKE_VERTICAL),
                  0)
              )
            );
          },
          flash(t, e, i) {
            return (
              void 0 === t && (t = 16777215),
              void 0 === e && (e = 500),
              void 0 === i && (i = !1),
              !(
                !this.fx ||
                  (!i && this._fxDuration > 0) ||
                  (this.fx.clear(),
                  this.fx.beginFill(t),
                  this.fx.drawRect(0, 0, this.width, this.height),
                  this.fx.endFill(),
                  (this.fx.alpha = 1),
                  (this._fxDuration = e),
                  (this._fxType = 0),
                  0)
              )
            );
          },
          fade(t, e, i) {
            return (
              void 0 === t && (t = 0),
              void 0 === e && (e = 500),
              void 0 === i && (i = !1),
              !(
                !this.fx ||
                  (!i && this._fxDuration > 0) ||
                  (this.fx.clear(),
                  this.fx.beginFill(t),
                  this.fx.drawRect(0, 0, this.width, this.height),
                  this.fx.endFill(),
                  (this.fx.alpha = 0),
                  (this._fxDuration = e),
                  (this._fxType = 1),
                  0)
              )
            );
          },
          update() {
            this._fxDuration > 0 && this.updateFX(),
            this._shake.duration > 0 && this.updateShake(),
            this.bounds && this.checkBounds(),
            this.roundPx &&
                  (this.view.floor(),
                  (this._shake.x = Math.floor(this._shake.x)),
                  (this._shake.y = Math.floor(this._shake.y))),
            (this.displayObject.position.x = -this.view.x),
            (this.displayObject.position.y = -this.view.y);
          },
          updateFX() {
            this._fxType === 0
              ? ((this.fx.alpha -=
                    this.game.time.elapsedMS / this._fxDuration),
              this.fx.alpha <= 0 &&
                    ((this._fxDuration = 0),
                    (this.fx.alpha = 0),
                    this.onFlashComplete.dispatch()))
              : ((this.fx.alpha +=
                    this.game.time.elapsedMS / this._fxDuration),
              this.fx.alpha >= 1 &&
                    ((this._fxDuration = 0),
                    (this.fx.alpha = 1),
                    this.onFadeComplete.dispatch()));
          },
          updateShake() {
            (this._shake.duration -= this.game.time.elapsedMS),
            this._shake.duration <= 0
              ? (this.onShakeComplete.dispatch(),
              (this._shake.x = 0),
              (this._shake.y = 0))
              : (this._shake.horizontal &&
                      (this._shake.x =
                        this.game.rnd.frac() *
                          this._shake.intensity *
                          this.view.width *
                          2 -
                        this._shake.intensity * this.view.width),
              this._shake.vertical &&
                      (this._shake.y =
                        this.game.rnd.frac() *
                          this._shake.intensity *
                          this.view.height *
                          2 -
                        this._shake.intensity * this.view.height));
          },
          updateTarget() {
            (this._targetPosition.x =
                this.view.x + this.target.worldPosition.x),
            (this._targetPosition.y =
                  this.view.y + this.target.worldPosition.y),
            this.deadzone
              ? ((this._edge = this._targetPosition.x - this.view.x),
              this._edge < this.deadzone.left
                ? (this.view.x = this.game.math.linear(
                  this.view.x,
                  this._targetPosition.x - this.deadzone.left,
                  this.lerp.x,
                ))
                : this._edge > this.deadzone.right &&
                        (this.view.x = this.game.math.linear(
                          this.view.x,
                          this._targetPosition.x - this.deadzone.right,
                          this.lerp.x,
                        )),
              (this._edge = this._targetPosition.y - this.view.y),
              this._edge < this.deadzone.top
                ? (this.view.y = this.game.math.linear(
                  this.view.y,
                  this._targetPosition.y - this.deadzone.top,
                  this.lerp.y,
                ))
                : this._edge > this.deadzone.bottom &&
                        (this.view.y = this.game.math.linear(
                          this.view.y,
                          this._targetPosition.y - this.deadzone.bottom,
                          this.lerp.y,
                        )))
              : ((this.view.x = this.game.math.linear(
                this.view.x,
                this._targetPosition.x - this.view.halfWidth,
                this.lerp.x,
              )),
              (this.view.y = this.game.math.linear(
                this.view.y,
                this._targetPosition.y - this.view.halfHeight,
                this.lerp.y,
              ))),
            this.bounds && this.checkBounds(),
            this.roundPx && this.view.floor(),
            (this.displayObject.position.x = -this.view.x),
            (this.displayObject.position.y = -this.view.y);
          },
          setBoundsToWorld() {
            this.bounds && this.bounds.copyFrom(this.game.world.bounds);
          },
          checkBounds() {
            (this.atLimit.x = !1), (this.atLimit.y = !1);
            let t = this.view.x + this._shake.x,
              e = this.view.right + this._shake.x,
              i = this.view.y + this._shake.y,
              n = this.view.bottom + this._shake.y;
            t <= this.bounds.x * this.scale.x &&
                ((this.atLimit.x = !0),
                (this.view.x = this.bounds.x * this.scale.x),
                this._shake.shakeBounds || (this._shake.x = 0)),
            e >= this.bounds.right * this.scale.x &&
                  ((this.atLimit.x = !0),
                  (this.view.x = this.bounds.right * this.scale.x - this.width),
                  this._shake.shakeBounds || (this._shake.x = 0)),
            i <= this.bounds.top * this.scale.y &&
                  ((this.atLimit.y = !0),
                  (this.view.y = this.bounds.top * this.scale.y),
                  this._shake.shakeBounds || (this._shake.y = 0)),
            n >= this.bounds.bottom * this.scale.y &&
                  ((this.atLimit.y = !0),
                  (this.view.y =
                    this.bounds.bottom * this.scale.y - this.height),
                  this._shake.shakeBounds || (this._shake.y = 0));
          },
          setPosition(t, e) {
            (this.view.x = t),
            (this.view.y = e),
            this.bounds && this.checkBounds();
          },
          setSize(t, e) {
            (this.view.width = t), (this.view.height = e);
          },
          reset() {
            (this.target = null),
            (this.view.x = 0),
            (this.view.y = 0),
            (this._shake.duration = 0),
            this.resetFX();
          },
          resetFX() {
            this.fx.clear(), (this.fx.alpha = 0), (this._fxDuration = 0);
          },
        }),
        (a.Camera.prototype.constructor = a.Camera),
        Object.defineProperty(a.Camera.prototype, 'x', {
          get() {
            return this.view.x;
          },
          set(t) {
            (this.view.x = t), this.bounds && this.checkBounds();
          },
        }),
        Object.defineProperty(a.Camera.prototype, 'y', {
          get() {
            return this.view.y;
          },
          set(t) {
            (this.view.y = t), this.bounds && this.checkBounds();
          },
        }),
        Object.defineProperty(a.Camera.prototype, 'position', {
          get() {
            return (
              this._position.set(this.view.x, this.view.y), this._position
            );
          },
          set(t) {
            void 0 !== t.x && (this.view.x = t.x),
            void 0 !== t.y && (this.view.y = t.y),
            this.bounds && this.checkBounds();
          },
        }),
        Object.defineProperty(a.Camera.prototype, 'width', {
          get() {
            return this.view.width;
          },
          set(t) {
            this.view.width = t;
          },
        }),
        Object.defineProperty(a.Camera.prototype, 'height', {
          get() {
            return this.view.height;
          },
          set(t) {
            this.view.height = t;
          },
        }),
        Object.defineProperty(a.Camera.prototype, 'shakeIntensity', {
          get() {
            return this._shake.intensity;
          },
          set(t) {
            this._shake.intensity = t;
          },
        }),
        (a.State = function () {
          (this.game = null),
          (this.key = ''),
          (this.add = null),
          (this.make = null),
          (this.camera = null),
          (this.cache = null),
          (this.input = null),
          (this.load = null),
          (this.math = null),
          (this.sound = null),
          (this.scale = null),
          (this.stage = null),
          (this.state = null),
          (this.time = null),
          (this.tweens = null),
          (this.world = null),
          (this.particles = null),
          (this.physics = null),
          (this.rnd = null);
        }),
        (a.State.prototype = {
          init() {},
          preload() {},
          loadUpdate() {},
          loadRender() {},
          create() {},
          update() {},
          preRender() {},
          render() {},
          resize() {},
          paused() {},
          resumed() {},
          pauseUpdate() {},
          shutdown() {},
        }),
        (a.State.prototype.constructor = a.State),
        (a.StateManager = function (t, e) {
          (this.game = t),
          (this.states = {}),
          (this._pendingState = null),
          void 0 !== e && e !== null && (this._pendingState = e),
          (this._clearWorld = !1),
          (this._clearCache = !1),
          (this._created = !1),
          (this._args = []),
          (this.current = ''),
          (this.onStateChange = new a.Signal()),
          (this.onInitCallback = null),
          (this.onPreloadCallback = null),
          (this.onCreateCallback = null),
          (this.onUpdateCallback = null),
          (this.onRenderCallback = null),
          (this.onResizeCallback = null),
          (this.onPreRenderCallback = null),
          (this.onLoadUpdateCallback = null),
          (this.onLoadRenderCallback = null),
          (this.onPausedCallback = null),
          (this.onResumedCallback = null),
          (this.onPauseUpdateCallback = null),
          (this.onShutDownCallback = null);
        }),
        (a.StateManager.prototype = {
          boot() {
            this.game.onPause.add(this.pause, this),
            this.game.onResume.add(this.resume, this),
            this._pendingState !== null &&
                  typeof this._pendingState !== 'string' &&
                  this.add('default', this._pendingState, !0);
          },
          add(t, e, i) {
            void 0 === i && (i = !1);
            let r;
            return (
              e instanceof a.State
                ? (r = e)
                : (void 0 === e ? 'undefined' : n(e)) === 'object'
                  ? ((r = e), (r.game = this.game))
                  : typeof e === 'function' && (r = new e(this.game)),
              (this.states[t] = r),
              i &&
                  (this.game.isBooted
                    ? this.start(t)
                    : (this._pendingState = t)),
              r
            );
          },
          remove(t) {
            this.current === t &&
                ((this.callbackContext = null),
                (this.onInitCallback = null),
                (this.onShutDownCallback = null),
                (this.onPreloadCallback = null),
                (this.onLoadRenderCallback = null),
                (this.onLoadUpdateCallback = null),
                (this.onCreateCallback = null),
                (this.onUpdateCallback = null),
                (this.onPreRenderCallback = null),
                (this.onRenderCallback = null),
                (this.onResizeCallback = null),
                (this.onPausedCallback = null),
                (this.onResumedCallback = null),
                (this.onPauseUpdateCallback = null)),
            delete this.states[t];
          },
          start(t, e, i) {
            void 0 === e && (e = !0),
            void 0 === i && (i = !1),
            this.checkState(t) &&
                  ((this._pendingState = t),
                  (this._clearWorld = e),
                  (this._clearCache = i),
                  arguments.length > 3 &&
                    (this._args = Array.prototype.splice.call(arguments, 3)));
          },
          restart(t, e) {
            void 0 === t && (t = !0),
            void 0 === e && (e = !1),
            (this._pendingState = this.current),
            (this._clearWorld = t),
            (this._clearCache = e),
            arguments.length > 2 &&
                  (this._args = Array.prototype.slice.call(arguments, 2));
          },
          dummy() {},
          preUpdate() {
            if (this._pendingState && this.game.isBooted) {
              const t = this.current;
              if (
                (this.clearCurrentState(),
                this.setCurrentState(this._pendingState),
                this.onStateChange.dispatch(this.current, t),
                this.current !== this._pendingState)
              ) { return; }
              (this._pendingState = null),
              this.onPreloadCallback
                ? (this.game.load.reset(!0),
                this.onPreloadCallback.call(
                  this.callbackContext,
                  this.game,
                ),
                this.game.load.totalQueuedFiles() === 0 &&
                      this.game.load.totalQueuedPacks() === 0
                  ? this.loadComplete()
                  : this.game.load.start())
                : this.loadComplete();
            }
          },
          clearCurrentState() {
            this.current &&
                (this.onShutDownCallback &&
                  this.onShutDownCallback.call(this.callbackContext, this.game),
                this.game.tweens.removeAll(),
                this.game.camera.reset(),
                this.game.input.reset(!0),
                this.game.physics.clear(),
                this.game.time.removeAll(),
                this.game.scale.reset(this._clearWorld),
                this.game.debug && this.game.debug.reset(),
                this._clearWorld &&
                  (this.game.world.shutdown(),
                  this._clearCache && this.game.cache.destroy()));
          },
          checkState(t) {
            return this.states[t]
              ? !!(
                this.states[t].preload ||
                    this.states[t].create ||
                    this.states[t].update ||
                    this.states[t].render
              ) ||
                    (console.warn('Invalid Phaser State object given. Must contain at least a one of the required functions: preload, create, update or render'),
                    !1)
              : (console.warn(`Phaser.StateManager - No state found with the key: ${t}`),
              !1);
          },
          link(t) {
            (this.states[t].game = this.game),
            (this.states[t].add = this.game.add),
            (this.states[t].make = this.game.make),
            (this.states[t].camera = this.game.camera),
            (this.states[t].cache = this.game.cache),
            (this.states[t].input = this.game.input),
            (this.states[t].load = this.game.load),
            (this.states[t].math = this.game.math),
            (this.states[t].sound = this.game.sound),
            (this.states[t].scale = this.game.scale),
            (this.states[t].state = this),
            (this.states[t].stage = this.game.stage),
            (this.states[t].time = this.game.time),
            (this.states[t].tweens = this.game.tweens),
            (this.states[t].world = this.game.world),
            (this.states[t].particles = this.game.particles),
            (this.states[t].rnd = this.game.rnd),
            (this.states[t].physics = this.game.physics),
            (this.states[t].key = t);
          },
          unlink(t) {
            this.states[t] &&
                ((this.states[t].game = null),
                (this.states[t].add = null),
                (this.states[t].make = null),
                (this.states[t].camera = null),
                (this.states[t].cache = null),
                (this.states[t].input = null),
                (this.states[t].load = null),
                (this.states[t].math = null),
                (this.states[t].sound = null),
                (this.states[t].scale = null),
                (this.states[t].state = null),
                (this.states[t].stage = null),
                (this.states[t].time = null),
                (this.states[t].tweens = null),
                (this.states[t].world = null),
                (this.states[t].particles = null),
                (this.states[t].rnd = null),
                (this.states[t].physics = null));
          },
          setCurrentState(t) {
            (this.callbackContext = this.states[t]),
            this.link(t),
            (this.onInitCallback = this.states[t].init || this.dummy),
            (this.onPreloadCallback = this.states[t].preload || null),
            (this.onLoadRenderCallback = this.states[t].loadRender || null),
            (this.onLoadUpdateCallback = this.states[t].loadUpdate || null),
            (this.onCreateCallback = this.states[t].create || null),
            (this.onUpdateCallback = this.states[t].update || null),
            (this.onPreRenderCallback = this.states[t].preRender || null),
            (this.onRenderCallback = this.states[t].render || null),
            (this.onResizeCallback = this.states[t].resize || null),
            (this.onPausedCallback = this.states[t].paused || null),
            (this.onResumedCallback = this.states[t].resumed || null),
            (this.onPauseUpdateCallback =
                  this.states[t].pauseUpdate || null),
            (this.onShutDownCallback =
                  this.states[t].shutdown || this.dummy),
            this.current !== '' && this.game.physics.reset(),
            (this.current = t),
            (this._created = !1),
            this.onInitCallback.apply(this.callbackContext, this._args),
            t === this._pendingState && (this._args = []),
            (this.game._kickstart = !0);
          },
          getCurrentState() {
            return this.states[this.current];
          },
          loadComplete() {
            !1 === this._created &&
                this.onLoadUpdateCallback &&
                this.onLoadUpdateCallback.call(this.callbackContext, this.game),
            !1 === this._created && this.onCreateCallback
              ? ((this._created = !0),
              this.onCreateCallback.call(this.callbackContext, this.game))
              : (this._created = !0);
          },
          pause() {
            this._created &&
                this.onPausedCallback &&
                this.onPausedCallback.call(this.callbackContext, this.game);
          },
          resume() {
            this._created &&
                this.onResumedCallback &&
                this.onResumedCallback.call(this.callbackContext, this.game);
          },
          update() {
            this._created
              ? this.onUpdateCallback &&
                  this.onUpdateCallback.call(this.callbackContext, this.game)
              : this.onLoadUpdateCallback &&
                  this.onLoadUpdateCallback.call(
                    this.callbackContext,
                    this.game,
                  );
          },
          pauseUpdate() {
            this._created
              ? this.onPauseUpdateCallback &&
                  this.onPauseUpdateCallback.call(
                    this.callbackContext,
                    this.game,
                  )
              : this.onLoadUpdateCallback &&
                  this.onLoadUpdateCallback.call(
                    this.callbackContext,
                    this.game,
                  );
          },
          preRender(t) {
            this._created &&
                this.onPreRenderCallback &&
                this.onPreRenderCallback.call(
                  this.callbackContext,
                  this.game,
                  t,
                );
          },
          resize(t, e) {
            this.onResizeCallback &&
                this.onResizeCallback.call(this.callbackContext, t, e);
          },
          render() {
            this._created
              ? this.onRenderCallback &&
                  (this.game.renderType === a.CANVAS
                    ? (this.game.context.save(),
                    this.game.context.setTransform(1, 0, 0, 1, 0, 0),
                    this.onRenderCallback.call(
                      this.callbackContext,
                      this.game,
                    ),
                    this.game.context.restore())
                    : this.onRenderCallback.call(
                      this.callbackContext,
                      this.game,
                    ))
              : this.onLoadRenderCallback &&
                  this.onLoadRenderCallback.call(
                    this.callbackContext,
                    this.game,
                  );
          },
          destroy() {
            (this._clearWorld = !0),
            (this._clearCache = !0),
            this.clearCurrentState(),
            (this.callbackContext = null),
            (this.onInitCallback = null),
            (this.onShutDownCallback = null),
            (this.onPreloadCallback = null),
            (this.onLoadRenderCallback = null),
            (this.onLoadUpdateCallback = null),
            (this.onCreateCallback = null),
            (this.onUpdateCallback = null),
            (this.onRenderCallback = null),
            (this.onPausedCallback = null),
            (this.onResumedCallback = null),
            (this.onPauseUpdateCallback = null),
            (this.game = null),
            (this.states = {}),
            (this._pendingState = null),
            (this.current = '');
          },
        }),
        (a.StateManager.prototype.constructor = a.StateManager),
        Object.defineProperty(a.StateManager.prototype, 'created', {
          get() {
            return this._created;
          },
        }),
        (a.Signal = function () {}),
        (a.Signal.prototype = {
          _bindings: null,
          _prevParams: null,
          memorize: !1,
          _shouldPropagate: !0,
          active: !0,
          _boundDispatch: !1,
          validateListener(t, e) {
            if (typeof t !== 'function') {
              throw new Error('Phaser.Signal: listener is a required param of {fn}() and should be a Function.'.replace(
                '{fn}',
                e,
              ));
            }
          },
          _registerListener(t, e, i, n, r) {
            let o,
              s = this._indexOfListener(t, i);
            if (s !== -1) {
              if (((o = this._bindings[s]), o.isOnce() !== e)) {
                throw new Error(`You cannot add${
                  e ? '' : 'Once'
                }() then add${
                  e ? 'Once' : ''
                }() the same listener without removing the relationship first.`);
              }
            } else {
              (o = new a.SignalBinding(this, t, e, i, n, r)),
              this._addBinding(o);
            }
            return (
              this.memorize &&
                  this._prevParams &&
                  o.execute(this._prevParams),
              o
            );
          },
          _addBinding(t) {
            this._bindings || (this._bindings = []);
            let e = this._bindings.length;
            do {
              e--;
            } while (
              this._bindings[e] &&
                t._priority <= this._bindings[e]._priority
            );
            this._bindings.splice(e + 1, 0, t);
          },
          _indexOfListener(t, e) {
            if (!this._bindings) return -1;
            void 0 === e && (e = null);
            for (var i, n = this._bindings.length; n--;) {
              if (
                ((i = this._bindings[n]),
                i._listener === t && i.context === e)
              ) { return n; }
            }
            return -1;
          },
          has(t, e) {
            return this._indexOfListener(t, e) !== -1;
          },
          add(t, e, i) {
            this.validateListener(t, 'add');
            const n = [];
            if (arguments.length > 3) { for (let r = 3; r < arguments.length; r++) n.push(arguments[r]); }
            return this._registerListener(t, !1, e, i, n);
          },
          addOnce(t, e, i) {
            this.validateListener(t, 'addOnce');
            const n = [];
            if (arguments.length > 3) { for (let r = 3; r < arguments.length; r++) n.push(arguments[r]); }
            return this._registerListener(t, !0, e, i, n);
          },
          remove(t, e) {
            this.validateListener(t, 'remove');
            const i = this._indexOfListener(t, e);
            return (
              i !== -1 &&
                  (this._bindings[i]._destroy(), this._bindings.splice(i, 1)),
              t
            );
          },
          removeAll(t) {
            if ((void 0 === t && (t = null), this._bindings)) {
              for (let e = this._bindings.length; e--;) {
                t
                  ? this._bindings[e].context === t &&
                      (this._bindings[e]._destroy(),
                      this._bindings.splice(e, 1))
                  : this._bindings[e]._destroy();
              }
              t || (this._bindings.length = 0);
            }
          },
          getNumListeners() {
            return this._bindings ? this._bindings.length : 0;
          },
          halt() {
            this._shouldPropagate = !1;
          },
          dispatch() {
            if (this.active && this._bindings) {
              let t,
                e = Array.prototype.slice.call(arguments),
                i = this._bindings.length;
              if ((this.memorize && (this._prevParams = e), i)) {
                (t = this._bindings.slice()), (this._shouldPropagate = !0);
                do {
                  i--;
                } while (
                  t[i] &&
                    this._shouldPropagate &&
                    !1 !== t[i].execute(e)
                );
              }
            }
          },
          forget() {
            this._prevParams && (this._prevParams = null);
          },
          dispose() {
            this.removeAll(),
            (this._bindings = null),
            this._prevParams && (this._prevParams = null);
          },
          toString() {
            return (
              `[Phaser.Signal active:${
                this.active
              } numListeners:${
                this.getNumListeners()
              }]`
            );
          },
        }),
        Object.defineProperty(a.Signal.prototype, 'boundDispatch', {
          get() {
            const t = this;
            return (
              this._boundDispatch ||
                (this._boundDispatch = function () {
                  return t.dispatch(...arguments);
                })
            );
          },
        }),
        (a.Signal.prototype.constructor = a.Signal),
        (a.SignalBinding = function (t, e, i, n, r, a) {
          (this._listener = e),
          i && (this._isOnce = !0),
          n != null && (this.context = n),
          (this._signal = t),
          r && (this._priority = r),
          a && a.length && (this._args = a);
        }),
        (a.SignalBinding.prototype = {
          context: null,
          _isOnce: !1,
          _priority: 0,
          _args: null,
          callCount: 0,
          active: !0,
          params: null,
          execute(t) {
            let e,
              i;
            return (
              this.active &&
                  this._listener &&
                  ((i = this.params ? this.params.concat(t) : t),
                  this._args && (i = i.concat(this._args)),
                  (e = this._listener.apply(this.context, i)),
                  this.callCount++,
                  this._isOnce && this.detach()),
              e
            );
          },
          detach() {
            return this.isBound()
              ? this._signal.remove(this._listener, this.context)
              : null;
          },
          isBound() {
            return !!this._signal && !!this._listener;
          },
          isOnce() {
            return this._isOnce;
          },
          getListener() {
            return this._listener;
          },
          getSignal() {
            return this._signal;
          },
          _destroy() {
            delete this._signal, delete this._listener, delete this.context;
          },
          toString() {
            return (
              `[Phaser.SignalBinding isOnce:${
                this._isOnce
              }, isBound:${
                this.isBound()
              }, active:${
                this.active
              }]`
            );
          },
        }),
        (a.SignalBinding.prototype.constructor = a.SignalBinding),
        (a.Filter = function (t, e, i) {
          (this.game = t),
          (this.type = a.WEBGL_FILTER),
          (this.passes = [this]),
          (this.shaders = []),
          (this.dirty = !0),
          (this.padding = 0),
          (this.prevPoint = new a.Point());
          const n = new Date();
          if (
            ((this.uniforms = {
              resolution: { type: '2f', value: { x: 256, y: 256 } },
              time: { type: '1f', value: 0 },
              mouse: { type: '2f', value: { x: 0, y: 0 } },
              date: {
                type: '4fv',
                value: [
                  n.getFullYear(),
                  n.getMonth(),
                  n.getDate(),
                  60 * n.getHours() * 60 +
                      60 * n.getMinutes() +
                      n.getSeconds(),
                ],
              },
              sampleRate: { type: '1f', value: 44100 },
              iChannel0: {
                type: 'sampler2D',
                value: null,
                textureData: { repeat: !0 },
              },
              iChannel1: {
                type: 'sampler2D',
                value: null,
                textureData: { repeat: !0 },
              },
              iChannel2: {
                type: 'sampler2D',
                value: null,
                textureData: { repeat: !0 },
              },
              iChannel3: {
                type: 'sampler2D',
                value: null,
                textureData: { repeat: !0 },
              },
            }),
            e)
          ) { for (const r in e) this.uniforms[r] = e[r]; }
          this.fragmentSrc = i || '';
        }),
        (a.Filter.prototype = {
          init() {},
          setResolution(t, e) {
            (this.uniforms.resolution.value.x = t),
            (this.uniforms.resolution.value.y = e);
          },
          update(t) {
            if (void 0 !== t) {
              let e = t.x / this.game.width,
                i = 1 - t.y / this.game.height;
              (e === this.prevPoint.x && i === this.prevPoint.y) ||
                  ((this.uniforms.mouse.value.x = e.toFixed(2)),
                  (this.uniforms.mouse.value.y = i.toFixed(2)),
                  this.prevPoint.set(e, i));
            }
            this.uniforms.time.value = this.game.time.totalElapsedSeconds();
          },
          addToWorld(t, e, i, n, r, a) {
            void 0 === r && (r = 0),
            void 0 === a && (a = 0),
            void 0 !== i && i !== null
              ? (this.width = i)
              : (i = this.width),
            void 0 !== n && n !== null
              ? (this.height = n)
              : (n = this.height);
            const o = this.game.add.image(t, e, '__default');
            return (
              (o.width = i),
              (o.height = n),
              o.anchor.set(r, a),
              (o.filters = [this]),
              o
            );
          },
          destroy() {
            this.game = null;
          },
        }),
        (a.Filter.prototype.constructor = a.Filter),
        Object.defineProperty(a.Filter.prototype, 'width', {
          get() {
            return this.uniforms.resolution.value.x;
          },
          set(t) {
            this.uniforms.resolution.value.x = t;
          },
        }),
        Object.defineProperty(a.Filter.prototype, 'height', {
          get() {
            return this.uniforms.resolution.value.y;
          },
          set(t) {
            this.uniforms.resolution.value.y = t;
          },
        }),
        (a.Plugin = function (t, e) {
          void 0 === e && (e = null),
          (this.game = t),
          (this.parent = e),
          (this.active = !1),
          (this.visible = !1),
          (this.hasPreUpdate = !1),
          (this.hasUpdate = !1),
          (this.hasPostUpdate = !1),
          (this.hasRender = !1),
          (this.hasPostRender = !1);
        }),
        (a.Plugin.prototype = {
          preUpdate() {},
          update() {},
          render() {},
          postRender() {},
          destroy() {
            (this.game = null),
            (this.parent = null),
            (this.active = !1),
            (this.visible = !1);
          },
        }),
        (a.Plugin.prototype.constructor = a.Plugin),
        (a.PluginManager = function (t) {
          (this.game = t),
          (this.plugins = []),
          (this._len = 0),
          (this._i = 0);
        }),
        (a.PluginManager.prototype = {
          add(t) {
            let e = Array.prototype.slice.call(arguments, 1),
              i = !1;
            return (
              typeof t === 'function'
                ? (t = new t(this.game, this))
                : ((t.game = this.game), (t.parent = this)),
              typeof t.preUpdate === 'function' &&
                  ((t.hasPreUpdate = !0), (i = !0)),
              typeof t.update === 'function' && ((t.hasUpdate = !0), (i = !0)),
              typeof t.postUpdate === 'function' &&
                  ((t.hasPostUpdate = !0), (i = !0)),
              typeof t.render === 'function' && ((t.hasRender = !0), (i = !0)),
              typeof t.postRender === 'function' &&
                  ((t.hasPostRender = !0), (i = !0)),
              i
                ? ((t.hasPreUpdate || t.hasUpdate || t.hasPostUpdate) &&
                      (t.active = !0),
                (t.hasRender || t.hasPostRender) && (t.visible = !0),
                (this._len = this.plugins.push(t)),
                typeof t.init === 'function' && t.init(...e),
                t)
                : null
            );
          },
          remove(t, e) {
            for (void 0 === e && (e = !0), this._i = this._len; this._i--;) {
              if (this.plugins[this._i] === t) {
                return (
                  e && t.destroy(),
                  this.plugins.splice(this._i, 1),
                  void this._len--
                );
              }
            }
          },
          removeAll() {
            for (this._i = this._len; this._i--;) { this.plugins[this._i].destroy(); }
            (this.plugins.length = 0), (this._len = 0);
          },
          preUpdate() {
            for (this._i = this._len; this._i--;) {
              this.plugins[this._i].active &&
                  this.plugins[this._i].hasPreUpdate &&
                  this.plugins[this._i].preUpdate();
            }
          },
          update() {
            for (this._i = this._len; this._i--;) {
              this.plugins[this._i].active &&
                  this.plugins[this._i].hasUpdate &&
                  this.plugins[this._i].update();
            }
          },
          postUpdate() {
            for (this._i = this._len; this._i--;) {
              this.plugins[this._i].active &&
                  this.plugins[this._i].hasPostUpdate &&
                  this.plugins[this._i].postUpdate();
            }
          },
          render() {
            for (this._i = this._len; this._i--;) {
              this.plugins[this._i].visible &&
                  this.plugins[this._i].hasRender &&
                  this.plugins[this._i].render();
            }
          },
          postRender() {
            for (this._i = this._len; this._i--;) {
              this.plugins[this._i].visible &&
                  this.plugins[this._i].hasPostRender &&
                  this.plugins[this._i].postRender();
            }
          },
          destroy() {
            this.removeAll(), (this.game = null);
          },
        }),
        (a.PluginManager.prototype.constructor = a.PluginManager),
        (a.Stage = function (t) {
          (this.game = t),
          PIXI.DisplayObjectContainer.call(this),
          (this.name = '_stage_root'),
          (this.disableVisibilityChange = !1),
          (this.exists = !0),
          (this.worldTransform = new PIXI.Matrix()),
          (this.stage = this),
          (this.currentRenderOrderID = 0),
          (this._hiddenVar = 'hidden'),
          (this._onChange = null),
          (this._bgColor = {
            r: 0,
            g: 0,
            b: 0,
            a: 0,
            color: 0,
            rgba: '#000000',
          }),
          this.game.transparent || (this._bgColor.a = 1),
          t.config && this.parseConfig(t.config);
        }),
        (a.Stage.prototype = Object.create(PIXI.DisplayObjectContainer.prototype)),
        (a.Stage.prototype.constructor = a.Stage),
        (a.Stage.prototype.parseConfig = function (t) {
          t.disableVisibilityChange &&
              (this.disableVisibilityChange = t.disableVisibilityChange),
          t.backgroundColor && this.setBackgroundColor(t.backgroundColor);
        }),
        (a.Stage.prototype.boot = function () {
          a.DOM.getOffset(this.game.canvas, this.offset),
          a.Canvas.setUserSelect(this.game.canvas, 'none'),
          a.Canvas.setTouchAction(this.game.canvas, 'none'),
          this.checkVisibility();
        }),
        (a.Stage.prototype.preUpdate = function () {
          this.currentRenderOrderID = 0;
          for (let t = 0; t < this.children.length; t++) { this.children[t].preUpdate(); }
        }),
        (a.Stage.prototype.update = function () {
          for (let t = this.children.length; t--;) this.children[t].update();
        }),
        (a.Stage.prototype.postUpdate = function () {
          this.game.camera.update(),
          this.game.camera.target &&
                (this.game.camera.target.postUpdate(),
                this.updateTransform(),
                this.game.camera.updateTarget());
          for (let t = 0; t < this.children.length; t++) { this.children[t].postUpdate(); }
          this.updateTransform();
        }),
        (a.Stage.prototype.updateTransform = function () {
          this.worldAlpha = 1;
          for (let t = 0; t < this.children.length; t++) { this.children[t].updateTransform(); }
        }),
        (a.Stage.prototype.checkVisibility = function () {
          void 0 !== document.webkitHidden
            ? (this._hiddenVar = 'webkitvisibilitychange')
            : void 0 !== document.mozHidden
              ? (this._hiddenVar = 'mozvisibilitychange')
              : void 0 !== document.msHidden
                ? (this._hiddenVar = 'msvisibilitychange')
                : void 0 !== document.hidden
                  ? (this._hiddenVar = 'visibilitychange')
                  : (this._hiddenVar = null);
          const t = this;
          (this._onChange = function (e) {
            return t.visibilityChange(e);
          }),
          this._hiddenVar &&
                document.addEventListener(this._hiddenVar, this._onChange, !1),
          (window.onblur = this._onChange),
          (window.onfocus = this._onChange),
          (window.onpagehide = this._onChange),
          (window.onpageshow = this._onChange),
          this.game.device.cocoonJSApp &&
                (CocoonJS.App.onSuspended.addEventListener(() => {
                  a.Stage.prototype.visibilityChange.call(t, { type: 'pause' });
                }),
                CocoonJS.App.onActivated.addEventListener(() => {
                  a.Stage.prototype.visibilityChange.call(t, {
                    type: 'resume',
                  });
                }));
        }),
        (a.Stage.prototype.visibilityChange = function (t) {
          if (
            t.type === 'pagehide' ||
              t.type === 'blur' ||
              t.type === 'pageshow' ||
              t.type === 'focus'
          ) {
            return void (t.type === 'pagehide' || t.type === 'blur'
              ? this.game.focusLoss(t)
              : (t.type !== 'pageshow' && t.type !== 'focus') ||
                  this.game.focusGain(t));
          }
          this.disableVisibilityChange ||
              (document.hidden ||
              document.mozHidden ||
              document.msHidden ||
              document.webkitHidden ||
              t.type === 'pause'
                ? this.game.gamePaused(t)
                : this.game.gameResumed(t));
        }),
        (a.Stage.prototype.setBackgroundColor = function (t) {
          this.game.transparent ||
              (a.Color.valueToColor(t, this._bgColor),
              a.Color.updateColor(this._bgColor),
              (this._bgColor.r /= 255),
              (this._bgColor.g /= 255),
              (this._bgColor.b /= 255),
              (this._bgColor.a = 1));
        }),
        (a.Stage.prototype.destroy = function () {
          this._hiddenVar &&
              document.removeEventListener(this._hiddenVar, this._onChange, !1),
          (window.onpagehide = null),
          (window.onpageshow = null),
          (window.onblur = null),
          (window.onfocus = null);
        }),
        Object.defineProperty(a.Stage.prototype, 'backgroundColor', {
          get() {
            return this._bgColor.color;
          },
          set(t) {
            this.setBackgroundColor(t);
          },
        }),
        Object.defineProperty(a.Stage.prototype, 'smoothed', {
          get() {
            return PIXI.scaleModes.DEFAULT === PIXI.scaleModes.LINEAR;
          },
          set(t) {
            PIXI.scaleModes.DEFAULT = t
              ? PIXI.scaleModes.LINEAR
              : PIXI.scaleModes.NEAREST;
          },
        }),
        (a.Group = function (t, e, i, n, r, o) {
          void 0 === n && (n = !1),
          void 0 === r && (r = !1),
          void 0 === o && (o = a.Physics.ARCADE),
          (this.game = t),
          void 0 === e && (e = t.world),
          (this.name = i || 'group'),
          (this.z = 0),
          PIXI.DisplayObjectContainer.call(this),
          n
            ? (this.game.stage.addChild(this),
            (this.z = this.game.stage.children.length))
            : e && (e.addChild(this), (this.z = e.children.length)),
          (this.type = a.GROUP),
          (this.physicsType = a.GROUP),
          (this.alive = !0),
          (this.exists = !0),
          (this.ignoreDestroy = !1),
          (this.pendingDestroy = !1),
          (this.classType = a.Sprite),
          (this.cursor = null),
          (this.inputEnableChildren = !1),
          (this.onChildInputDown = new a.Signal()),
          (this.onChildInputUp = new a.Signal()),
          (this.onChildInputOver = new a.Signal()),
          (this.onChildInputOut = new a.Signal()),
          (this.enableBody = r),
          (this.enableBodyDebug = !1),
          (this.physicsBodyType = o),
          (this.physicsSortDirection = null),
          (this.onDestroy = new a.Signal()),
          (this.cursorIndex = 0),
          (this.fixedToCamera = !1),
          (this.cameraOffset = new a.Point()),
          (this.hash = []),
          (this._sortProperty = 'z');
        }),
        (a.Group.prototype = Object.create(PIXI.DisplayObjectContainer.prototype)),
        (a.Group.prototype.constructor = a.Group),
        (a.Group.RETURN_NONE = 0),
        (a.Group.RETURN_TOTAL = 1),
        (a.Group.RETURN_CHILD = 2),
        (a.Group.SORT_ASCENDING = -1),
        (a.Group.SORT_DESCENDING = 1),
        (a.Group.prototype.add = function (t, e, i) {
          return (
            void 0 === e && (e = !1),
            t.parent === this
              ? t
              : (t.body &&
                    t.parent &&
                    t.parent.hash &&
                    t.parent.removeFromHash(t),
              void 0 === i
                ? ((t.z = this.children.length), this.addChild(t))
                : (this.addChildAt(t, i), this.updateZ()),
              this.enableBody && t.hasOwnProperty('body') && t.body === null
                ? this.game.physics.enable(t, this.physicsBodyType)
                : t.body && this.addToHash(t),
              this.inputEnableChildren &&
                    !t.inputEnabled &&
                    (t.inputEnabled = !0),
              !e && t.events && t.events.onAddedToGroup$dispatch(t, this),
              this.cursor === null && (this.cursor = t),
              t)
          );
        }),
        (a.Group.prototype.addAt = function (t, e, i) {
          this.add(t, i, e);
        }),
        (a.Group.prototype.addToHash = function (t) {
          return (
            t.parent === this &&
              this.hash.indexOf(t) === -1 &&
              (this.hash.push(t), !0)
          );
        }),
        (a.Group.prototype.removeFromHash = function (t) {
          if (t) {
            const e = this.hash.indexOf(t);
            if (e !== -1) return this.hash.splice(e, 1), !0;
          }
          return !1;
        }),
        (a.Group.prototype.addMultiple = function (t, e) {
          if (t instanceof a.Group) t.moveAll(this, e);
          else if (Array.isArray(t)) { for (let i = 0; i < t.length; i++) this.add(t[i], e); }
          return t;
        }),
        (a.Group.prototype.getAt = function (t) {
          return t < 0 || t >= this.children.length ? -1 : this.getChildAt(t);
        }),
        (a.Group.prototype.create = function (t, e, i, n, r, a) {
          void 0 === r && (r = !0);
          const o = new this.classType(this.game, t, e, i, n);
          return (
            (o.exists = r), (o.visible = r), (o.alive = r), this.add(o, !1, a)
          );
        }),
        (a.Group.prototype.createMultiple = function (t, e, i, n) {
          void 0 === i && (i = 0),
          void 0 === n && (n = !1),
          Array.isArray(e) || (e = [e]),
          Array.isArray(i) || (i = [i]);
          let r = this,
            a = [];
          return (
            e.forEach((e) => {
              i.forEach((i) => {
                for (let o = 0; o < t; o++) a.push(r.create(0, 0, e, i, n));
              });
            }),
            a
          );
        }),
        (a.Group.prototype.updateZ = function () {
          for (let t = this.children.length; t--;) this.children[t].z = t;
        }),
        (a.Group.prototype.align = function (t, e, i, n, r, o) {
          if (
            (void 0 === r && (r = a.TOP_LEFT),
            void 0 === o && (o = 0),
            !(
              this.children.length === 0 ||
                o > this.children.length ||
                (t === -1 && e === -1)
            ))
          ) {
            for (
              let s = new a.Rectangle(0, 0, i, n),
                u = t * i,
                l = e * n,
                c = o;
              c < this.children.length;
              c++
            ) {
              const h = this.children[c];
              if (h.alignIn) {
                if ((h.alignIn(s, r), t === -1)) { (s.y += n), s.y === l && ((s.x += i), (s.y = 0)); } else if (e === -1) { (s.x += i), s.x === u && ((s.x = 0), (s.y += n)); } else if (s.x === u && ((s.x = 0), (s.y += n), s.y === l)) { return; }
              }
            }
          }
        }),
        (a.Group.prototype.resetCursor = function (t) {
          if (
            (void 0 === t && (t = 0),
            t > this.children.length - 1 && (t = 0),
            this.cursor)
          ) {
            return (
              (this.cursorIndex = t),
              (this.cursor = this.children[this.cursorIndex]),
              this.cursor
            );
          }
        });
        (a.Group.prototype.next = function () {
          if (this.cursor) {
            return (
              this.cursorIndex >= this.children.length - 1
                ? (this.cursorIndex = 0)
                : this.cursorIndex++,
              (this.cursor = this.children[this.cursorIndex]),
              this.cursor
            );
          }
        }),
        (a.Group.prototype.previous = function () {
          if (this.cursor) {
            return (
              this.cursorIndex === 0
                ? (this.cursorIndex = this.children.length - 1)
                : this.cursorIndex--,
              (this.cursor = this.children[this.cursorIndex]),
              this.cursor
            );
          }
        }),
        (a.Group.prototype.swap = function (t, e) {
          this.swapChildren(t, e), this.updateZ();
        }),
        (a.Group.prototype.bringToTop = function (t) {
          return (
            t.parent === this &&
                this.getIndex(t) < this.children.length &&
                (this.remove(t, !1, !0), this.add(t, !0)),
            t
          );
        }),
        (a.Group.prototype.sendToBack = function (t) {
          return (
            t.parent === this &&
                this.getIndex(t) > 0 &&
                (this.remove(t, !1, !0), this.addAt(t, 0, !0)),
            t
          );
        }),
        (a.Group.prototype.moveUp = function (t) {
          if (
            t.parent === this &&
              this.getIndex(t) < this.children.length - 1
          ) {
            let e = this.getIndex(t),
              i = this.getAt(e + 1);
            i && this.swap(t, i);
          }
          return t;
        }),
        (a.Group.prototype.moveDown = function (t) {
          if (t.parent === this && this.getIndex(t) > 0) {
            let e = this.getIndex(t),
              i = this.getAt(e - 1);
            i && this.swap(t, i);
          }
          return t;
        }),
        (a.Group.prototype.xy = function (t, e, i) {
          if (t < 0 || t > this.children.length) return -1;
          (this.getChildAt(t).x = e), (this.getChildAt(t).y = i);
        }),
        (a.Group.prototype.reverse = function () {
          this.children.reverse(), this.updateZ();
        }),
        (a.Group.prototype.getIndex = function (t) {
          return this.children.indexOf(t);
        }),
        (a.Group.prototype.getByName = function (t) {
          for (let e = 0; e < this.children.length; e++) { if (this.children[e].name === t) return this.children[e]; }
          return null;
        }),
        (a.Group.prototype.replace = function (t, e) {
          const i = this.getIndex(t);
          if (i !== -1) {
            return (
              e.parent &&
                  (e.parent instanceof a.Group
                    ? e.parent.remove(e)
                    : e.parent.removeChild(e)),
              this.remove(t),
              this.addAt(e, i),
              t
            );
          }
        }),
        (a.Group.prototype.hasProperty = function (t, e) {
          const i = e.length;
          return (
            (i === 1 && e[0] in t) ||
              (i === 2 && e[0] in t && e[1] in t[e[0]]) ||
              (i === 3 &&
                e[0] in t &&
                e[1] in t[e[0]] &&
                e[2] in t[e[0]][e[1]]) ||
              (i === 4 &&
                e[0] in t &&
                e[1] in t[e[0]] &&
                e[2] in t[e[0]][e[1]] &&
                e[3] in t[e[0]][e[1]][e[2]])
          );
        }),
        (a.Group.prototype.setProperty = function (t, e, i, n, r) {
          if (
            (void 0 === r && (r = !1),
            (n = n || 0),
            !this.hasProperty(t, e) && (!r || n > 0))
          ) { return !1; }
          const a = e.length;
          return (
            a === 1
              ? n === 0
                ? (t[e[0]] = i)
                : n == 1
                  ? (t[e[0]] += i)
                  : n == 2
                    ? (t[e[0]] -= i)
                    : n == 3
                      ? (t[e[0]] *= i)
                      : n == 4 && (t[e[0]] /= i)
              : a === 2
                ? n === 0
                  ? (t[e[0]][e[1]] = i)
                  : n == 1
                    ? (t[e[0]][e[1]] += i)
                    : n == 2
                      ? (t[e[0]][e[1]] -= i)
                      : n == 3
                        ? (t[e[0]][e[1]] *= i)
                        : n == 4 && (t[e[0]][e[1]] /= i)
                : a === 3
                  ? n === 0
                    ? (t[e[0]][e[1]][e[2]] = i)
                    : n == 1
                      ? (t[e[0]][e[1]][e[2]] += i)
                      : n == 2
                        ? (t[e[0]][e[1]][e[2]] -= i)
                        : n == 3
                          ? (t[e[0]][e[1]][e[2]] *= i)
                          : n == 4 && (t[e[0]][e[1]][e[2]] /= i)
                  : a === 4 &&
                  (n === 0
                    ? (t[e[0]][e[1]][e[2]][e[3]] = i)
                    : n == 1
                      ? (t[e[0]][e[1]][e[2]][e[3]] += i)
                      : n == 2
                        ? (t[e[0]][e[1]][e[2]][e[3]] -= i)
                        : n == 3
                          ? (t[e[0]][e[1]][e[2]][e[3]] *= i)
                          : n == 4 && (t[e[0]][e[1]][e[2]][e[3]] /= i)),
            !0
          );
        }),
        (a.Group.prototype.checkProperty = function (t, e, i, n) {
          return (
            void 0 === n && (n = !1),
            !(!a.Utils.getProperty(t, e) && n) &&
                a.Utils.getProperty(t, e) === i
          );
        }),
        (a.Group.prototype.set = function (t, e, i, n, r, a, o) {
          if (
            (void 0 === o && (o = !1),
            (e = e.split('.')),
            void 0 === n && (n = !1),
            void 0 === r && (r = !1),
            (!1 === n || (n && t.alive)) && (!1 === r || (r && t.visible)))
          ) { return this.setProperty(t, e, i, a, o); }
        }),
        (a.Group.prototype.setAll = function (t, e, i, n, r, a) {
          void 0 === i && (i = !1),
          void 0 === n && (n = !1),
          void 0 === a && (a = !1),
          (t = t.split('.')),
          (r = r || 0);
          for (let o = 0; o < this.children.length; o++) {
            (!i || (i && this.children[o].alive)) &&
                (!n || (n && this.children[o].visible)) &&
                this.setProperty(this.children[o], t, e, r, a);
          }
        }),
        (a.Group.prototype.setAllChildren = function (t, e, i, n, r, o) {
          void 0 === i && (i = !1),
          void 0 === n && (n = !1),
          void 0 === o && (o = !1),
          (r = r || 0);
          for (let s = 0; s < this.children.length; s++) {
            (!i || (i && this.children[s].alive)) &&
                (!n || (n && this.children[s].visible)) &&
                (this.children[s] instanceof a.Group
                  ? this.children[s].setAllChildren(t, e, i, n, r, o)
                  : this.setProperty(this.children[s], t.split('.'), e, r, o));
          }
        }),
        (a.Group.prototype.checkAll = function (t, e, i, n, r) {
          void 0 === i && (i = !1),
          void 0 === n && (n = !1),
          void 0 === r && (r = !1);
          for (let a = 0; a < this.children.length; a++) {
            if (
              (!i || (i && this.children[a].alive)) &&
                (!n || (n && this.children[a].visible)) &&
                !this.checkProperty(this.children[a], t, e, r)
            ) { return !1; }
          }
          return !0;
        }),
        (a.Group.prototype.addAll = function (t, e, i, n) {
          this.setAll(t, e, i, n, 1);
        }),
        (a.Group.prototype.subAll = function (t, e, i, n) {
          this.setAll(t, e, i, n, 2);
        }),
        (a.Group.prototype.multiplyAll = function (t, e, i, n) {
          this.setAll(t, e, i, n, 3);
        }),
        (a.Group.prototype.divideAll = function (t, e, i, n) {
          this.setAll(t, e, i, n, 4);
        }),
        (a.Group.prototype.callAllExists = function (t, e) {
          let i;
          if (arguments.length > 2) {
            i = [];
            for (var n = 2; n < arguments.length; n++) i.push(arguments[n]);
          }
          for (var n = 0; n < this.children.length; n++) {
            this.children[n].exists === e &&
                this.children[n][t] &&
                this.children[n][t].apply(this.children[n], i);
          }
        }),
        (a.Group.prototype.callbackFromArray = function (t, e, i) {
          if (i == 1) {
            if (t[e[0]]) return t[e[0]];
          } else if (i == 2) {
            if (t[e[0]][e[1]]) return t[e[0]][e[1]];
          } else if (i == 3) {
            if (t[e[0]][e[1]][e[2]]) return t[e[0]][e[1]][e[2]];
          } else if (i == 4) {
            if (t[e[0]][e[1]][e[2]][e[3]]) return t[e[0]][e[1]][e[2]][e[3]];
          } else if (t[e]) return t[e];
          return !1;
        }),
        (a.Group.prototype.callAll = function (t, e) {
          if (void 0 !== t) {
            t = t.split('.');
            const i = t.length;
            if (void 0 === e || e === null || e === '') e = null;
            else if (typeof e === 'string') {
              e = e.split('.');
              var n = e.length;
            }
            let r;
            if (arguments.length > 2) {
              r = [];
              for (var a = 2; a < arguments.length; a++) r.push(arguments[a]);
            }
            for (var o = null, s = null, a = 0; a < this.children.length; a++) {
              (o = this.callbackFromArray(this.children[a], t, i)),
              e && o
                ? ((s = this.callbackFromArray(this.children[a], e, n)),
                o && o.apply(s, r))
                : o && o.apply(this.children[a], r);
            }
          }
        }),
        (a.Group.prototype.preUpdate = function () {
          if (this.pendingDestroy) return this.destroy(), !1;
          if (!this.exists || !this.parent.exists) { return (this.renderOrderID = -1), !1; }
          for (let t = 0; t < this.children.length; t++) { this.children[t].preUpdate(); }
          return !0;
        }),
        (a.Group.prototype.update = function () {
          for (let t = this.children.length; t--;) this.children[t].update();
        }),
        (a.Group.prototype.postUpdate = function () {
          this.fixedToCamera &&
              ((this.x = this.game.camera.view.x + this.cameraOffset.x),
              (this.y = this.game.camera.view.y + this.cameraOffset.y));
          for (let t = 0; t < this.children.length; t++) { this.children[t].postUpdate(); }
        }),
        (a.Group.prototype.filter = function (t, e) {
          for (var i = -1, n = this.children.length, r = []; ++i < n;) {
            const o = this.children[i];
            (!e || (e && o.exists)) && t(o, i, this.children) && r.push(o);
          }
          return new a.ArraySet(r);
        }),
        (a.Group.prototype.forEach = function (t, e, i) {
          if ((void 0 === i && (i = !1), arguments.length <= 3)) {
            for (var n = 0; n < this.children.length; n++) {
              (!i || (i && this.children[n].exists)) &&
                  t.call(e, this.children[n]);
            }
          } else {
            for (var r = [null], n = 3; n < arguments.length; n++) { r.push(arguments[n]); }
            for (var n = 0; n < this.children.length; n++) {
              (!i || (i && this.children[n].exists)) &&
                  ((r[0] = this.children[n]), t.apply(e, r));
            }
          }
        }),
        (a.Group.prototype.forEachExists = function (t, e) {
          let i;
          if (arguments.length > 2) {
            i = [null];
            for (let n = 2; n < arguments.length; n++) i.push(arguments[n]);
          }
          this.iterate('exists', !0, a.Group.RETURN_TOTAL, t, e, i);
        }),
        (a.Group.prototype.forEachAlive = function (t, e) {
          let i;
          if (arguments.length > 2) {
            i = [null];
            for (let n = 2; n < arguments.length; n++) i.push(arguments[n]);
          }
          this.iterate('alive', !0, a.Group.RETURN_TOTAL, t, e, i);
        }),
        (a.Group.prototype.forEachDead = function (t, e) {
          let i;
          if (arguments.length > 2) {
            i = [null];
            for (let n = 2; n < arguments.length; n++) i.push(arguments[n]);
          }
          this.iterate('alive', !1, a.Group.RETURN_TOTAL, t, e, i);
        }),
        (a.Group.prototype.sort = function (t, e) {
          this.children.length < 2 ||
              (void 0 === t && (t = 'z'),
              void 0 === e && (e = a.Group.SORT_ASCENDING),
              (this._sortProperty = t),
              e === a.Group.SORT_ASCENDING
                ? this.children.sort(this.ascendingSortHandler.bind(this))
                : this.children.sort(this.descendingSortHandler.bind(this)),
              this.updateZ());
        }),
        (a.Group.prototype.customSort = function (t, e) {
          this.children.length < 2 ||
              (this.children.sort(t.bind(e)), this.updateZ());
        }),
        (a.Group.prototype.ascendingSortHandler = function (t, e) {
          return t[this._sortProperty] < e[this._sortProperty]
            ? -1
            : t[this._sortProperty] > e[this._sortProperty]
              ? 1
              : t.z < e.z
                ? -1
                : 1;
        }),
        (a.Group.prototype.descendingSortHandler = function (t, e) {
          return t[this._sortProperty] < e[this._sortProperty]
            ? 1
            : t[this._sortProperty] > e[this._sortProperty]
              ? -1
              : 0;
        }),
        (a.Group.prototype.iterate = function (t, e, i, n, r, o) {
          if (i === a.Group.RETURN_TOTAL && this.children.length === 0) { return 0; }
          for (var s = 0, u = 0; u < this.children.length; u++) {
            if (
              this.children[u][t] === e &&
                (s++,
                n &&
                  (o
                    ? ((o[0] = this.children[u]), n.apply(r, o))
                    : n.call(r, this.children[u])),
                i === a.Group.RETURN_CHILD)
            ) { return this.children[u]; }
          }
          return i === a.Group.RETURN_TOTAL ? s : null;
        }),
        (a.Group.prototype.getFirstExists = function (t, e, i, n, r, o) {
          void 0 === e && (e = !1), typeof t !== 'boolean' && (t = !0);
          const s = this.iterate('exists', t, a.Group.RETURN_CHILD);
          return s === null && e
            ? this.create(i, n, r, o)
            : this.resetChild(s, i, n, r, o);
        }),
        (a.Group.prototype.getFirstAlive = function (t, e, i, n, r) {
          void 0 === t && (t = !1);
          const o = this.iterate('alive', !0, a.Group.RETURN_CHILD);
          return o === null && t
            ? this.create(e, i, n, r)
            : this.resetChild(o, e, i, n, r);
        }),
        (a.Group.prototype.getFirstDead = function (t, e, i, n, r) {
          void 0 === t && (t = !1);
          const o = this.iterate('alive', !1, a.Group.RETURN_CHILD);
          return o === null && t
            ? this.create(e, i, n, r)
            : this.resetChild(o, e, i, n, r);
        }),
        (a.Group.prototype.resetChild = function (t, e, i, n, r) {
          return t === null
            ? null
            : (void 0 === e && (e = null),
            void 0 === i && (i = null),
            e !== null && i !== null && t.reset(e, i),
            void 0 !== n && t.loadTexture(n, r),
            t);
        }),
        (a.Group.prototype.getTop = function () {
          if (this.children.length > 0) { return this.children[this.children.length - 1]; }
        }),
        (a.Group.prototype.getBottom = function () {
          if (this.children.length > 0) return this.children[0];
        }),
        (a.Group.prototype.getClosestTo = function (t) {
          for (
            var e = Number.MAX_VALUE, i = 0, n = null, r = 0;
            r < this.children.length;
            r++
          ) {
            const o = this.children[r];
            o.exists &&
                (i = Math.abs(a.Point.distance(t, o))) < e &&
                ((e = i), (n = o));
          }
          return n;
        }),
        (a.Group.prototype.getFurthestFrom = function (t) {
          for (
            var e = 0, i = 0, n = null, r = 0;
            r < this.children.length;
            r++
          ) {
            const o = this.children[r];
            o.exists &&
                (i = Math.abs(a.Point.distance(t, o))) > e &&
                ((e = i), (n = o));
          }
          return n;
        }),
        (a.Group.prototype.countLiving = function () {
          return this.iterate('alive', !0, a.Group.RETURN_TOTAL);
        }),
        (a.Group.prototype.countDead = function () {
          return this.iterate('alive', !1, a.Group.RETURN_TOTAL);
        }),
        (a.Group.prototype.getRandom = function (t, e) {
          return this.children.length === 0
            ? null
            : ((t = t || 0),
            (e = e || this.children.length),
            a.ArrayUtils.getRandomItem(this.children, t, e));
        }),
        (a.Group.prototype.remove = function (t, e, i) {
          if (
            (void 0 === e && (e = !1),
            void 0 === i && (i = !1),
            this.children.length === 0 || this.children.indexOf(t) === -1)
          ) { return !1; }
          i ||
              !t.events ||
              t.destroyPhase ||
              t.events.onRemovedFromGroup$dispatch(t, this);
          const n = this.removeChild(t);
          return (
            this.removeFromHash(t),
            this.updateZ(),
            this.cursor === t && this.next(),
            e && n && n.destroy(!0),
            !0
          );
        }),
        (a.Group.prototype.moveAll = function (t, e) {
          if (
            (void 0 === e && (e = !1),
            this.children.length > 0 && t instanceof a.Group)
          ) {
            do {
              t.add(this.children[0], e);
            } while (this.children.length > 0);
            (this.hash = []), (this.cursor = null);
          }
          return t;
        }),
        (a.Group.prototype.removeAll = function (t, e, i) {
          if (
            (void 0 === t && (t = !1),
            void 0 === e && (e = !1),
            void 0 === i && (i = !1),
            this.children.length !== 0)
          ) {
            do {
              !e &&
                  this.children[0].events &&
                  this.children[0].events.onRemovedFromGroup$dispatch(
                    this.children[0],
                    this,
                  );
              const n = this.removeChild(this.children[0]);
              this.removeFromHash(n), t && n && n.destroy(!0, i);
            } while (this.children.length > 0);
            (this.hash = []), (this.cursor = null);
          }
        }),
        (a.Group.prototype.removeBetween = function (t, e, i, n) {
          if (
            (void 0 === e && (e = this.children.length - 1),
            void 0 === i && (i = !1),
            void 0 === n && (n = !1),
            this.children.length !== 0)
          ) {
            if (t > e || t < 0 || e > this.children.length) return !1;
            for (let r = e; r >= t;) {
              !n &&
                  this.children[r].events &&
                  this.children[r].events.onRemovedFromGroup$dispatch(
                    this.children[r],
                    this,
                  );
              const a = this.removeChild(this.children[r]);
              this.removeFromHash(a),
              i && a && a.destroy(!0),
              this.cursor === this.children[r] && (this.cursor = null),
              r--;
            }
            this.updateZ();
          }
        }),
        (a.Group.prototype.destroy = function (t, e) {
          this.game === null ||
              this.ignoreDestroy ||
              (void 0 === t && (t = !0),
              void 0 === e && (e = !1),
              this.onDestroy.dispatch(this, t, e),
              this.removeAll(t),
              (this.cursor = null),
              (this.filters = null),
              (this.pendingDestroy = !1),
              e ||
                (this.parent && this.parent.removeChild(this),
                (this.game = null),
                (this.exists = !1)));
        }),
        Object.defineProperty(a.Group.prototype, 'total', {
          get() {
            return this.iterate('exists', !0, a.Group.RETURN_TOTAL);
          },
        }),
        Object.defineProperty(a.Group.prototype, 'length', {
          get() {
            return this.children.length;
          },
        }),
        Object.defineProperty(a.Group.prototype, 'angle', {
          get() {
            return a.Math.radToDeg(this.rotation);
          },
          set(t) {
            this.rotation = a.Math.degToRad(t);
          },
        }),
        (a.World = function (t) {
          a.Group.call(this, t, null, '__world', !1),
          (this.bounds = new a.Rectangle(0, 0, t.width, t.height)),
          (this.camera = null),
          (this._definedSize = !1),
          (this._width = t.width),
          (this._height = t.height),
          this.game.state.onStateChange.add(this.stateChange, this);
        }),
        (a.World.prototype = Object.create(a.Group.prototype)),
        (a.World.prototype.constructor = a.World),
        (a.World.prototype.boot = function () {
          (this.camera = new a.Camera(
            this.game,
            0,
            0,
            0,
            this.game.width,
            this.game.height,
          )),
          this.game.stage.addChild(this),
          this.camera.boot();
        }),
        (a.World.prototype.stateChange = function () {
          (this.x = 0), (this.y = 0), this.camera.reset();
        }),
        (a.World.prototype.setBounds = function (t, e, i, n) {
          (this._definedSize = !0),
          (this._width = i),
          (this._height = n),
          this.bounds.setTo(t, e, i, n),
          (this.x = t),
          (this.y = e),
          this.camera.bounds &&
                this.camera.bounds.setTo(
                  t,
                  e,
                  Math.max(i, this.game.width),
                  Math.max(n, this.game.height),
                ),
          this.game.physics.setBoundsToWorld();
        }),
        (a.World.prototype.resize = function (t, e) {
          this._definedSize &&
              (t < this._width && (t = this._width),
              e < this._height && (e = this._height)),
          (this.bounds.width = t),
          (this.bounds.height = e),
          this.game.camera.setBoundsToWorld(),
          this.game.physics.setBoundsToWorld();
        }),
        (a.World.prototype.shutdown = function () {
          this.destroy(!0, !0);
        }),
        (a.World.prototype.wrap = function (t, e, i, n, r) {
          void 0 === e && (e = 0),
          void 0 === i && (i = !1),
          void 0 === n && (n = !0),
          void 0 === r && (r = !0),
          i
            ? (t.getBounds(),
            n &&
                    (t.x + t._currentBounds.width < this.bounds.x
                      ? (t.x = this.bounds.right)
                      : t.x > this.bounds.right && (t.x = this.bounds.left)),
            r &&
                    (t.y + t._currentBounds.height < this.bounds.top
                      ? (t.y = this.bounds.bottom)
                      : t.y > this.bounds.bottom && (t.y = this.bounds.top)))
            : (n && t.x + e < this.bounds.x
              ? (t.x = this.bounds.right + e)
              : n &&
                      t.x - e > this.bounds.right &&
                      (t.x = this.bounds.left - e),
            r && t.y + e < this.bounds.top
              ? (t.y = this.bounds.bottom + e)
              : r &&
                      t.y - e > this.bounds.bottom &&
                      (t.y = this.bounds.top - e));
        }),
        Object.defineProperty(a.World.prototype, 'width', {
          get() {
            return this.bounds.width;
          },
          set(t) {
            t < this.game.width && (t = this.game.width),
            (this.bounds.width = t),
            (this._width = t),
            (this._definedSize = !0);
          },
        }),
        Object.defineProperty(a.World.prototype, 'height', {
          get() {
            return this.bounds.height;
          },
          set(t) {
            t < this.game.height && (t = this.game.height),
            (this.bounds.height = t),
            (this._height = t),
            (this._definedSize = !0);
          },
        }),
        Object.defineProperty(a.World.prototype, 'centerX', {
          get() {
            return this.bounds.halfWidth + this.bounds.x;
          },
        }),
        Object.defineProperty(a.World.prototype, 'centerY', {
          get() {
            return this.bounds.halfHeight + this.bounds.y;
          },
        }),
        Object.defineProperty(a.World.prototype, 'randomX', {
          get() {
            return this.bounds.x < 0
              ? this.game.rnd.between(
                this.bounds.x,
                this.bounds.width - Math.abs(this.bounds.x),
              )
              : this.game.rnd.between(this.bounds.x, this.bounds.width);
          },
        }),
        Object.defineProperty(a.World.prototype, 'randomY', {
          get() {
            return this.bounds.y < 0
              ? this.game.rnd.between(
                this.bounds.y,
                this.bounds.height - Math.abs(this.bounds.y),
              )
              : this.game.rnd.between(this.bounds.y, this.bounds.height);
          },
        }),
        (a.Game = function (t, e, i, r, o, s, u, l) {
          return (
            (this.id = a.GAMES.push(this) - 1),
            (this.config = null),
            (this.physicsConfig = l),
            (this.parent = ''),
            (this.width = 800),
            (this.height = 600),
            (this.resolution = 1),
            (this._width = 800),
            (this._height = 600),
            (this.transparent = !1),
            (this.antialias = !0),
            (this.preserveDrawingBuffer = !1),
            (this.clearBeforeRender = !0),
            (this.renderer = null),
            (this.renderType = a.AUTO),
            (this.state = null),
            (this.isBooted = !1),
            (this.isRunning = !1),
            (this.raf = null),
            (this.add = null),
            (this.make = null),
            (this.cache = null),
            (this.input = null),
            (this.load = null),
            (this.math = null),
            (this.net = null),
            (this.scale = null),
            (this.sound = null),
            (this.stage = null),
            (this.time = null),
            (this.tweens = null),
            (this.world = null),
            (this.physics = null),
            (this.plugins = null),
            (this.rnd = null),
            (this.device = a.Device),
            (this.camera = null),
            (this.canvas = null),
            (this.context = null),
            (this.debug = null),
            (this.particles = null),
            (this.create = null),
            (this.lockRender = !1),
            (this.stepping = !1),
            (this.pendingStep = !1),
            (this.stepCount = 0),
            (this.onPause = null),
            (this.onResume = null),
            (this.onBlur = null),
            (this.onFocus = null),
            (this._paused = !1),
            (this._codePaused = !1),
            (this.currentUpdateID = 0),
            (this.updatesThisFrame = 1),
            (this._deltaTime = 0),
            (this._lastCount = 0),
            (this._spiraling = 0),
            (this._kickstart = !0),
            (this.fpsProblemNotifier = new a.Signal()),
            (this.forceSingleUpdate = !0),
            (this._nextFpsNotification = 0),
            arguments.length === 1 && n(arguments[0]) === 'object'
              ? this.parseConfig(arguments[0])
              : ((this.config = { enableDebug: !0 }),
              void 0 !== t && (this._width = t),
              void 0 !== e && (this._height = e),
              void 0 !== i && (this.renderType = i),
              void 0 !== r && (this.parent = r),
              void 0 !== s && (this.transparent = s),
              void 0 !== u && (this.antialias = u),
              (this.rnd = new a.RandomDataGenerator([
                (Date.now() * Math.random()).toString(),
              ])),
              (this.state = new a.StateManager(this, o))),
            this.device.whenReady(this.boot, this),
            this
          );
        }),
        (a.Game.prototype = {
          parseConfig(t) {
            (this.config = t),
            void 0 === t.enableDebug && (this.config.enableDebug = !0),
            t.width && (this._width = t.width),
            t.height && (this._height = t.height),
            t.renderer && (this.renderType = t.renderer),
            t.parent && (this.parent = t.parent),
            void 0 !== t.transparent && (this.transparent = t.transparent),
            void 0 !== t.antialias && (this.antialias = t.antialias),
            t.resolution && (this.resolution = t.resolution),
            void 0 !== t.preserveDrawingBuffer &&
                  (this.preserveDrawingBuffer = t.preserveDrawingBuffer),
            t.physicsConfig && (this.physicsConfig = t.physicsConfig);
            let e = [(Date.now() * Math.random()).toString()];
            t.seed && (e = t.seed), (this.rnd = new a.RandomDataGenerator(e));
            let i = null;
            t.state && (i = t.state),
            (this.state = new a.StateManager(this, i));
          },
          boot() {
            this.isBooted ||
                ((this.onPause = new a.Signal()),
                (this.onResume = new a.Signal()),
                (this.onBlur = new a.Signal()),
                (this.onFocus = new a.Signal()),
                (this.isBooted = !0),
                (PIXI.game = this),
                (this.math = a.Math),
                (this.scale = new a.ScaleManager(
                  this,
                  this._width,
                  this._height,
                )),
                (this.stage = new a.Stage(this)),
                this.setUpRenderer(),
                (this.world = new a.World(this)),
                (this.add = new a.GameObjectFactory(this)),
                (this.make = new a.GameObjectCreator(this)),
                (this.cache = new a.Cache(this)),
                (this.load = new a.Loader(this)),
                (this.time = new a.Time(this)),
                (this.tweens = new a.TweenManager(this)),
                (this.input = new a.Input(this)),
                (this.sound = new a.SoundManager(this)),
                (this.physics = new a.Physics(this, this.physicsConfig)),
                (this.particles = new a.Particles(this)),
                (this.create = new a.Create(this)),
                (this.plugins = new a.PluginManager(this)),
                (this.net = new a.Net(this)),
                this.time.boot(),
                this.stage.boot(),
                this.world.boot(),
                this.scale.boot(),
                this.input.boot(),
                this.sound.boot(),
                this.state.boot(),
                this.config.enableDebug
                  ? ((this.debug = new a.Utils.Debug(this)), this.debug.boot())
                  : (this.debug = {
                    preUpdate() {},
                    update() {},
                    reset() {},
                  }),
                this.showDebugHeader(),
                (this.isRunning = !0),
                this.config && this.config.forceSetTimeOut
                  ? (this.raf = new a.RequestAnimationFrame(
                    this,
                    this.config.forceSetTimeOut,
                  ))
                  : (this.raf = new a.RequestAnimationFrame(this, !1)),
                (this._kickstart = !0),
                window.focus &&
                  (!window.PhaserGlobal ||
                    (window.PhaserGlobal && !window.PhaserGlobal.stopFocus)) &&
                  window.focus(),
                this.raf.start());
          },
          showDebugHeader() {
            if (!window.PhaserGlobal || !window.PhaserGlobal.hideBanner) {
              let t = a.VERSION,
                e = 'Canvas',
                i = 'HTML Audio',
                n = 1;
              if (
                (this.renderType === a.WEBGL
                  ? ((e = 'WebGL'), n++)
                  : this.renderType == a.HEADLESS && (e = 'Headless'),
                this.device.webAudio && ((i = 'WebAudio'), n++),
                this.device.chrome)
              ) {
                for (
                  var r = [
                      `%c %c %c Phaser v${
                        t
                      } | Pixi.js ${
                        PIXI.VERSION
                      } | ${
                        e
                      } | ${
                        i
                      }  %c %c %c http://phaser.io %c%c%c`,
                      'background: #9854d8',
                      'background: #6c2ca7',
                      'color: #ffffff; background: #450f78;',
                      'background: #6c2ca7',
                      'background: #9854d8',
                      'background: #ffffff',
                    ],
                    o = 0;
                  o < 3;
                  o++
                ) {
                  o < n
                    ? r.push('color: #ff2424; background: #fff')
                    : r.push('color: #959595; background: #fff');
                }
                console.log(...r);
              } else {
                window.console &&
                    console.log(`Phaser v${
                      t
                    } | Pixi.js ${
                      PIXI.VERSION
                    } | ${
                      e
                    } | ${
                      i
                    } | http://phaser.io`);
              }
            }
          },
          setUpRenderer() {
            if (
              (this.config.canvas
                ? (this.canvas = this.config.canvas)
                : (this.canvas = a.Canvas.create(
                  this,
                  this.width,
                  this.height,
                  this.config.canvasID,
                  !0,
                )),
              this.config.canvasStyle
                ? (this.canvas.style = this.config.canvasStyle)
                : (this.canvas.style['-webkit-full-screen'] =
                      'width: 100%; height: 100%'),
              this.renderType === a.HEADLESS ||
                  this.renderType === a.CANVAS ||
                  (this.renderType === a.AUTO && !this.device.webGL))
            ) {
              if (!this.device.canvas) { throw new Error('Phaser.Game - Cannot create Canvas or WebGL context, aborting.'); }
              (this.renderType = a.CANVAS),
              (this.renderer = new PIXI.CanvasRenderer(this)),
              (this.context = this.renderer.context);
            } else {
              (this.renderType = a.WEBGL),
              (this.renderer = new PIXI.WebGLRenderer(this)),
              (this.context = null),
              this.canvas.addEventListener(
                'webglcontextlost',
                this.contextLost.bind(this),
                !1,
              ),
              this.canvas.addEventListener(
                'webglcontextrestored',
                this.contextRestored.bind(this),
                !1,
              );
            }
            this.device.cocoonJS &&
                (this.canvas.screencanvas = this.renderType === a.CANVAS),
            this.renderType !== a.HEADLESS &&
                  ((this.stage.smoothed = this.antialias),
                  a.Canvas.addToDOM(this.canvas, this.parent, !1),
                  a.Canvas.setTouchAction(this.canvas));
          },
          contextLost(t) {
            t.preventDefault(), (this.renderer.contextLost = !0);
          },
          contextRestored() {
            this.renderer.initContext(),
            this.cache.clearGLTextures(),
            (this.renderer.contextLost = !1);
          },
          update(t) {
            if ((this.time.update(t), this._kickstart)) {
              return (
                this.updateLogic(this.time.desiredFpsMult),
                this.updateRender(this.time.slowMotion * this.time.desiredFps),
                void (this._kickstart = !1)
              );
            }
            if (this._spiraling > 1 && !this.forceSingleUpdate) {
              this.time.time > this._nextFpsNotification &&
                  ((this._nextFpsNotification = this.time.time + 1e4),
                  this.fpsProblemNotifier.dispatch()),
              (this._deltaTime = 0),
              (this._spiraling = 0),
              this.updateRender(this.time.slowMotion * this.time.desiredFps);
            } else {
              const e = (1e3 * this.time.slowMotion) / this.time.desiredFps;
              this._deltaTime += Math.max(
                Math.min(3 * e, this.time.elapsed),
                0,
              );
              let i = 0;
              for (
                this.updatesThisFrame = Math.floor(this._deltaTime / e),
                this.forceSingleUpdate &&
                      (this.updatesThisFrame = Math.min(
                        1,
                        this.updatesThisFrame,
                      ));
                this._deltaTime >= e &&
                  ((this._deltaTime -= e),
                  (this.currentUpdateID = i),
                  this.updateLogic(this.time.desiredFpsMult),
                  i++,
                  !this.forceSingleUpdate || i !== 1);

              ) { this.time.refresh(); }
              i > this._lastCount
                ? this._spiraling++
                : i < this._lastCount && (this._spiraling = 0),
              (this._lastCount = i),
              this.updateRender(this._deltaTime / e);
            }
          },
          updateLogic(t) {
            this._paused || this.pendingStep
              ? (this.scale.pauseUpdate(),
              this.state.pauseUpdate(),
              this.debug.preUpdate())
              : (this.stepping && (this.pendingStep = !0),
              this.scale.preUpdate(),
              this.debug.preUpdate(),
              this.camera.preUpdate(),
              this.physics.preUpdate(),
              this.state.preUpdate(t),
              this.plugins.preUpdate(t),
              this.stage.preUpdate(),
              this.state.update(),
              this.stage.update(),
              this.tweens.update(),
              this.sound.update(),
              this.input.update(),
              this.physics.update(),
              this.particles.update(),
              this.plugins.update(),
              this.stage.postUpdate(),
              this.plugins.postUpdate()),
            this.stage.updateTransform();
          },
          updateRender(t) {
            this.lockRender ||
                (this.state.preRender(t),
                this.renderType !== a.HEADLESS &&
                  (this.renderer.render(this.stage),
                  this.plugins.render(t),
                  this.state.render(t)),
                this.plugins.postRender(t));
          },
          enableStep() {
            (this.stepping = !0),
            (this.pendingStep = !1),
            (this.stepCount = 0);
          },
          disableStep() {
            (this.stepping = !1), (this.pendingStep = !1);
          },
          step() {
            (this.pendingStep = !1), this.stepCount++;
          },
          destroy() {
            this.raf.stop(),
            this.state.destroy(),
            this.sound.destroy(),
            this.scale.destroy(),
            this.stage.destroy(),
            this.input.destroy(),
            this.physics.destroy(),
            this.plugins.destroy(),
            (this.state = null),
            (this.sound = null),
            (this.scale = null),
            (this.stage = null),
            (this.input = null),
            (this.physics = null),
            (this.plugins = null),
            (this.cache = null),
            (this.load = null),
            (this.time = null),
            (this.world = null),
            (this.isBooted = !1),
            this.renderer.destroy(!1),
            a.Canvas.removeFromDOM(this.canvas),
            (PIXI.defaultRenderer = null),
            (a.GAMES[this.id] = null);
          },
          gamePaused(t) {
            this._paused ||
                ((this._paused = !0),
                this.time.gamePaused(),
                this.sound.muteOnPause && this.sound.setMute(),
                this.onPause.dispatch(t),
                this.device.cordova &&
                  this.device.iOS &&
                  (this.lockRender = !0));
          },
          gameResumed(t) {
            this._paused &&
                !this._codePaused &&
                ((this._paused = !1),
                this.time.gameResumed(),
                this.input.reset(),
                this.sound.muteOnPause && this.sound.unsetMute(),
                this.onResume.dispatch(t),
                this.device.cordova &&
                  this.device.iOS &&
                  (this.lockRender = !1));
          },
          focusLoss(t) {
            this.onBlur.dispatch(t),
            this.stage.disableVisibilityChange || this.gamePaused(t);
          },
          focusGain(t) {
            this.onFocus.dispatch(t),
            this.stage.disableVisibilityChange || this.gameResumed(t);
          },
        }),
        (a.Game.prototype.constructor = a.Game),
        Object.defineProperty(a.Game.prototype, 'paused', {
          get() {
            return this._paused;
          },
          set(t) {
            !0 === t
              ? (!1 === this._paused &&
                    ((this._paused = !0),
                    this.sound.setMute(),
                    this.time.gamePaused(),
                    this.onPause.dispatch(this)),
              (this._codePaused = !0))
              : (this._paused &&
                    ((this._paused = !1),
                    this.input.reset(),
                    this.sound.unsetMute(),
                    this.time.gameResumed(),
                    this.onResume.dispatch(this)),
              (this._codePaused = !1));
          },
        }),
        (a.Input = function (t) {
          (this.game = t),
          (this.hitCanvas = null),
          (this.hitContext = null),
          (this.moveCallbacks = []),
          (this.customCandidateHandler = null),
          (this.customCandidateHandlerContext = null),
          (this.pollRate = 0),
          (this.enabled = !0),
          (this.multiInputOverride = a.Input.MOUSE_TOUCH_COMBINE),
          (this.position = null),
          (this.speed = null),
          (this.circle = null),
          (this.scale = null),
          (this.maxPointers = -1),
          (this.tapRate = 200),
          (this.doubleTapRate = 300),
          (this.holdRate = 2e3),
          (this.justPressedRate = 200),
          (this.justReleasedRate = 200),
          (this.recordPointerHistory = !1),
          (this.recordRate = 100),
          (this.recordLimit = 100),
          (this.pointer1 = null),
          (this.pointer2 = null),
          (this.pointer3 = null),
          (this.pointer4 = null),
          (this.pointer5 = null),
          (this.pointer6 = null),
          (this.pointer7 = null),
          (this.pointer8 = null),
          (this.pointer9 = null),
          (this.pointer10 = null),
          (this.pointers = []),
          (this.activePointer = null),
          (this.mousePointer = null),
          (this.mouse = null),
          (this.keyboard = null),
          (this.touch = null),
          (this.mspointer = null),
          (this.gamepad = null),
          (this.resetLocked = !1),
          (this.onDown = null),
          (this.onUp = null),
          (this.onTap = null),
          (this.onHold = null),
          (this.minPriorityID = 0),
          (this.interactiveItems = new a.ArraySet()),
          (this._localPoint = new a.Point()),
          (this._pollCounter = 0),
          (this._oldPosition = null),
          (this._x = 0),
          (this._y = 0);
        }),
        (a.Input.MOUSE_OVERRIDES_TOUCH = 0),
        (a.Input.TOUCH_OVERRIDES_MOUSE = 1),
        (a.Input.MOUSE_TOUCH_COMBINE = 2),
        (a.Input.MAX_POINTERS = 10),
        (a.Input.prototype = {
          boot() {
            (this.mousePointer = new a.Pointer(
              this.game,
              0,
              a.PointerMode.CURSOR,
            )),
            this.addPointer(),
            this.addPointer(),
            (this.mouse = new a.Mouse(this.game)),
            (this.touch = new a.Touch(this.game)),
            (this.mspointer = new a.MSPointer(this.game)),
            a.Keyboard && (this.keyboard = new a.Keyboard(this.game)),
            a.Gamepad && (this.gamepad = new a.Gamepad(this.game)),
            (this.onDown = new a.Signal()),
            (this.onUp = new a.Signal()),
            (this.onTap = new a.Signal()),
            (this.onHold = new a.Signal()),
            (this.scale = new a.Point(1, 1)),
            (this.speed = new a.Point()),
            (this.position = new a.Point()),
            (this._oldPosition = new a.Point()),
            (this.circle = new a.Circle(0, 0, 44)),
            (this.activePointer = this.mousePointer),
            (this.hitCanvas = PIXI.CanvasPool.create(this, 1, 1)),
            (this.hitContext = this.hitCanvas.getContext('2d')),
            this.mouse.start(),
            this.touch.start(),
            this.mspointer.start(),
            (this.mousePointer.active = !0),
            this.keyboard && this.keyboard.start();
            const t = this;
            (this._onClickTrampoline = function (e) {
              t.onClickTrampoline(e);
            }),
            this.game.canvas.addEventListener(
              'click',
              this._onClickTrampoline,
              !1,
            );
          },
          destroy() {
            this.mouse.stop(),
            this.touch.stop(),
            this.mspointer.stop(),
            this.keyboard && this.keyboard.stop(),
            this.gamepad && this.gamepad.stop(),
            (this.moveCallbacks = []),
            PIXI.CanvasPool.remove(this),
            this.game.canvas.removeEventListener(
              'click',
              this._onClickTrampoline,
            );
          },
          setInteractiveCandidateHandler(t, e) {
            (this.customCandidateHandler = t),
            (this.customCandidateHandlerContext = e);
          },
          addMoveCallback(t, e) {
            this.moveCallbacks.push({ callback: t, context: e });
          },
          deleteMoveCallback(t, e) {
            for (let i = this.moveCallbacks.length; i--;) {
              if (
                this.moveCallbacks[i].callback === t &&
                  this.moveCallbacks[i].context === e
              ) { return void this.moveCallbacks.splice(i, 1); }
            }
          },
          addPointer() {
            if (this.pointers.length >= a.Input.MAX_POINTERS) {
              return (
                console.warn(`Phaser.Input.addPointer: Maximum limit of ${
                  a.Input.MAX_POINTERS
                } pointers reached.`),
                null
              );
            }
            let t = this.pointers.length + 1,
              e = new a.Pointer(this.game, t, a.PointerMode.TOUCH);
            return this.pointers.push(e), (this[`pointer${t}`] = e), e;
          },
          update() {
            if (
              (this.keyboard && this.keyboard.update(),
              this.pollRate > 0 && this._pollCounter < this.pollRate)
            ) { return void this._pollCounter++; }
            (this.speed.x = this.position.x - this._oldPosition.x),
            (this.speed.y = this.position.y - this._oldPosition.y),
            this._oldPosition.copyFrom(this.position),
            this.mousePointer.update(),
            this.gamepad && this.gamepad.active && this.gamepad.update();
            for (let t = 0; t < this.pointers.length; t++) { this.pointers[t].update(); }
            this._pollCounter = 0;
          },
          reset(t) {
            if (this.game.isBooted && !this.resetLocked) {
              void 0 === t && (t = !1),
              this.mousePointer.reset(),
              this.keyboard && this.keyboard.reset(t),
              this.gamepad && this.gamepad.reset();
              for (let e = 0; e < this.pointers.length; e++) { this.pointers[e].reset(); }
              this.game.canvas.style.cursor !== 'none' &&
                  (this.game.canvas.style.cursor = 'inherit'),
              t &&
                    (this.onDown.dispose(),
                    this.onUp.dispose(),
                    this.onTap.dispose(),
                    this.onHold.dispose(),
                    (this.onDown = new a.Signal()),
                    (this.onUp = new a.Signal()),
                    (this.onTap = new a.Signal()),
                    (this.onHold = new a.Signal()),
                    (this.moveCallbacks = [])),
              (this._pollCounter = 0);
            }
          },
          resetSpeed(t, e) {
            this._oldPosition.setTo(t, e), this.speed.setTo(0, 0);
          },
          startPointer(t) {
            if (
              this.maxPointers >= 0 &&
                this.countActivePointers(this.maxPointers) >= this.maxPointers
            ) { return null; }
            if (!this.pointer1.active) return this.pointer1.start(t);
            if (!this.pointer2.active) return this.pointer2.start(t);
            for (let e = 2; e < this.pointers.length; e++) {
              const i = this.pointers[e];
              if (!i.active) return i.start(t);
            }
            return null;
          },
          updatePointer(t) {
            if (
              this.pointer1.active &&
                this.pointer1.identifier === t.identifier
            ) { return this.pointer1.move(t); }
            if (
              this.pointer2.active &&
                this.pointer2.identifier === t.identifier
            ) { return this.pointer2.move(t); }
            for (let e = 2; e < this.pointers.length; e++) {
              const i = this.pointers[e];
              if (i.active && i.identifier === t.identifier) return i.move(t);
            }
            return null;
          },
          stopPointer(t) {
            if (
              this.pointer1.active &&
                this.pointer1.identifier === t.identifier
            ) { return this.pointer1.stop(t); }
            if (
              this.pointer2.active &&
                this.pointer2.identifier === t.identifier
            ) { return this.pointer2.stop(t); }
            for (let e = 2; e < this.pointers.length; e++) {
              const i = this.pointers[e];
              if (i.active && i.identifier === t.identifier) return i.stop(t);
            }
            return null;
          },
          countActivePointers(t) {
            void 0 === t && (t = this.pointers.length);
            for (var e = t, i = 0; i < this.pointers.length && e > 0; i++) { this.pointers[i].active && e--; }
            return t - e;
          },
          getPointer(t) {
            void 0 === t && (t = !1);
            for (let e = 0; e < this.pointers.length; e++) {
              const i = this.pointers[e];
              if (i.active === t) return i;
            }
            return null;
          },
          getPointerFromIdentifier(t) {
            for (let e = 0; e < this.pointers.length; e++) {
              const i = this.pointers[e];
              if (i.identifier === t) return i;
            }
            return null;
          },
          getPointerFromId(t) {
            for (let e = 0; e < this.pointers.length; e++) {
              const i = this.pointers[e];
              if (i.pointerId === t) return i;
            }
            return null;
          },
          getLocalPosition(t, e, i) {
            void 0 === i && (i = new a.Point());
            let n = t.worldTransform,
              r = 1 / (n.a * n.d + n.c * -n.b);
            return i.setTo(
              n.d * r * e.x + -n.c * r * e.y + (n.ty * n.c - n.tx * n.d) * r,
              n.a * r * e.y + -n.b * r * e.x + (-n.ty * n.a + n.tx * n.b) * r,
            );
          },
          hitTest(t, e, i) {
            if (!t.worldVisible) return !1;
            if (
              (this.getLocalPosition(t, e, this._localPoint),
              i.copyFrom(this._localPoint),
              t.hitArea && t.hitArea.contains)
            ) {
              return t.hitArea.contains(
                this._localPoint.x,
                this._localPoint.y,
              );
            }
            if (t instanceof a.TileSprite) {
              var n = t.width,
                r = t.height,
                o = -n * t.anchor.x;
              if (this._localPoint.x >= o && this._localPoint.x < o + n) {
                var s = -r * t.anchor.y;
                if (this._localPoint.y >= s && this._localPoint.y < s + r) { return !0; }
              }
            } else if (t instanceof PIXI.Sprite) {
              var n = t.texture.frame.width,
                r = t.texture.frame.height,
                o = -n * t.anchor.x;
              if (this._localPoint.x >= o && this._localPoint.x < o + n) {
                var s = -r * t.anchor.y;
                if (this._localPoint.y >= s && this._localPoint.y < s + r) { return !0; }
              }
            } else if (t instanceof a.Graphics) {
              for (var u = 0; u < t.graphicsData.length; u++) {
                const l = t.graphicsData[u];
                if (
                  l.fill &&
                    l.shape &&
                    l.shape.contains(this._localPoint.x, this._localPoint.y)
                ) { return !0; }
              }
            }
            for (var u = 0; u < t.children.length; u++) { if (this.hitTest(t.children[u], e, i)) return !0; }
            return !1;
          },
          onClickTrampoline() {
            this.activePointer.processClickTrampolines();
          },
        }),
        (a.Input.prototype.constructor = a.Input),
        Object.defineProperty(a.Input.prototype, 'x', {
          get() {
            return this._x;
          },
          set(t) {
            this._x = Math.floor(t);
          },
        }),
        Object.defineProperty(a.Input.prototype, 'y', {
          get() {
            return this._y;
          },
          set(t) {
            this._y = Math.floor(t);
          },
        }),
        Object.defineProperty(a.Input.prototype, 'pollLocked', {
          get() {
            return this.pollRate > 0 && this._pollCounter < this.pollRate;
          },
        }),
        Object.defineProperty(a.Input.prototype, 'totalInactivePointers', {
          get() {
            return this.pointers.length - this.countActivePointers();
          },
        }),
        Object.defineProperty(a.Input.prototype, 'totalActivePointers', {
          get() {
            return this.countActivePointers();
          },
        }),
        Object.defineProperty(a.Input.prototype, 'worldX', {
          get() {
            return this.game.camera.view.x + this.x;
          },
        }),
        Object.defineProperty(a.Input.prototype, 'worldY', {
          get() {
            return this.game.camera.view.y + this.y;
          },
        }),
        (a.Mouse = function (t) {
          (this.game = t),
          (this.input = t.input),
          (this.callbackContext = this.game),
          (this.mouseDownCallback = null),
          (this.mouseUpCallback = null),
          (this.mouseOutCallback = null),
          (this.mouseOverCallback = null),
          (this.mouseWheelCallback = null),
          (this.capture = !1),
          (this.button = -1),
          (this.wheelDelta = 0),
          (this.enabled = !0),
          (this.locked = !1),
          (this.stopOnGameOut = !1),
          (this.pointerLock = new a.Signal()),
          (this.event = null),
          (this._onMouseDown = null),
          (this._onMouseMove = null),
          (this._onMouseUp = null),
          (this._onMouseOut = null),
          (this._onMouseOver = null),
          (this._onMouseWheel = null),
          (this._wheelEvent = null);
        }),
        (a.Mouse.NO_BUTTON = -1),
        (a.Mouse.LEFT_BUTTON = 0),
        (a.Mouse.MIDDLE_BUTTON = 1),
        (a.Mouse.RIGHT_BUTTON = 2),
        (a.Mouse.BACK_BUTTON = 3),
        (a.Mouse.FORWARD_BUTTON = 4),
        (a.Mouse.WHEEL_UP = 1),
        (a.Mouse.WHEEL_DOWN = -1),
        (a.Mouse.prototype = {
          start() {
            if (
              (!this.game.device.android || !1 !== this.game.device.chrome) &&
                this._onMouseDown === null
            ) {
              const t = this;
              (this._onMouseDown = function (e) {
                return t.onMouseDown(e);
              }),
              (this._onMouseMove = function (e) {
                return t.onMouseMove(e);
              }),
              (this._onMouseUp = function (e) {
                return t.onMouseUp(e);
              }),
              (this._onMouseUpGlobal = function (e) {
                return t.onMouseUpGlobal(e);
              }),
              (this._onMouseOutGlobal = function (e) {
                return t.onMouseOutGlobal(e);
              }),
              (this._onMouseOut = function (e) {
                return t.onMouseOut(e);
              }),
              (this._onMouseOver = function (e) {
                return t.onMouseOver(e);
              }),
              (this._onMouseWheel = function (e) {
                return t.onMouseWheel(e);
              });
              const e = this.game.canvas;
              e.addEventListener('mousedown', this._onMouseDown, !0),
              e.addEventListener('mousemove', this._onMouseMove, !0),
              e.addEventListener('mouseup', this._onMouseUp, !0),
              this.game.device.cocoonJS ||
                    (window.addEventListener(
                      'mouseup',
                      this._onMouseUpGlobal,
                      !0,
                    ),
                    window.addEventListener(
                      'mouseout',
                      this._onMouseOutGlobal,
                      !0,
                    ),
                    e.addEventListener('mouseover', this._onMouseOver, !0),
                    e.addEventListener('mouseout', this._onMouseOut, !0));
              const i = this.game.device.wheelEvent;
              i &&
                  (e.addEventListener(i, this._onMouseWheel, !0),
                  i === 'mousewheel'
                    ? (this._wheelEvent = new r(-0.025, 1))
                    : i === 'DOMMouseScroll' &&
                      (this._wheelEvent = new r(1, 1)));
            }
          },
          onMouseDown(t) {
            (this.event = t),
            this.capture && t.preventDefault(),
            this.mouseDownCallback &&
                  this.mouseDownCallback.call(this.callbackContext, t),
            this.input.enabled &&
                  this.enabled &&
                  ((t.identifier = 0), this.input.mousePointer.start(t));
          },
          onMouseMove(t) {
            (this.event = t),
            this.capture && t.preventDefault(),
            this.mouseMoveCallback &&
                  this.mouseMoveCallback.call(this.callbackContext, t),
            this.input.enabled &&
                  this.enabled &&
                  ((t.identifier = 0), this.input.mousePointer.move(t));
          },
          onMouseUp(t) {
            (this.event = t),
            this.capture && t.preventDefault(),
            this.mouseUpCallback &&
                  this.mouseUpCallback.call(this.callbackContext, t),
            this.input.enabled &&
                  this.enabled &&
                  ((t.identifier = 0), this.input.mousePointer.stop(t));
          },
          onMouseUpGlobal(t) {
            this.input.mousePointer.withinGame ||
                (this.mouseUpCallback &&
                  this.mouseUpCallback.call(this.callbackContext, t),
                (t.identifier = 0),
                this.input.mousePointer.stop(t));
          },
          onMouseOutGlobal(t) {
            (this.event = t),
            this.capture && t.preventDefault(),
            (this.input.mousePointer.withinGame = !1),
            this.input.enabled &&
                  this.enabled &&
                  (this.input.mousePointer.stop(t),
                  this.input.mousePointer.leftButton.stop(t),
                  this.input.mousePointer.rightButton.stop(t));
          },
          onMouseOut(t) {
            (this.event = t),
            this.capture && t.preventDefault(),
            (this.input.mousePointer.withinGame = !1),
            this.mouseOutCallback &&
                  this.mouseOutCallback.call(this.callbackContext, t),
            this.input.enabled &&
                  this.enabled &&
                  this.stopOnGameOut &&
                  ((t.identifier = 0), this.input.mousePointer.stop(t));
          },
          onMouseOver(t) {
            (this.event = t),
            this.capture && t.preventDefault(),
            (this.input.mousePointer.withinGame = !0),
            this.mouseOverCallback &&
                  this.mouseOverCallback.call(this.callbackContext, t);
          },
          onMouseWheel(t) {
            this._wheelEvent && (t = this._wheelEvent.bindEvent(t)),
            (this.event = t),
            this.capture && t.preventDefault(),
            (this.wheelDelta = a.Math.clamp(-t.deltaY, -1, 1)),
            this.mouseWheelCallback &&
                  this.mouseWheelCallback.call(this.callbackContext, t);
          },
          requestPointerLock() {
            if (this.game.device.pointerLock) {
              const t = this.game.canvas;
              (t.requestPointerLock =
                  t.requestPointerLock ||
                  t.mozRequestPointerLock ||
                  t.webkitRequestPointerLock),
              t.requestPointerLock();
              const e = this;
              (this._pointerLockChange = function (t) {
                return e.pointerLockChange(t);
              }),
              document.addEventListener(
                'pointerlockchange',
                this._pointerLockChange,
                !0,
              ),
              document.addEventListener(
                'mozpointerlockchange',
                this._pointerLockChange,
                !0,
              ),
              document.addEventListener(
                'webkitpointerlockchange',
                this._pointerLockChange,
                !0,
              );
            }
          },
          pointerLockChange(t) {
            const e = this.game.canvas;
            document.pointerLockElement === e ||
              document.mozPointerLockElement === e ||
              document.webkitPointerLockElement === e
              ? ((this.locked = !0), this.pointerLock.dispatch(!0, t))
              : ((this.locked = !1), this.pointerLock.dispatch(!1, t));
          },
          releasePointerLock() {
            (document.exitPointerLock =
                document.exitPointerLock ||
                document.mozExitPointerLock ||
                document.webkitExitPointerLock),
            document.exitPointerLock(),
            document.removeEventListener(
              'pointerlockchange',
              this._pointerLockChange,
              !0,
            ),
            document.removeEventListener(
              'mozpointerlockchange',
              this._pointerLockChange,
              !0,
            ),
            document.removeEventListener(
              'webkitpointerlockchange',
              this._pointerLockChange,
              !0,
            );
          },
          stop() {
            const t = this.game.canvas;
            t.removeEventListener('mousedown', this._onMouseDown, !0),
            t.removeEventListener('mousemove', this._onMouseMove, !0),
            t.removeEventListener('mouseup', this._onMouseUp, !0),
            t.removeEventListener('mouseover', this._onMouseOver, !0),
            t.removeEventListener('mouseout', this._onMouseOut, !0);
            const e = this.game.device.wheelEvent;
            e && t.removeEventListener(e, this._onMouseWheel, !0),
            window.removeEventListener(
              'mouseup',
              this._onMouseUpGlobal,
              !0,
            ),
            window.removeEventListener(
              'mouseout',
              this._onMouseOutGlobal,
              !0,
            ),
            document.removeEventListener(
              'pointerlockchange',
              this._pointerLockChange,
              !0,
            ),
            document.removeEventListener(
              'mozpointerlockchange',
              this._pointerLockChange,
              !0,
            ),
            document.removeEventListener(
              'webkitpointerlockchange',
              this._pointerLockChange,
              !0,
            );
          },
        }),
        (a.Mouse.prototype.constructor = a.Mouse),
        (r.prototype = {}),
        (r.prototype.constructor = r),
        (r.prototype.bindEvent = function (t) {
          if (!r._stubsGenerated && t) {
            for (const e in t) {
              e in r.prototype ||
                  Object.defineProperty(r.prototype, e, {
                    get: (function (t) {
                      return function () {
                        const e = this.originalEvent[t];
                        return typeof e !== 'function'
                          ? e
                          : e.bind(this.originalEvent);
                      };
                    }(e)),
                  });
            }
            r._stubsGenerated = !0;
          }
          return (this.originalEvent = t), this;
        }),
        Object.defineProperties(r.prototype, {
          type: { value: 'wheel' },
          deltaMode: {
            get() {
              return this._deltaMode;
            },
          },
          deltaY: {
            get() {
              return (
                this._scaleFactor *
                    (this.originalEvent.wheelDelta ||
                      this.originalEvent.detail) || 0
              );
            },
          },
          deltaX: {
            get() {
              return this._scaleFactor * this.originalEvent.wheelDeltaX || 0;
            },
          },
          deltaZ: { value: 0 },
        }),
        (a.MSPointer = function (t) {
          (this.game = t),
          (this.input = t.input),
          (this.callbackContext = this.game),
          (this.pointerDownCallback = null),
          (this.pointerMoveCallback = null),
          (this.pointerUpCallback = null),
          (this.capture = !0),
          (this.button = -1),
          (this.event = null),
          (this.enabled = !0),
          (this._onMSPointerDown = null),
          (this._onMSPointerMove = null),
          (this._onMSPointerUp = null),
          (this._onMSPointerUpGlobal = null),
          (this._onMSPointerOut = null),
          (this._onMSPointerOver = null);
        }),
        (a.MSPointer.prototype = {
          start() {
            if (this._onMSPointerDown === null) {
              const t = this;
              if (this.game.device.mspointer) {
                (this._onMSPointerDown = function (e) {
                  return t.onPointerDown(e);
                }),
                (this._onMSPointerMove = function (e) {
                  return t.onPointerMove(e);
                }),
                (this._onMSPointerUp = function (e) {
                  return t.onPointerUp(e);
                }),
                (this._onMSPointerUpGlobal = function (e) {
                  return t.onPointerUpGlobal(e);
                }),
                (this._onMSPointerOut = function (e) {
                  return t.onPointerOut(e);
                }),
                (this._onMSPointerOver = function (e) {
                  return t.onPointerOver(e);
                });
                const e = this.game.canvas;
                e.addEventListener(
                  'MSPointerDown',
                  this._onMSPointerDown,
                  !1,
                ),
                e.addEventListener(
                  'MSPointerMove',
                  this._onMSPointerMove,
                  !1,
                ),
                e.addEventListener('MSPointerUp', this._onMSPointerUp, !1),
                e.addEventListener(
                  'pointerdown',
                  this._onMSPointerDown,
                  !1,
                ),
                e.addEventListener(
                  'pointermove',
                  this._onMSPointerMove,
                  !1,
                ),
                e.addEventListener('pointerup', this._onMSPointerUp, !1),
                (e.style['-ms-content-zooming'] = 'none'),
                (e.style['-ms-touch-action'] = 'none'),
                this.game.device.cocoonJS ||
                      (window.addEventListener(
                        'MSPointerUp',
                        this._onMSPointerUpGlobal,
                        !0,
                      ),
                      e.addEventListener(
                        'MSPointerOver',
                        this._onMSPointerOver,
                        !0,
                      ),
                      e.addEventListener(
                        'MSPointerOut',
                        this._onMSPointerOut,
                        !0,
                      ),
                      window.addEventListener(
                        'pointerup',
                        this._onMSPointerUpGlobal,
                        !0,
                      ),
                      e.addEventListener(
                        'pointerover',
                        this._onMSPointerOver,
                        !0,
                      ),
                      e.addEventListener(
                        'pointerout',
                        this._onMSPointerOut,
                        !0,
                      ));
              }
            }
          },
          onPointerDown(t) {
            (this.event = t),
            this.capture && t.preventDefault(),
            this.pointerDownCallback &&
                  this.pointerDownCallback.call(this.callbackContext, t),
            this.input.enabled &&
                  this.enabled &&
                  ((t.identifier = t.pointerId),
                  t.pointerType === 'mouse' || t.pointerType === 4
                    ? this.input.mousePointer.start(t)
                    : this.input.startPointer(t));
          },
          onPointerMove(t) {
            (this.event = t),
            this.capture && t.preventDefault(),
            this.pointerMoveCallback &&
                  this.pointerMoveCallback.call(this.callbackContext, t),
            this.input.enabled &&
                  this.enabled &&
                  ((t.identifier = t.pointerId),
                  t.pointerType === 'mouse' || t.pointerType === 4
                    ? this.input.mousePointer.move(t)
                    : this.input.updatePointer(t));
          },
          onPointerUp(t) {
            (this.event = t),
            this.capture && t.preventDefault(),
            this.pointerUpCallback &&
                  this.pointerUpCallback.call(this.callbackContext, t),
            this.input.enabled &&
                  this.enabled &&
                  ((t.identifier = t.pointerId),
                  t.pointerType === 'mouse' || t.pointerType === 4
                    ? this.input.mousePointer.stop(t)
                    : this.input.stopPointer(t));
          },
          onPointerUpGlobal(t) {
            if (
              (t.pointerType !== 'mouse' && t.pointerType !== 4) ||
                this.input.mousePointer.withinGame
            ) {
              const e = this.input.getPointerFromIdentifier(t.identifier);
              e && e.withinGame && this.onPointerUp(t);
            } else this.onPointerUp(t);
          },
          onPointerOut(t) {
            if (
              ((this.event = t),
              this.capture && t.preventDefault(),
              t.pointerType === 'mouse' || t.pointerType === 4)
            ) { this.input.mousePointer.withinGame = !1; } else {
              var e = this.input.getPointerFromIdentifier(t.identifier);
              e && (e.withinGame = !1);
            }
            this.input.mouse.mouseOutCallback &&
                this.input.mouse.mouseOutCallback.call(
                  this.input.mouse.callbackContext,
                  t,
                ),
            this.input.enabled &&
                  this.enabled &&
                  this.input.mouse.stopOnGameOut &&
                  ((t.identifier = 0),
                  e ? e.stop(t) : this.input.mousePointer.stop(t));
          },
          onPointerOver(t) {
            if (
              ((this.event = t),
              this.capture && t.preventDefault(),
              t.pointerType === 'mouse' || t.pointerType === 4)
            ) { this.input.mousePointer.withinGame = !0; } else {
              const e = this.input.getPointerFromIdentifier(t.identifier);
              e && (e.withinGame = !0);
            }
            this.input.mouse.mouseOverCallback &&
                this.input.mouse.mouseOverCallback.call(
                  this.input.mouse.callbackContext,
                  t,
                );
          },
          stop() {
            const t = this.game.canvas;
            t.removeEventListener('MSPointerDown', this._onMSPointerDown, !1),
            t.removeEventListener(
              'MSPointerMove',
              this._onMSPointerMove,
              !1,
            ),
            t.removeEventListener('MSPointerUp', this._onMSPointerUp, !1),
            t.removeEventListener('pointerdown', this._onMSPointerDown, !1),
            t.removeEventListener('pointermove', this._onMSPointerMove, !1),
            t.removeEventListener('pointerup', this._onMSPointerUp, !1),
            window.removeEventListener(
              'MSPointerUp',
              this._onMSPointerUpGlobal,
              !0,
            ),
            t.removeEventListener(
              'MSPointerOver',
              this._onMSPointerOver,
              !0,
            ),
            t.removeEventListener('MSPointerOut', this._onMSPointerOut, !0),
            window.removeEventListener(
              'pointerup',
              this._onMSPointerUpGlobal,
              !0,
            ),
            t.removeEventListener('pointerover', this._onMSPointerOver, !0),
            t.removeEventListener('pointerout', this._onMSPointerOut, !0);
          },
        }),
        (a.MSPointer.prototype.constructor = a.MSPointer),
        (a.DeviceButton = function (t, e) {
          (this.parent = t),
          (this.game = t.game),
          (this.event = null),
          (this.isDown = !1),
          (this.isUp = !0),
          (this.timeDown = 0),
          (this.timeUp = 0),
          (this.repeats = 0),
          (this.altKey = !1),
          (this.shiftKey = !1),
          (this.ctrlKey = !1),
          (this.value = 0),
          (this.buttonCode = e),
          (this.onDown = new a.Signal()),
          (this.onUp = new a.Signal()),
          (this.onFloat = new a.Signal());
        }),
        (a.DeviceButton.prototype = {
          start(t, e) {
            this.isDown ||
                ((this.isDown = !0),
                (this.isUp = !1),
                (this.timeDown = this.game.time.time),
                (this.repeats = 0),
                (this.event = t),
                (this.value = e),
                t &&
                  ((this.altKey = t.altKey),
                  (this.shiftKey = t.shiftKey),
                  (this.ctrlKey = t.ctrlKey)),
                this.onDown.dispatch(this, e));
          },
          stop(t, e) {
            this.isUp ||
                ((this.isDown = !1),
                (this.isUp = !0),
                (this.timeUp = this.game.time.time),
                (this.event = t),
                (this.value = e),
                t &&
                  ((this.altKey = t.altKey),
                  (this.shiftKey = t.shiftKey),
                  (this.ctrlKey = t.ctrlKey)),
                this.onUp.dispatch(this, e));
          },
          padFloat(t) {
            (this.value = t), this.onFloat.dispatch(this, t);
          },
          justPressed(t) {
            return (
              (t = t || 250),
              this.isDown && this.timeDown + t > this.game.time.time
            );
          },
          justReleased(t) {
            return (
              (t = t || 250),
              this.isUp && this.timeUp + t > this.game.time.time
            );
          },
          reset() {
            (this.isDown = !1),
            (this.isUp = !0),
            (this.timeDown = this.game.time.time),
            (this.repeats = 0),
            (this.altKey = !1),
            (this.shiftKey = !1),
            (this.ctrlKey = !1);
          },
          destroy() {
            this.onDown.dispose(),
            this.onUp.dispose(),
            this.onFloat.dispose(),
            (this.parent = null),
            (this.game = null);
          },
        }),
        (a.DeviceButton.prototype.constructor = a.DeviceButton),
        Object.defineProperty(a.DeviceButton.prototype, 'duration', {
          get() {
            return this.isUp ? -1 : this.game.time.time - this.timeDown;
          },
        }),
        (a.Pointer = function (t, e, i) {
          (this.game = t),
          (this.id = e),
          (this.type = a.POINTER),
          (this.exists = !0),
          (this.identifier = 0),
          (this.pointerId = null),
          (this.pointerMode =
                i || a.PointerMode.CURSOR | a.PointerMode.CONTACT),
          (this.target = null),
          (this.button = null),
          (this.leftButton = new a.DeviceButton(
            this,
            a.Pointer.LEFT_BUTTON,
          )),
          (this.middleButton = new a.DeviceButton(
            this,
            a.Pointer.MIDDLE_BUTTON,
          )),
          (this.rightButton = new a.DeviceButton(
            this,
            a.Pointer.RIGHT_BUTTON,
          )),
          (this.backButton = new a.DeviceButton(
            this,
            a.Pointer.BACK_BUTTON,
          )),
          (this.forwardButton = new a.DeviceButton(
            this,
            a.Pointer.FORWARD_BUTTON,
          )),
          (this.eraserButton = new a.DeviceButton(
            this,
            a.Pointer.ERASER_BUTTON,
          )),
          (this._holdSent = !1),
          (this._history = []),
          (this._nextDrop = 0),
          (this._stateReset = !1),
          (this.withinGame = !1),
          (this.clientX = -1),
          (this.clientY = -1),
          (this.pageX = -1),
          (this.pageY = -1),
          (this.screenX = -1),
          (this.screenY = -1),
          (this.rawMovementX = 0),
          (this.rawMovementY = 0),
          (this.movementX = 0),
          (this.movementY = 0),
          (this.x = -1),
          (this.y = -1),
          (this.isMouse = e === 0),
          (this.isDown = !1),
          (this.isUp = !0),
          (this.timeDown = 0),
          (this.timeUp = 0),
          (this.previousTapTime = 0),
          (this.totalTouches = 0),
          (this.msSinceLastClick = Number.MAX_VALUE),
          (this.targetObject = null),
          (this.interactiveCandidates = []),
          (this.active = !1),
          (this.dirty = !1),
          (this.position = new a.Point()),
          (this.positionDown = new a.Point()),
          (this.positionUp = new a.Point()),
          (this.circle = new a.Circle(0, 0, 44)),
          (this._clickTrampolines = null),
          (this._trampolineTargetObject = null);
        }),
        (a.Pointer.NO_BUTTON = 0),
        (a.Pointer.LEFT_BUTTON = 1),
        (a.Pointer.RIGHT_BUTTON = 2),
        (a.Pointer.MIDDLE_BUTTON = 4),
        (a.Pointer.BACK_BUTTON = 8),
        (a.Pointer.FORWARD_BUTTON = 16),
        (a.Pointer.ERASER_BUTTON = 32),
        (a.Pointer.prototype = {
          resetButtons() {
            (this.isDown = !1),
            (this.isUp = !0),
            this.isMouse &&
                  (this.leftButton.reset(),
                  this.middleButton.reset(),
                  this.rightButton.reset(),
                  this.backButton.reset(),
                  this.forwardButton.reset(),
                  this.eraserButton.reset());
          },
          processButtonsDown(t, e) {
            a.Pointer.LEFT_BUTTON & t && this.leftButton.start(e),
            a.Pointer.RIGHT_BUTTON & t && this.rightButton.start(e),
            a.Pointer.MIDDLE_BUTTON & t && this.middleButton.start(e),
            a.Pointer.BACK_BUTTON & t && this.backButton.start(e),
            a.Pointer.FORWARD_BUTTON & t && this.forwardButton.start(e),
            a.Pointer.ERASER_BUTTON & t && this.eraserButton.start(e);
          },
          processButtonsUp(t, e) {
            t === a.Mouse.LEFT_BUTTON && this.leftButton.stop(e),
            t === a.Mouse.RIGHT_BUTTON && this.rightButton.stop(e),
            t === a.Mouse.MIDDLE_BUTTON && this.middleButton.stop(e),
            t === a.Mouse.BACK_BUTTON && this.backButton.stop(e),
            t === a.Mouse.FORWARD_BUTTON && this.forwardButton.stop(e),
            t === 5 && this.eraserButton.stop(e);
          },
          updateButtons(t) {
            this.button = t.button;
            const e = t.type.toLowerCase().substr(-4) === 'down';
            void 0 !== t.buttons
              ? e
                ? this.processButtonsDown(t.buttons, t)
                : this.processButtonsUp(t.button, t)
              : e
                ? this.leftButton.start(t)
                : (this.leftButton.stop(t), this.rightButton.stop(t)),
            t.buttons === 1 &&
                  t.ctrlKey &&
                  this.leftButton.isDown &&
                  (this.leftButton.stop(t), this.rightButton.start(t)),
            (this.isUp = !0),
            (this.isDown = !1),
            (this.leftButton.isDown ||
                  this.rightButton.isDown ||
                  this.middleButton.isDown ||
                  this.backButton.isDown ||
                  this.forwardButton.isDown ||
                  this.eraserButton.isDown) &&
                  ((this.isUp = !1), (this.isDown = !0));
          },
          start(t) {
            const e = this.game.input;
            return (
              t.pointerId && (this.pointerId = t.pointerId),
              (this.identifier = t.identifier),
              (this.target = t.target),
              this.isMouse
                ? this.updateButtons(t)
                : ((this.isDown = !0), (this.isUp = !1)),
              (this.active = !0),
              (this.withinGame = !0),
              (this.dirty = !1),
              (this._history = []),
              (this._clickTrampolines = null),
              (this._trampolineTargetObject = null),
              (this.msSinceLastClick = this.game.time.time - this.timeDown),
              (this.timeDown = this.game.time.time),
              (this._holdSent = !1),
              this.move(t, !0),
              this.positionDown.setTo(this.x, this.y),
              (e.multiInputOverride === a.Input.MOUSE_OVERRIDES_TOUCH ||
                  e.multiInputOverride === a.Input.MOUSE_TOUCH_COMBINE ||
                  (e.multiInputOverride === a.Input.TOUCH_OVERRIDES_MOUSE &&
                    e.totalActivePointers === 0)) &&
                  ((e.x = this.x),
                  (e.y = this.y),
                  e.position.setTo(this.x, this.y),
                  e.onDown.dispatch(this, t),
                  e.resetSpeed(this.x, this.y)),
              (this._stateReset = !1),
              this.totalTouches++,
              this.targetObject !== null &&
                  this.targetObject._touchedHandler(this),
              this
            );
          },
          update() {
            const t = this.game.input;
            this.active &&
                (this.dirty &&
                  (t.interactiveItems.total > 0 &&
                    this.processInteractiveObjects(!1),
                  (this.dirty = !1)),
                !1 === this._holdSent &&
                  this.duration >= t.holdRate &&
                  ((t.multiInputOverride === a.Input.MOUSE_OVERRIDES_TOUCH ||
                    t.multiInputOverride === a.Input.MOUSE_TOUCH_COMBINE ||
                    (t.multiInputOverride === a.Input.TOUCH_OVERRIDES_MOUSE &&
                      t.totalActivePointers === 0)) &&
                    t.onHold.dispatch(this),
                  (this._holdSent = !0)),
                t.recordPointerHistory &&
                  this.game.time.time >= this._nextDrop &&
                  ((this._nextDrop = this.game.time.time + t.recordRate),
                  this._history.push({
                    x: this.position.x,
                    y: this.position.y,
                  }),
                  this._history.length > t.recordLimit &&
                    this._history.shift()));
          },
          move(t, e) {
            const i = this.game.input;
            if (!i.pollLocked) {
              if (
                (void 0 === e && (e = !1),
                void 0 !== t.button && (this.button = t.button),
                e && this.isMouse && this.updateButtons(t),
                (this.clientX = t.clientX),
                (this.clientY = t.clientY),
                (this.pageX = t.pageX),
                (this.pageY = t.pageY),
                (this.screenX = t.screenX),
                (this.screenY = t.screenY),
                this.isMouse &&
                    i.mouse.locked &&
                    !e &&
                    ((this.rawMovementX =
                      t.movementX || t.mozMovementX || t.webkitMovementX || 0),
                    (this.rawMovementY =
                      t.movementY || t.mozMovementY || t.webkitMovementY || 0),
                    (this.movementX += this.rawMovementX),
                    (this.movementY += this.rawMovementY)),
                (this.x =
                    (this.pageX - this.game.scale.offset.x) * i.scale.x),
                (this.y =
                    (this.pageY - this.game.scale.offset.y) * i.scale.y),
                this.position.setTo(this.x, this.y),
                (this.circle.x = this.x),
                (this.circle.y = this.y),
                (i.multiInputOverride === a.Input.MOUSE_OVERRIDES_TOUCH ||
                    i.multiInputOverride === a.Input.MOUSE_TOUCH_COMBINE ||
                    (i.multiInputOverride === a.Input.TOUCH_OVERRIDES_MOUSE &&
                      i.totalActivePointers === 0)) &&
                    ((i.activePointer = this),
                    (i.x = this.x),
                    (i.y = this.y),
                    i.position.setTo(i.x, i.y),
                    (i.circle.x = i.x),
                    (i.circle.y = i.y)),
                (this.withinGame = this.game.scale.bounds.contains(
                  this.pageX,
                  this.pageY,
                )),
                this.game.paused)
              ) { return this; }
              for (let n = i.moveCallbacks.length; n--;) {
                i.moveCallbacks[n].callback.call(
                  i.moveCallbacks[n].context,
                  this,
                  this.x,
                  this.y,
                  e,
                );
              }
              return (
                this.targetObject !== null &&
                  !0 === this.targetObject.isDragged
                  ? !1 === this.targetObject.update(this) &&
                      (this.targetObject = null)
                  : i.interactiveItems.total > 0 &&
                      this.processInteractiveObjects(e),
                this
              );
            }
          },
          processInteractiveObjects(t) {
            let e = 0,
              i = -1,
              n = null,
              r = this.game.input.interactiveItems.first;
            for (this.interactiveCandidates = []; r;) {
              (r.checked = !1),
              r.validForInput(i, e, !1) &&
                    ((r.checked = !0),
                    ((t && r.checkPointerDown(this, !0)) ||
                      (!t && r.checkPointerOver(this, !0))) &&
                      ((e = r.sprite.renderOrderID),
                      (i = r.priorityID),
                      (n = r),
                      this.interactiveCandidates.push(r))),
              (r = this.game.input.interactiveItems.next);
            }
            for (r = this.game.input.interactiveItems.first; r;) {
              !r.checked &&
                  r.validForInput(i, e, !0) &&
                  ((t && r.checkPointerDown(this, !1)) ||
                    (!t && r.checkPointerOver(this, !1))) &&
                  ((e = r.sprite.renderOrderID),
                  (i = r.priorityID),
                  (n = r),
                  this.interactiveCandidates.push(r)),
              (r = this.game.input.interactiveItems.next);
            }
            return (
              this.game.input.customCandidateHandler &&
                  (n = this.game.input.customCandidateHandler.call(
                    this.game.input.customCandidateHandlerContext,
                    this,
                    this.interactiveCandidates,
                    n,
                  )),
              this.swapTarget(n, !1),
              this.targetObject !== null
            );
          },
          swapTarget(t, e) {
            void 0 === e && (e = !1),
            t === null
              ? this.targetObject &&
                    (this.targetObject._pointerOutHandler(this, e),
                    (this.targetObject = null))
              : this.targetObject === null
                ? ((this.targetObject = t), t._pointerOverHandler(this, e))
                : this.targetObject === t
                  ? !1 === t.update(this) && (this.targetObject = null)
                  : (this.targetObject._pointerOutHandler(this, e),
                  (this.targetObject = t),
                  this.targetObject._pointerOverHandler(this, e));
          },
          leave(t) {
            (this.withinGame = !1), this.move(t, !1);
          },
          stop(t) {
            const e = this.game.input;
            return this._stateReset && this.withinGame
              ? void t.preventDefault()
              : ((this.timeUp = this.game.time.time),
              (e.multiInputOverride === a.Input.MOUSE_OVERRIDES_TOUCH ||
                    e.multiInputOverride === a.Input.MOUSE_TOUCH_COMBINE ||
                    (e.multiInputOverride === a.Input.TOUCH_OVERRIDES_MOUSE &&
                      e.totalActivePointers === 0)) &&
                    (e.onUp.dispatch(this, t),
                    this.duration >= 0 &&
                      this.duration <= e.tapRate &&
                      (this.timeUp - this.previousTapTime < e.doubleTapRate
                        ? e.onTap.dispatch(this, !0)
                        : e.onTap.dispatch(this, !1),
                      (this.previousTapTime = this.timeUp))),
              this.isMouse
                ? this.updateButtons(t)
                : ((this.isDown = !1), (this.isUp = !0)),
              this.id > 0 && (this.active = !1),
              (this.withinGame = this.game.scale.bounds.contains(
                t.pageX,
                t.pageY,
              )),
              (this.pointerId = null),
              (this.identifier = null),
              this.positionUp.setTo(this.x, this.y),
              !1 === this.isMouse && e.currentPointers--,
              e.interactiveItems.callAll('_releasedHandler', this),
              this._clickTrampolines &&
                    (this._trampolineTargetObject = this.targetObject),
              (this.targetObject = null),
              this);
          },
          justPressed(t) {
            return (
              (t = t || this.game.input.justPressedRate),
              !0 === this.isDown && this.timeDown + t > this.game.time.time
            );
          },
          justReleased(t) {
            return (
              (t = t || this.game.input.justReleasedRate),
              this.isUp && this.timeUp + t > this.game.time.time
            );
          },
          addClickTrampoline(t, e, i, n) {
            if (this.isDown) {
              for (
                var r = (this._clickTrampolines =
                      this._clickTrampolines || []),
                  a = 0;
                a < r.length;
                a++
              ) {
                if (r[a].name === t) {
                  r.splice(a, 1);
                  break;
                }
              }
              r.push({
                name: t,
                targetObject: this.targetObject,
                callback: e,
                callbackContext: i,
                callbackArgs: n,
              });
            }
          },
          processClickTrampolines() {
            const t = this._clickTrampolines;
            if (t) {
              for (let e = 0; e < t.length; e++) {
                const i = t[e];
                i.targetObject === this._trampolineTargetObject &&
                    i.callback.apply(i.callbackContext, i.callbackArgs);
              }
              (this._clickTrampolines = null),
              (this._trampolineTargetObject = null);
            }
          },
          reset() {
            !1 === this.isMouse && (this.active = !1),
            (this.pointerId = null),
            (this.identifier = null),
            (this.dirty = !1),
            (this.totalTouches = 0),
            (this._holdSent = !1),
            (this._history.length = 0),
            (this._stateReset = !0),
            this.resetButtons(),
            this.targetObject && this.targetObject._releasedHandler(this),
            (this.targetObject = null);
          },
          resetMovement() {
            (this.movementX = 0), (this.movementY = 0);
          },
        }),
        (a.Pointer.prototype.constructor = a.Pointer),
        Object.defineProperty(a.Pointer.prototype, 'duration', {
          get() {
            return this.isUp ? -1 : this.game.time.time - this.timeDown;
          },
        }),
        Object.defineProperty(a.Pointer.prototype, 'worldX', {
          get() {
            return this.game.world.camera.x + this.x;
          },
        }),
        Object.defineProperty(a.Pointer.prototype, 'worldY', {
          get() {
            return this.game.world.camera.y + this.y;
          },
        }),
        (a.PointerMode = { CURSOR: 1, CONTACT: 2 }),
        (a.Touch = function (t) {
          (this.game = t),
          (this.enabled = !0),
          (this.touchLockCallbacks = []),
          (this.callbackContext = this.game),
          (this.touchStartCallback = null),
          (this.touchMoveCallback = null),
          (this.touchEndCallback = null),
          (this.touchEnterCallback = null),
          (this.touchLeaveCallback = null),
          (this.touchCancelCallback = null),
          (this.preventDefault = !0),
          (this.event = null),
          (this._onTouchStart = null),
          (this._onTouchMove = null),
          (this._onTouchEnd = null),
          (this._onTouchEnter = null),
          (this._onTouchLeave = null),
          (this._onTouchCancel = null),
          (this._onTouchMove = null);
        }),
        (a.Touch.prototype = {
          start() {
            if (this._onTouchStart === null) {
              const t = this;
              this.game.device.touch &&
                  ((this._onTouchStart = function (e) {
                    return t.onTouchStart(e);
                  }),
                  (this._onTouchMove = function (e) {
                    return t.onTouchMove(e);
                  }),
                  (this._onTouchEnd = function (e) {
                    return t.onTouchEnd(e);
                  }),
                  (this._onTouchEnter = function (e) {
                    return t.onTouchEnter(e);
                  }),
                  (this._onTouchLeave = function (e) {
                    return t.onTouchLeave(e);
                  }),
                  (this._onTouchCancel = function (e) {
                    return t.onTouchCancel(e);
                  }),
                  this.game.canvas.addEventListener(
                    'touchstart',
                    this._onTouchStart,
                    !1,
                  ),
                  this.game.canvas.addEventListener(
                    'touchmove',
                    this._onTouchMove,
                    !1,
                  ),
                  this.game.canvas.addEventListener(
                    'touchend',
                    this._onTouchEnd,
                    !1,
                  ),
                  this.game.canvas.addEventListener(
                    'touchcancel',
                    this._onTouchCancel,
                    !1,
                  ),
                  this.game.device.cocoonJS ||
                    (this.game.canvas.addEventListener(
                      'touchenter',
                      this._onTouchEnter,
                      !1,
                    ),
                    this.game.canvas.addEventListener(
                      'touchleave',
                      this._onTouchLeave,
                      !1,
                    )));
            }
          },
          consumeDocumentTouches() {
            (this._documentTouchMove = function (t) {
              t.preventDefault();
            }),
            document.addEventListener(
              'touchmove',
              this._documentTouchMove,
              !1,
            );
          },
          addTouchLockCallback(t, e, i) {
            void 0 === i && (i = !1),
            this.touchLockCallbacks.push({
              callback: t,
              context: e,
              onEnd: i,
            });
          },
          removeTouchLockCallback(t, e) {
            for (let i = this.touchLockCallbacks.length; i--;) {
              if (
                this.touchLockCallbacks[i].callback === t &&
                  this.touchLockCallbacks[i].context === e
              ) { return this.touchLockCallbacks.splice(i, 1), !0; }
            }
            return !1;
          },
          onTouchStart(t) {
            for (var e = this.touchLockCallbacks.length; e--;) {
              const i = this.touchLockCallbacks[e];
              !i.onEnd &&
                  i.callback.call(i.context, this, t) &&
                  this.touchLockCallbacks.splice(e, 1);
            }
            if (((this.event = t), this.game.input.enabled && this.enabled)) {
              this.touchStartCallback &&
                  this.touchStartCallback.call(this.callbackContext, t),
              this.preventDefault && t.preventDefault();
              for (var e = 0; e < t.changedTouches.length; e++) { this.game.input.startPointer(t.changedTouches[e]); }
            }
          },
          onTouchCancel(t) {
            if (
              ((this.event = t),
              this.touchCancelCallback &&
                  this.touchCancelCallback.call(this.callbackContext, t),
              this.game.input.enabled && this.enabled)
            ) {
              this.preventDefault && t.preventDefault();
              for (let e = 0; e < t.changedTouches.length; e++) { this.game.input.stopPointer(t.changedTouches[e]); }
            }
          },
          onTouchEnter(t) {
            (this.event = t),
            this.touchEnterCallback &&
                  this.touchEnterCallback.call(this.callbackContext, t),
            this.game.input.enabled &&
                  this.enabled &&
                  this.preventDefault &&
                  t.preventDefault();
          },
          onTouchLeave(t) {
            (this.event = t),
            this.touchLeaveCallback &&
                  this.touchLeaveCallback.call(this.callbackContext, t),
            this.preventDefault && t.preventDefault();
          },
          onTouchMove(t) {
            (this.event = t),
            this.touchMoveCallback &&
                  this.touchMoveCallback.call(this.callbackContext, t),
            this.preventDefault && t.preventDefault();
            for (let e = 0; e < t.changedTouches.length; e++) { this.game.input.updatePointer(t.changedTouches[e]); }
          },
          onTouchEnd(t) {
            for (var e = this.touchLockCallbacks.length; e--;) {
              const i = this.touchLockCallbacks[e];
              i.onEnd &&
                  i.callback.call(i.context, this, t) &&
                  this.touchLockCallbacks.splice(e, 1);
            }
            (this.event = t),
            this.touchEndCallback &&
                  this.touchEndCallback.call(this.callbackContext, t),
            this.preventDefault && t.preventDefault();
            for (var e = 0; e < t.changedTouches.length; e++) { this.game.input.stopPointer(t.changedTouches[e]); }
          },
          stop() {
            this.game.device.touch &&
                (this.game.canvas.removeEventListener(
                  'touchstart',
                  this._onTouchStart,
                ),
                this.game.canvas.removeEventListener(
                  'touchmove',
                  this._onTouchMove,
                ),
                this.game.canvas.removeEventListener(
                  'touchend',
                  this._onTouchEnd,
                ),
                this.game.canvas.removeEventListener(
                  'touchenter',
                  this._onTouchEnter,
                ),
                this.game.canvas.removeEventListener(
                  'touchleave',
                  this._onTouchLeave,
                ),
                this.game.canvas.removeEventListener(
                  'touchcancel',
                  this._onTouchCancel,
                ));
          },
        }),
        (a.Touch.prototype.constructor = a.Touch),
        (a.InputHandler = function (t) {
          (this.sprite = t),
          (this.game = t.game),
          (this.enabled = !1),
          (this.checked = !1),
          (this.priorityID = 0),
          (this.useHandCursor = !1),
          (this._setHandCursor = !1),
          (this.isDragged = !1),
          (this.allowHorizontalDrag = !0),
          (this.allowVerticalDrag = !0),
          (this.bringToTop = !1),
          (this.snapOffset = null),
          (this.snapOnDrag = !1),
          (this.snapOnRelease = !1),
          (this.snapX = 0),
          (this.snapY = 0),
          (this.snapOffsetX = 0),
          (this.snapOffsetY = 0),
          (this.pixelPerfectOver = !1),
          (this.pixelPerfectClick = !1),
          (this.pixelPerfectAlpha = 255),
          (this.draggable = !1),
          (this.boundsRect = null),
          (this.boundsSprite = null),
          (this.scaleLayer = !1),
          (this.dragOffset = new a.Point()),
          (this.dragFromCenter = !1),
          (this.dragStopBlocksInputUp = !1),
          (this.dragStartPoint = new a.Point()),
          (this.dragDistanceThreshold = 0),
          (this.dragTimeThreshold = 0),
          (this.downPoint = new a.Point()),
          (this.snapPoint = new a.Point()),
          (this._dragPoint = new a.Point()),
          (this._dragPhase = !1),
          (this._pendingDrag = !1),
          (this._dragTimePass = !1),
          (this._dragDistancePass = !1),
          (this._wasEnabled = !1),
          (this._tempPoint = new a.Point()),
          (this._pointerData = []),
          this._pointerData.push({
            id: 0,
            x: 0,
            y: 0,
            camX: 0,
            camY: 0,
            isDown: !1,
            isUp: !1,
            isOver: !1,
            isOut: !1,
            timeOver: 0,
            timeOut: 0,
            timeDown: 0,
            timeUp: 0,
            downDuration: 0,
            isDragged: !1,
          });
        }),
        (a.InputHandler.prototype = {
          start(t, e) {
            if (
              ((t = t || 0), void 0 === e && (e = !1), !1 === this.enabled)
            ) {
              this.game.input.interactiveItems.add(this),
              (this.useHandCursor = e),
              (this.priorityID = t);
              for (let i = 0; i < 10; i++) {
                this._pointerData[i] = {
                  id: i,
                  x: 0,
                  y: 0,
                  isDown: !1,
                  isUp: !1,
                  isOver: !1,
                  isOut: !1,
                  timeOver: 0,
                  timeOut: 0,
                  timeDown: 0,
                  timeUp: 0,
                  downDuration: 0,
                  isDragged: !1,
                };
              }
              (this.snapOffset = new a.Point()),
              (this.enabled = !0),
              (this._wasEnabled = !0);
            }
            return (
              this.sprite.events.onAddedToGroup.add(this.addedToGroup, this),
              this.sprite.events.onRemovedFromGroup.add(
                this.removedFromGroup,
                this,
              ),
              (this.flagged = !1),
              this.sprite
            );
          },
          addedToGroup() {
            this._dragPhase ||
                (this._wasEnabled && !this.enabled && this.start());
          },
          removedFromGroup() {
            this._dragPhase ||
                (this.enabled
                  ? ((this._wasEnabled = !0), this.stop())
                  : (this._wasEnabled = !1));
          },
          reset() {
            (this.enabled = !1), (this.flagged = !1);
            for (let t = 0; t < 10; t++) {
              this._pointerData[t] = {
                id: t,
                x: 0,
                y: 0,
                isDown: !1,
                isUp: !1,
                isOver: !1,
                isOut: !1,
                timeOver: 0,
                timeOut: 0,
                timeDown: 0,
                timeUp: 0,
                downDuration: 0,
                isDragged: !1,
              };
            }
          },
          stop() {
            !1 !== this.enabled &&
                ((this.enabled = !1),
                this.game.input.interactiveItems.remove(this));
          },
          destroy() {
            this.sprite &&
                (this._setHandCursor &&
                  ((this.game.canvas.style.cursor = 'default'),
                  (this._setHandCursor = !1)),
                (this.enabled = !1),
                this.game.input.interactiveItems.remove(this),
                (this._pointerData.length = 0),
                (this.boundsRect = null),
                (this.boundsSprite = null),
                (this.sprite = null));
          },
          validForInput(t, e, i) {
            return (
              void 0 === i && (i = !0),
              !(
                !this.enabled ||
                  this.sprite.scale.x === 0 ||
                  this.sprite.scale.y === 0 ||
                  this.priorityID < this.game.input.minPriorityID ||
                  (this.sprite.parent && this.sprite.parent.ignoreChildInput) ||
                  (!i && (this.pixelPerfectClick || this.pixelPerfectOver)) ||
                  !(
                    this.priorityID > t ||
                    (this.priorityID === t && this.sprite.renderOrderID > e)
                  )
              )
            );
          },
          isPixelPerfect() {
            return this.pixelPerfectClick || this.pixelPerfectOver;
          },
          pointerX(t) {
            return (t = t || 0), this._pointerData[t].x;
          },
          pointerY(t) {
            return (t = t || 0), this._pointerData[t].y;
          },
          pointerDown(t) {
            return (t = t || 0), this._pointerData[t].isDown;
          },
          pointerUp(t) {
            return (t = t || 0), this._pointerData[t].isUp;
          },
          pointerTimeDown(t) {
            return (t = t || 0), this._pointerData[t].timeDown;
          },
          pointerTimeUp(t) {
            return (t = t || 0), this._pointerData[t].timeUp;
          },
          pointerOver(t) {
            if (!this.enabled) return !1;
            if (void 0 === t) {
              for (let e = 0; e < 10; e++) { if (this._pointerData[e].isOver) return !0; }
              return !1;
            }
            return this._pointerData[t].isOver;
          },
          pointerOut(t) {
            if (!this.enabled) return !1;
            if (void 0 !== t) return this._pointerData[t].isOut;
            for (let e = 0; e < 10; e++) { if (this._pointerData[e].isOut) return !0; }
          },
          pointerTimeOver(t) {
            return (t = t || 0), this._pointerData[t].timeOver;
          },
          pointerTimeOut(t) {
            return (t = t || 0), this._pointerData[t].timeOut;
          },
          pointerDragged(t) {
            return (t = t || 0), this._pointerData[t].isDragged;
          },
          checkPointerDown(t, e) {
            return (
              !!(
                t.isDown &&
                  this.enabled &&
                  this.sprite &&
                  this.sprite.parent &&
                  this.sprite.visible &&
                  this.sprite.parent.visible &&
                  this.sprite.worldScale.x !== 0 &&
                  this.sprite.worldScale.y !== 0
              ) &&
                !!this.game.input.hitTest(this.sprite, t, this._tempPoint) &&
                (void 0 === e && (e = !1),
                !(!e && this.pixelPerfectClick) ||
                  this.checkPixel(this._tempPoint.x, this._tempPoint.y))
            );
          },
          checkPointerOver(t, e) {
            return (
              !!(
                this.enabled &&
                  this.sprite &&
                  this.sprite.parent &&
                  this.sprite.visible &&
                  this.sprite.parent.visible &&
                  this.sprite.worldScale.x !== 0 &&
                  this.sprite.worldScale.y !== 0
              ) &&
                !!this.game.input.hitTest(this.sprite, t, this._tempPoint) &&
                (void 0 === e && (e = !1),
                !(!e && this.pixelPerfectOver) ||
                  this.checkPixel(this._tempPoint.x, this._tempPoint.y))
            );
          },
          checkPixel(t, e, i) {
            if (this.sprite.texture.baseTexture.source) {
              if (t === null && e === null) {
                this.game.input.getLocalPosition(
                  this.sprite,
                  i,
                  this._tempPoint,
                );
                var t = this._tempPoint.x,
                  e = this._tempPoint.y;
              }
              if (
                (this.sprite.anchor.x !== 0 &&
                    (t -=
                      -this.sprite.texture.frame.width * this.sprite.anchor.x),
                this.sprite.anchor.y !== 0 &&
                    (e -=
                      -this.sprite.texture.frame.height * this.sprite.anchor.y),
                (t += this.sprite.texture.frame.x),
                (e += this.sprite.texture.frame.y),
                this.sprite.texture.trim &&
                    ((t -= this.sprite.texture.trim.x),
                    (e -= this.sprite.texture.trim.y),
                    t < this.sprite.texture.crop.x ||
                      t > this.sprite.texture.crop.right ||
                      e < this.sprite.texture.crop.y ||
                      e > this.sprite.texture.crop.bottom))
              ) { return (this._dx = t), (this._dy = e), !1; }
              if (
                ((this._dx = t),
                (this._dy = e),
                this.game.input.hitContext.clearRect(0, 0, 1, 1),
                this.game.input.hitContext.drawImage(
                  this.sprite.texture.baseTexture.source,
                  t,
                  e,
                  1,
                  1,
                  0,
                  0,
                  1,
                  1,
                ),
                this.game.input.hitContext.getImageData(0, 0, 1, 1).data[3] >=
                    this.pixelPerfectAlpha)
              ) { return !0; }
            }
            return !1;
          },
          update(t) {
            if (this.sprite !== null && void 0 !== this.sprite.parent) {
              return this.enabled &&
                  this.sprite.visible &&
                  this.sprite.parent.visible
                ? this._pendingDrag
                  ? (this._dragDistancePass ||
                        (this._dragDistancePass =
                          a.Math.distance(
                            t.x,
                            t.y,
                            this.downPoint.x,
                            this.downPoint.y,
                          ) >= this.dragDistanceThreshold),
                  this._dragDistancePass &&
                        this._dragTimePass &&
                        this.startDrag(t),
                  !0)
                  : this.draggable && this._draggedPointerID === t.id
                    ? this.updateDrag(t)
                    : this._pointerData[t.id].isOver
                      ? this.checkPointerOver(t)
                        ? ((this._pointerData[t.id].x = t.x - this.sprite.x),
                        (this._pointerData[t.id].y = t.y - this.sprite.y),
                        !0)
                        : (this._pointerOutHandler(t), !1)
                      : void 0
                : (this._pointerOutHandler(t), !1);
            }
          },
          _pointerOverHandler(t, e) {
            if (this.sprite !== null) {
              const i = this._pointerData[t.id];
              if (!1 === i.isOver || t.dirty) {
                const n = !1 === i.isOver;
                (i.isOver = !0),
                (i.isOut = !1),
                (i.timeOver = this.game.time.time),
                (i.x = t.x - this.sprite.x),
                (i.y = t.y - this.sprite.y),
                this.useHandCursor &&
                      !1 === i.isDragged &&
                      ((this.game.canvas.style.cursor = 'pointer'),
                      (this._setHandCursor = !0)),
                !e &&
                      n &&
                      this.sprite &&
                      this.sprite.events &&
                      this.sprite.events.onInputOver$dispatch(this.sprite, t),
                this.sprite.parent &&
                      this.sprite.parent.type === a.GROUP &&
                      this.sprite.parent.onChildInputOver.dispatch(
                        this.sprite,
                        t,
                      );
              }
            }
          },
          _pointerOutHandler(t, e) {
            if (this.sprite !== null) {
              const i = this._pointerData[t.id];
              (i.isOver = !1),
              (i.isOut = !0),
              (i.timeOut = this.game.time.time),
              this.useHandCursor &&
                    !1 === i.isDragged &&
                    ((this.game.canvas.style.cursor = 'default'),
                    (this._setHandCursor = !1)),
              !e &&
                    this.sprite &&
                    this.sprite.events &&
                    (this.sprite.events.onInputOut$dispatch(this.sprite, t),
                    this.sprite &&
                      this.sprite.parent &&
                      this.sprite.parent.type === a.GROUP &&
                      this.sprite.parent.onChildInputOut.dispatch(
                        this.sprite,
                        t,
                      ));
            }
          },
          _touchedHandler(t) {
            if (this.sprite !== null) {
              const e = this._pointerData[t.id];
              if (!e.isDown && e.isOver) {
                if (this.pixelPerfectClick && !this.checkPixel(null, null, t)) { return; }
                if (
                  ((e.isDown = !0),
                  (e.isUp = !1),
                  (e.timeDown = this.game.time.time),
                  this.downPoint.set(t.x, t.y),
                  (t.dirty = !0),
                  this.sprite &&
                      this.sprite.events &&
                      (this.sprite.events.onInputDown$dispatch(this.sprite, t),
                      this.sprite &&
                        this.sprite.parent &&
                        this.sprite.parent.type === a.GROUP &&
                        this.sprite.parent.onChildInputDown.dispatch(
                          this.sprite,
                          t,
                        ),
                      this.sprite === null))
                ) { return; }
                this.draggable &&
                    !1 === this.isDragged &&
                    (this.dragTimeThreshold === 0 &&
                    this.dragDistanceThreshold === 0
                      ? this.startDrag(t)
                      : ((this._pendingDrag = !0),
                      (this._dragDistancePass =
                          this.dragDistanceThreshold === 0),
                      this.dragTimeThreshold > 0
                        ? ((this._dragTimePass = !1),
                        this.game.time.events.add(
                          this.dragTimeThreshold,
                          this.dragTimeElapsed,
                          this,
                          t,
                        ))
                        : (this._dragTimePass = !0))),
                this.bringToTop && this.sprite.bringToTop();
              }
            }
          },
          dragTimeElapsed(t) {
            (this._dragTimePass = !0),
            this._pendingDrag &&
                  this.sprite &&
                  this._dragDistancePass &&
                  this.startDrag(t);
          },
          _releasedHandler(t) {
            if (this.sprite !== null) {
              const e = this._pointerData[t.id];
              if (e.isDown && t.isUp) {
                (e.isDown = !1),
                (e.isUp = !0),
                (e.timeUp = this.game.time.time),
                (e.downDuration = e.timeUp - e.timeDown);
                let i = this.checkPointerOver(t);
                this.sprite &&
                    this.sprite.events &&
                    ((this.dragStopBlocksInputUp &&
                      (!this.dragStopBlocksInputUp ||
                        (this.draggable &&
                          this.isDragged &&
                          this._draggedPointerID === t.id))) ||
                      this.sprite.events.onInputUp$dispatch(this.sprite, t, i),
                    this.sprite &&
                      this.sprite.parent &&
                      this.sprite.parent.type === a.GROUP &&
                      this.sprite.parent.onChildInputUp.dispatch(
                        this.sprite,
                        t,
                        i,
                      ),
                    i && (i = this.checkPointerOver(t))),
                (e.isOver = i),
                !i &&
                      this.useHandCursor &&
                      ((this.game.canvas.style.cursor = 'default'),
                      (this._setHandCursor = !1)),
                (t.dirty = !0),
                (this._pendingDrag = !1),
                this.draggable &&
                      this.isDragged &&
                      this._draggedPointerID === t.id &&
                      this.stopDrag(t);
              }
            }
          },
          updateDrag(t, e) {
            if (t.isUp) return this.stopDrag(t), !1;
            void 0 === e && (e = !1);
            let i =
                  this.globalToLocalX(t.x) +
                  this._dragPoint.x +
                  this.dragOffset.x,
              n =
                  this.globalToLocalY(t.y) +
                  this._dragPoint.y +
                  this.dragOffset.y;
            if (this.sprite.fixedToCamera) {
              this.allowHorizontalDrag && (this.sprite.cameraOffset.x = i),
              this.allowVerticalDrag && (this.sprite.cameraOffset.y = n),
              this.boundsRect && this.checkBoundsRect(),
              this.boundsSprite && this.checkBoundsSprite(),
              this.snapOnDrag &&
                    ((this.sprite.cameraOffset.x =
                      Math.round((this.sprite.cameraOffset.x -
                          (this.snapOffsetX % this.snapX)) /
                          this.snapX) *
                        this.snapX +
                      (this.snapOffsetX % this.snapX)),
                    (this.sprite.cameraOffset.y =
                      Math.round((this.sprite.cameraOffset.y -
                          (this.snapOffsetY % this.snapY)) /
                          this.snapY) *
                        this.snapY +
                      (this.snapOffsetY % this.snapY)),
                    this.snapPoint.set(
                      this.sprite.cameraOffset.x,
                      this.sprite.cameraOffset.y,
                    ));
            } else {
              let r = this.game.camera.x - this._pointerData[t.id].camX,
                a = this.game.camera.y - this._pointerData[t.id].camY;
              this.allowHorizontalDrag && (this.sprite.x = i + r),
              this.allowVerticalDrag && (this.sprite.y = n + a),
              this.boundsRect && this.checkBoundsRect(),
              this.boundsSprite && this.checkBoundsSprite(),
              this.snapOnDrag &&
                    ((this.sprite.x =
                      Math.round((this.sprite.x - (this.snapOffsetX % this.snapX)) /
                          this.snapX) *
                        this.snapX +
                      (this.snapOffsetX % this.snapX)),
                    (this.sprite.y =
                      Math.round((this.sprite.y - (this.snapOffsetY % this.snapY)) /
                          this.snapY) *
                        this.snapY +
                      (this.snapOffsetY % this.snapY)),
                    this.snapPoint.set(this.sprite.x, this.sprite.y));
            }
            return (
              this.sprite.events.onDragUpdate.dispatch(
                this.sprite,
                t,
                i,
                n,
                this.snapPoint,
                e,
              ),
              !0
            );
          },
          justOver(t, e) {
            return (
              (t = t || 0),
              (e = e || 500),
              this._pointerData[t].isOver && this.overDuration(t) < e
            );
          },
          justOut(t, e) {
            return (
              (t = t || 0),
              (e = e || 500),
              this._pointerData[t].isOut &&
                  this.game.time.time - this._pointerData[t].timeOut < e
            );
          },
          justPressed(t, e) {
            return (
              (t = t || 0),
              (e = e || 500),
              this._pointerData[t].isDown && this.downDuration(t) < e
            );
          },
          justReleased(t, e) {
            return (
              (t = t || 0),
              (e = e || 500),
              this._pointerData[t].isUp &&
                  this.game.time.time - this._pointerData[t].timeUp < e
            );
          },
          overDuration(t) {
            return (
              (t = t || 0),
              this._pointerData[t].isOver
                ? this.game.time.time - this._pointerData[t].timeOver
                : -1
            );
          },
          downDuration(t) {
            return (
              (t = t || 0),
              this._pointerData[t].isDown
                ? this.game.time.time - this._pointerData[t].timeDown
                : -1
            );
          },
          enableDrag(t, e, i, n, r, o) {
            void 0 === t && (t = !1),
            void 0 === e && (e = !1),
            void 0 === i && (i = !1),
            void 0 === n && (n = 255),
            void 0 === r && (r = null),
            void 0 === o && (o = null),
            (this._dragPoint = new a.Point()),
            (this.draggable = !0),
            (this.bringToTop = e),
            (this.dragOffset = new a.Point()),
            (this.dragFromCenter = t),
            (this.pixelPerfectClick = i),
            (this.pixelPerfectAlpha = n),
            r && (this.boundsRect = r),
            o && (this.boundsSprite = o);
          },
          disableDrag() {
            if (this._pointerData) {
              for (let t = 0; t < 10; t++) { this._pointerData[t].isDragged = !1; }
            }
            (this.draggable = !1),
            (this.isDragged = !1),
            (this._draggedPointerID = -1),
            (this._pendingDrag = !1);
          },
          startDrag(t) {
            let e = this.sprite.x,
              i = this.sprite.y;
            if (
              ((this.isDragged = !0),
              (this._draggedPointerID = t.id),
              (this._pointerData[t.id].camX = this.game.camera.x),
              (this._pointerData[t.id].camY = this.game.camera.y),
              (this._pointerData[t.id].isDragged = !0),
              this.sprite.fixedToCamera)
            ) {
              if (this.dragFromCenter) {
                var n = this.sprite.getBounds();
                (this.sprite.cameraOffset.x =
                    this.globalToLocalX(t.x) +
                    (this.sprite.cameraOffset.x - n.centerX)),
                (this.sprite.cameraOffset.y =
                      this.globalToLocalY(t.y) +
                      (this.sprite.cameraOffset.y - n.centerY));
              }
              this._dragPoint.setTo(
                this.sprite.cameraOffset.x - t.x,
                this.sprite.cameraOffset.y - t.y,
              );
            } else {
              if (this.dragFromCenter) {
                var n = this.sprite.getBounds();
                (this.sprite.x =
                    this.globalToLocalX(t.x) + (this.sprite.x - n.centerX)),
                (this.sprite.y =
                      this.globalToLocalY(t.y) + (this.sprite.y - n.centerY));
              }
              this._dragPoint.setTo(
                this.sprite.x - this.globalToLocalX(t.x),
                this.sprite.y - this.globalToLocalY(t.y),
              );
            }
            this.updateDrag(t, !0),
            this.bringToTop &&
                  ((this._dragPhase = !0), this.sprite.bringToTop()),
            this.dragStartPoint.set(e, i),
            this.sprite.events.onDragStart$dispatch(this.sprite, t, e, i),
            (this._pendingDrag = !1);
          },
          globalToLocalX(t) {
            return (
              this.scaleLayer &&
                  ((t -= this.game.scale.grid.boundsFluid.x),
                  (t *= this.game.scale.grid.scaleFluidInversed.x)),
              t
            );
          },
          globalToLocalY(t) {
            return (
              this.scaleLayer &&
                  ((t -= this.game.scale.grid.boundsFluid.y),
                  (t *= this.game.scale.grid.scaleFluidInversed.y)),
              t
            );
          },
          stopDrag(t) {
            (this.isDragged = !1),
            (this._draggedPointerID = -1),
            (this._pointerData[t.id].isDragged = !1),
            (this._dragPhase = !1),
            (this._pendingDrag = !1),
            this.snapOnRelease &&
                  (this.sprite.fixedToCamera
                    ? ((this.sprite.cameraOffset.x =
                        Math.round((this.sprite.cameraOffset.x -
                            (this.snapOffsetX % this.snapX)) /
                            this.snapX) *
                          this.snapX +
                        (this.snapOffsetX % this.snapX)),
                    (this.sprite.cameraOffset.y =
                        Math.round((this.sprite.cameraOffset.y -
                            (this.snapOffsetY % this.snapY)) /
                            this.snapY) *
                          this.snapY +
                        (this.snapOffsetY % this.snapY)))
                    : ((this.sprite.x =
                        Math.round((this.sprite.x - (this.snapOffsetX % this.snapX)) /
                            this.snapX) *
                          this.snapX +
                        (this.snapOffsetX % this.snapX)),
                    (this.sprite.y =
                        Math.round((this.sprite.y - (this.snapOffsetY % this.snapY)) /
                            this.snapY) *
                          this.snapY +
                        (this.snapOffsetY % this.snapY)))),
            this.sprite.events.onDragStop$dispatch(this.sprite, t),
            !1 === this.checkPointerOver(t) && this._pointerOutHandler(t);
          },
          setDragLock(t, e) {
            void 0 === t && (t = !0),
            void 0 === e && (e = !0),
            (this.allowHorizontalDrag = t),
            (this.allowVerticalDrag = e);
          },
          enableSnap(t, e, i, n, r, a) {
            void 0 === i && (i = !0),
            void 0 === n && (n = !1),
            void 0 === r && (r = 0),
            void 0 === a && (a = 0),
            (this.snapX = t),
            (this.snapY = e),
            (this.snapOffsetX = r),
            (this.snapOffsetY = a),
            (this.snapOnDrag = i),
            (this.snapOnRelease = n);
          },
          disableSnap() {
            (this.snapOnDrag = !1), (this.snapOnRelease = !1);
          },
          checkBoundsRect() {
            this.sprite.fixedToCamera
              ? (this.sprite.cameraOffset.x < this.boundsRect.left
                ? (this.sprite.cameraOffset.x = this.boundsRect.left)
                : this.sprite.cameraOffset.x + this.sprite.width >
                        this.boundsRect.right &&
                      (this.sprite.cameraOffset.x =
                        this.boundsRect.right - this.sprite.width),
              this.sprite.cameraOffset.y < this.boundsRect.top
                ? (this.sprite.cameraOffset.y = this.boundsRect.top)
                : this.sprite.cameraOffset.y + this.sprite.height >
                        this.boundsRect.bottom &&
                      (this.sprite.cameraOffset.y =
                        this.boundsRect.bottom - this.sprite.height))
              : (this.sprite.left < this.boundsRect.left
                ? (this.sprite.x = this.boundsRect.x + this.sprite.offsetX)
                : this.sprite.right > this.boundsRect.right &&
                      (this.sprite.x =
                        this.boundsRect.right -
                        (this.sprite.width - this.sprite.offsetX)),
              this.sprite.top < this.boundsRect.top
                ? (this.sprite.y =
                        this.boundsRect.top + this.sprite.offsetY)
                : this.sprite.bottom > this.boundsRect.bottom &&
                      (this.sprite.y =
                        this.boundsRect.bottom -
                        (this.sprite.height - this.sprite.offsetY)));
          },
          checkBoundsSprite() {
            this.sprite.fixedToCamera && this.boundsSprite.fixedToCamera
              ? (this.sprite.cameraOffset.x < this.boundsSprite.cameraOffset.x
                ? (this.sprite.cameraOffset.x = this.boundsSprite.cameraOffset.x)
                : this.sprite.cameraOffset.x + this.sprite.width >
                        this.boundsSprite.cameraOffset.x +
                          this.boundsSprite.width &&
                      (this.sprite.cameraOffset.x =
                        this.boundsSprite.cameraOffset.x +
                        this.boundsSprite.width -
                        this.sprite.width),
              this.sprite.cameraOffset.y < this.boundsSprite.cameraOffset.y
                ? (this.sprite.cameraOffset.y = this.boundsSprite.cameraOffset.y)
                : this.sprite.cameraOffset.y + this.sprite.height >
                        this.boundsSprite.cameraOffset.y +
                          this.boundsSprite.height &&
                      (this.sprite.cameraOffset.y =
                        this.boundsSprite.cameraOffset.y +
                        this.boundsSprite.height -
                        this.sprite.height))
              : (this.sprite.left < this.boundsSprite.left
                ? (this.sprite.x =
                        this.boundsSprite.left + this.sprite.offsetX)
                : this.sprite.right > this.boundsSprite.right &&
                      (this.sprite.x =
                        this.boundsSprite.right -
                        (this.sprite.width - this.sprite.offsetX)),
              this.sprite.top < this.boundsSprite.top
                ? (this.sprite.y =
                        this.boundsSprite.top + this.sprite.offsetY)
                : this.sprite.bottom > this.boundsSprite.bottom &&
                      (this.sprite.y =
                        this.boundsSprite.bottom -
                        (this.sprite.height - this.sprite.offsetY)));
          },
        }),
        (a.InputHandler.prototype.constructor = a.InputHandler),
        (a.Gamepad = function (t) {
          (this.game = t),
          (this._gamepadIndexMap = {}),
          (this._rawPads = []),
          (this._active = !1),
          (this.enabled = !0),
          (this._gamepadSupportAvailable =
                !!navigator.webkitGetGamepads ||
                !!navigator.webkitGamepads ||
                navigator.userAgent.indexOf('Firefox/') != -1 ||
                !!navigator.getGamepads),
          (this._prevRawGamepadTypes = []),
          (this._prevTimestamps = []),
          (this.callbackContext = this),
          (this.onConnectCallback = null),
          (this.onDisconnectCallback = null),
          (this.onDownCallback = null),
          (this.onUpCallback = null),
          (this.onAxisCallback = null),
          (this.onFloatCallback = null),
          (this._ongamepadconnected = null),
          (this._gamepaddisconnected = null),
          (this._gamepads = [
            new a.SinglePad(t, this),
            new a.SinglePad(t, this),
            new a.SinglePad(t, this),
            new a.SinglePad(t, this),
          ]);
        }),
        (a.Gamepad.prototype = {
          addCallbacks(t, e) {
            void 0 !== e &&
                ((this.onConnectCallback =
                  typeof e.onConnect === 'function'
                    ? e.onConnect
                    : this.onConnectCallback),
                (this.onDisconnectCallback =
                  typeof e.onDisconnect === 'function'
                    ? e.onDisconnect
                    : this.onDisconnectCallback),
                (this.onDownCallback =
                  typeof e.onDown === 'function'
                    ? e.onDown
                    : this.onDownCallback),
                (this.onUpCallback =
                  typeof e.onUp === 'function' ? e.onUp : this.onUpCallback),
                (this.onAxisCallback =
                  typeof e.onAxis === 'function'
                    ? e.onAxis
                    : this.onAxisCallback),
                (this.onFloatCallback =
                  typeof e.onFloat === 'function'
                    ? e.onFloat
                    : this.onFloatCallback),
                (this.callbackContext = t));
          },
          start() {
            if (!this._active) {
              this._active = !0;
              const t = this;
              (this._onGamepadConnected = function (e) {
                return t.onGamepadConnected(e);
              }),
              (this._onGamepadDisconnected = function (e) {
                return t.onGamepadDisconnected(e);
              }),
              window.addEventListener(
                'gamepadconnected',
                this._onGamepadConnected,
                !1,
              ),
              window.addEventListener(
                'gamepaddisconnected',
                this._onGamepadDisconnected,
                !1,
              );
            }
          },
          onGamepadConnected(t) {
            const e = t.gamepad;
            this._rawPads.push(e), this._gamepads[e.index].connect(e);
          },
          onGamepadDisconnected(t) {
            const e = t.gamepad;
            for (const i in this._rawPads) {
              this._rawPads[i].index === e.index &&
                  this._rawPads.splice(i, 1);
            }
            this._gamepads[e.index].disconnect();
          },
          update() {
            this._pollGamepads(),
            this.pad1.pollStatus(),
            this.pad2.pollStatus(),
            this.pad3.pollStatus(),
            this.pad4.pollStatus();
          },
          _pollGamepads() {
            if (this._active) {
              if (navigator.getGamepads) var t = navigator.getGamepads();
              else if (navigator.webkitGetGamepads) { var t = navigator.webkitGetGamepads(); } else if (navigator.webkitGamepads) { var t = navigator.webkitGamepads(); }
              if (t) {
                this._rawPads = [];
                for (
                  var e = !1, i = 0;
                  i < t.length &&
                    (n(t[i]) !== this._prevRawGamepadTypes[i] &&
                      ((e = !0), (this._prevRawGamepadTypes[i] = n(t[i]))),
                    t[i] && this._rawPads.push(t[i]),
                    i !== 3);
                  i++
                );
                for (let r = 0; r < this._gamepads.length; r++) { this._gamepads[r]._rawPad = this._rawPads[r]; }
                if (e) {
                  for (
                    var a, o = { rawIndices: {}, padIndices: {} }, s = 0;
                    s < this._gamepads.length;
                    s++
                  ) {
                    if (((a = this._gamepads[s]), a.connected)) {
                      for (let u = 0; u < this._rawPads.length; u++)
                        {this._rawPads[u].index === a.index &&
                            ((o.rawIndices[a.index] = !0),
                            (o.padIndices[s] = !0));}
                    }
                  }
                  for (let l = 0; l < this._gamepads.length; l++) {
                    if (((a = this._gamepads[l]), !o.padIndices[l])) {
                      this._rawPads.length < 1 && a.disconnect();
                      for (
                        let c = 0;
                        c < this._rawPads.length && !o.padIndices[l];
                        c++
                      ) {
                        const h = this._rawPads[c];
                        if (h) {
                          if (o.rawIndices[h.index]) {
                            a.disconnect();
                            continue;
                          }
                          a.connect(h),
                          (o.rawIndices[h.index] = !0),
                          (o.padIndices[l] = !0);
                        } else a.disconnect();
                      }
                    }
                  }
                }
              }
            }
          },
          setDeadZones(t) {
            for (let e = 0; e < this._gamepads.length; e++) { this._gamepads[e].deadZone = t; }
          },
          stop() {
            (this._active = !1),
            window.removeEventListener(
              'gamepadconnected',
              this._onGamepadConnected,
            ),
            window.removeEventListener(
              'gamepaddisconnected',
              this._onGamepadDisconnected,
            );
          },
          reset() {
            this.update();
            for (let t = 0; t < this._gamepads.length; t++) { this._gamepads[t].reset(); }
          },
          justPressed(t, e) {
            for (let i = 0; i < this._gamepads.length; i++) { if (!0 === this._gamepads[i].justPressed(t, e)) return !0; }
            return !1;
          },
          justReleased(t, e) {
            for (let i = 0; i < this._gamepads.length; i++) { if (!0 === this._gamepads[i].justReleased(t, e)) return !0; }
            return !1;
          },
          isDown(t) {
            for (let e = 0; e < this._gamepads.length; e++) { if (!0 === this._gamepads[e].isDown(t)) return !0; }
            return !1;
          },
          destroy() {
            this.stop();
            for (let t = 0; t < this._gamepads.length; t++) { this._gamepads[t].destroy(); }
          },
        }),
        (a.Gamepad.prototype.constructor = a.Gamepad),
        Object.defineProperty(a.Gamepad.prototype, 'active', {
          get() {
            return this._active;
          },
        }),
        Object.defineProperty(a.Gamepad.prototype, 'supported', {
          get() {
            return this._gamepadSupportAvailable;
          },
        }),
        Object.defineProperty(a.Gamepad.prototype, 'padsConnected', {
          get() {
            return this._rawPads.length;
          },
        }),
        Object.defineProperty(a.Gamepad.prototype, 'pad1', {
          get() {
            return this._gamepads[0];
          },
        }),
        Object.defineProperty(a.Gamepad.prototype, 'pad2', {
          get() {
            return this._gamepads[1];
          },
        }),
        Object.defineProperty(a.Gamepad.prototype, 'pad3', {
          get() {
            return this._gamepads[2];
          },
        }),
        Object.defineProperty(a.Gamepad.prototype, 'pad4', {
          get() {
            return this._gamepads[3];
          },
        }),
        (a.Gamepad.BUTTON_0 = 0),
        (a.Gamepad.BUTTON_1 = 1),
        (a.Gamepad.BUTTON_2 = 2),
        (a.Gamepad.BUTTON_3 = 3),
        (a.Gamepad.BUTTON_4 = 4),
        (a.Gamepad.BUTTON_5 = 5),
        (a.Gamepad.BUTTON_6 = 6),
        (a.Gamepad.BUTTON_7 = 7),
        (a.Gamepad.BUTTON_8 = 8),
        (a.Gamepad.BUTTON_9 = 9),
        (a.Gamepad.BUTTON_10 = 10),
        (a.Gamepad.BUTTON_11 = 11),
        (a.Gamepad.BUTTON_12 = 12),
        (a.Gamepad.BUTTON_13 = 13),
        (a.Gamepad.BUTTON_14 = 14),
        (a.Gamepad.BUTTON_15 = 15),
        (a.Gamepad.AXIS_0 = 0),
        (a.Gamepad.AXIS_1 = 1),
        (a.Gamepad.AXIS_2 = 2),
        (a.Gamepad.AXIS_3 = 3),
        (a.Gamepad.AXIS_4 = 4),
        (a.Gamepad.AXIS_5 = 5),
        (a.Gamepad.AXIS_6 = 6),
        (a.Gamepad.AXIS_7 = 7),
        (a.Gamepad.AXIS_8 = 8),
        (a.Gamepad.AXIS_9 = 9),
        (a.Gamepad.XBOX360_A = 0),
        (a.Gamepad.XBOX360_B = 1),
        (a.Gamepad.XBOX360_X = 2),
        (a.Gamepad.XBOX360_Y = 3),
        (a.Gamepad.XBOX360_LEFT_BUMPER = 4),
        (a.Gamepad.XBOX360_RIGHT_BUMPER = 5),
        (a.Gamepad.XBOX360_LEFT_TRIGGER = 6),
        (a.Gamepad.XBOX360_RIGHT_TRIGGER = 7),
        (a.Gamepad.XBOX360_BACK = 8),
        (a.Gamepad.XBOX360_START = 9),
        (a.Gamepad.XBOX360_STICK_LEFT_BUTTON = 10),
        (a.Gamepad.XBOX360_STICK_RIGHT_BUTTON = 11),
        (a.Gamepad.XBOX360_DPAD_LEFT = 14),
        (a.Gamepad.XBOX360_DPAD_RIGHT = 15),
        (a.Gamepad.XBOX360_DPAD_UP = 12),
        (a.Gamepad.XBOX360_DPAD_DOWN = 13),
        (a.Gamepad.XBOX360_STICK_LEFT_X = 0),
        (a.Gamepad.XBOX360_STICK_LEFT_Y = 1),
        (a.Gamepad.XBOX360_STICK_RIGHT_X = 2),
        (a.Gamepad.XBOX360_STICK_RIGHT_Y = 3),
        (a.Gamepad.PS3XC_X = 0),
        (a.Gamepad.PS3XC_CIRCLE = 1),
        (a.Gamepad.PS3XC_SQUARE = 2),
        (a.Gamepad.PS3XC_TRIANGLE = 3),
        (a.Gamepad.PS3XC_L1 = 4),
        (a.Gamepad.PS3XC_R1 = 5),
        (a.Gamepad.PS3XC_L2 = 6),
        (a.Gamepad.PS3XC_R2 = 7),
        (a.Gamepad.PS3XC_SELECT = 8),
        (a.Gamepad.PS3XC_START = 9),
        (a.Gamepad.PS3XC_STICK_LEFT_BUTTON = 10);
        (a.Gamepad.PS3XC_STICK_RIGHT_BUTTON = 11),
        (a.Gamepad.PS3XC_DPAD_UP = 12),
        (a.Gamepad.PS3XC_DPAD_DOWN = 13),
        (a.Gamepad.PS3XC_DPAD_LEFT = 14),
        (a.Gamepad.PS3XC_DPAD_RIGHT = 15),
        (a.Gamepad.PS3XC_STICK_LEFT_X = 0),
        (a.Gamepad.PS3XC_STICK_LEFT_Y = 1),
        (a.Gamepad.PS3XC_STICK_RIGHT_X = 2),
        (a.Gamepad.PS3XC_STICK_RIGHT_Y = 3),
        (a.SinglePad = function (t, e) {
          (this.game = t),
          (this.index = null),
          (this.connected = !1),
          (this.callbackContext = this),
          (this.onConnectCallback = null),
          (this.onDisconnectCallback = null),
          (this.onDownCallback = null),
          (this.onUpCallback = null),
          (this.onAxisCallback = null),
          (this.onFloatCallback = null),
          (this.deadZone = 0.26),
          (this._padParent = e),
          (this._rawPad = null),
          (this._prevTimestamp = null),
          (this._buttons = []),
          (this._buttonsLen = 0),
          (this._axes = []),
          (this._axesLen = 0);
        }),
        (a.SinglePad.prototype = {
          addCallbacks(t, e) {
            void 0 !== e &&
                ((this.onConnectCallback =
                  typeof e.onConnect === 'function'
                    ? e.onConnect
                    : this.onConnectCallback),
                (this.onDisconnectCallback =
                  typeof e.onDisconnect === 'function'
                    ? e.onDisconnect
                    : this.onDisconnectCallback),
                (this.onDownCallback =
                  typeof e.onDown === 'function'
                    ? e.onDown
                    : this.onDownCallback),
                (this.onUpCallback =
                  typeof e.onUp === 'function' ? e.onUp : this.onUpCallback),
                (this.onAxisCallback =
                  typeof e.onAxis === 'function'
                    ? e.onAxis
                    : this.onAxisCallback),
                (this.onFloatCallback =
                  typeof e.onFloat === 'function'
                    ? e.onFloat
                    : this.onFloatCallback),
                (this.callbackContext = t));
          },
          getButton(t) {
            return this._buttons[t] ? this._buttons[t] : null;
          },
          pollStatus() {
            if (
              this.connected &&
                this.game.input.enabled &&
                this.game.input.gamepad.enabled &&
                (!this._rawPad.timestamp ||
                  this._rawPad.timestamp !== this._prevTimestamp)
            ) {
              for (let t = 0; t < this._buttonsLen; t++) {
                const e = isNaN(this._rawPad.buttons[t])
                  ? this._rawPad.buttons[t].value
                  : this._rawPad.buttons[t];
                e !== this._buttons[t].value &&
                    (e === 1
                      ? this.processButtonDown(t, e)
                      : e === 0
                        ? this.processButtonUp(t, e)
                        : this.processButtonFloat(t, e));
              }
              for (let i = 0; i < this._axesLen; i++) {
                const n = this._rawPad.axes[i];
                (n > 0 && n > this.deadZone) || (n < 0 && n < -this.deadZone)
                  ? this.processAxisChange(i, n)
                  : this.processAxisChange(i, 0);
              }
              this._prevTimestamp = this._rawPad.timestamp;
            }
          },
          connect(t) {
            const e = !this.connected;
            (this.connected = !0),
            (this.index = t.index),
            (this._rawPad = t),
            (this._buttons = []),
            (this._buttonsLen = t.buttons.length),
            (this._axes = []),
            (this._axesLen = t.axes.length);
            for (let i = 0; i < this._axesLen; i++) this._axes[i] = t.axes[i];
            for (let n in t.buttons) {
              (n = parseInt(n, 10)),
              (this._buttons[n] = new a.DeviceButton(this, n));
            }
            e &&
                this._padParent.onConnectCallback &&
                this._padParent.onConnectCallback.call(
                  this._padParent.callbackContext,
                  this.index,
                ),
            e &&
                  this.onConnectCallback &&
                  this.onConnectCallback.call(this.callbackContext);
          },
          disconnect() {
            let t = this.connected,
              e = this.index;
            (this.connected = !1),
            (this.index = null),
            (this._rawPad = void 0);
            for (let i = 0; i < this._buttonsLen; i++) { this._buttons[i].destroy(); }
            (this._buttons = []),
            (this._buttonsLen = 0),
            (this._axes = []),
            (this._axesLen = 0),
            t &&
                  this._padParent.onDisconnectCallback &&
                  this._padParent.onDisconnectCallback.call(
                    this._padParent.callbackContext,
                    e,
                  ),
            t &&
                  this.onDisconnectCallback &&
                  this.onDisconnectCallback.call(this.callbackContext);
          },
          destroy() {
            this._rawPad = void 0;
            for (let t = 0; t < this._buttonsLen; t++) { this._buttons[t].destroy(); }
            (this._buttons = []),
            (this._buttonsLen = 0),
            (this._axes = []),
            (this._axesLen = 0),
            (this.onConnectCallback = null),
            (this.onDisconnectCallback = null),
            (this.onDownCallback = null),
            (this.onUpCallback = null),
            (this.onAxisCallback = null),
            (this.onFloatCallback = null);
          },
          processAxisChange(t, e) {
            this._axes[t] !== e &&
                ((this._axes[t] = e),
                this._padParent.onAxisCallback &&
                  this._padParent.onAxisCallback.call(
                    this._padParent.callbackContext,
                    this,
                    t,
                    e,
                  ),
                this.onAxisCallback &&
                  this.onAxisCallback.call(this.callbackContext, this, t, e));
          },
          processButtonDown(t, e) {
            this._buttons[t] && this._buttons[t].start(null, e),
            this._padParent.onDownCallback &&
                  this._padParent.onDownCallback.call(
                    this._padParent.callbackContext,
                    t,
                    e,
                    this.index,
                  ),
            this.onDownCallback &&
                  this.onDownCallback.call(this.callbackContext, t, e);
          },
          processButtonUp(t, e) {
            this._padParent.onUpCallback &&
                this._padParent.onUpCallback.call(
                  this._padParent.callbackContext,
                  t,
                  e,
                  this.index,
                ),
            this.onUpCallback &&
                  this.onUpCallback.call(this.callbackContext, t, e),
            this._buttons[t] && this._buttons[t].stop(null, e);
          },
          processButtonFloat(t, e) {
            this._padParent.onFloatCallback &&
                this._padParent.onFloatCallback.call(
                  this._padParent.callbackContext,
                  t,
                  e,
                  this.index,
                ),
            this.onFloatCallback &&
                  this.onFloatCallback.call(this.callbackContext, t, e),
            this._buttons[t] && this._buttons[t].padFloat(e);
          },
          axis(t) {
            return !!this._axes[t] && this._axes[t];
          },
          isDown(t) {
            return !!this._buttons[t] && this._buttons[t].isDown;
          },
          isUp(t) {
            return !!this._buttons[t] && this._buttons[t].isUp;
          },
          justReleased(t, e) {
            if (this._buttons[t]) return this._buttons[t].justReleased(e);
          },
          justPressed(t, e) {
            if (this._buttons[t]) return this._buttons[t].justPressed(e);
          },
          buttonValue(t) {
            return this._buttons[t] ? this._buttons[t].value : null;
          },
          reset() {
            for (let t = 0; t < this._axes.length; t++) this._axes[t] = 0;
          },
        }),
        (a.SinglePad.prototype.constructor = a.SinglePad),
        (a.Key = function (t, e) {
          (this.game = t),
          (this._enabled = !0),
          (this.event = null),
          (this.isDown = !1),
          (this.isUp = !0),
          (this.altKey = !1),
          (this.ctrlKey = !1),
          (this.shiftKey = !1),
          (this.timeDown = 0),
          (this.duration = 0),
          (this.timeUp = -2500),
          (this.repeats = 0),
          (this.keyCode = e),
          (this.onDown = new a.Signal()),
          (this.onHoldCallback = null),
          (this.onHoldContext = null),
          (this.onUp = new a.Signal()),
          (this._justDown = !1),
          (this._justUp = !1);
        }),
        (a.Key.prototype = {
          update() {
            this._enabled &&
                this.isDown &&
                ((this.duration = this.game.time.time - this.timeDown),
                this.repeats++,
                this.onHoldCallback &&
                  this.onHoldCallback.call(this.onHoldContext, this));
          },
          processKeyDown(t) {
            this._enabled &&
                ((this.event = t),
                this.isDown ||
                  ((this.altKey = t.altKey),
                  (this.ctrlKey = t.ctrlKey),
                  (this.shiftKey = t.shiftKey),
                  (this.isDown = !0),
                  (this.isUp = !1),
                  (this.timeDown = this.game.time.time),
                  (this.duration = 0),
                  (this.repeats = 0),
                  (this._justDown = !0),
                  this.onDown.dispatch(this)));
          },
          processKeyUp(t) {
            this._enabled &&
                ((this.event = t),
                this.isUp ||
                  ((this.isDown = !1),
                  (this.isUp = !0),
                  (this.timeUp = this.game.time.time),
                  (this.duration = this.game.time.time - this.timeDown),
                  (this._justUp = !0),
                  this.onUp.dispatch(this)));
          },
          reset(t) {
            void 0 === t && (t = !0),
            (this.isDown = !1),
            (this.isUp = !0),
            (this.timeUp = this.game.time.time),
            (this.duration = 0),
            (this._enabled = !0),
            (this._justDown = !1),
            (this._justUp = !1),
            t &&
                  (this.onDown.removeAll(),
                  this.onUp.removeAll(),
                  (this.onHoldCallback = null),
                  (this.onHoldContext = null));
          },
          downDuration(t) {
            return void 0 === t && (t = 50), this.isDown && this.duration < t;
          },
          upDuration(t) {
            return (
              void 0 === t && (t = 50),
              !this.isDown && this.game.time.time - this.timeUp < t
            );
          },
        }),
        Object.defineProperty(a.Key.prototype, 'justDown', {
          get() {
            const t = this._justDown;
            return (this._justDown = !1), t;
          },
        }),
        Object.defineProperty(a.Key.prototype, 'justUp', {
          get() {
            const t = this._justUp;
            return (this._justUp = !1), t;
          },
        }),
        Object.defineProperty(a.Key.prototype, 'enabled', {
          get() {
            return this._enabled;
          },
          set(t) {
            (t = !!t) !== this._enabled &&
                (t || this.reset(!1), (this._enabled = t));
          },
        }),
        (a.Key.prototype.constructor = a.Key),
        (a.Keyboard = function (t) {
          (this.game = t),
          (this.enabled = !0),
          (this.event = null),
          (this.pressEvent = null),
          (this.callbackContext = this),
          (this.onDownCallback = null),
          (this.onPressCallback = null),
          (this.onUpCallback = null),
          (this._keys = []),
          (this._capture = []),
          (this._onKeyDown = null),
          (this._onKeyPress = null),
          (this._onKeyUp = null),
          (this._i = 0),
          (this._k = 0);
        }),
        (a.Keyboard.prototype = {
          addCallbacks(t, e, i, n) {
            (this.callbackContext = t),
            void 0 !== e && e !== null && (this.onDownCallback = e),
            void 0 !== i && i !== null && (this.onUpCallback = i),
            void 0 !== n && n !== null && (this.onPressCallback = n);
          },
          addKey(t) {
            return (
              this._keys[t] ||
                  ((this._keys[t] = new a.Key(this.game, t)),
                  this.addKeyCapture(t)),
              this._keys[t]
            );
          },
          addKeys(t) {
            const e = {};
            for (const i in t) e[i] = this.addKey(t[i]);
            return e;
          },
          removeKey(t) {
            this._keys[t] &&
                ((this._keys[t] = null), this.removeKeyCapture(t));
          },
          createCursorKeys() {
            return this.addKeys({
              up: a.KeyCode.UP,
              down: a.KeyCode.DOWN,
              left: a.KeyCode.LEFT,
              right: a.KeyCode.RIGHT,
            });
          },
          start() {
            if (!this.game.device.cocoonJS && this._onKeyDown === null) {
              const t = this;
              (this._onKeyDown = function (e) {
                return t.processKeyDown(e);
              }),
              (this._onKeyUp = function (e) {
                return t.processKeyUp(e);
              }),
              (this._onKeyPress = function (e) {
                return t.processKeyPress(e);
              }),
              window.addEventListener('keydown', this._onKeyDown, !1),
              window.addEventListener('keyup', this._onKeyUp, !1),
              window.addEventListener('keypress', this._onKeyPress, !1);
            }
          },
          stop() {
            window.removeEventListener('keydown', this._onKeyDown),
            window.removeEventListener('keyup', this._onKeyUp),
            window.removeEventListener('keypress', this._onKeyPress),
            (this._onKeyDown = null),
            (this._onKeyUp = null),
            (this._onKeyPress = null);
          },
          destroy() {
            this.stop(),
            this.clearCaptures(),
            (this._keys.length = 0),
            (this._i = 0);
          },
          addKeyCapture(t) {
            if ((void 0 === t ? 'undefined' : n(t)) === 'object') { for (const e in t) this._capture[t[e]] = !0; } else this._capture[t] = !0;
          },
          removeKeyCapture(t) {
            delete this._capture[t];
          },
          clearCaptures() {
            this._capture = {};
          },
          update() {
            for (this._i = this._keys.length; this._i--;) { this._keys[this._i] && this._keys[this._i].update(); }
          },
          processKeyDown(t) {
            if (((this.event = t), this.game.input.enabled && this.enabled)) {
              const e = t.keyCode;
              this._capture[e] && t.preventDefault(),
              this._keys[e] || (this._keys[e] = new a.Key(this.game, e)),
              this._keys[e].processKeyDown(t),
              (this._k = e),
              this.onDownCallback &&
                    this.onDownCallback.call(this.callbackContext, t);
            }
          },
          processKeyPress(t) {
            (this.pressEvent = t),
            this.game.input.enabled &&
                  this.enabled &&
                  this.onPressCallback &&
                  this.onPressCallback.call(
                    this.callbackContext,
                    String.fromCharCode(t.charCode),
                    t,
                  );
          },
          processKeyUp(t) {
            if (((this.event = t), this.game.input.enabled && this.enabled)) {
              const e = t.keyCode;
              this._capture[e] && t.preventDefault(),
              this._keys[e] || (this._keys[e] = new a.Key(this.game, e)),
              this._keys[e].processKeyUp(t),
              this.onUpCallback &&
                    this.onUpCallback.call(this.callbackContext, t);
            }
          },
          reset(t) {
            void 0 === t && (t = !0), (this.event = null);
            for (let e = this._keys.length; e--;) { this._keys[e] && this._keys[e].reset(t); }
          },
          downDuration(t, e) {
            return this._keys[t] ? this._keys[t].downDuration(e) : null;
          },
          upDuration(t, e) {
            return this._keys[t] ? this._keys[t].upDuration(e) : null;
          },
          isDown(t) {
            return this._keys[t] ? this._keys[t].isDown : null;
          },
        }),
        Object.defineProperty(a.Keyboard.prototype, 'lastChar', {
          get() {
            return this.event.charCode === 32
              ? ''
              : String.fromCharCode(this.pressEvent.charCode);
          },
        }),
        Object.defineProperty(a.Keyboard.prototype, 'lastKey', {
          get() {
            return this._keys[this._k];
          },
        }),
        (a.Keyboard.prototype.constructor = a.Keyboard),
        (a.KeyCode = {
          A: 'A'.charCodeAt(0),
          B: 'B'.charCodeAt(0),
          C: 'C'.charCodeAt(0),
          D: 'D'.charCodeAt(0),
          E: 'E'.charCodeAt(0),
          F: 'F'.charCodeAt(0),
          G: 'G'.charCodeAt(0),
          H: 'H'.charCodeAt(0),
          I: 'I'.charCodeAt(0),
          J: 'J'.charCodeAt(0),
          K: 'K'.charCodeAt(0),
          L: 'L'.charCodeAt(0),
          M: 'M'.charCodeAt(0),
          N: 'N'.charCodeAt(0),
          O: 'O'.charCodeAt(0),
          P: 'P'.charCodeAt(0),
          Q: 'Q'.charCodeAt(0),
          R: 'R'.charCodeAt(0),
          S: 'S'.charCodeAt(0),
          T: 'T'.charCodeAt(0),
          U: 'U'.charCodeAt(0),
          V: 'V'.charCodeAt(0),
          W: 'W'.charCodeAt(0),
          X: 'X'.charCodeAt(0),
          Y: 'Y'.charCodeAt(0),
          Z: 'Z'.charCodeAt(0),
          ZERO: '0'.charCodeAt(0),
          ONE: '1'.charCodeAt(0),
          TWO: '2'.charCodeAt(0),
          THREE: '3'.charCodeAt(0),
          FOUR: '4'.charCodeAt(0),
          FIVE: '5'.charCodeAt(0),
          SIX: '6'.charCodeAt(0),
          SEVEN: '7'.charCodeAt(0),
          EIGHT: '8'.charCodeAt(0),
          NINE: '9'.charCodeAt(0),
          NUMPAD_0: 96,
          NUMPAD_1: 97,
          NUMPAD_2: 98,
          NUMPAD_3: 99,
          NUMPAD_4: 100,
          NUMPAD_5: 101,
          NUMPAD_6: 102,
          NUMPAD_7: 103,
          NUMPAD_8: 104,
          NUMPAD_9: 105,
          NUMPAD_MULTIPLY: 106,
          NUMPAD_ADD: 107,
          NUMPAD_ENTER: 108,
          NUMPAD_SUBTRACT: 109,
          NUMPAD_DECIMAL: 110,
          NUMPAD_DIVIDE: 111,
          F1: 112,
          F2: 113,
          F3: 114,
          F4: 115,
          F5: 116,
          F6: 117,
          F7: 118,
          F8: 119,
          F9: 120,
          F10: 121,
          F11: 122,
          F12: 123,
          F13: 124,
          F14: 125,
          F15: 126,
          COLON: 186,
          EQUALS: 187,
          COMMA: 188,
          UNDERSCORE: 189,
          PERIOD: 190,
          QUESTION_MARK: 191,
          TILDE: 192,
          OPEN_BRACKET: 219,
          BACKWARD_SLASH: 220,
          CLOSED_BRACKET: 221,
          QUOTES: 222,
          BACKSPACE: 8,
          TAB: 9,
          CLEAR: 12,
          ENTER: 13,
          SHIFT: 16,
          CONTROL: 17,
          ALT: 18,
          CAPS_LOCK: 20,
          ESC: 27,
          SPACEBAR: 32,
          PAGE_UP: 33,
          PAGE_DOWN: 34,
          END: 35,
          HOME: 36,
          LEFT: 37,
          UP: 38,
          RIGHT: 39,
          DOWN: 40,
          PLUS: 43,
          MINUS: 44,
          INSERT: 45,
          DELETE: 46,
          HELP: 47,
          NUM_LOCK: 144,
        });
        for (const s in a.KeyCode) {
          a.KeyCode.hasOwnProperty(s) &&
            !s.match(/[a-z]/) &&
            (a.Keyboard[s] = a.KeyCode[s]);
        }
        (a.Component = function () {}),
        (a.Component.Angle = function () {}),
        (a.Component.Angle.prototype = {
          angle: {
            get() {
              return a.Math.wrapAngle(a.Math.radToDeg(this.rotation));
            },
            set(t) {
              this.rotation = a.Math.degToRad(a.Math.wrapAngle(t));
            },
          },
        }),
        (a.Component.Animation = function () {}),
        (a.Component.Animation.prototype = {
          play(t, e, i, n) {
            if (this.animations) return this.animations.play(t, e, i, n);
          },
        }),
        (a.Component.AutoCull = function () {}),
        (a.Component.AutoCull.prototype = {
          autoCull: !1,
          inCamera: {
            get() {
              return (
                this.autoCull ||
                    this.checkWorldBounds ||
                    (this._bounds.copyFrom(this.getBounds()),
                    (this._bounds.x += this.game.camera.view.x),
                    (this._bounds.y += this.game.camera.view.y)),
                this.game.world.camera.view.intersects(this._bounds)
              );
            },
          },
        }),
        (a.Component.Bounds = function () {}),
        (a.Component.Bounds.prototype = {
          offsetX: {
            get() {
              return this.anchor.x * this.width;
            },
          },
          offsetY: {
            get() {
              return this.anchor.y * this.height;
            },
          },
          centerX: {
            get() {
              return this.x - this.offsetX + 0.5 * this.width;
            },
            set(t) {
              this.x = t + this.offsetX - 0.5 * this.width;
            },
          },
          centerY: {
            get() {
              return this.y - this.offsetY + 0.5 * this.height;
            },
            set(t) {
              this.y = t + this.offsetY - 0.5 * this.height;
            },
          },
          left: {
            get() {
              return this.x - this.offsetX;
            },
            set(t) {
              this.x = t + this.offsetX;
            },
          },
          right: {
            get() {
              return this.x + this.width - this.offsetX;
            },
            set(t) {
              this.x = t - this.width + this.offsetX;
            },
          },
          top: {
            get() {
              return this.y - this.offsetY;
            },
            set(t) {
              this.y = t + this.offsetY;
            },
          },
          bottom: {
            get() {
              return this.y + this.height - this.offsetY;
            },
            set(t) {
              this.y = t - this.height + this.offsetY;
            },
          },
          alignIn(t, e, i, n) {
            switch ((void 0 === i && (i = 0), void 0 === n && (n = 0), e)) {
              default:
              case a.TOP_LEFT:
                (this.left = t.left - i), (this.top = t.top - n);
                break;
              case a.TOP_CENTER:
                (this.centerX = t.centerX + i), (this.top = t.top - n);
                break;
              case a.TOP_RIGHT:
                (this.right = t.right + i), (this.top = t.top - n);
                break;
              case a.LEFT_CENTER:
                (this.left = t.left - i), (this.centerY = t.centerY + n);
                break;
              case a.CENTER:
                (this.centerX = t.centerX + i),
                (this.centerY = t.centerY + n);
                break;
              case a.RIGHT_CENTER:
                (this.right = t.right + i), (this.centerY = t.centerY + n);
                break;
              case a.BOTTOM_LEFT:
                (this.left = t.left - i), (this.bottom = t.bottom + n);
                break;
              case a.BOTTOM_CENTER:
                (this.centerX = t.centerX + i), (this.bottom = t.bottom + n);
                break;
              case a.BOTTOM_RIGHT:
                (this.right = t.right + i), (this.bottom = t.bottom + n);
            }
            return this;
          },
          alignTo(t, e, i, n) {
            switch ((void 0 === i && (i = 0), void 0 === n && (n = 0), e)) {
              default:
              case a.TOP_LEFT:
                (this.left = t.left - i), (this.bottom = t.top - n);
                break;
              case a.TOP_CENTER:
                (this.centerX = t.centerX + i), (this.bottom = t.top - n);
                break;
              case a.TOP_RIGHT:
                (this.right = t.right + i), (this.bottom = t.top - n);
                break;
              case a.LEFT_TOP:
                (this.right = t.left - i), (this.top = t.top - n);
                break;
              case a.LEFT_CENTER:
                (this.right = t.left - i), (this.centerY = t.centerY + n);
                break;
              case a.LEFT_BOTTOM:
                (this.right = t.left - i), (this.bottom = t.bottom + n);
                break;
              case a.RIGHT_TOP:
                (this.left = t.right + i), (this.top = t.top - n);
                break;
              case a.RIGHT_CENTER:
                (this.left = t.right + i), (this.centerY = t.centerY + n);
                break;
              case a.RIGHT_BOTTOM:
                (this.left = t.right + i), (this.bottom = t.bottom + n);
                break;
              case a.BOTTOM_LEFT:
                (this.left = t.left - i), (this.top = t.bottom + n);
                break;
              case a.BOTTOM_CENTER:
                (this.centerX = t.centerX + i), (this.top = t.bottom + n);
                break;
              case a.BOTTOM_RIGHT:
                (this.right = t.right + i), (this.top = t.bottom + n);
            }
            return this;
          },
        }),
        (a.Component.BringToTop = function () {}),
        (a.Component.BringToTop.prototype.bringToTop = function () {
          return this.parent && this.parent.bringToTop(this), this;
        }),
        (a.Component.BringToTop.prototype.sendToBack = function () {
          return this.parent && this.parent.sendToBack(this), this;
        }),
        (a.Component.BringToTop.prototype.moveUp = function () {
          return this.parent && this.parent.moveUp(this), this;
        }),
        (a.Component.BringToTop.prototype.moveDown = function () {
          return this.parent && this.parent.moveDown(this), this;
        }),
        (a.Component.Core = function () {}),
        (a.Component.Core.install = function (t) {
          a.Utils.mixinPrototype(this, a.Component.Core.prototype),
          (this.components = {});
          for (let e = 0; e < t.length; e++) {
            let i = t[e],
              n = !1;
            i === 'Destroy' && (n = !0),
            a.Utils.mixinPrototype(this, a.Component[i].prototype, n),
            (this.components[i] = !0);
          }
        }),
        (a.Component.Core.init = function (t, e, i, n, r) {
          (this.game = t),
          (this.key = n),
          (this.data = {}),
          this.position.set(e, i),
          (this.world = new a.Point(e, i)),
          (this.previousPosition = new a.Point(e, i)),
          (this.events = new a.Events(this)),
          (this._bounds = new a.Rectangle()),
          this.components.PhysicsBody && (this.body = this.body),
          this.components.Animation &&
                (this.animations = new a.AnimationManager(this)),
          this.components.LoadTexture &&
                n !== null &&
                this.loadTexture(n, r),
          this.components.FixedToCamera &&
                (this.cameraOffset = new a.Point(e, i));
        }),
        (a.Component.Core.preUpdate = function () {
          if (this.pendingDestroy) return void this.destroy();
          if (
            (this.previousPosition.set(this.world.x, this.world.y),
            (this.previousRotation = this.rotation),
            !this.exists || !this.parent.exists)
          ) { return (this.renderOrderID = -1), !1; }
          this.world.setTo(
            this.game.camera.x + this.worldTransform.tx,
            this.game.camera.y + this.worldTransform.ty,
          ),
          this.visible &&
                (this.renderOrderID = this.game.stage.currentRenderOrderID++),
          this.animations && this.animations.update(),
          this.body && this.body.preUpdate();
          for (let t = 0; t < this.children.length; t++) { this.children[t].preUpdate(); }
          return !0;
        }),
        (a.Component.Core.prototype = {
          game: null,
          name: '',
          data: {},
          components: {},
          z: 0,
          events: void 0,
          animations: void 0,
          key: '',
          world: null,
          debug: !1,
          previousPosition: null,
          previousRotation: 0,
          renderOrderID: 0,
          fresh: !0,
          pendingDestroy: !1,
          _bounds: null,
          _exists: !0,
          exists: {
            get() {
              return this._exists;
            },
            set(t) {
              t
                ? ((this._exists = !0),
                this.body &&
                      this.body.type === a.Physics.P2JS &&
                      this.body.addToWorld(),
                (this.visible = !0))
                : ((this._exists = !1),
                this.body &&
                      this.body.type === a.Physics.P2JS &&
                      this.body.removeFromWorld(),
                (this.visible = !1));
            },
          },
          update() {},
          postUpdate() {
            this.customRender && this.key.render(),
            this.components.PhysicsBody &&
                  a.Component.PhysicsBody.postUpdate.call(this),
            this.components.FixedToCamera &&
                  a.Component.FixedToCamera.postUpdate.call(this);
            for (let t = 0; t < this.children.length; t++) { this.children[t].postUpdate(); }
          },
        }),
        (a.Component.Crop = function () {}),
        (a.Component.Crop.prototype = {
          cropRect: null,
          _crop: null,
          crop(t, e) {
            void 0 === e && (e = !1),
            t
              ? (e && this.cropRect !== null
                ? this.cropRect.setTo(t.x, t.y, t.width, t.height)
                : e && this.cropRect === null
                  ? (this.cropRect = new a.Rectangle(
                    t.x,
                    t.y,
                    t.width,
                    t.height,
                  ))
                  : (this.cropRect = t),
              this.updateCrop())
              : ((this._crop = null),
              (this.cropRect = null),
              this.resetFrame());
          },
          updateCrop() {
            if (this.cropRect) {
              (this._crop = a.Rectangle.clone(this.cropRect, this._crop)),
              (this._crop.x += this._frame.x),
              (this._crop.y += this._frame.y);
              let t = Math.max(this._frame.x, this._crop.x),
                e = Math.max(this._frame.y, this._crop.y),
                i = Math.min(this._frame.right, this._crop.right) - t,
                n = Math.min(this._frame.bottom, this._crop.bottom) - e;
              (this.texture.crop.x = t),
              (this.texture.crop.y = e),
              (this.texture.crop.width = i),
              (this.texture.crop.height = n),
              (this.texture.frame.width = Math.min(i, this.cropRect.width)),
              (this.texture.frame.height = Math.min(
                n,
                this.cropRect.height,
              )),
              (this.texture.width = this.texture.frame.width),
              (this.texture.height = this.texture.frame.height),
              this.texture._updateUvs();
            }
          },
        }),
        (a.Component.Delta = function () {}),
        (a.Component.Delta.prototype = {
          deltaX: {
            get() {
              return this.world.x - this.previousPosition.x;
            },
          },
          deltaY: {
            get() {
              return this.world.y - this.previousPosition.y;
            },
          },
          deltaZ: {
            get() {
              return this.rotation - this.previousRotation;
            },
          },
        }),
        (a.Component.Destroy = function () {}),
        (a.Component.Destroy.prototype = {
          destroyPhase: !1,
          destroy(t, e) {
            if (this.game !== null && !this.destroyPhase) {
              void 0 === t && (t = !0),
              void 0 === e && (e = !1),
              (this.destroyPhase = !0),
              this.events && this.events.onDestroy$dispatch(this),
              this.parent &&
                    (this.parent instanceof a.Group
                      ? this.parent.remove(this)
                      : this.parent.removeChild(this)),
              this.input && this.input.destroy(),
              this.animations && this.animations.destroy(),
              this.body && this.body.destroy(),
              this.events && this.events.destroy(),
              this.game.tweens.removeFrom(this);
              let i = this.children.length;
              if (t) for (; i--;) this.children[i].destroy(t);
              else for (; i--;) this.removeChild(this.children[i]);
              this._crop && (this._crop = null),
              this._frame && (this._frame = null),
              a.Video &&
                    this.key instanceof a.Video &&
                    this.key.onChangeSource.remove(this.resizeFrame, this),
              a.BitmapText && this._glyphs && (this._glyphs = []),
              (this.alive = !1),
              (this.exists = !1),
              (this.visible = !1),
              (this.filters = null),
              (this.mask = null),
              (this.game = null),
              (this.data = {}),
              (this.renderable = !1),
              this.transformCallback &&
                    ((this.transformCallback = null),
                    (this.transformCallbackContext = null)),
              (this.hitArea = null),
              (this.parent = null),
              (this.stage = null),
              (this.worldTransform = null),
              (this.filterArea = null),
              (this._bounds = null),
              (this._currentBounds = null),
              (this._mask = null),
              this._destroyCachedSprite(),
              e && this.texture.destroy(!0),
              (this.destroyPhase = !1),
              (this.pendingDestroy = !1);
            }
          },
        }),
        (a.Events = function (t) {
          this.parent = t;
        }),
        (a.Events.prototype = {
          destroy() {
            (this._parent = null),
            this._onDestroy && this._onDestroy.dispose(),
            this._onAddedToGroup && this._onAddedToGroup.dispose(),
            this._onRemovedFromGroup && this._onRemovedFromGroup.dispose(),
            this._onRemovedFromWorld && this._onRemovedFromWorld.dispose(),
            this._onKilled && this._onKilled.dispose(),
            this._onRevived && this._onRevived.dispose(),
            this._onEnterBounds && this._onEnterBounds.dispose(),
            this._onOutOfBounds && this._onOutOfBounds.dispose(),
            this._onInputOver && this._onInputOver.dispose(),
            this._onInputOut && this._onInputOut.dispose(),
            this._onInputDown && this._onInputDown.dispose(),
            this._onInputUp && this._onInputUp.dispose(),
            this._onDragStart && this._onDragStart.dispose(),
            this._onDragUpdate && this._onDragUpdate.dispose(),
            this._onDragStop && this._onDragStop.dispose(),
            this._onAnimationStart && this._onAnimationStart.dispose(),
            this._onAnimationComplete &&
                  this._onAnimationComplete.dispose(),
            this._onAnimationLoop && this._onAnimationLoop.dispose();
          },
          onAddedToGroup: null,
          onRemovedFromGroup: null,
          onRemovedFromWorld: null,
          onDestroy: null,
          onKilled: null,
          onRevived: null,
          onOutOfBounds: null,
          onEnterBounds: null,
          onInputOver: null,
          onInputOut: null,
          onInputDown: null,
          onInputUp: null,
          onDragStart: null,
          onDragUpdate: null,
          onDragStop: null,
          onAnimationStart: null,
          onAnimationComplete: null,
          onAnimationLoop: null,
        }),
        (a.Events.prototype.constructor = a.Events);
        for (const u in a.Events.prototype) {
          a.Events.prototype.hasOwnProperty(u) &&
            u.indexOf('on') === 0 &&
            a.Events.prototype[u] === null &&
            (function (t, e) {
              Object.defineProperty(a.Events.prototype, t, {
                get() {
                  return this[e] || (this[e] = new a.Signal());
                },
              }),
              (a.Events.prototype[`${t}$dispatch`] = function () {
                return this[e]
                  ? this[e].dispatch.apply(this[e], arguments)
                  : null;
              });
            }(u, `_${u}`));
        }
        (a.Component.FixedToCamera = function () {}),
        (a.Component.FixedToCamera.postUpdate = function () {
          this.fixedToCamera &&
              ((this.position.x =
                (this.game.camera.view.x + this.cameraOffset.x) /
                this.game.camera.scale.x),
              (this.position.y =
                (this.game.camera.view.y + this.cameraOffset.y) /
                this.game.camera.scale.y));
        }),
        (a.Component.FixedToCamera.prototype = {
          _fixedToCamera: !1,
          fixedToCamera: {
            get() {
              return this._fixedToCamera;
            },
            set(t) {
              t
                ? ((this._fixedToCamera = !0),
                this.cameraOffset.set(this.x, this.y))
                : (this._fixedToCamera = !1);
            },
          },
          cameraOffset: new a.Point(),
        }),
        (a.Component.Health = function () {}),
        (a.Component.Health.prototype = {
          health: 1,
          maxHealth: 100,
          damage(t) {
            return (
              this.alive &&
                  ((this.health -= t), this.health <= 0 && this.kill()),
              this
            );
          },
          setHealth(t) {
            return (
              (this.health = t),
              this.health > this.maxHealth && (this.health = this.maxHealth),
              this
            );
          },
          heal(t) {
            return (
              this.alive &&
                  ((this.health += t),
                  this.health > this.maxHealth &&
                    (this.health = this.maxHealth)),
              this
            );
          },
        }),
        (a.Component.InCamera = function () {}),
        (a.Component.InCamera.prototype = {
          inCamera: {
            get() {
              return this.game.world.camera.view.intersects(this._bounds);
            },
          },
        }),
        (a.Component.InputEnabled = function () {}),
        (a.Component.InputEnabled.prototype = {
          input: null,
          inputEnabled: {
            get() {
              return this.input && this.input.enabled;
            },
            set(t) {
              t
                ? this.input === null
                  ? ((this.input = new a.InputHandler(this)),
                  this.input.start())
                  : this.input && !this.input.enabled && this.input.start()
                : this.input && this.input.enabled && this.input.stop();
            },
          },
        }),
        (a.Component.InWorld = function () {}),
        (a.Component.InWorld.preUpdate = function () {
          if (this.autoCull || this.checkWorldBounds) {
            if (
              (this._bounds.copyFrom(this.getBounds()),
              (this._bounds.x += this.game.camera.view.x),
              (this._bounds.y += this.game.camera.view.y),
              this.autoCull)
            ) {
              if (this.game.world.camera.view.intersects(this._bounds)) { (this.renderable = !0), this.game.world.camera.totalInView++; } else if (((this.renderable = !1), this.outOfCameraBoundsKill)) { return this.kill(), !1; }
            }
            if (this.checkWorldBounds) {
              if (
                this._outOfBoundsFired &&
                  this.game.world.bounds.intersects(this._bounds)
              ) {
                (this._outOfBoundsFired = !1),
                this.events.onEnterBounds$dispatch(this);
              } else if (
                !this._outOfBoundsFired &&
                  !this.game.world.bounds.intersects(this._bounds) &&
                  ((this._outOfBoundsFired = !0),
                  this.events.onOutOfBounds$dispatch(this),
                  this.outOfBoundsKill)
              ) { return this.kill(), !1; }
            }
          }
          return !0;
        }),
        (a.Component.InWorld.prototype = {
          checkWorldBounds: !1,
          outOfBoundsKill: !1,
          outOfCameraBoundsKill: !1,
          _outOfBoundsFired: !1,
          inWorld: {
            get() {
              return this.game.world.bounds.intersects(this.getBounds());
            },
          },
        }),
        (a.Component.LifeSpan = function () {}),
        (a.Component.LifeSpan.preUpdate = function () {
          return !(
            this.lifespan > 0 &&
              ((this.lifespan -= this.game.time.physicsElapsedMS),
              this.lifespan <= 0) &&
              (this.kill(), 1)
          );
        }),
        (a.Component.LifeSpan.prototype = {
          alive: !0,
          lifespan: 0,
          revive(t) {
            return (
              void 0 === t && (t = 100),
              (this.alive = !0),
              (this.exists = !0),
              (this.visible = !0),
              typeof this.setHealth === 'function' && this.setHealth(t),
              this.events && this.events.onRevived$dispatch(this),
              this
            );
          },
          kill() {
            return (
              (this.alive = !1),
              (this.exists = !1),
              (this.visible = !1),
              this.events && this.events.onKilled$dispatch(this),
              this
            );
          },
        }),
        (a.Component.LoadTexture = function () {}),
        (a.Component.LoadTexture.prototype = {
          customRender: !1,
          _frame: null,
          loadTexture(t, e, i) {
            t === a.PENDING_ATLAS ? ((t = e), (e = 0)) : (e = e || 0),
            (i || void 0 === i) &&
                  this.animations &&
                  this.animations.stop(),
            (this.key = t),
            (this.customRender = !1);
            let n = this.game.cache,
              r = !0,
              o = !this.texture.baseTexture.scaleMode;
            if (a.RenderTexture && t instanceof a.RenderTexture) { (this.key = t.key), this.setTexture(t); } else if (a.BitmapData && t instanceof a.BitmapData) {
              (this.customRender = !0),
              this.setTexture(t.texture),
              (r = n.hasFrameData(t.key, a.Cache.BITMAPDATA)
                ? !this.animations.loadFrameData(
                  n.getFrameData(t.key, a.Cache.BITMAPDATA),
                  e,
                )
                : !this.animations.loadFrameData(t.frameData, 0));
            } else if (a.Video && t instanceof a.Video) {
              this.customRender = !0;
              const s = t.texture.valid;
              this.setTexture(t.texture),
              this.setFrame(t.texture.frame.clone()),
              t.onChangeSource.add(this.resizeFrame, this),
              (this.texture.valid = s);
            } else if (a.Tilemap && t instanceof a.TilemapLayer) { this.setTexture(PIXI.Texture.fromCanvas(t.canvas)); } else if (t instanceof PIXI.Texture) this.setTexture(t);
            else {
              const u = n.getImage(t, !0);
              (this.key = u.key),
              this.setTexture(new PIXI.Texture(u.base)),
              (this.texture.baseTexture.skipRender = t === '__default'),
              (r = !this.animations.loadFrameData(u.frameData, e));
            }
            r && (this._frame = a.Rectangle.clone(this.texture.frame)),
            o || (this.texture.baseTexture.scaleMode = 1);
          },
          setFrame(t) {
            (this._frame = t),
            (this.texture.frame.x = t.x),
            (this.texture.frame.y = t.y),
            (this.texture.frame.width = t.width),
            (this.texture.frame.height = t.height),
            (this.texture.crop.x = t.x),
            (this.texture.crop.y = t.y),
            (this.texture.crop.width = t.width),
            (this.texture.crop.height = t.height),
            t.trimmed
              ? (this.texture.trim
                ? ((this.texture.trim.x = t.spriteSourceSizeX),
                (this.texture.trim.y = t.spriteSourceSizeY),
                (this.texture.trim.width = t.sourceSizeW),
                (this.texture.trim.height = t.sourceSizeH))
                : (this.texture.trim = {
                  x: t.spriteSourceSizeX,
                  y: t.spriteSourceSizeY,
                  width: t.sourceSizeW,
                  height: t.sourceSizeH,
                }),
              (this.texture.width = t.sourceSizeW),
              (this.texture.height = t.sourceSizeH),
              (this.texture.frame.width = t.sourceSizeW),
              (this.texture.frame.height = t.sourceSizeH))
              : !t.trimmed &&
                    this.texture.trim &&
                    (this.texture.trim = null),
            this.cropRect && this.updateCrop(),
            (this.texture.requiresReTint = !0),
            this.texture._updateUvs(),
            this.tilingTexture && (this.refreshTexture = !0);
          },
          resizeFrame(t, e, i) {
            this.texture.frame.resize(e, i),
            this.texture.setFrame(this.texture.frame);
          },
          resetFrame() {
            this._frame && this.setFrame(this._frame);
          },
          frame: {
            get() {
              return this.animations.frame;
            },
            set(t) {
              this.animations.frame = t;
            },
          },
          frameName: {
            get() {
              return this.animations.frameName;
            },
            set(t) {
              this.animations.frameName = t;
            },
          },
        }),
        (a.Component.Overlap = function () {}),
        (a.Component.Overlap.prototype = {
          overlap(t) {
            return a.Rectangle.intersects(this.getBounds(), t.getBounds());
          },
        }),
        (a.Component.PhysicsBody = function () {}),
        (a.Component.PhysicsBody.preUpdate = function () {
          return this.fresh && this.exists
            ? (this.world.setTo(
              this.parent.position.x + this.position.x,
              this.parent.position.y + this.position.y,
            ),
            (this.worldTransform.tx = this.world.x),
            (this.worldTransform.ty = this.world.y),
            this.previousPosition.set(this.world.x, this.world.y),
            (this.previousRotation = this.rotation),
            this.body && this.body.preUpdate(),
            (this.fresh = !1),
            !1)
            : (this.previousPosition.set(this.world.x, this.world.y),
            (this.previousRotation = this.rotation),
            !(!this._exists || !this.parent.exists) ||
                  ((this.renderOrderID = -1), !1));
        }),
        (a.Component.PhysicsBody.postUpdate = function () {
          this.exists && this.body && this.body.postUpdate();
        }),
        (a.Component.PhysicsBody.prototype = {
          body: null,
          x: {
            get() {
              return this.position.x;
            },
            set(t) {
              (this.position.x = t),
              this.body && !this.body.dirty && (this.body._reset = !0);
            },
          },
          y: {
            get() {
              return this.position.y;
            },
            set(t) {
              (this.position.y = t),
              this.body && !this.body.dirty && (this.body._reset = !0);
            },
          },
        }),
        (a.Component.Reset = function () {}),
        (a.Component.Reset.prototype.reset = function (t, e, i) {
          return (
            void 0 === i && (i = 1),
            this.world.set(t, e),
            this.position.set(t, e),
            (this.fresh = !0),
            (this.exists = !0),
            (this.visible = !0),
            (this.renderable = !0),
            this.components.InWorld && (this._outOfBoundsFired = !1),
            this.components.LifeSpan &&
                ((this.alive = !0), (this.health = i)),
            this.components.PhysicsBody &&
                this.body &&
                this.body.reset(t, e, !1, !1),
            this
          );
        }),
        (a.Component.ScaleMinMax = function () {}),
        (a.Component.ScaleMinMax.prototype = {
          transformCallback: null,
          transformCallbackContext: this,
          scaleMin: null,
          scaleMax: null,
          checkTransform(t) {
            this.scaleMin &&
                (t.a < this.scaleMin.x && (t.a = this.scaleMin.x),
                t.d < this.scaleMin.y && (t.d = this.scaleMin.y)),
            this.scaleMax &&
                  (t.a > this.scaleMax.x && (t.a = this.scaleMax.x),
                  t.d > this.scaleMax.y && (t.d = this.scaleMax.y));
          },
          setScaleMinMax(t, e, i, n) {
            void 0 === e
              ? (e = i = n = t)
              : void 0 === i && ((i = n = e), (e = t)),
            t === null
              ? (this.scaleMin = null)
              : this.scaleMin
                ? this.scaleMin.set(t, e)
                : (this.scaleMin = new a.Point(t, e)),
            i === null
              ? (this.scaleMax = null)
              : this.scaleMax
                ? this.scaleMax.set(i, n)
                : (this.scaleMax = new a.Point(i, n)),
            this.scaleMin === null
              ? (this.transformCallback = null)
              : ((this.transformCallback = this.checkTransform),
              (this.transformCallbackContext = this));
          },
        }),
        (a.Component.Smoothed = function () {}),
        (a.Component.Smoothed.prototype = {
          smoothed: {
            get() {
              return !this.texture.baseTexture.scaleMode;
            },
            set(t) {
              t
                ? this.texture && (this.texture.baseTexture.scaleMode = 0)
                : this.texture && (this.texture.baseTexture.scaleMode = 1);
            },
          },
        }),
        (a.GameObjectFactory = function (t) {
          (this.game = t), (this.world = this.game.world);
        }),
        (a.GameObjectFactory.prototype = {
          existing(t) {
            return this.world.add(t);
          },
          weapon(t, e, i, n) {
            const r = this.game.plugins.add(a.Weapon);
            return r.createBullets(t, e, i, n), r;
          },
          image(t, e, i, n, r) {
            return (
              void 0 === r && (r = this.world),
              r.add(new a.Image(this.game, t, e, i, n))
            );
          },
          sprite(t, e, i, n, r) {
            return void 0 === r && (r = this.world), r.create(t, e, i, n);
          },
          creature(t, e, i, n, r) {
            void 0 === r && (r = this.world);
            const o = new a.Creature(this.game, t, e, i, n);
            return r.add(o), o;
          },
          tween(t) {
            return this.game.tweens.create(t);
          },
          group(t, e, i, n, r) {
            return new a.Group(this.game, t, e, i, n, r);
          },
          physicsGroup(t, e, i, n) {
            return new a.Group(this.game, e, i, n, !0, t);
          },
          spriteBatch(t, e, i) {
            return (
              void 0 === t && (t = null),
              void 0 === e && (e = 'group'),
              void 0 === i && (i = !1),
              new a.SpriteBatch(this.game, t, e, i)
            );
          },
          audio(t, e, i, n) {
            return this.game.sound.add(t, e, i, n);
          },
          sound(t, e, i, n) {
            return this.game.sound.add(t, e, i, n);
          },
          audioSprite(t) {
            return this.game.sound.addSprite(t);
          },
          tileSprite(t, e, i, n, r, o, s) {
            return (
              void 0 === s && (s = this.world),
              s.add(new a.TileSprite(this.game, t, e, i, n, r, o))
            );
          },
          rope(t, e, i, n, r, o) {
            return (
              void 0 === o && (o = this.world),
              o.add(new a.Rope(this.game, t, e, i, n, r))
            );
          },
          text(t, e, i, n, r) {
            return (
              void 0 === r && (r = this.world),
              r.add(new a.Text(this.game, t, e, i, n))
            );
          },
          button(t, e, i, n, r, o, s, u, l, c) {
            return (
              void 0 === c && (c = this.world),
              c.add(new a.Button(this.game, t, e, i, n, r, o, s, u, l))
            );
          },
          graphics(t, e, i) {
            return (
              void 0 === i && (i = this.world),
              i.add(new a.Graphics(this.game, t, e))
            );
          },
          emitter(t, e, i) {
            return this.game.particles.add(new a.Particles.Arcade.Emitter(this.game, t, e, i));
          },
          retroFont(t, e, i, n, r, o, s, u, l) {
            return new a.RetroFont(this.game, t, e, i, n, r, o, s, u, l);
          },
          bitmapText(t, e, i, n, r, o) {
            return (
              void 0 === o && (o = this.world),
              o.add(new a.BitmapText(this.game, t, e, i, n, r))
            );
          },
          tilemap(t, e, i, n, r) {
            return new a.Tilemap(this.game, t, e, i, n, r);
          },
          renderTexture(t, e, i, n) {
            (void 0 !== i && i !== '') || (i = this.game.rnd.uuid()),
            void 0 === n && (n = !1);
            const r = new a.RenderTexture(this.game, t, e, i);
            return n && this.game.cache.addRenderTexture(i, r), r;
          },
          video(t, e) {
            return new a.Video(this.game, t, e);
          },
          bitmapData(t, e, i, n) {
            void 0 === n && (n = !1),
            (void 0 !== i && i !== '') || (i = this.game.rnd.uuid());
            const r = new a.BitmapData(this.game, i, t, e);
            return n && this.game.cache.addBitmapData(i, r), r;
          },
          filter(t) {
            var e = Array.prototype.slice.call(arguments, 1),
              t = new a.Filter[t](this.game);
            return t.init(...e), t;
          },
          plugin(t) {
            return this.game.plugins.add(t);
          },
        }),
        (a.GameObjectFactory.prototype.constructor = a.GameObjectFactory),
        (a.GameObjectCreator = function (t) {
          (this.game = t), (this.world = this.game.world);
        }),
        (a.GameObjectCreator.prototype = {
          image(t, e, i, n) {
            return new a.Image(this.game, t, e, i, n);
          },
          sprite(t, e, i, n) {
            return new a.Sprite(this.game, t, e, i, n);
          },
          tween(t) {
            return new a.Tween(t, this.game, this.game.tweens);
          },
          group(t, e, i, n, r) {
            return new a.Group(this.game, t, e, i, n, r);
          },
          spriteBatch(t, e, i) {
            return (
              void 0 === e && (e = 'group'),
              void 0 === i && (i = !1),
              new a.SpriteBatch(this.game, t, e, i)
            );
          },
          audio(t, e, i, n) {
            return this.game.sound.add(t, e, i, n);
          },
          audioSprite(t) {
            return this.game.sound.addSprite(t);
          },
          sound(t, e, i, n) {
            return this.game.sound.add(t, e, i, n);
          },
          tileSprite(t, e, i, n, r, o) {
            return new a.TileSprite(this.game, t, e, i, n, r, o);
          },
          rope(t, e, i, n, r) {
            return new a.Rope(this.game, t, e, i, n, r);
          },
          text(t, e, i, n) {
            return new a.Text(this.game, t, e, i, n);
          },
          button(t, e, i, n, r, o, s, u, l) {
            return new a.Button(this.game, t, e, i, n, r, o, s, u, l);
          },
          graphics(t, e) {
            return new a.Graphics(this.game, t, e);
          },
          emitter(t, e, i) {
            return new a.Particles.Arcade.Emitter(this.game, t, e, i);
          },
          retroFont(t, e, i, n, r, o, s, u, l) {
            return new a.RetroFont(this.game, t, e, i, n, r, o, s, u, l);
          },
          bitmapText(t, e, i, n, r, o) {
            return new a.BitmapText(this.game, t, e, i, n, r, o);
          },
          tilemap(t, e, i, n, r) {
            return new a.Tilemap(this.game, t, e, i, n, r);
          },
          renderTexture(t, e, i, n) {
            (void 0 !== i && i !== '') || (i = this.game.rnd.uuid()),
            void 0 === n && (n = !1);
            const r = new a.RenderTexture(this.game, t, e, i);
            return n && this.game.cache.addRenderTexture(i, r), r;
          },
          bitmapData(t, e, i, n) {
            void 0 === n && (n = !1),
            (void 0 !== i && i !== '') || (i = this.game.rnd.uuid());
            const r = new a.BitmapData(this.game, i, t, e);
            return n && this.game.cache.addBitmapData(i, r), r;
          },
          filter(t) {
            var e = Array.prototype.slice.call(arguments, 1),
              t = new a.Filter[t](this.game);
            return t.init(...e), t;
          },
        }),
        (a.GameObjectCreator.prototype.constructor = a.GameObjectCreator),
        (a.Sprite = function (t, e, i, n, r) {
          (e = e || 0),
          (i = i || 0),
          (n = n || null),
          (r = r || null),
          (this.type = a.SPRITE),
          (this.physicsType = a.SPRITE),
          PIXI.Sprite.call(this, PIXI.TextureCache.__default),
          a.Component.Core.init.call(this, t, e, i, n, r);
        }),
        (a.Sprite.prototype = Object.create(PIXI.Sprite.prototype)),
        (a.Sprite.prototype.constructor = a.Sprite),
        a.Component.Core.install.call(a.Sprite.prototype, [
          'Angle',
          'Animation',
          'AutoCull',
          'Bounds',
          'BringToTop',
          'Crop',
          'Delta',
          'Destroy',
          'FixedToCamera',
          'Health',
          'InCamera',
          'InputEnabled',
          'InWorld',
          'LifeSpan',
          'LoadTexture',
          'Overlap',
          'PhysicsBody',
          'Reset',
          'ScaleMinMax',
          'Smoothed',
        ]),
        (a.Sprite.prototype.preUpdatePhysics =
            a.Component.PhysicsBody.preUpdate),
        (a.Sprite.prototype.preUpdateLifeSpan =
            a.Component.LifeSpan.preUpdate),
        (a.Sprite.prototype.preUpdateInWorld = a.Component.InWorld.preUpdate),
        (a.Sprite.prototype.preUpdateCore = a.Component.Core.preUpdate),
        (a.Sprite.prototype.preUpdate = function () {
          return (
            !!(
              this.preUpdatePhysics() &&
                this.preUpdateLifeSpan() &&
                this.preUpdateInWorld()
            ) && this.preUpdateCore()
          );
        }),
        (a.Image = function (t, e, i, n, r) {
          (e = e || 0),
          (i = i || 0),
          (n = n || null),
          (r = r || null),
          (this.type = a.IMAGE),
          PIXI.Sprite.call(this, PIXI.TextureCache.__default),
          a.Component.Core.init.call(this, t, e, i, n, r);
        }),
        (a.Image.prototype = Object.create(PIXI.Sprite.prototype)),
        (a.Image.prototype.constructor = a.Image),
        a.Component.Core.install.call(a.Image.prototype, [
          'Angle',
          'Animation',
          'AutoCull',
          'Bounds',
          'BringToTop',
          'Crop',
          'Destroy',
          'FixedToCamera',
          'InputEnabled',
          'LifeSpan',
          'LoadTexture',
          'Overlap',
          'Reset',
          'Smoothed',
        ]),
        (a.Image.prototype.preUpdateInWorld = a.Component.InWorld.preUpdate),
        (a.Image.prototype.preUpdateCore = a.Component.Core.preUpdate),
        (a.Image.prototype.preUpdate = function () {
          return !!this.preUpdateInWorld() && this.preUpdateCore();
        }),
        (a.Button = function (t, e, i, n, r, o, s, u, l, c) {
          (e = e || 0),
          (i = i || 0),
          (n = n || null),
          (r = r || null),
          (o = o || this),
          a.Image.call(this, t, e, i, n, u),
          (this.type = a.BUTTON),
          (this.physicsType = a.SPRITE),
          (this._onOverFrame = null),
          (this._onOutFrame = null),
          (this._onDownFrame = null),
          (this._onUpFrame = null),
          (this.onOverSound = null),
          (this.onOutSound = null),
          (this.onDownSound = null),
          (this.onUpSound = null),
          (this.onOverSoundMarker = ''),
          (this.onOutSoundMarker = ''),
          (this.onDownSoundMarker = ''),
          (this.onUpSoundMarker = ''),
          (this.onInputOver = new a.Signal()),
          (this.onInputOut = new a.Signal()),
          (this.onInputDown = new a.Signal()),
          (this.onInputUp = new a.Signal()),
          (this.onOverMouseOnly = !0),
          (this.justReleasedPreventsOver = a.PointerMode.TOUCH),
          (this.freezeFrames = !1),
          (this.forceOut = !1),
          (this.inputEnabled = !0),
          this.input.start(0, !0),
          (this.input.useHandCursor = !0),
          this.setFrames(s, u, l, c),
          r !== null && this.onInputUp.add(r, o),
          this.events.onInputOver.add(this.onInputOverHandler, this),
          this.events.onInputOut.add(this.onInputOutHandler, this),
          this.events.onInputDown.add(this.onInputDownHandler, this),
          this.events.onInputUp.add(this.onInputUpHandler, this),
          this.events.onRemovedFromWorld.add(this.removedFromWorld, this);
        }),
        (a.Button.prototype = Object.create(a.Image.prototype)),
        (a.Button.prototype.constructor = a.Button),
        (a.Button.prototype.clearFrames = function () {
          this.setFrames(null, null, null, null);
        }),
        (a.Button.prototype.removedFromWorld = function () {
          this.inputEnabled = !1;
        }),
        (a.Button.prototype.setStateFrame = function (t, e, i) {
          const n = `_on${t}Frame`;
          e !== null
            ? ((this[n] = e), i && this.changeStateFrame(t))
            : (this[n] = null);
        }),
        (a.Button.prototype.changeStateFrame = function (t) {
          if (this.freezeFrames) return !1;
          let e = `_on${t}Frame`,
            i = this[e];
          return typeof i === 'string'
            ? ((this.frameName = i), !0)
            : typeof i === 'number' && ((this.frame = i), !0);
        }),
        (a.Button.prototype.setFrames = function (t, e, i, n) {
          this.setStateFrame('Over', t, this.input.pointerOver()),
          this.setStateFrame('Out', e, !this.input.pointerOver()),
          this.setStateFrame('Down', i, this.input.pointerDown()),
          this.setStateFrame('Up', n, this.input.pointerUp());
        }),
        (a.Button.prototype.setStateSound = function (t, e, i) {
          let n = `on${t}Sound`,
            r = `on${t}SoundMarker`;
          e instanceof a.Sound || e instanceof a.AudioSprite
            ? ((this[n] = e), (this[r] = typeof i === 'string' ? i : ''))
            : ((this[n] = null), (this[r] = ''));
        }),
        (a.Button.prototype.playStateSound = function (t) {
          let e = `on${t}Sound`,
            i = this[e];
          if (i) {
            let n = `on${t}SoundMarker`,
              r = this[n];
            return i.play(r), !0;
          }
          return !1;
        }),
        (a.Button.prototype.setSounds = function (t, e, i, n, r, a, o, s) {
          this.setStateSound('Over', t, e),
          this.setStateSound('Out', r, a),
          this.setStateSound('Down', i, n),
          this.setStateSound('Up', o, s);
        }),
        (a.Button.prototype.setOverSound = function (t, e) {
          this.setStateSound('Over', t, e);
        }),
        (a.Button.prototype.setOutSound = function (t, e) {
          this.setStateSound('Out', t, e);
        }),
        (a.Button.prototype.setDownSound = function (t, e) {
          this.setStateSound('Down', t, e);
        }),
        (a.Button.prototype.setUpSound = function (t, e) {
          this.setStateSound('Up', t, e);
        }),
        (a.Button.prototype.onInputOverHandler = function (t, e) {
          (e.justReleased() &&
              (this.justReleasedPreventsOver & e.pointerMode) ===
                e.pointerMode) ||
              (this.changeStateFrame('Over'),
              (this.onOverMouseOnly && !e.isMouse) ||
                (this.playStateSound('Over'),
                this.onInputOver && this.onInputOver.dispatch(this, e)));
        }),
        (a.Button.prototype.onInputOutHandler = function (t, e) {
          this.changeStateFrame('Out'),
          this.playStateSound('Out'),
          this.onInputOut && this.onInputOut.dispatch(this, e);
        }),
        (a.Button.prototype.onInputDownHandler = function (t, e) {
          this.changeStateFrame('Down'),
          this.playStateSound('Down'),
          this.onInputDown && this.onInputDown.dispatch(this, e);
        }),
        (a.Button.prototype.onInputUpHandler = function (t, e, i) {
          if (
            (this.playStateSound('Up'),
            this.onInputUp && this.onInputUp.dispatch(this, e, i),
            !this.freezeFrames)
          ) {
            if (
              !0 === this.forceOut ||
                (this.forceOut & e.pointerMode) === e.pointerMode
            ) { this.changeStateFrame('Out'); } else {
              const n = this.changeStateFrame('Up');
              n ||
                  (i
                    ? this.changeStateFrame('Over')
                    : this.changeStateFrame('Out'));
            }
          }
        }),
        (a.SpriteBatch = function (t, e, i, n) {
          (void 0 !== e && e !== null) || (e = t.world),
          PIXI.SpriteBatch.call(this),
          a.Group.call(this, t, e, i, n),
          (this.type = a.SPRITEBATCH);
        }),
        (a.SpriteBatch.prototype = a.Utils.extend(
          !0,
          a.SpriteBatch.prototype,
          PIXI.SpriteBatch.prototype,
          a.Group.prototype,
        )),
        (a.SpriteBatch.prototype.constructor = a.SpriteBatch),
        (a.BitmapData = function (t, e, i, n) {
          (void 0 !== i && i !== 0) || (i = 256),
          (void 0 !== n && n !== 0) || (n = 256),
          (this.game = t),
          (this.key = e),
          (this.width = i),
          (this.height = n),
          (this.canvas = PIXI.CanvasPool.create(this, i, n)),
          (this.context = this.canvas.getContext('2d', { alpha: !0 })),
          (this.ctx = this.context),
          (this.smoothProperty =
                t.renderType === a.CANVAS
                  ? t.renderer.renderSession.smoothProperty
                  : a.Canvas.getSmoothingPrefix(this.context)),
          (this.imageData = this.context.getImageData(0, 0, i, n)),
          (this.data = null),
          this.imageData && (this.data = this.imageData.data),
          (this.pixels = null),
          this.data &&
                (this.imageData.data.buffer
                  ? ((this.buffer = this.imageData.data.buffer),
                  (this.pixels = new Uint32Array(this.buffer)))
                  : window.ArrayBuffer
                    ? ((this.buffer = new ArrayBuffer(this.imageData.data.length)),
                    (this.pixels = new Uint32Array(this.buffer)))
                    : (this.pixels = this.imageData.data)),
          (this.baseTexture = new PIXI.BaseTexture(this.canvas)),
          (this.texture = new PIXI.Texture(this.baseTexture)),
          (this.frameData = new a.FrameData()),
          (this.textureFrame = this.frameData.addFrame(new a.Frame(0, 0, 0, i, n, 'bitmapData'))),
          (this.texture.frame = this.textureFrame),
          (this.type = a.BITMAPDATA),
          (this.disableTextureUpload = !1),
          (this.dirty = !1),
          (this.cls = this.clear),
          (this._image = null),
          (this._pos = new a.Point()),
          (this._size = new a.Point()),
          (this._scale = new a.Point()),
          (this._rotate = 0),
          (this._alpha = { prev: 1, current: 1 }),
          (this._anchor = new a.Point()),
          (this._tempR = 0),
          (this._tempG = 0),
          (this._tempB = 0),
          (this._circle = new a.Circle()),
          (this._swapCanvas = void 0);
        }),
        (a.BitmapData.prototype = {
          move(t, e, i) {
            return (
              t !== 0 && this.moveH(t, i), e !== 0 && this.moveV(e, i), this
            );
          },
          moveH(t, e) {
            void 0 === e && (e = !0),
            void 0 === this._swapCanvas &&
                  (this._swapCanvas = PIXI.CanvasPool.create(
                    this,
                    this.width,
                    this.height,
                  ));
            let i = this._swapCanvas,
              n = i.getContext('2d'),
              r = this.height,
              a = this.canvas;
            if ((n.clearRect(0, 0, this.width, this.height), t < 0)) {
              t = Math.abs(t);
              var o = this.width - t;
              e && n.drawImage(a, 0, 0, t, r, o, 0, t, r),
              n.drawImage(a, t, 0, o, r, 0, 0, o, r);
            } else {
              var o = this.width - t;
              e && n.drawImage(a, o, 0, t, r, 0, 0, t, r),
              n.drawImage(a, 0, 0, o, r, t, 0, o, r);
            }
            return this.clear(), this.copy(this._swapCanvas);
          },
          moveV(t, e) {
            void 0 === e && (e = !0),
            void 0 === this._swapCanvas &&
                  (this._swapCanvas = PIXI.CanvasPool.create(
                    this,
                    this.width,
                    this.height,
                  ));
            let i = this._swapCanvas,
              n = i.getContext('2d'),
              r = this.width,
              a = this.canvas;
            if ((n.clearRect(0, 0, this.width, this.height), t < 0)) {
              t = Math.abs(t);
              var o = this.height - t;
              e && n.drawImage(a, 0, 0, r, t, 0, o, r, t),
              n.drawImage(a, 0, t, r, o, 0, 0, r, o);
            } else {
              var o = this.height - t;
              e && n.drawImage(a, 0, o, r, t, 0, 0, r, t),
              n.drawImage(a, 0, 0, r, o, 0, t, r, o);
            }
            return this.clear(), this.copy(this._swapCanvas);
          },
          add(t) {
            if (Array.isArray(t)) {
              for (let e = 0; e < t.length; e++) { t[e].loadTexture && t[e].loadTexture(this); }
            } else t.loadTexture(this);
            return this;
          },
          load(t) {
            if (
              (typeof t === 'string' && (t = this.game.cache.getImage(t)), t)
            ) {
              return (
                this.resize(t.width, t.height),
                this.cls(),
                this.draw(t),
                this.update(),
                this
              );
            }
          },
          clear(t, e, i, n) {
            return (
              void 0 === t && (t = 0),
              void 0 === e && (e = 0),
              void 0 === i && (i = this.width),
              void 0 === n && (n = this.height),
              this.context.clearRect(t, e, i, n),
              (this.dirty = !0),
              this
            );
          },
          fill(t, e, i, n) {
            return (
              void 0 === n && (n = 1),
              (this.context.fillStyle =
                  `rgba(${t},${e},${i},${n})`),
              this.context.fillRect(0, 0, this.width, this.height),
              (this.dirty = !0),
              this
            );
          },
          generateTexture(t) {
            const e = new Image();
            e.src = this.canvas.toDataURL('image/png');
            const i = this.game.cache.addImage(t, '', e);
            return new PIXI.Texture(i.base);
          },
          resize(t, e) {
            return (
              (t === this.width && e === this.height) ||
                  ((this.width = t),
                  (this.height = e),
                  (this.canvas.width = t),
                  (this.canvas.height = e),
                  void 0 !== this._swapCanvas &&
                    ((this._swapCanvas.width = t),
                    (this._swapCanvas.height = e)),
                  (this.baseTexture.width = t),
                  (this.baseTexture.height = e),
                  (this.textureFrame.width = t),
                  (this.textureFrame.height = e),
                  (this.texture.width = t),
                  (this.texture.height = e),
                  (this.texture.crop.width = t),
                  (this.texture.crop.height = e),
                  this.update(),
                  (this.dirty = !0)),
              this
            );
          },
          update(t, e, i, n) {
            return (
              void 0 === t && (t = 0),
              void 0 === e && (e = 0),
              void 0 === i && (i = Math.max(1, this.width)),
              void 0 === n && (n = Math.max(1, this.height)),
              (this.imageData = this.context.getImageData(t, e, i, n)),
              (this.data = this.imageData.data),
              this.imageData.data.buffer
                ? ((this.buffer = this.imageData.data.buffer),
                (this.pixels = new Uint32Array(this.buffer)))
                : window.ArrayBuffer
                  ? ((this.buffer = new ArrayBuffer(this.imageData.data.length)),
                  (this.pixels = new Uint32Array(this.buffer)))
                  : (this.pixels = this.imageData.data),
              this
            );
          },
          processPixelRGB(t, e, i, n, r, o) {
            void 0 === i && (i = 0),
            void 0 === n && (n = 0),
            void 0 === r && (r = this.width),
            void 0 === o && (o = this.height);
            for (
              var s = i + r,
                u = n + o,
                l = a.Color.createColor(),
                c = {
                  r: 0, g: 0, b: 0, a: 0,
                },
                h = !1,
                d = n;
              d < u;
              d++
            ) {
              for (let f = i; f < s; f++) {
                a.Color.unpackPixel(this.getPixel32(f, d), l),
                !1 !== (c = t.call(e, l, f, d)) &&
                      c !== null &&
                      void 0 !== c &&
                      (this.setPixel32(f, d, c.r, c.g, c.b, c.a, !1), (h = !0));
              }
            }
            return (
              h &&
                  (this.context.putImageData(this.imageData, 0, 0),
                  (this.dirty = !0)),
              this
            );
          },
          processPixel(t, e, i, n, r, a) {
            void 0 === i && (i = 0),
            void 0 === n && (n = 0),
            void 0 === r && (r = this.width),
            void 0 === a && (a = this.height);
            for (
              var o = i + r, s = n + a, u = 0, l = 0, c = !1, h = n;
              h < s;
              h++
            ) {
              for (let d = i; d < o; d++) {
                (u = this.getPixel32(d, h)),
                (l = t.call(e, u, d, h)) !== u &&
                      ((this.pixels[h * this.width + d] = l), (c = !0));
              }
            }
            return (
              c &&
                  (this.context.putImageData(this.imageData, 0, 0),
                  (this.dirty = !0)),
              this
            );
          },
          replaceRGB(t, e, i, n, r, o, s, u, l) {
            let c = 0,
              h = 0,
              d = this.width,
              f = this.height,
              p = a.Color.packPixel(t, e, i, n);
            void 0 !== l &&
                l instanceof a.Rectangle &&
                ((c = l.x), (h = l.y), (d = l.width), (f = l.height));
            for (let g = 0; g < f; g++) {
              for (let y = 0; y < d; y++) {
                this.getPixel32(c + y, h + g) === p &&
                    this.setPixel32(c + y, h + g, r, o, s, u, !1);
              }
            }
            return (
              this.context.putImageData(this.imageData, 0, 0),
              (this.dirty = !0),
              this
            );
          },
          setHSL(t, e, i, n) {
            let r = t || t === 0,
              o = e || e === 0,
              s = i || i === 0;
            if (r || o || s) {
              void 0 === n &&
                  (n = new a.Rectangle(0, 0, this.width, this.height));
              for (let u = a.Color.createColor(), l = n.y; l < n.bottom; l++) {
                for (let c = n.x; c < n.right; c++) {
                  a.Color.unpackPixel(this.getPixel32(c, l), u, !0),
                  r && (u.h = t),
                  o && (u.s = e),
                  s && (u.l = i),
                  a.Color.HSLtoRGB(u.h, u.s, u.l, u),
                  this.setPixel32(c, l, u.r, u.g, u.b, u.a, !1);
                }
              }
              return (
                this.context.putImageData(this.imageData, 0, 0),
                (this.dirty = !0),
                this
              );
            }
          },
          shiftHSL(t, e, i, n) {
            if (
              ((void 0 !== t && t !== null) || (t = !1),
              (void 0 !== e && e !== null) || (e = !1),
              (void 0 !== i && i !== null) || (i = !1),
              t || e || i)
            ) {
              void 0 === n &&
                  (n = new a.Rectangle(0, 0, this.width, this.height));
              for (let r = a.Color.createColor(), o = n.y; o < n.bottom; o++) {
                for (let s = n.x; s < n.right; s++) {
                  a.Color.unpackPixel(this.getPixel32(s, o), r, !0),
                  t && (r.h = this.game.math.wrap(r.h + t, 0, 1)),
                  e && (r.s = this.game.math.clamp(r.s + e, 0, 1)),
                  i && (r.l = this.game.math.clamp(r.l + i, 0, 1)),
                  a.Color.HSLtoRGB(r.h, r.s, r.l, r),
                  this.setPixel32(s, o, r.r, r.g, r.b, r.a, !1);
                }
              }
              return (
                this.context.putImageData(this.imageData, 0, 0),
                (this.dirty = !0),
                this
              );
            }
          },
          setPixel32(t, e, i, n, r, o, s) {
            return (
              void 0 === s && (s = !0),
              t >= 0 &&
                  t <= this.width &&
                  e >= 0 &&
                  e <= this.height &&
                  (a.Device.LITTLE_ENDIAN
                    ? (this.pixels[e * this.width + t] =
                        (o << 24) | (r << 16) | (n << 8) | i)
                    : (this.pixels[e * this.width + t] =
                        (i << 24) | (n << 16) | (r << 8) | o),
                  s &&
                    (this.context.putImageData(this.imageData, 0, 0),
                    (this.dirty = !0))),
              this
            );
          },
          setPixel(t, e, i, n, r, a) {
            return this.setPixel32(t, e, i, n, r, 255, a);
          },
          getPixel(t, e, i) {
            i || (i = a.Color.createColor());
            let n = ~~(t + e * this.width);
            return (
              (n *= 4),
              (i.r = this.data[n]),
              (i.g = this.data[++n]),
              (i.b = this.data[++n]),
              (i.a = this.data[++n]),
              i
            );
          },
          getPixel32(t, e) {
            if (t >= 0 && t <= this.width && e >= 0 && e <= this.height) { return this.pixels[e * this.width + t]; }
          },
          getPixelRGB(t, e, i, n, r) {
            return a.Color.unpackPixel(this.getPixel32(t, e), i, n, r);
          },
          getPixels(t) {
            return this.context.getImageData(t.x, t.y, t.width, t.height);
          },
          getFirstPixel(t) {
            void 0 === t && (t = 0);
            let e = a.Color.createColor(),
              i = 0,
              n = 0,
              r = 1,
              o = !1;
            t === 1
              ? ((r = -1), (n = this.height))
              : t === 3 && ((r = -1), (i = this.width));
            do {
              a.Color.unpackPixel(this.getPixel32(i, n), e),
              t === 0 || t === 1
                ? ++i === this.width &&
                      ((i = 0), ((n += r) >= this.height || n <= 0) && (o = !0))
                : (t !== 2 && t !== 3) ||
                      (++n === this.height &&
                        ((n = 0),
                        ((i += r) >= this.width || i <= 0) && (o = !0)));
            } while (e.a === 0 && !o);
            return (e.x = i), (e.y = n), e;
          },
          getBounds(t) {
            return (
              void 0 === t && (t = new a.Rectangle()),
              (t.x = this.getFirstPixel(2).x),
              t.x === this.width
                ? t.setTo(0, 0, 0, 0)
                : ((t.y = this.getFirstPixel(0).y),
                (t.width = this.getFirstPixel(3).x - t.x + 1),
                (t.height = this.getFirstPixel(1).y - t.y + 1),
                t)
            );
          },
          addToWorld(t, e, i, n, r, a) {
            (r = r || 1), (a = a || 1);
            const o = this.game.add.image(t, e, this);
            return o.anchor.set(i, n), o.scale.set(r, a), o;
          },
          copy(t, e, i, n, r, o, s, u, l, c, h, d, f, p, g, y, v) {
            if (
              ((void 0 !== t && t !== null) || (t = this),
              (t instanceof a.RenderTexture ||
                  t instanceof PIXI.RenderTexture) &&
                  (t = t.getCanvas()),
              (this._image = t),
              t instanceof a.Sprite ||
                  t instanceof a.Image ||
                  t instanceof a.Text ||
                  t instanceof PIXI.Sprite)
            ) {
              this._pos.set(t.texture.crop.x, t.texture.crop.y),
              this._size.set(t.texture.crop.width, t.texture.crop.height),
              this._scale.set(t.scale.x, t.scale.y),
              this._anchor.set(t.anchor.x, t.anchor.y),
              (this._rotate = t.rotation),
              (this._alpha.current = t.alpha),
              t.texture instanceof a.RenderTexture ||
                  t.texture instanceof PIXI.RenderTexture
                ? (this._image = t.texture.getCanvas())
                : (this._image = t.texture.baseTexture.source),
              (void 0 !== o && o !== null) || (o = t.x),
              (void 0 !== s && s !== null) || (s = t.y),
              t.texture.trim &&
                    ((o +=
                      t.texture.trim.x - t.anchor.x * t.texture.trim.width),
                    (s +=
                      t.texture.trim.y - t.anchor.y * t.texture.trim.height)),
              t.tint !== 16777215 &&
                    (t.cachedTint !== t.tint &&
                      ((t.cachedTint = t.tint),
                      (t.tintedTexture = PIXI.CanvasTinter.getTintedTexture(
                        t,
                        t.tint,
                      ))),
                    (this._image = t.tintedTexture),
                    this._pos.set(0));
            } else {
              if (
                (this._pos.set(0),
                this._scale.set(1),
                this._anchor.set(0),
                (this._rotate = 0),
                (this._alpha.current = 1),
                t instanceof a.BitmapData)
              ) { this._image = t.canvas; } else if (typeof t === 'string') {
                if ((t = this.game.cache.getImage(t)) === null) return;
                this._image = t;
              }
              this._size.set(this._image.width, this._image.height);
            }
            if (
              ((void 0 !== e && e !== null) || (e = 0),
              (void 0 !== i && i !== null) || (i = 0),
              n && (this._size.x = n),
              r && (this._size.y = r),
              (void 0 !== o && o !== null) || (o = e),
              (void 0 !== s && s !== null) || (s = i),
              (void 0 !== u && u !== null) || (u = this._size.x),
              (void 0 !== l && l !== null) || (l = this._size.y),
              typeof c === 'number' && (this._rotate = c),
              typeof h === 'number' && (this._anchor.x = h),
              typeof d === 'number' && (this._anchor.y = d),
              typeof f === 'number' && (this._scale.x = f),
              typeof p === 'number' && (this._scale.y = p),
              typeof g === 'number' && (this._alpha.current = g),
              void 0 === y && (y = null),
              void 0 === v && (v = !1),
              !(
                this._alpha.current <= 0 ||
                  this._scale.x === 0 ||
                  this._scale.y === 0 ||
                  this._size.x === 0 ||
                  this._size.y === 0
              ))
            ) {
              const m = this.context;
              return (
                (this._alpha.prev = m.globalAlpha),
                m.save(),
                (m.globalAlpha = this._alpha.current),
                y && (this.op = y),
                v && ((o |= 0), (s |= 0)),
                m.translate(o, s),
                m.scale(this._scale.x, this._scale.y),
                m.rotate(this._rotate),
                m.drawImage(
                  this._image,
                  this._pos.x + e,
                  this._pos.y + i,
                  this._size.x,
                  this._size.y,
                  -u * this._anchor.x,
                  -l * this._anchor.y,
                  u,
                  l,
                ),
                m.restore(),
                (m.globalAlpha = this._alpha.prev),
                (this.dirty = !0),
                this
              );
            }
          },
          copyTransform(t, e, i) {
            if (
              (void 0 === e && (e = null),
              void 0 === i && (i = !1),
              !t.hasOwnProperty('worldTransform') ||
                  !t.worldVisible ||
                  t.worldAlpha === 0)
            ) { return this; }
            const n = t.worldTransform;
            if (
              (this._pos.set(t.texture.crop.x, t.texture.crop.y),
              this._size.set(t.texture.crop.width, t.texture.crop.height),
              n.a === 0 ||
                  n.d === 0 ||
                  this._size.x === 0 ||
                  this._size.y === 0)
            ) { return this; }
            t.texture instanceof a.RenderTexture ||
              t.texture instanceof PIXI.RenderTexture
              ? (this._image = t.texture.getCanvas())
              : (this._image = t.texture.baseTexture.source);
            let r = n.tx,
              o = n.ty;
            t.texture.trim &&
                ((r += t.texture.trim.x - t.anchor.x * t.texture.trim.width),
                (o += t.texture.trim.y - t.anchor.y * t.texture.trim.height)),
            t.tint !== 16777215 &&
                  (t.cachedTint !== t.tint &&
                    ((t.cachedTint = t.tint),
                    (t.tintedTexture = PIXI.CanvasTinter.getTintedTexture(
                      t,
                      t.tint,
                    ))),
                  (this._image = t.tintedTexture),
                  this._pos.set(0)),
            i && ((r |= 0), (o |= 0));
            const s = this.context;
            return (
              (this._alpha.prev = s.globalAlpha),
              s.save(),
              (s.globalAlpha = this._alpha.current),
              e && (this.op = e),
              (s[this.smoothProperty] =
                  t.texture.baseTexture.scaleMode === PIXI.scaleModes.LINEAR),
              s.setTransform(n.a, n.b, n.c, n.d, r, o),
              s.drawImage(
                this._image,
                this._pos.x,
                this._pos.y,
                this._size.x,
                this._size.y,
                -this._size.x * t.anchor.x,
                -this._size.y * t.anchor.y,
                this._size.x,
                this._size.y,
              ),
              s.restore(),
              (s.globalAlpha = this._alpha.prev),
              (this.dirty = !0),
              this
            );
          },
          copyRect(t, e, i, n, r, a, o) {
            return this.copy(
              t,
              e.x,
              e.y,
              e.width,
              e.height,
              i,
              n,
              e.width,
              e.height,
              0,
              0,
              0,
              1,
              1,
              r,
              a,
              o,
            );
          },
          draw(t, e, i, n, r, a, o) {
            return this.copy(
              t,
              null,
              null,
              null,
              null,
              e,
              i,
              n,
              r,
              null,
              null,
              null,
              null,
              null,
              null,
              a,
              o,
            );
          },
          drawGroup(t, e, i) {
            return (
              t.total > 0 && t.forEachExists(this.drawGroupProxy, this, e, i),
              this
            );
          },
          drawGroupProxy(t, e, i) {
            if (
              (t.hasOwnProperty('texture') && this.copyTransform(t, e, i),
              t.type === a.GROUP && t.exists)
            ) { this.drawGroup(t, e, i); } else if (t.hasOwnProperty('children') && t.children.length > 0) {
              for (let n = 0; n < t.children.length; n++) {
                t.children[n].exists &&
                    this.copyTransform(t.children[n], e, i);
              }
            }
          },
          drawFull(t, e, i) {
            if (
              !1 === t.worldVisible ||
                t.worldAlpha === 0 ||
                (t.hasOwnProperty('exists') && !1 === t.exists)
            ) { return this; }
            if (
              t.type !== a.GROUP &&
                t.type !== a.EMITTER &&
                t.type !== a.BITMAPTEXT
            ) {
              if (t.type === a.GRAPHICS) {
                const n = t.getBounds();
                this.ctx.save(),
                this.ctx.translate(n.x, n.y),
                PIXI.CanvasGraphics.renderGraphics(t, this.ctx),
                this.ctx.restore();
              } else {
                this.copy(
                  t,
                  null,
                  null,
                  null,
                  null,
                  t.worldPosition.x,
                  t.worldPosition.y,
                  null,
                  null,
                  t.worldRotation,
                  null,
                  null,
                  t.worldScale.x,
                  t.worldScale.y,
                  t.worldAlpha,
                  e,
                  i,
                );
              }
            }
            if (t.children) {
              for (let r = 0; r < t.children.length; r++) { this.drawFull(t.children[r], e, i); }
            }
            return this;
          },
          shadow(t, e, i, n) {
            const r = this.context;
            void 0 === t || t === null
              ? (r.shadowColor = 'rgba(0,0,0,0)')
              : ((r.shadowColor = t),
              (r.shadowBlur = e || 5),
              (r.shadowOffsetX = i || 10),
              (r.shadowOffsetY = n || 10));
          },
          alphaMask(t, e, i, n) {
            return (
              void 0 === n || n === null
                ? this.draw(e).blendSourceAtop()
                : this.draw(e, n.x, n.y, n.width, n.height).blendSourceAtop(),
              void 0 === i || i === null
                ? this.draw(t).blendReset()
                : this.draw(t, i.x, i.y, i.width, i.height).blendReset(),
              this
            );
          },
          extract(t, e, i, n, r, a, o, s, u) {
            return (
              void 0 === r && (r = 255),
              void 0 === a && (a = !1),
              void 0 === o && (o = e),
              void 0 === s && (s = i),
              void 0 === u && (u = n),
              a && t.resize(this.width, this.height),
              this.processPixelRGB((a, l, c) => (
                a.r === e &&
                      a.g === i &&
                      a.b === n &&
                      t.setPixel32(l, c, o, s, u, r, !1),
                !1
              ), this),
              t.context.putImageData(t.imageData, 0, 0),
              (t.dirty = !0),
              t
            );
          },
          rect(t, e, i, n, r) {
            return (
              void 0 !== r && (this.context.fillStyle = r),
              this.context.fillRect(t, e, i, n),
              this
            );
          },
          text(t, e, i, n, r, a) {
            void 0 === e && (e = 0),
            void 0 === i && (i = 0),
            void 0 === n && (n = '14px Courier'),
            void 0 === r && (r = 'rgb(255,255,255)'),
            void 0 === a && (a = !0);
            let o = this.context,
              s = o.font;
            (o.font = n),
            a &&
                  ((o.fillStyle = 'rgb(0,0,0)'), o.fillText(t, e + 1, i + 1)),
            (o.fillStyle = r),
            o.fillText(t, e, i),
            (o.font = s);
          },
          circle(t, e, i, n) {
            const r = this.context;
            return (
              void 0 !== n && (r.fillStyle = n),
              r.beginPath(),
              r.arc(t, e, i, 0, 2 * Math.PI, !1),
              r.closePath(),
              r.fill(),
              this
            );
          },
          line(t, e, i, n, r, a) {
            void 0 === r && (r = '#fff'), void 0 === a && (a = 1);
            const o = this.context;
            return (
              o.beginPath(),
              o.moveTo(t, e),
              o.lineTo(i, n),
              (o.lineWidth = a),
              (o.strokeStyle = r),
              o.stroke(),
              o.closePath(),
              this
            );
          },
          textureLine(t, e, i) {
            if (
              (void 0 === i && (i = 'repeat-x'),
              typeof e !== 'string' || (e = this.game.cache.getImage(e)))
            ) {
              let n = t.length;
              i === 'no-repeat' && n > e.width && (n = e.width);
              const r = this.context;
              return (
                (r.fillStyle = r.createPattern(e, i)),
                (this._circle = new a.Circle(t.start.x, t.start.y, e.height)),
                this._circle.circumferencePoint(
                  t.angle - 1.5707963267948966,
                  !1,
                  this._pos,
                ),
                r.save(),
                r.translate(this._pos.x, this._pos.y),
                r.rotate(t.angle),
                r.fillRect(0, 0, n, e.height),
                r.restore(),
                (this.dirty = !0),
                this
              );
            }
          },
          render() {
            return (
              !this.disableTextureUpload &&
                  this.dirty &&
                  (this.baseTexture.dirty(), (this.dirty = !1)),
              this
            );
          },
          destroy() {
            this.frameData.destroy(),
            this.texture.destroy(!0),
            PIXI.CanvasPool.remove(this);
          },
          blendReset() {
            return (this.op = 'source-over'), this;
          },
          blendSourceOver() {
            return (this.op = 'source-over'), this;
          },
          blendSourceIn() {
            return (this.op = 'source-in'), this;
          },
          blendSourceOut() {
            return (this.op = 'source-out'), this;
          },
          blendSourceAtop() {
            return (this.op = 'source-atop'), this;
          },
          blendDestinationOver() {
            return (this.op = 'destination-over'), this;
          },
          blendDestinationIn() {
            return (this.op = 'destination-in'), this;
          },
          blendDestinationOut() {
            return (this.op = 'destination-out'), this;
          },
          blendDestinationAtop() {
            return (this.op = 'destination-atop'), this;
          },
          blendXor() {
            return (this.op = 'xor'), this;
          },
          blendAdd() {
            return (this.op = 'lighter'), this;
          },
          blendMultiply() {
            return (this.op = 'multiply'), this;
          },
          blendScreen() {
            return (this.op = 'screen'), this;
          },
          blendOverlay() {
            return (this.op = 'overlay'), this;
          },
          blendDarken() {
            return (this.op = 'darken'), this;
          },
          blendLighten() {
            return (this.op = 'lighten'), this;
          },
          blendColorDodge() {
            return (this.op = 'color-dodge'), this;
          },
          blendColorBurn() {
            return (this.op = 'color-burn'), this;
          },
          blendHardLight() {
            return (this.op = 'hard-light'), this;
          },
          blendSoftLight() {
            return (this.op = 'soft-light'), this;
          },
          blendDifference() {
            return (this.op = 'difference'), this;
          },
          blendExclusion() {
            return (this.op = 'exclusion'), this;
          },
          blendHue() {
            return (this.op = 'hue'), this;
          },
          blendSaturation() {
            return (this.op = 'saturation'), this;
          },
          blendColor() {
            return (this.op = 'color'), this;
          },
          blendLuminosity() {
            return (this.op = 'luminosity'), this;
          },
        }),
        Object.defineProperty(a.BitmapData.prototype, 'smoothed', {
          get() {
            a.Canvas.getSmoothingEnabled(this.context);
          },
          set(t) {
            a.Canvas.setSmoothingEnabled(this.context, t);
          },
        }),
        Object.defineProperty(a.BitmapData.prototype, 'op', {
          get() {
            return this.context.globalCompositeOperation;
          },
          set(t) {
            this.context.globalCompositeOperation = t;
          },
        }),
        (a.BitmapData.getTransform = function (t, e, i, n, r, a) {
          return (
            typeof t !== 'number' && (t = 0),
            typeof e !== 'number' && (e = 0),
            typeof i !== 'number' && (i = 1),
            typeof n !== 'number' && (n = 1),
            typeof r !== 'number' && (r = 0),
            typeof a !== 'number' && (a = 0),
            {
              sx: i,
              sy: n,
              scaleX: i,
              scaleY: n,
              skewX: r,
              skewY: a,
              translateX: t,
              translateY: e,
              tx: t,
              ty: e,
            }
          );
        }),
        (a.BitmapData.prototype.constructor = a.BitmapData),
        (PIXI.Graphics = function () {
          PIXI.DisplayObjectContainer.call(this),
          (this.renderable = !0),
          (this.fillAlpha = 1),
          (this.lineWidth = 0),
          (this.lineColor = 0),
          (this.graphicsData = []),
          (this.tint = 16777215),
          (this.blendMode = PIXI.blendModes.NORMAL),
          (this.currentPath = null),
          (this._webGL = []),
          (this.isMask = !1),
          (this.boundsPadding = 0),
          (this._localBounds = new PIXI.Rectangle(0, 0, 1, 1)),
          (this.dirty = !0),
          (this.webGLDirty = !1),
          (this.cachedSpriteDirty = !1);
        }),
        (PIXI.Graphics.prototype = Object.create(PIXI.DisplayObjectContainer.prototype)),
        (PIXI.Graphics.prototype.constructor = PIXI.Graphics),
        (PIXI.Graphics.prototype.lineStyle = function (t, e, i) {
          return (
            (this.lineWidth = t || 0),
            (this.lineColor = e || 0),
            (this.lineAlpha = void 0 === i ? 1 : i),
            this.currentPath &&
                (this.currentPath.shape.points.length
                  ? this.drawShape(new PIXI.Polygon(this.currentPath.shape.points.slice(-2)))
                  : ((this.currentPath.lineWidth = this.lineWidth),
                  (this.currentPath.lineColor = this.lineColor),
                  (this.currentPath.lineAlpha = this.lineAlpha))),
            this
          );
        }),
        (PIXI.Graphics.prototype.moveTo = function (t, e) {
          return this.drawShape(new PIXI.Polygon([t, e])), this;
        }),
        (PIXI.Graphics.prototype.lineTo = function (t, e) {
          return (
            this.currentPath || this.moveTo(0, 0),
            this.currentPath.shape.points.push(t, e),
            (this.dirty = !0),
            this
          );
        }),
        (PIXI.Graphics.prototype.quadraticCurveTo = function (t, e, i, n) {
          this.currentPath
            ? this.currentPath.shape.points.length === 0 &&
                (this.currentPath.shape.points = [0, 0])
            : this.moveTo(0, 0);
          let r,
            a,
            o = this.currentPath.shape.points;
          o.length === 0 && this.moveTo(0, 0);
          for (
            let s = o[o.length - 2], u = o[o.length - 1], l = 0, c = 1;
            c <= 20;
            ++c
          ) {
            (l = c / 20),
            (r = s + (t - s) * l),
            (a = u + (e - u) * l),
            o.push(
              r + (t + (i - t) * l - r) * l,
              a + (e + (n - e) * l - a) * l,
            );
          }
          return (this.dirty = !0), this;
        }),
        (PIXI.Graphics.prototype.bezierCurveTo = function (t, e, i, n, r, a) {
          this.currentPath
            ? this.currentPath.shape.points.length === 0 &&
                (this.currentPath.shape.points = [0, 0])
            : this.moveTo(0, 0);
          for (
            var o,
              s,
              u,
              l,
              c,
              h = this.currentPath.shape.points,
              d = h[h.length - 2],
              f = h[h.length - 1],
              p = 0,
              g = 1;
            g <= 20;
            ++g
          ) {
            (p = g / 20),
            (o = 1 - p),
            (s = o * o),
            (u = s * o),
            (l = p * p),
            (c = l * p),
            h.push(
              u * d + 3 * s * p * t + 3 * o * l * i + c * r,
              u * f + 3 * s * p * e + 3 * o * l * n + c * a,
            );
          }
          return (this.dirty = !0), this;
        }),
        (PIXI.Graphics.prototype.arcTo = function (t, e, i, n, r) {
          this.currentPath
            ? this.currentPath.shape.points.length === 0 &&
                this.currentPath.shape.points.push(t, e)
            : this.moveTo(t, e);
          let a = this.currentPath.shape.points,
            o = a[a.length - 2],
            s = a[a.length - 1],
            u = s - e,
            l = o - t,
            c = n - e,
            h = i - t,
            d = Math.abs(u * h - l * c);
          if (d < 1e-8 || r === 0) { (a[a.length - 2] === t && a[a.length - 1] === e) || a.push(t, e); } else {
            let f = u * u + l * l,
              p = c * c + h * h,
              g = u * c + l * h,
              y = (r * Math.sqrt(f)) / d,
              v = (r * Math.sqrt(p)) / d,
              m = (y * g) / f,
              b = (v * g) / p,
              _ = y * h + v * l,
              w = y * c + v * u,
              x = l * (v + m),
              P = u * (v + m),
              k = h * (y + b),
              T = c * (y + b),
              O = Math.atan2(P - w, x - _),
              E = Math.atan2(T - w, k - _);
            this.arc(_ + t, w + e, r, O, E, l * c > h * u);
          }
          return (this.dirty = !0), this;
        }),
        (PIXI.Graphics.prototype.arc = function (t, e, i, n, r, a, o) {
          if (n === r) return this;
          void 0 === a && (a = !1),
          void 0 === o && (o = 40),
          !a && r <= n
            ? (r += 2 * Math.PI)
            : a && n <= r && (n += 2 * Math.PI);
          let s = a ? -1 * (n - r) : r - n,
            u = Math.ceil(Math.abs(s) / (2 * Math.PI)) * o;
          if (s === 0) return this;
          let l = t + Math.cos(n) * i,
            c = e + Math.sin(n) * i;
          a && this.filling ? this.moveTo(t, e) : this.moveTo(l, c);
          for (
            let h = this.currentPath.shape.points,
              d = s / (2 * u),
              f = 2 * d,
              p = Math.cos(d),
              g = Math.sin(d),
              y = u - 1,
              v = (y % 1) / y,
              m = 0;
            m <= y;
            m++
          ) {
            let b = m + v * m,
              _ = d + n + f * b,
              w = Math.cos(_),
              x = -Math.sin(_);
            h.push((p * w + g * x) * i + t, (p * -x + g * w) * i + e);
          }
          return (this.dirty = !0), this;
        }),
        (PIXI.Graphics.prototype.beginFill = function (t, e) {
          return (
            (this.filling = !0),
            (this.fillColor = t || 0),
            (this.fillAlpha = void 0 === e ? 1 : e),
            this.currentPath &&
                this.currentPath.shape.points.length <= 2 &&
                ((this.currentPath.fill = this.filling),
                (this.currentPath.fillColor = this.fillColor),
                (this.currentPath.fillAlpha = this.fillAlpha)),
            this
          );
        }),
        (PIXI.Graphics.prototype.endFill = function () {
          return (
            (this.filling = !1),
            (this.fillColor = null),
            (this.fillAlpha = 1),
            this
          );
        }),
        (PIXI.Graphics.prototype.drawRect = function (t, e, i, n) {
          return this.drawShape(new PIXI.Rectangle(t, e, i, n)), this;
        }),
        (PIXI.Graphics.prototype.drawRoundedRect = function (t, e, i, n, r) {
          return (
            this.drawShape(new PIXI.RoundedRectangle(t, e, i, n, r)), this
          );
        }),
        (PIXI.Graphics.prototype.drawCircle = function (t, e, i) {
          return this.drawShape(new PIXI.Circle(t, e, i)), this;
        }),
        (PIXI.Graphics.prototype.drawEllipse = function (t, e, i, n) {
          return this.drawShape(new PIXI.Ellipse(t, e, i, n)), this;
        }),
        (PIXI.Graphics.prototype.drawPolygon = function (t) {
          (t instanceof a.Polygon || t instanceof PIXI.Polygon) &&
              (t = t.points);
          let e = t;
          if (!Array.isArray(e)) {
            e = new Array(arguments.length);
            for (let i = 0; i < e.length; ++i) e[i] = arguments[i];
          }
          return this.drawShape(new a.Polygon(e)), this;
        }),
        (PIXI.Graphics.prototype.clear = function () {
          return (
            (this.lineWidth = 0),
            (this.filling = !1),
            (this.dirty = !0),
            (this.clearDirty = !0),
            (this.graphicsData = []),
            this
          );
        }),
        (PIXI.Graphics.prototype.generateTexture = function (t, e, i) {
          void 0 === t && (t = 1),
          void 0 === e && (e = PIXI.scaleModes.DEFAULT),
          void 0 === i && (i = 0);
          const n = this.getBounds();
          (n.width += i), (n.height += i);
          let r = new PIXI.CanvasBuffer(n.width * t, n.height * t),
            a = PIXI.Texture.fromCanvas(r.canvas, e);
          return (
            (a.baseTexture.resolution = t),
            r.context.scale(t, t),
            r.context.translate(-n.x, -n.y),
            PIXI.CanvasGraphics.renderGraphics(this, r.context),
            a
          );
        }),
        (PIXI.Graphics.prototype._renderWebGL = function (t) {
          if (!1 !== this.visible && this.alpha !== 0 && !0 !== this.isMask) {
            if (this._cacheAsBitmap) {
              return (
                (this.dirty || this.cachedSpriteDirty) &&
                    (this._generateCachedSprite(),
                    this.updateCachedSpriteTexture(),
                    (this.cachedSpriteDirty = !1),
                    (this.dirty = !1)),
                (this._cachedSprite.worldAlpha = this.worldAlpha),
                void PIXI.Sprite.prototype._renderWebGL.call(
                  this._cachedSprite,
                  t,
                )
              );
            }
            if (
              (t.spriteBatch.stop(),
              t.blendModeManager.setBlendMode(this.blendMode),
              this._mask && t.maskManager.pushMask(this._mask, t),
              this._filters && t.filterManager.pushFilter(this._filterBlock),
              this.blendMode !== t.spriteBatch.currentBlendMode)
            ) {
              t.spriteBatch.currentBlendMode = this.blendMode;
              const e = PIXI.blendModesWebGL[t.spriteBatch.currentBlendMode];
              t.spriteBatch.gl.blendFunc(e[0], e[1]);
            }
            if (
              (this.webGLDirty && ((this.dirty = !0), (this.webGLDirty = !1)),
              PIXI.WebGLGraphics.renderGraphics(this, t),
              this.children.length)
            ) {
              t.spriteBatch.start();
              for (let i = 0; i < this.children.length; i++) { this.children[i]._renderWebGL(t); }
              t.spriteBatch.stop();
            }
            this._filters && t.filterManager.popFilter(),
            this._mask && t.maskManager.popMask(this.mask, t),
            t.drawCount++,
            t.spriteBatch.start();
          }
        }),
        (PIXI.Graphics.prototype._renderCanvas = function (t) {
          if (!1 !== this.visible && this.alpha !== 0 && !0 !== this.isMask) {
            if (
              (this._prevTint !== this.tint &&
                  ((this.dirty = !0), (this._prevTint = this.tint)),
              this._cacheAsBitmap)
            ) {
              return (
                (this.dirty || this.cachedSpriteDirty) &&
                    (this._generateCachedSprite(),
                    this.updateCachedSpriteTexture(),
                    (this.cachedSpriteDirty = !1),
                    (this.dirty = !1)),
                (this._cachedSprite.alpha = this.alpha),
                void PIXI.Sprite.prototype._renderCanvas.call(
                  this._cachedSprite,
                  t,
                )
              );
            }
            let e = t.context,
              i = this.worldTransform;
            this.blendMode !== t.currentBlendMode &&
                ((t.currentBlendMode = this.blendMode),
                (e.globalCompositeOperation =
                  PIXI.blendModesCanvas[t.currentBlendMode])),
            this._mask && t.maskManager.pushMask(this._mask, t);
            let n = t.resolution,
              r = i.tx * t.resolution + t.shakeX,
              a = i.ty * t.resolution + t.shakeY;
            e.setTransform(i.a * n, i.b * n, i.c * n, i.d * n, r, a),
            PIXI.CanvasGraphics.renderGraphics(this, e);
            for (let o = 0; o < this.children.length; o++) { this.children[o]._renderCanvas(t); }
            this._mask && t.maskManager.popMask(t);
          }
        }),
        (PIXI.Graphics.prototype.getBounds = function (t) {
          if (!this._currentBounds) {
            if (!this.renderable) return PIXI.EmptyRectangle;
            this.dirty &&
                (this.updateLocalBounds(),
                (this.webGLDirty = !0),
                (this.cachedSpriteDirty = !0),
                (this.dirty = !1));
            let e = this._localBounds,
              i = e.x,
              n = e.width + e.x,
              r = e.y,
              a = e.height + e.y,
              o = t || this.worldTransform,
              s = o.a,
              u = o.b,
              l = o.c,
              c = o.d,
              h = o.tx,
              d = o.ty,
              f = s * n + l * a + h,
              p = c * a + u * n + d,
              g = s * i + l * a + h,
              y = c * a + u * i + d,
              v = s * i + l * r + h,
              m = c * r + u * i + d,
              b = s * n + l * r + h,
              _ = c * r + u * n + d,
              w = f,
              x = p,
              P = f,
              k = p;
            (P = g < P ? g : P),
            (P = v < P ? v : P),
            (P = b < P ? b : P),
            (k = y < k ? y : k),
            (k = m < k ? m : k),
            (k = _ < k ? _ : k),
            (w = g > w ? g : w),
            (w = v > w ? v : w),
            (w = b > w ? b : w),
            (x = y > x ? y : x),
            (x = m > x ? m : x),
            (x = _ > x ? _ : x),
            (this._bounds.x = P),
            (this._bounds.width = w - P),
            (this._bounds.y = k),
            (this._bounds.height = x - k),
            (this._currentBounds = this._bounds);
          }
          return this._currentBounds;
        }),
        (PIXI.Graphics.prototype.containsPoint = function (t) {
          this.worldTransform.applyInverse(t, tempPoint);
          for (let e = this.graphicsData, i = 0; i < e.length; i++) {
            const n = e[i];
            if (
              n.fill &&
                n.shape &&
                n.shape.contains(tempPoint.x, tempPoint.y)
            ) { return !0; }
          }
          return !1;
        }),
        (PIXI.Graphics.prototype.updateLocalBounds = function () {
          let t = 1 / 0,
            e = -1 / 0,
            i = 1 / 0,
            n = -1 / 0;
          if (this.graphicsData.length) {
            for (
              var r, o, s, u, l, c, h = 0;
              h < this.graphicsData.length;
              h++
            ) {
              let d = this.graphicsData[h],
                f = d.type,
                p = d.lineWidth;
              if (
                ((r = d.shape),
                f === PIXI.Graphics.RECT || f === PIXI.Graphics.RREC)
              ) {
                (s = r.x - p / 2),
                (u = r.y - p / 2),
                (l = r.width + p),
                (c = r.height + p),
                (t = s < t ? s : t),
                (e = s + l > e ? s + l : e),
                (i = u < i ? u : i),
                (n = u + c > n ? u + c : n);
              } else if (f === PIXI.Graphics.CIRC) {
                (s = r.x),
                (u = r.y),
                (l = r.radius + p / 2),
                (c = r.radius + p / 2),
                (t = s - l < t ? s - l : t),
                (e = s + l > e ? s + l : e),
                (i = u - c < i ? u - c : i),
                (n = u + c > n ? u + c : n);
              } else if (f === PIXI.Graphics.ELIP) {
                (s = r.x),
                (u = r.y),
                (l = r.width + p / 2),
                (c = r.height + p / 2),
                (t = s - l < t ? s - l : t),
                (e = s + l > e ? s + l : e),
                (i = u - c < i ? u - c : i),
                (n = u + c > n ? u + c : n);
              } else {
                o = r.points;
                for (let g = 0; g < o.length; g++) {
                  o[g] instanceof a.Point
                    ? ((s = o[g].x), (u = o[g].y))
                    : ((s = o[g]), (u = o[g + 1]), g < o.length - 1 && g++),
                  (t = s - p < t ? s - p : t),
                  (e = s + p > e ? s + p : e),
                  (i = u - p < i ? u - p : i),
                  (n = u + p > n ? u + p : n);
                }
              }
            }
          } else (t = 0), (e = 0), (i = 0), (n = 0);
          const y = this.boundsPadding;
          (this._localBounds.x = t - y),
          (this._localBounds.width = e - t + 2 * y),
          (this._localBounds.y = i - y),
          (this._localBounds.height = n - i + 2 * y);
        }),
        (PIXI.Graphics.prototype._generateCachedSprite = function () {
          const t = this.getLocalBounds();
          if (this._cachedSprite) { this._cachedSprite.buffer.resize(t.width, t.height); } else {
            let e = new PIXI.CanvasBuffer(t.width, t.height),
              i = PIXI.Texture.fromCanvas(e.canvas);
            (this._cachedSprite = new PIXI.Sprite(i)),
            (this._cachedSprite.buffer = e),
            (this._cachedSprite.worldTransform = this.worldTransform);
          }
          (this._cachedSprite.anchor.x = -t.x / t.width),
          (this._cachedSprite.anchor.y = -t.y / t.height),
          this._cachedSprite.buffer.context.translate(-t.x, -t.y),
          (this.worldAlpha = 1),
          PIXI.CanvasGraphics.renderGraphics(
            this,
            this._cachedSprite.buffer.context,
          ),
          (this._cachedSprite.alpha = this.alpha);
        }),
        (PIXI.Graphics.prototype.updateCachedSpriteTexture = function () {
          let t = this._cachedSprite,
            e = t.texture,
            i = t.buffer.canvas;
          (e.baseTexture.width = i.width),
          (e.baseTexture.height = i.height),
          (e.crop.width = e.frame.width = i.width),
          (e.crop.height = e.frame.height = i.height),
          (t._width = i.width),
          (t._height = i.height),
          e.baseTexture.dirty();
        }),
        (PIXI.Graphics.prototype.destroyCachedSprite = function () {
          this._cachedSprite.texture.destroy(!0), (this._cachedSprite = null);
        }),
        (PIXI.Graphics.prototype.drawShape = function (t) {
          this.currentPath &&
              this.currentPath.shape.points.length <= 2 &&
              this.graphicsData.pop(),
          (this.currentPath = null),
          t instanceof a.Polygon && ((t = t.clone()), t.flatten());
          const e = new PIXI.GraphicsData(
            this.lineWidth,
            this.lineColor,
            this.lineAlpha,
            this.fillColor,
            this.fillAlpha,
            this.filling,
            t,
          );
          return (
            this.graphicsData.push(e),
            e.type === PIXI.Graphics.POLY &&
                ((e.shape.closed = this.filling), (this.currentPath = e)),
            (this.dirty = !0),
            e
          );
        }),
        Object.defineProperty(PIXI.Graphics.prototype, 'cacheAsBitmap', {
          get() {
            return this._cacheAsBitmap;
          },
          set(t) {
            (this._cacheAsBitmap = t),
            this._cacheAsBitmap
              ? this._generateCachedSprite()
              : this.destroyCachedSprite(),
            (this.dirty = !0),
            (this.webGLDirty = !0);
          },
        }),
        (PIXI.GraphicsData = function (t, e, i, n, r, a, o) {
          (this.lineWidth = t),
          (this.lineColor = e),
          (this.lineAlpha = i),
          (this._lineTint = e),
          (this.fillColor = n),
          (this.fillAlpha = r),
          (this._fillTint = n),
          (this.fill = a),
          (this.shape = o),
          (this.type = o.type);
        }),
        (PIXI.GraphicsData.prototype.constructor = PIXI.GraphicsData),
        (PIXI.GraphicsData.prototype.clone = function () {
          return new GraphicsData(
            this.lineWidth,
            this.lineColor,
            this.lineAlpha,
            this.fillColor,
            this.fillAlpha,
            this.fill,
            this.shape,
          );
        }),
        (PIXI.PolyK = {}),
        (PIXI.PolyK.Triangulate = function (t) {
          let e = !0,
            i = t.length >> 1;
          if (i < 3) return [];
          for (var n = [], r = [], a = 0; a < i; a++) r.push(a);
          a = 0;
          for (let o = i; o > 3;) {
            let s = r[(a + 0) % o],
              u = r[(a + 1) % o],
              l = r[(a + 2) % o],
              c = t[2 * s],
              h = t[2 * s + 1],
              d = t[2 * u],
              f = t[2 * u + 1],
              p = t[2 * l],
              g = t[2 * l + 1],
              y = !1;
            if (PIXI.PolyK._convex(c, h, d, f, p, g, e)) {
              y = !0;
              for (let v = 0; v < o; v++) {
                const m = r[v];
                if (
                  m !== s &&
                    m !== u &&
                    m !== l &&
                    PIXI.PolyK._PointInTriangle(
                      t[2 * m],
                      t[2 * m + 1],
                      c,
                      h,
                      d,
                      f,
                      p,
                      g,
                    )
                ) {
                  y = !1;
                  break;
                }
              }
            }
            if (y) n.push(s, u, l), r.splice((a + 1) % o, 1), o--, (a = 0);
            else if (a++ > 3 * o) {
              if (!e) return null;
              for (n = [], r = [], a = 0; a < i; a++) r.push(a);
              (a = 0), (o = i), (e = !1);
            }
          }
          return n.push(r[0], r[1], r[2]), n;
        }),
        (PIXI.PolyK._PointInTriangle = function (t, e, i, n, r, a, o, s) {
          let u = o - i,
            l = s - n,
            c = r - i,
            h = a - n,
            d = t - i,
            f = e - n,
            p = u * u + l * l,
            g = u * c + l * h,
            y = u * d + l * f,
            v = c * c + h * h,
            m = c * d + h * f,
            b = 1 / (p * v - g * g),
            _ = (v * y - g * m) * b,
            w = (p * m - g * y) * b;
          return _ >= 0 && w >= 0 && _ + w < 1;
        }),
        (PIXI.PolyK._convex = function (t, e, i, n, r, a, o) {
          return (e - n) * (r - i) + (i - t) * (a - n) >= 0 === o;
        }),
        (PIXI.EarCut = {}),
        (PIXI.EarCut.Triangulate = function (t, e, i) {
          i = i || 2;
          let n = e && e.length,
            r = n ? e[0] * i : t.length,
            a = PIXI.EarCut.linkedList(t, 0, r, i, !0),
            o = [];
          if (!a) return o;
          let s,
            u,
            l,
            c,
            h,
            d,
            f;
          if (
            (n && (a = PIXI.EarCut.eliminateHoles(t, e, a, i)),
            t.length > 80 * i)
          ) {
            (s = l = t[0]), (u = c = t[1]);
            for (let p = i; p < r; p += i) {
              (h = t[p]),
              (d = t[p + 1]),
              h < s && (s = h),
              d < u && (u = d),
              h > l && (l = h),
              d > c && (c = d);
            }
            f = Math.max(l - s, c - u);
          }
          return PIXI.EarCut.earcutLinked(a, o, i, s, u, f), o;
        }),
        (PIXI.EarCut.linkedList = function (t, e, i, n, r) {
          let a,
            o,
            s,
            u = 0;
          for (a = e, o = i - n; a < i; a += n) { (u += (t[o] - t[a]) * (t[a + 1] + t[o + 1])), (o = a); }
          if (r === u > 0) {
            for (a = e; a < i; a += n) { s = PIXI.EarCut.insertNode(a, t[a], t[a + 1], s); }
          } else {
            for (a = i - n; a >= e; a -= n) { s = PIXI.EarCut.insertNode(a, t[a], t[a + 1], s); }
          }
          return s;
        }),
        (PIXI.EarCut.filterPoints = function (t, e) {
          if (!t) return t;
          e || (e = t);
          let i,
            n = t;
          do {
            if (
              ((i = !1),
              n.steiner ||
                  (!PIXI.EarCut.equals(n, n.next) &&
                    PIXI.EarCut.area(n.prev, n, n.next) !== 0))
            ) { n = n.next; } else {
              if ((PIXI.EarCut.removeNode(n), (n = e = n.prev) === n.next)) { return null; }
              i = !0;
            }
          } while (i || n !== e);
          return e;
        }),
        (PIXI.EarCut.earcutLinked = function (t, e, i, n, r, a, o) {
          if (t) {
            !o && a && PIXI.EarCut.indexCurve(t, n, r, a);
            for (var s, u, l = t; t.prev !== t.next;) {
              if (
                ((s = t.prev),
                (u = t.next),
                a
                  ? PIXI.EarCut.isEarHashed(t, n, r, a)
                  : PIXI.EarCut.isEar(t))
              ) {
                e.push(s.i / i),
                e.push(t.i / i),
                e.push(u.i / i),
                PIXI.EarCut.removeNode(t),
                (t = u.next),
                (l = u.next);
              } else if ((t = u) === l) {
                o
                  ? o === 1
                    ? ((t = PIXI.EarCut.cureLocalIntersections(t, e, i)),
                    PIXI.EarCut.earcutLinked(t, e, i, n, r, a, 2))
                    : o === 2 && PIXI.EarCut.splitEarcut(t, e, i, n, r, a)
                  : PIXI.EarCut.earcutLinked(
                    PIXI.EarCut.filterPoints(t),
                    e,
                    i,
                    n,
                    r,
                    a,
                    1,
                  );
                break;
              }
            }
          }
        }),
        (PIXI.EarCut.isEar = function (t) {
          let e = t.prev,
            i = t,
            n = t.next;
          if (PIXI.EarCut.area(e, i, n) >= 0) return !1;
          for (let r = t.next.next; r !== t.prev;) {
            if (
              PIXI.EarCut.pointInTriangle(
                e.x,
                e.y,
                i.x,
                i.y,
                n.x,
                n.y,
                r.x,
                r.y,
              ) &&
                PIXI.EarCut.area(r.prev, r, r.next) >= 0
            ) { return !1; }
            r = r.next;
          }
          return !0;
        }),
        (PIXI.EarCut.isEarHashed = function (t, e, i, n) {
          let r = t.prev,
            a = t,
            o = t.next;
          if (PIXI.EarCut.area(r, a, o) >= 0) return !1;
          for (
            var s =
                  r.x < a.x ? (r.x < o.x ? r.x : o.x) : a.x < o.x ? a.x : o.x,
              u = r.y < a.y ? (r.y < o.y ? r.y : o.y) : a.y < o.y ? a.y : o.y,
              l = r.x > a.x ? (r.x > o.x ? r.x : o.x) : a.x > o.x ? a.x : o.x,
              c = r.y > a.y ? (r.y > o.y ? r.y : o.y) : a.y > o.y ? a.y : o.y,
              h = PIXI.EarCut.zOrder(s, u, e, i, n),
              d = PIXI.EarCut.zOrder(l, c, e, i, n),
              f = t.nextZ;
            f && f.z <= d;

          ) {
            if (
              f !== t.prev &&
                f !== t.next &&
                PIXI.EarCut.pointInTriangle(
                  r.x,
                  r.y,
                  a.x,
                  a.y,
                  o.x,
                  o.y,
                  f.x,
                  f.y,
                ) &&
                PIXI.EarCut.area(f.prev, f, f.next) >= 0
            ) { return !1; }
            f = f.nextZ;
          }
          for (f = t.prevZ; f && f.z >= h;) {
            if (
              f !== t.prev &&
                f !== t.next &&
                PIXI.EarCut.pointInTriangle(
                  r.x,
                  r.y,
                  a.x,
                  a.y,
                  o.x,
                  o.y,
                  f.x,
                  f.y,
                ) &&
                PIXI.EarCut.area(f.prev, f, f.next) >= 0
            ) { return !1; }
            f = f.prevZ;
          }
          return !0;
        }),
        (PIXI.EarCut.cureLocalIntersections = function (t, e, i) {
          let n = t;
          do {
            let r = n.prev,
              a = n.next.next;
            PIXI.EarCut.intersects(r, n, n.next, a) &&
                PIXI.EarCut.locallyInside(r, a) &&
                PIXI.EarCut.locallyInside(a, r) &&
                (e.push(r.i / i),
                e.push(n.i / i),
                e.push(a.i / i),
                PIXI.EarCut.removeNode(n),
                PIXI.EarCut.removeNode(n.next),
                (n = t = a)),
            (n = n.next);
          } while (n !== t);
          return n;
        }),
        (PIXI.EarCut.splitEarcut = function (t, e, i, n, r, a) {
          let o = t;
          do {
            for (let s = o.next.next; s !== o.prev;) {
              if (o.i !== s.i && PIXI.EarCut.isValidDiagonal(o, s)) {
                let u = PIXI.EarCut.splitPolygon(o, s);
                return (
                  (o = PIXI.EarCut.filterPoints(o, o.next)),
                  (u = PIXI.EarCut.filterPoints(u, u.next)),
                  PIXI.EarCut.earcutLinked(o, e, i, n, r, a),
                  void PIXI.EarCut.earcutLinked(u, e, i, n, r, a)
                );
              }
              s = s.next;
            }
            o = o.next;
          } while (o !== t);
        }),
        (PIXI.EarCut.eliminateHoles = function (t, e, i, n) {
          let r,
            a,
            o,
            s,
            u,
            l = [];
          for (r = 0, a = e.length; r < a; r++) {
            (o = e[r] * n),
            (s = r < a - 1 ? e[r + 1] * n : t.length),
            (u = PIXI.EarCut.linkedList(t, o, s, n, !1)),
            u === u.next && (u.steiner = !0),
            l.push(PIXI.EarCut.getLeftmost(u));
          }
          for (l.sort(compareX), r = 0; r < l.length; r++) {
            PIXI.EarCut.eliminateHole(l[r], i),
            (i = PIXI.EarCut.filterPoints(i, i.next));
          }
          return i;
        }),
        (PIXI.EarCut.compareX = function (t, e) {
          return t.x - e.x;
        }),
        (PIXI.EarCut.eliminateHole = function (t, e) {
          if ((e = PIXI.EarCut.findHoleBridge(t, e))) {
            const i = PIXI.EarCut.splitPolygon(e, t);
            PIXI.EarCut.filterPoints(i, i.next);
          }
        }),
        (PIXI.EarCut.findHoleBridge = function (t, e) {
          let i,
            n = e,
            r = t.x,
            a = t.y,
            o = -1 / 0;
          do {
            if (a <= n.y && a >= n.next.y) {
              const s = n.x + ((a - n.y) * (n.next.x - n.x)) / (n.next.y - n.y);
              s <= r && s > o && ((o = s), (i = n.x < n.next.x ? n : n.next));
            }
            n = n.next;
          } while (n !== e);
          if (!i) return null;
          if (t.x === i.x) return i.prev;
          let u,
            l = i,
            c = 1 / 0;
          for (n = i.next; n !== l;) {
            r >= n.x &&
                n.x >= i.x &&
                PIXI.EarCut.pointInTriangle(
                  a < i.y ? r : o,
                  a,
                  i.x,
                  i.y,
                  a < i.y ? o : r,
                  a,
                  n.x,
                  n.y,
                ) &&
                ((u = Math.abs(a - n.y) / (r - n.x)) < c ||
                  (u === c && n.x > i.x)) &&
                PIXI.EarCut.locallyInside(n, t) &&
                ((i = n), (c = u)),
            (n = n.next);
          }
          return i;
        }),
        (PIXI.EarCut.indexCurve = function (t, e, i, n) {
          let r = t;
          do {
            r.z === null && (r.z = PIXI.EarCut.zOrder(r.x, r.y, e, i, n)),
            (r.prevZ = r.prev),
            (r.nextZ = r.next),
            (r = r.next);
          } while (r !== t);
          (r.prevZ.nextZ = null), (r.prevZ = null), PIXI.EarCut.sortLinked(r);
        }),
        (PIXI.EarCut.sortLinked = function (t) {
          let e,
            i,
            n,
            r,
            a,
            o,
            s,
            u,
            l = 1;
          do {
            for (i = t, t = null, a = null, o = 0; i;) {
              for (
                o++, n = i, s = 0, e = 0;
                e < l && (s++, (n = n.nextZ));
                e++
              );
              for (u = l; s > 0 || (u > 0 && n);) {
                s === 0
                  ? ((r = n), (n = n.nextZ), u--)
                  : u !== 0 && n
                    ? i.z <= n.z
                      ? ((r = i), (i = i.nextZ), s--)
                      : ((r = n), (n = n.nextZ), u--)
                    : ((r = i), (i = i.nextZ), s--),
                a ? (a.nextZ = r) : (t = r),
                (r.prevZ = a),
                (a = r);
              }
              i = n;
            }
            (a.nextZ = null), (l *= 2);
          } while (o > 1);
          return t;
        }),
        (PIXI.EarCut.zOrder = function (t, e, i, n, r) {
          return (
            (t = (32767 * (t - i)) / r),
            (e = (32767 * (e - n)) / r),
            (t = 16711935 & (t | (t << 8))),
            (t = 252645135 & (t | (t << 4))),
            (t = 858993459 & (t | (t << 2))),
            (t = 1431655765 & (t | (t << 1))),
            (e = 16711935 & (e | (e << 8))),
            (e = 252645135 & (e | (e << 4))),
            (e = 858993459 & (e | (e << 2))),
            (e = 1431655765 & (e | (e << 1))),
            t | (e << 1)
          );
        }),
        (PIXI.EarCut.getLeftmost = function (t) {
          let e = t,
            i = t;
          do {
            e.x < i.x && (i = e), (e = e.next);
          } while (e !== t);
          return i;
        }),
        (PIXI.EarCut.pointInTriangle = function (t, e, i, n, r, a, o, s) {
          return (
            (r - o) * (e - s) - (t - o) * (a - s) >= 0 &&
              (t - o) * (n - s) - (i - o) * (e - s) >= 0 &&
              (i - o) * (a - s) - (r - o) * (n - s) >= 0
          );
        }),
        (PIXI.EarCut.isValidDiagonal = function (t, e) {
          return (
            PIXI.EarCut.equals(t, e) ||
              (t.next.i !== e.i &&
                t.prev.i !== e.i &&
                !PIXI.EarCut.intersectsPolygon(t, e) &&
                PIXI.EarCut.locallyInside(t, e) &&
                PIXI.EarCut.locallyInside(e, t) &&
                PIXI.EarCut.middleInside(t, e))
          );
        }),
        (PIXI.EarCut.area = function (t, e, i) {
          return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y);
        }),
        (PIXI.EarCut.equals = function (t, e) {
          return t.x === e.x && t.y === e.y;
        }),
        (PIXI.EarCut.intersects = function (t, e, i, n) {
          return (
            PIXI.EarCut.area(t, e, i) > 0 != PIXI.EarCut.area(t, e, n) > 0 &&
              PIXI.EarCut.area(i, n, t) > 0 != PIXI.EarCut.area(i, n, e) > 0
          );
        }),
        (PIXI.EarCut.intersectsPolygon = function (t, e) {
          let i = t;
          do {
            if (
              i.i !== t.i &&
                i.next.i !== t.i &&
                i.i !== e.i &&
                i.next.i !== e.i &&
                PIXI.EarCut.intersects(i, i.next, t, e)
            ) { return !0; }
            i = i.next;
          } while (i !== t);
          return !1;
        }),
        (PIXI.EarCut.locallyInside = function (t, e) {
          return PIXI.EarCut.area(t.prev, t, t.next) < 0
            ? PIXI.EarCut.area(t, e, t.next) >= 0 &&
                  PIXI.EarCut.area(t, t.prev, e) >= 0
            : PIXI.EarCut.area(t, e, t.prev) < 0 ||
                  PIXI.EarCut.area(t, t.next, e) < 0;
        }),
        (PIXI.EarCut.middleInside = function (t, e) {
          let i = t,
            n = !1,
            r = (t.x + e.x) / 2,
            a = (t.y + e.y) / 2;
          do {
            i.y > a != i.next.y > a &&
                r < ((i.next.x - i.x) * (a - i.y)) / (i.next.y - i.y) + i.x &&
                (n = !n),
            (i = i.next);
          } while (i !== t);
          return n;
        }),
        (PIXI.EarCut.splitPolygon = function (t, e) {
          let i = new PIXI.EarCut.Node(t.i, t.x, t.y),
            n = new PIXI.EarCut.Node(e.i, e.x, e.y),
            r = t.next,
            a = e.prev;
          return (
            (t.next = e),
            (e.prev = t),
            (i.next = r),
            (r.prev = i),
            (n.next = i),
            (i.prev = n),
            (a.next = n),
            (n.prev = a),
            n
          );
        }),
        (PIXI.EarCut.insertNode = function (t, e, i, n) {
          const r = new PIXI.EarCut.Node(t, e, i);
          return (
            n
              ? ((r.next = n.next),
              (r.prev = n),
              (n.next.prev = r),
              (n.next = r))
              : ((r.prev = r), (r.next = r)),
            r
          );
        }),
        (PIXI.EarCut.removeNode = function (t) {
          (t.next.prev = t.prev),
          (t.prev.next = t.next),
          t.prevZ && (t.prevZ.nextZ = t.nextZ),
          t.nextZ && (t.nextZ.prevZ = t.prevZ);
        }),
        (PIXI.EarCut.Node = function (t, e, i) {
          (this.i = t),
          (this.x = e),
          (this.y = i),
          (this.prev = null),
          (this.next = null),
          (this.z = null),
          (this.prevZ = null),
          (this.nextZ = null),
          (this.steiner = !1);
        }),
        (PIXI.WebGLGraphics = function () {}),
        (PIXI.WebGLGraphics.stencilBufferLimit = 6),
        (PIXI.WebGLGraphics.renderGraphics = function (t, e) {
          let i,
            n = e.gl,
            r = e.projection,
            a = e.offset,
            o = e.shaderManager.primitiveShader;
          t.dirty && PIXI.WebGLGraphics.updateGraphics(t, n);
          for (let s = t._webGL[n.id], u = 0; u < s.data.length; u++) {
            s.data[u].mode === 1
              ? ((i = s.data[u]),
              e.stencilManager.pushStencil(t, i, e),
              n.drawElements(
                n.TRIANGLE_FAN,
                4,
                n.UNSIGNED_SHORT,
                2 * (i.indices.length - 4),
              ),
              e.stencilManager.popStencil(t, i, e))
              : ((i = s.data[u]),
              e.shaderManager.setShader(o),
              (o = e.shaderManager.primitiveShader),
              n.uniformMatrix3fv(
                o.translationMatrix,
                !1,
                t.worldTransform.toArray(!0),
              ),
              n.uniform1f(o.flipY, 1),
              n.uniform2f(o.projectionVector, r.x, -r.y),
              n.uniform2f(o.offsetVector, -a.x, -a.y),
              n.uniform3fv(o.tintColor, PIXI.hex2rgb(t.tint)),
              n.uniform1f(o.alpha, t.worldAlpha),
              n.bindBuffer(n.ARRAY_BUFFER, i.buffer),
              n.vertexAttribPointer(
                o.aVertexPosition,
                2,
                n.FLOAT,
                !1,
                24,
                0,
              ),
              n.vertexAttribPointer(
                o.colorAttribute,
                4,
                n.FLOAT,
                !1,
                24,
                8,
              ),
              n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, i.indexBuffer),
              n.drawElements(
                n.TRIANGLE_STRIP,
                i.indices.length,
                n.UNSIGNED_SHORT,
                0,
              ));
          }
        }),
        (PIXI.WebGLGraphics.updateGraphics = function (t, e) {
          let i = t._webGL[e.id];
          i || (i = t._webGL[e.id] = { lastIndex: 0, data: [], gl: e }),
          (t.dirty = !1);
          let n;
          if (t.clearDirty) {
            for (t.clearDirty = !1, n = 0; n < i.data.length; n++) {
              const r = i.data[n];
              r.reset(), PIXI.WebGLGraphics.graphicsDataPool.push(r);
            }
            (i.data = []), (i.lastIndex = 0);
          }
          let a;
          for (n = i.lastIndex; n < t.graphicsData.length; n++) {
            const o = t.graphicsData[n];
            if (o.type === PIXI.Graphics.POLY) {
              if (
                ((o.points = o.shape.points.slice()),
                o.shape.closed &&
                    ((o.points[0] === o.points[o.points.length - 2] &&
                      o.points[1] === o.points[o.points.length - 1]) ||
                      o.points.push(o.points[0], o.points[1])),
                o.fill &&
                    o.points.length >= PIXI.WebGLGraphics.stencilBufferLimit)
              ) {
                if (
                  o.points.length <
                    2 * PIXI.WebGLGraphics.stencilBufferLimit
                ) {
                  a = PIXI.WebGLGraphics.switchMode(i, 0);
                  const s = PIXI.WebGLGraphics.buildPoly(o, a);
                  s ||
                      ((a = PIXI.WebGLGraphics.switchMode(i, 1)),
                      PIXI.WebGLGraphics.buildComplexPoly(o, a));
                } else {
                  (a = PIXI.WebGLGraphics.switchMode(i, 1)),
                  PIXI.WebGLGraphics.buildComplexPoly(o, a);
                }
              }
              o.lineWidth > 0 &&
                  ((a = PIXI.WebGLGraphics.switchMode(i, 0)),
                  PIXI.WebGLGraphics.buildLine(o, a));
            } else {
              (a = PIXI.WebGLGraphics.switchMode(i, 0)),
              o.type === PIXI.Graphics.RECT
                ? PIXI.WebGLGraphics.buildRectangle(o, a)
                : o.type === PIXI.Graphics.CIRC ||
                      o.type === PIXI.Graphics.ELIP
                  ? PIXI.WebGLGraphics.buildCircle(o, a)
                  : o.type === PIXI.Graphics.RREC &&
                      PIXI.WebGLGraphics.buildRoundedRectangle(o, a);
            }
            i.lastIndex++;
          }
          for (n = 0; n < i.data.length; n++) { (a = i.data[n]), a.dirty && a.upload(); }
        }),
        (PIXI.WebGLGraphics.switchMode = function (t, e) {
          let i;
          return (
            t.data.length
              ? ((i = t.data[t.data.length - 1]),
              (i.mode === e && e !== 1) ||
                    ((i =
                      PIXI.WebGLGraphics.graphicsDataPool.pop() ||
                      new PIXI.WebGLGraphicsData(t.gl)),
                    (i.mode = e),
                    t.data.push(i)))
              : ((i =
                    PIXI.WebGLGraphics.graphicsDataPool.pop() ||
                    new PIXI.WebGLGraphicsData(t.gl)),
              (i.mode = e),
              t.data.push(i)),
            (i.dirty = !0),
            i
          );
        }),
        (PIXI.WebGLGraphics.buildRectangle = function (t, e) {
          let i = t.shape,
            n = i.x,
            r = i.y,
            a = i.width,
            o = i.height;
          if (t.fill) {
            let s = PIXI.hex2rgb(t.fillColor),
              u = t.fillAlpha,
              l = s[0] * u,
              c = s[1] * u,
              h = s[2] * u,
              d = e.points,
              f = e.indices,
              p = d.length / 6;
            d.push(n, r),
            d.push(l, c, h, u),
            d.push(n + a, r),
            d.push(l, c, h, u),
            d.push(n, r + o),
            d.push(l, c, h, u),
            d.push(n + a, r + o),
            d.push(l, c, h, u),
            f.push(p, p, p + 1, p + 2, p + 3, p + 3);
          }
          if (t.lineWidth) {
            const g = t.points;
            (t.points = [n, r, n + a, r, n + a, r + o, n, r + o, n, r]),
            PIXI.WebGLGraphics.buildLine(t, e),
            (t.points = g);
          }
        }),
        (PIXI.WebGLGraphics.buildRoundedRectangle = function (t, e) {
          let i = t.shape,
            n = i.x,
            r = i.y,
            a = i.width,
            o = i.height,
            s = i.radius,
            u = [];
          if (
            (u.push(n, r + s),
            (u = u.concat(PIXI.WebGLGraphics.quadraticBezierCurve(
              n,
              r + o - s,
              n,
              r + o,
              n + s,
              r + o,
            ))),
            (u = u.concat(PIXI.WebGLGraphics.quadraticBezierCurve(
              n + a - s,
              r + o,
              n + a,
              r + o,
              n + a,
              r + o - s,
            ))),
            (u = u.concat(PIXI.WebGLGraphics.quadraticBezierCurve(
              n + a,
              r + s,
              n + a,
              r,
              n + a - s,
              r,
            ))),
            (u = u.concat(PIXI.WebGLGraphics.quadraticBezierCurve(
              n + s,
              r,
              n,
              r,
              n,
              r + s,
            ))),
            t.fill)
          ) {
            let l = PIXI.hex2rgb(t.fillColor),
              c = t.fillAlpha,
              h = l[0] * c,
              d = l[1] * c,
              f = l[2] * c,
              p = e.points,
              g = e.indices,
              y = p.length / 6,
              v = PIXI.EarCut.Triangulate(u, null, 2),
              m = 0;
            for (m = 0; m < v.length; m += 3) {
              g.push(v[m] + y),
              g.push(v[m] + y),
              g.push(v[m + 1] + y),
              g.push(v[m + 2] + y),
              g.push(v[m + 2] + y);
            }
            for (m = 0; m < u.length; m++) p.push(u[m], u[++m], h, d, f, c);
          }
          if (t.lineWidth) {
            const b = t.points;
            (t.points = u),
            PIXI.WebGLGraphics.buildLine(t, e),
            (t.points = b);
          }
        }),
        (PIXI.WebGLGraphics.quadraticBezierCurve = function (
          t,
          e,
          i,
          n,
          r,
          a,
        ) {
          function o(t, e, i) {
            return t + (e - t) * i;
          }
          for (var s, u, l, c, h, d, f = [], p = 0, g = 0; g <= 20; g++) {
            (p = g / 20),
            (s = o(t, i, p)),
            (u = o(e, n, p)),
            (l = o(i, r, p)),
            (c = o(n, a, p)),
            (h = o(s, l, p)),
            (d = o(u, c, p)),
            f.push(h, d);
          }
          return f;
        }),
        (PIXI.WebGLGraphics.buildCircle = function (t, e) {
          let i,
            n,
            r = t.shape,
            a = r.x,
            o = r.y;
          t.type === PIXI.Graphics.CIRC
            ? ((i = r.radius), (n = r.radius))
            : ((i = r.width), (n = r.height));
          let s = (2 * Math.PI) / 40,
            u = 0;
          if (t.fill) {
            let l = PIXI.hex2rgb(t.fillColor),
              c = t.fillAlpha,
              h = l[0] * c,
              d = l[1] * c,
              f = l[2] * c,
              p = e.points,
              g = e.indices,
              y = p.length / 6;
            for (g.push(y), u = 0; u < 41; u++) {
              p.push(a, o, h, d, f, c),
              p.push(
                a + Math.sin(s * u) * i,
                o + Math.cos(s * u) * n,
                h,
                d,
                f,
                c,
              ),
              g.push(y++, y++);
            }
            g.push(y - 1);
          }
          if (t.lineWidth) {
            const v = t.points;
            for (t.points = [], u = 0; u < 41; u++) { t.points.push(a + Math.sin(s * u) * i, o + Math.cos(s * u) * n); }
            PIXI.WebGLGraphics.buildLine(t, e), (t.points = v);
          }
        }),
        (PIXI.WebGLGraphics.buildLine = function (t, e) {
          let i = 0,
            n = t.points;
          if (n.length !== 0) {
            if (t.lineWidth % 2) for (i = 0; i < n.length; i++) n[i] += 0.5;
            let r = new PIXI.Point(n[0], n[1]),
              a = new PIXI.Point(n[n.length - 2], n[n.length - 1]);
            if (r.x === a.x && r.y === a.y) {
              (n = n.slice()),
              n.pop(),
              n.pop(),
              (a = new PIXI.Point(n[n.length - 2], n[n.length - 1]));
              let o = a.x + 0.5 * (r.x - a.x),
                s = a.y + 0.5 * (r.y - a.y);
              n.unshift(o, s), n.push(o, s);
            }
            let u,
              l,
              c,
              h,
              d,
              f,
              p,
              g,
              y,
              v,
              m,
              b,
              _,
              w,
              x,
              P,
              k,
              T,
              O,
              E,
              S,
              C,
              I,
              M = e.points,
              A = e.indices,
              R = n.length / 2,
              L = n.length,
              D = M.length / 6,
              B = t.lineWidth / 2,
              j = PIXI.hex2rgb(t.lineColor),
              F = t.lineAlpha,
              U = j[0] * F,
              G = j[1] * F,
              N = j[2] * F;
            for (
              c = n[0],
              h = n[1],
              d = n[2],
              f = n[3],
              y = -(h - f),
              v = c - d,
              I = Math.sqrt(y * y + v * v),
              y /= I,
              v /= I,
              y *= B,
              v *= B,
              M.push(c - y, h - v, U, G, N, F),
              M.push(c + y, h + v, U, G, N, F),
              i = 1;
              i < R - 1;
              i++
            ) {
              (c = n[2 * (i - 1)]),
              (h = n[2 * (i - 1) + 1]),
              (d = n[2 * i]),
              (f = n[2 * i + 1]),
              (p = n[2 * (i + 1)]),
              (g = n[2 * (i + 1) + 1]),
              (y = -(h - f)),
              (v = c - d),
              (I = Math.sqrt(y * y + v * v)),
              (y /= I),
              (v /= I),
              (y *= B),
              (v *= B),
              (m = -(f - g)),
              (b = d - p),
              (I = Math.sqrt(m * m + b * b)),
              (m /= I),
              (b /= I),
              (m *= B),
              (b *= B),
              (x = -v + h - (-v + f)),
              (P = -y + d - (-y + c)),
              (k = (-y + c) * (-v + f) - (-y + d) * (-v + h)),
              (T = -b + g - (-b + f)),
              (O = -m + d - (-m + p)),
              (E = (-m + p) * (-b + f) - (-m + d) * (-b + g)),
              (S = x * O - T * P),
              Math.abs(S) < 0.1
                ? ((S += 10.1),
                M.push(d - y, f - v, U, G, N, F),
                M.push(d + y, f + v, U, G, N, F))
                : ((u = (P * E - O * k) / S),
                (l = (T * k - x * E) / S),
                (C = (u - d) * (u - d) + (l - f) + (l - f)),
                C > 19600
                  ? ((_ = y - m),
                  (w = v - b),
                  (I = Math.sqrt(_ * _ + w * w)),
                  (_ /= I),
                  (w /= I),
                  (_ *= B),
                  (w *= B),
                  M.push(d - _, f - w),
                  M.push(U, G, N, F),
                  M.push(d + _, f + w),
                  M.push(U, G, N, F),
                  M.push(d - _, f - w),
                  M.push(U, G, N, F),
                  L++)
                  : (M.push(u, l),
                  M.push(U, G, N, F),
                  M.push(d - (u - d), f - (l - f)),
                  M.push(U, G, N, F)));
            }
            for (
              c = n[2 * (R - 2)],
              h = n[2 * (R - 2) + 1],
              d = n[2 * (R - 1)],
              f = n[2 * (R - 1) + 1],
              y = -(h - f),
              v = c - d,
              I = Math.sqrt(y * y + v * v),
              y /= I,
              v /= I,
              y *= B,
              v *= B,
              M.push(d - y, f - v),
              M.push(U, G, N, F),
              M.push(d + y, f + v),
              M.push(U, G, N, F),
              A.push(D),
              i = 0;
              i < L;
              i++
            ) { A.push(D++); }
            A.push(D - 1);
          }
        }),
        (PIXI.WebGLGraphics.buildComplexPoly = function (t, e) {
          const i = t.points.slice();
          if (!(i.length < 6)) {
            const n = e.indices;
            (e.points = i),
            (e.alpha = t.fillAlpha),
            (e.color = PIXI.hex2rgb(t.fillColor));
            for (
              var r, a, o = 1 / 0, s = -1 / 0, u = 1 / 0, l = -1 / 0, c = 0;
              c < i.length;
              c += 2
            ) {
              (r = i[c]),
              (a = i[c + 1]),
              (o = r < o ? r : o),
              (s = r > s ? r : s),
              (u = a < u ? a : u),
              (l = a > l ? a : l);
            }
            i.push(o, u, s, u, s, l, o, l);
            const h = i.length / 2;
            for (c = 0; c < h; c++) n.push(c);
          }
        }),
        (PIXI.WebGLGraphics.buildPoly = function (t, e) {
          const i = t.points;
          if (!(i.length < 6)) {
            let n = e.points,
              r = e.indices,
              a = i.length / 2,
              o = PIXI.hex2rgb(t.fillColor),
              s = t.fillAlpha,
              u = o[0] * s,
              l = o[1] * s,
              c = o[2] * s,
              h = PIXI.EarCut.Triangulate(i, null, 2);
            if (!h) return !1;
            let d = n.length / 6,
              f = 0;
            for (f = 0; f < h.length; f += 3) {
              r.push(h[f] + d),
              r.push(h[f] + d),
              r.push(h[f + 1] + d),
              r.push(h[f + 2] + d),
              r.push(h[f + 2] + d);
            }
            for (f = 0; f < a; f++) { n.push(i[2 * f], i[2 * f + 1], u, l, c, s); }
            return !0;
          }
        }),
        (PIXI.WebGLGraphics.graphicsDataPool = []),
        (PIXI.WebGLGraphicsData = function (t) {
          (this.gl = t),
          (this.color = [0, 0, 0]),
          (this.points = []),
          (this.indices = []),
          (this.buffer = t.createBuffer()),
          (this.indexBuffer = t.createBuffer()),
          (this.mode = 1),
          (this.alpha = 1),
          (this.dirty = !0);
        }),
        (PIXI.WebGLGraphicsData.prototype.reset = function () {
          (this.points = []), (this.indices = []);
        }),
        (PIXI.WebGLGraphicsData.prototype.upload = function () {
          const t = this.gl;
          (this.glPoints = new PIXI.Float32Array(this.points)),
          t.bindBuffer(t.ARRAY_BUFFER, this.buffer),
          t.bufferData(t.ARRAY_BUFFER, this.glPoints, t.STATIC_DRAW),
          (this.glIndicies = new PIXI.Uint16Array(this.indices)),
          t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer),
          t.bufferData(
            t.ELEMENT_ARRAY_BUFFER,
            this.glIndicies,
            t.STATIC_DRAW,
          ),
          (this.dirty = !1);
        }),
        (PIXI.CanvasGraphics = function () {}),
        (PIXI.CanvasGraphics.renderGraphics = function (t, e) {
          const i = t.worldAlpha;
          t.dirty && (this.updateGraphicsTint(t), (t.dirty = !1));
          for (let n = 0; n < t.graphicsData.length; n++) {
            let r = t.graphicsData[n],
              a = r.shape,
              o = r._fillTint,
              s = r._lineTint;
            if (
              ((e.lineWidth = r.lineWidth), r.type === PIXI.Graphics.POLY)
            ) {
              e.beginPath();
              const u = a.points;
              e.moveTo(u[0], u[1]);
              for (let l = 1; l < u.length / 2; l++) { e.lineTo(u[2 * l], u[2 * l + 1]); }
              a.closed && e.lineTo(u[0], u[1]),
              u[0] === u[u.length - 2] &&
                    u[1] === u[u.length - 1] &&
                    e.closePath(),
              r.fill &&
                    ((e.globalAlpha = r.fillAlpha * i),
                    (e.fillStyle =
                      `#${(`00000${(0 | o).toString(16)}`).substr(-6)}`),
                    e.fill()),
              r.lineWidth &&
                    ((e.globalAlpha = r.lineAlpha * i),
                    (e.strokeStyle =
                      `#${(`00000${(0 | s).toString(16)}`).substr(-6)}`),
                    e.stroke());
            } else if (r.type === PIXI.Graphics.RECT) {
              (r.fillColor || r.fillColor === 0) &&
                  ((e.globalAlpha = r.fillAlpha * i),
                  (e.fillStyle =
                    `#${(`00000${(0 | o).toString(16)}`).substr(-6)}`),
                  e.fillRect(a.x, a.y, a.width, a.height)),
              r.lineWidth &&
                    ((e.globalAlpha = r.lineAlpha * i),
                    (e.strokeStyle =
                      `#${(`00000${(0 | s).toString(16)}`).substr(-6)}`),
                    e.strokeRect(a.x, a.y, a.width, a.height));
            } else if (r.type === PIXI.Graphics.CIRC) {
              e.beginPath(),
              e.arc(a.x, a.y, a.radius, 0, 2 * Math.PI),
              e.closePath(),
              r.fill &&
                    ((e.globalAlpha = r.fillAlpha * i),
                    (e.fillStyle =
                      `#${(`00000${(0 | o).toString(16)}`).substr(-6)}`),
                    e.fill()),
              r.lineWidth &&
                    ((e.globalAlpha = r.lineAlpha * i),
                    (e.strokeStyle =
                      `#${(`00000${(0 | s).toString(16)}`).substr(-6)}`),
                    e.stroke());
            } else if (r.type === PIXI.Graphics.ELIP) {
              let c = 2 * a.width,
                h = 2 * a.height,
                d = a.x - c / 2,
                f = a.y - h / 2;
              e.beginPath();
              let p = (c / 2) * 0.5522848,
                g = (h / 2) * 0.5522848,
                y = d + c,
                v = f + h,
                m = d + c / 2,
                b = f + h / 2;
              e.moveTo(d, b),
              e.bezierCurveTo(d, b - g, m - p, f, m, f),
              e.bezierCurveTo(m + p, f, y, b - g, y, b),
              e.bezierCurveTo(y, b + g, m + p, v, m, v),
              e.bezierCurveTo(m - p, v, d, b + g, d, b),
              e.closePath(),
              r.fill &&
                    ((e.globalAlpha = r.fillAlpha * i),
                    (e.fillStyle =
                      `#${(`00000${(0 | o).toString(16)}`).substr(-6)}`),
                    e.fill()),
              r.lineWidth &&
                    ((e.globalAlpha = r.lineAlpha * i),
                    (e.strokeStyle =
                      `#${(`00000${(0 | s).toString(16)}`).substr(-6)}`),
                    e.stroke());
            } else if (r.type === PIXI.Graphics.RREC) {
              let _ = a.x,
                w = a.y,
                x = a.width,
                P = a.height,
                k = a.radius,
                T = (Math.min(x, P) / 2) | 0;
              (k = k > T ? T : k),
              e.beginPath(),
              e.moveTo(_, w + k),
              e.lineTo(_, w + P - k),
              e.quadraticCurveTo(_, w + P, _ + k, w + P),
              e.lineTo(_ + x - k, w + P),
              e.quadraticCurveTo(_ + x, w + P, _ + x, w + P - k),
              e.lineTo(_ + x, w + k),
              e.quadraticCurveTo(_ + x, w, _ + x - k, w),
              e.lineTo(_ + k, w),
              e.quadraticCurveTo(_, w, _, w + k),
              e.closePath(),
              (r.fillColor || r.fillColor === 0) &&
                    ((e.globalAlpha = r.fillAlpha * i),
                    (e.fillStyle =
                      `#${(`00000${(0 | o).toString(16)}`).substr(-6)}`),
                    e.fill()),
              r.lineWidth &&
                    ((e.globalAlpha = r.lineAlpha * i),
                    (e.strokeStyle =
                      `#${(`00000${(0 | s).toString(16)}`).substr(-6)}`),
                    e.stroke());
            }
          }
        }),
        (PIXI.CanvasGraphics.renderGraphicsMask = function (t, e) {
          const i = t.graphicsData.length;
          if (i !== 0) {
            e.beginPath();
            for (let n = 0; n < i; n++) {
              let r = t.graphicsData[n],
                a = r.shape;
              if (r.type === PIXI.Graphics.POLY) {
                const o = a.points;
                e.moveTo(o[0], o[1]);
                for (let s = 1; s < o.length / 2; s++) { e.lineTo(o[2 * s], o[2 * s + 1]); }
                o[0] === o[o.length - 2] &&
                    o[1] === o[o.length - 1] &&
                    e.closePath();
              } else if (r.type === PIXI.Graphics.RECT) { e.rect(a.x, a.y, a.width, a.height), e.closePath(); } else if (r.type === PIXI.Graphics.CIRC) { e.arc(a.x, a.y, a.radius, 0, 2 * Math.PI), e.closePath(); } else if (r.type === PIXI.Graphics.ELIP) {
                let u = 2 * a.width,
                  l = 2 * a.height,
                  c = a.x - u / 2,
                  h = a.y - l / 2,
                  d = (u / 2) * 0.5522848,
                  f = (l / 2) * 0.5522848,
                  p = c + u,
                  g = h + l,
                  y = c + u / 2,
                  v = h + l / 2;
                e.moveTo(c, v),
                e.bezierCurveTo(c, v - f, y - d, h, y, h),
                e.bezierCurveTo(y + d, h, p, v - f, p, v),
                e.bezierCurveTo(p, v + f, y + d, g, y, g),
                e.bezierCurveTo(y - d, g, c, v + f, c, v),
                e.closePath();
              } else if (r.type === PIXI.Graphics.RREC) {
                let m = a.x,
                  b = a.y,
                  _ = a.width,
                  w = a.height,
                  x = a.radius,
                  P = (Math.min(_, w) / 2) | 0;
                (x = x > P ? P : x),
                e.moveTo(m, b + x),
                e.lineTo(m, b + w - x),
                e.quadraticCurveTo(m, b + w, m + x, b + w),
                e.lineTo(m + _ - x, b + w),
                e.quadraticCurveTo(m + _, b + w, m + _, b + w - x),
                e.lineTo(m + _, b + x),
                e.quadraticCurveTo(m + _, b, m + _ - x, b),
                e.lineTo(m + x, b),
                e.quadraticCurveTo(m, b, m, b + x),
                e.closePath();
              }
            }
          }
        }),
        (PIXI.CanvasGraphics.updateGraphicsTint = function (t) {
          if (t.tint !== 16777215) {
            for (
              let e = ((t.tint >> 16) & 255) / 255,
                i = ((t.tint >> 8) & 255) / 255,
                n = (255 & t.tint) / 255,
                r = 0;
              r < t.graphicsData.length;
              r++
            ) {
              let a = t.graphicsData[r],
                o = 0 | a.fillColor,
                s = 0 | a.lineColor;
              (a._fillTint =
                  (((((o >> 16) & 255) / 255) * e * 255) << 16) +
                  (((((o >> 8) & 255) / 255) * i * 255) << 8) +
                  ((255 & o) / 255) * n * 255),
              (a._lineTint =
                    (((((s >> 16) & 255) / 255) * e * 255) << 16) +
                    (((((s >> 8) & 255) / 255) * i * 255) << 8) +
                    ((255 & s) / 255) * n * 255);
            }
          }
        }),
        (a.Graphics = function (t, e, i) {
          void 0 === e && (e = 0),
          void 0 === i && (i = 0),
          (this.type = a.GRAPHICS),
          (this.physicsType = a.SPRITE),
          (this.anchor = new a.Point()),
          PIXI.Graphics.call(this),
          a.Component.Core.init.call(this, t, e, i, '', null);
        }),
        (a.Graphics.prototype = Object.create(PIXI.Graphics.prototype)),
        (a.Graphics.prototype.constructor = a.Graphics),
        a.Component.Core.install.call(a.Graphics.prototype, [
          'Angle',
          'AutoCull',
          'Bounds',
          'Destroy',
          'FixedToCamera',
          'InputEnabled',
          'InWorld',
          'LifeSpan',
          'PhysicsBody',
          'Reset',
        ]),
        (a.Graphics.prototype.preUpdatePhysics =
            a.Component.PhysicsBody.preUpdate),
        (a.Graphics.prototype.preUpdateLifeSpan =
            a.Component.LifeSpan.preUpdate),
        (a.Graphics.prototype.preUpdateInWorld =
            a.Component.InWorld.preUpdate),
        (a.Graphics.prototype.preUpdateCore = a.Component.Core.preUpdate),
        (a.Graphics.prototype.preUpdate = function () {
          return (
            !!(
              this.preUpdatePhysics() &&
                this.preUpdateLifeSpan() &&
                this.preUpdateInWorld()
            ) && this.preUpdateCore()
          );
        }),
        (a.Graphics.prototype.destroy = function (t) {
          this.clear(), a.Component.Destroy.prototype.destroy.call(this, t);
        }),
        (a.Graphics.prototype.drawTriangle = function (t, e) {
          void 0 === e && (e = !1);
          const i = new a.Polygon(t);
          if (e) {
            let n = new a.Point(
                this.game.camera.x - t[0].x,
                this.game.camera.y - t[0].y,
              ),
              r = new a.Point(t[1].x - t[0].x, t[1].y - t[0].y),
              o = new a.Point(t[1].x - t[2].x, t[1].y - t[2].y),
              s = o.cross(r);
            n.dot(s) > 0 && this.drawPolygon(i);
          } else this.drawPolygon(i);
        }),
        (a.Graphics.prototype.drawTriangles = function (t, e, i) {
          void 0 === i && (i = !1);
          let n,
            r = new a.Point(),
            o = new a.Point(),
            s = new a.Point(),
            u = [];
          if (e) {
            if (t[0] instanceof a.Point) {
              for (n = 0; n < e.length / 3; n++) {
                u.push(t[e[3 * n]]),
                u.push(t[e[3 * n + 1]]),
                u.push(t[e[3 * n + 2]]),
                u.length === 3 && (this.drawTriangle(u, i), (u = []));
              }
            } else {
              for (n = 0; n < e.length; n++) {
                (r.x = t[2 * e[n]]),
                (r.y = t[2 * e[n] + 1]),
                u.push(r.copyTo({})),
                u.length === 3 && (this.drawTriangle(u, i), (u = []));
              }
            }
          } else if (t[0] instanceof a.Point) {
            for (n = 0; n < t.length / 3; n++) { this.drawTriangle([t[3 * n], t[3 * n + 1], t[3 * n + 2]], i); }
          } else {
            for (n = 0; n < t.length / 6; n++) {
              (r.x = t[6 * n + 0]),
              (r.y = t[6 * n + 1]),
              (o.x = t[6 * n + 2]),
              (o.y = t[6 * n + 3]),
              (s.x = t[6 * n + 4]),
              (s.y = t[6 * n + 5]),
              this.drawTriangle([r, o, s], i);
            }
          }
        }),
        (a.RenderTexture = function (t, e, i, n, r, o) {
          void 0 === n && (n = ''),
          void 0 === r && (r = a.scaleModes.DEFAULT),
          void 0 === o && (o = 1),
          (this.game = t),
          (this.key = n),
          (this.type = a.RENDERTEXTURE),
          (this._tempMatrix = new PIXI.Matrix()),
          PIXI.RenderTexture.call(this, e, i, this.game.renderer, r, o),
          (this.render = a.RenderTexture.prototype.render);
        }),
        (a.RenderTexture.prototype = Object.create(PIXI.RenderTexture.prototype)),
        (a.RenderTexture.prototype.constructor = a.RenderTexture),
        (a.RenderTexture.prototype.renderXY = function (t, e, i, n) {
          t.updateTransform(),
          this._tempMatrix.copyFrom(t.worldTransform),
          (this._tempMatrix.tx = e),
          (this._tempMatrix.ty = i),
          this.renderer.type === PIXI.WEBGL_RENDERER
            ? this.renderWebGL(t, this._tempMatrix, n)
            : this.renderCanvas(t, this._tempMatrix, n);
        }),
        (a.RenderTexture.prototype.renderRawXY = function (t, e, i, n) {
          this._tempMatrix.identity().translate(e, i),
          this.renderer.type === PIXI.WEBGL_RENDERER
            ? this.renderWebGL(t, this._tempMatrix, n)
            : this.renderCanvas(t, this._tempMatrix, n);
        }),
        (a.RenderTexture.prototype.render = function (t, e, i) {
          void 0 === e || e === null
            ? this._tempMatrix.copyFrom(t.worldTransform)
            : this._tempMatrix.copyFrom(e),
          this.renderer.type === PIXI.WEBGL_RENDERER
            ? this.renderWebGL(t, this._tempMatrix, i)
            : this.renderCanvas(t, this._tempMatrix, i);
        }),
        (a.Text = function (t, e, i, n, r) {
          (e = e || 0),
          (i = i || 0),
          (n = void 0 === n || n === null ? '' : n.toString()),
          (r = a.Utils.extend({}, r)),
          (this.type = a.TEXT),
          (this.physicsType = a.SPRITE),
          (this.padding = new a.Point()),
          (this.textBounds = null),
          (this.canvas = PIXI.CanvasPool.create(this)),
          (this.context = this.canvas.getContext('2d')),
          (this.colors = []),
          (this.strokeColors = []),
          (this.fontStyles = []),
          (this.fontWeights = []),
          (this.autoRound = !1),
          (this.useAdvancedWrap = !1),
          (this._res = t.renderer.resolution),
          (this._text = n),
          (this._fontComponents = null),
          (this._lineSpacing = 0),
          (this._charCount = 0),
          (this._width = 0),
          (this._height = 0),
          a.Sprite.call(
            this,
            t,
            e,
            i,
            PIXI.Texture.fromCanvas(this.canvas),
          ),
          this.setStyle(r),
          n !== '' && this.updateText();
        }),
        (a.Text.prototype = Object.create(a.Sprite.prototype)),
        (a.Text.prototype.constructor = a.Text),
        (a.Text.prototype.preUpdate = function () {
          return (
            !!(
              this.preUpdatePhysics() &&
                this.preUpdateLifeSpan() &&
                this.preUpdateInWorld()
            ) && this.preUpdateCore()
          );
        }),
        (a.Text.prototype.update = function () {}),
        (a.Text.prototype.destroy = function (t) {
          this.texture.destroy(!0),
          PIXI.CanvasPool.remove(this),
          a.Component.Destroy.prototype.destroy.call(this, t);
        }),
        (a.Text.prototype.setShadow = function (t, e, i, n, r, a) {
          return (
            void 0 === t && (t = 0),
            void 0 === e && (e = 0),
            void 0 === i && (i = 'rgba(0, 0, 0, 1)'),
            void 0 === n && (n = 0),
            void 0 === r && (r = !0),
            void 0 === a && (a = !0),
            (this.style.shadowOffsetX = t),
            (this.style.shadowOffsetY = e),
            (this.style.shadowColor = i),
            (this.style.shadowBlur = n),
            (this.style.shadowStroke = r),
            (this.style.shadowFill = a),
            (this.dirty = !0),
            this
          );
        }),
        (a.Text.prototype.setStyle = function (t, e) {
          void 0 === e && (e = !1),
          (t = t || {}),
          (t.font = t.font || 'bold 20pt Arial'),
          (t.backgroundColor = t.backgroundColor || null),
          (t.fill = t.fill || 'black'),
          (t.align = t.align || 'left'),
          (t.boundsAlignH = t.boundsAlignH || 'left'),
          (t.boundsAlignV = t.boundsAlignV || 'top'),
          (t.stroke = t.stroke || 'black'),
          (t.strokeThickness = t.strokeThickness || 0),
          (t.wordWrap = t.wordWrap || !1),
          (t.wordWrapWidth = t.wordWrapWidth || 100),
          (t.maxLines = t.maxLines || 0),
          (t.shadowOffsetX = t.shadowOffsetX || 0),
          (t.shadowOffsetY = t.shadowOffsetY || 0),
          (t.shadowColor = t.shadowColor || 'rgba(0,0,0,0)'),
          (t.shadowBlur = t.shadowBlur || 0),
          (t.tabs = t.tabs || 0);
          const i = this.fontToComponents(t.font);
          return (
            t.fontStyle && (i.fontStyle = t.fontStyle),
            t.fontVariant && (i.fontVariant = t.fontVariant),
            t.fontWeight && (i.fontWeight = t.fontWeight),
            t.fontSize &&
                (typeof t.fontSize === 'number' &&
                  (t.fontSize += 'px'),
                (i.fontSize = t.fontSize)),
            (this._fontComponents = i),
            (t.font = this.componentsToFont(this._fontComponents)),
            (this.style = t),
            (this.dirty = !0),
            e && this.updateText(),
            this
          );
        }),
        (a.Text.prototype.updateText = function () {
          (this.texture.baseTexture.resolution = this._res),
          (this.context.font = this.style.font);
          let t = this.text;
          this.style.wordWrap && (t = this.runWordWrap(this.text));
          let e = t.split(/(?:\r\n|\r|\n)/),
            i = this.style.tabs,
            n = [],
            r = 0,
            a = this.determineFontProperties(this.style.font),
            o = e.length;
          this.style.maxLines > 0 &&
              this.style.maxLines < e.length &&
              (o = this.style.maxLines),
          (this._charCount = 0);
          for (var s = 0; s < o; s++) {
            if (i === 0) {
              var u = this.style.strokeThickness + this.padding.x;
              this.colors.length > 0 ||
                this.strokeColors.length > 0 ||
                this.fontWeights.length > 0 ||
                this.fontStyles.length > 0
                ? (u += this.measureLine(e[s]))
                : (u += this.context.measureText(e[s]).width),
              this.style.wordWrap &&
                    (u -= this.context.measureText(' ').width);
            } else {
              var l = e[s].split(/(?:\t)/),
                u = this.padding.x + this.style.strokeThickness;
              if (Array.isArray(i)) {
                for (var c = 0, h = 0; h < l.length; h++) {
                  let d = 0;
                  (d =
                      this.colors.length > 0 ||
                      this.strokeColors.length > 0 ||
                      this.fontWeights.length > 0 ||
                      this.fontStyles.length > 0
                        ? this.measureLine(l[h])
                        : Math.ceil(this.context.measureText(l[h]).width)),
                  h > 0 && (c += i[h - 1]),
                  (u = c + d);
                }
              } else {
                for (var h = 0; h < l.length; h++) {
                  this.colors.length > 0 ||
                    this.strokeColors.length > 0 ||
                    this.fontWeights.length > 0 ||
                    this.fontStyles.length > 0
                    ? (u += this.measureLine(l[h]))
                    : (u += Math.ceil(this.context.measureText(l[h]).width));
                  const f = this.game.math.snapToCeil(u, i) - u;
                  u += f;
                }
              }
            }
            (n[s] = Math.ceil(u)), (r = Math.max(r, n[s]));
          }
          this.canvas.width = r * this._res;
          let p = a.fontSize + this.style.strokeThickness + this.padding.y,
            g = p * o,
            y = this._lineSpacing;
          y < 0 && Math.abs(y) > p && (y = -p),
          y !== 0 && (g += y > 0 ? y * e.length : y * (e.length - 1)),
          (this.canvas.height = g * this._res),
          this.context.scale(this._res, this._res),
          navigator.isCocoonJS &&
                this.context.clearRect(
                  0,
                  0,
                  this.canvas.width,
                  this.canvas.height,
                ),
          this.style.backgroundColor &&
                ((this.context.fillStyle = this.style.backgroundColor),
                this.context.fillRect(
                  0,
                  0,
                  this.canvas.width,
                  this.canvas.height,
                )),
          (this.context.fillStyle = this.style.fill),
          (this.context.font = this.style.font),
          (this.context.strokeStyle = this.style.stroke),
          (this.context.textBaseline = 'alphabetic'),
          (this.context.lineWidth = this.style.strokeThickness),
          (this.context.lineCap = 'round'),
          (this.context.lineJoin = 'round');
          let v,
            m;
          for (this._charCount = 0, s = 0; s < o; s++) {
            (v = this.style.strokeThickness / 2),
            (m = this.style.strokeThickness / 2 + s * p + a.ascent),
            s > 0 && (m += y * s),
            this.style.align === 'right'
              ? (v += r - n[s])
              : this.style.align === 'center' && (v += (r - n[s]) / 2),
            this.autoRound && ((v = Math.round(v)), (m = Math.round(m))),
            this.colors.length > 0 ||
                this.strokeColors.length > 0 ||
                this.fontWeights.length > 0 ||
                this.fontStyles.length > 0
              ? this.updateLine(e[s], v, m)
              : (this.style.stroke &&
                      this.style.strokeThickness &&
                      (this.updateShadow(this.style.shadowStroke),
                      i === 0
                        ? this.context.strokeText(e[s], v, m)
                        : this.renderTabLine(e[s], v, m, !1)),
              this.style.fill &&
                      (this.updateShadow(this.style.shadowFill),
                      i === 0
                        ? this.context.fillText(e[s], v, m)
                        : this.renderTabLine(e[s], v, m, !0)));
          }
          this.updateTexture();
        }),
        (a.Text.prototype.renderTabLine = function (t, e, i, n) {
          let r = t.split(/(?:\t)/),
            a = this.style.tabs,
            o = 0;
          if (Array.isArray(a)) {
            for (var s = 0, u = 0; u < r.length; u++) {
              u > 0 && (s += a[u - 1]),
              (o = e + s),
              n
                ? this.context.fillText(r[u], o, i)
                : this.context.strokeText(r[u], o, i);
            }
          } else {
            for (var u = 0; u < r.length; u++) {
              const l = Math.ceil(this.context.measureText(r[u]).width);
              (o = this.game.math.snapToCeil(e, a)),
              n
                ? this.context.fillText(r[u], o, i)
                : this.context.strokeText(r[u], o, i),
              (e = o + l);
            }
          }
        }),
        (a.Text.prototype.updateShadow = function (t) {
          t
            ? ((this.context.shadowOffsetX = this.style.shadowOffsetX),
            (this.context.shadowOffsetY = this.style.shadowOffsetY),
            (this.context.shadowColor = this.style.shadowColor),
            (this.context.shadowBlur = this.style.shadowBlur))
            : ((this.context.shadowOffsetX = 0),
            (this.context.shadowOffsetY = 0),
            (this.context.shadowColor = 0),
            (this.context.shadowBlur = 0));
        }),
        (a.Text.prototype.measureLine = function (t) {
          for (var e = 0, i = 0; i < t.length; i++) {
            const n = t[i];
            if (this.fontWeights.length > 0 || this.fontStyles.length > 0) {
              const r = this.fontToComponents(this.context.font);
              this.fontStyles[this._charCount] &&
                  (r.fontStyle = this.fontStyles[this._charCount]),
              this.fontWeights[this._charCount] &&
                    (r.fontWeight = this.fontWeights[this._charCount]),
              (this.context.font = this.componentsToFont(r));
            }
            this.style.stroke &&
                this.style.strokeThickness &&
                (this.strokeColors[this._charCount] &&
                  (this.context.strokeStyle = this.strokeColors[
                    this._charCount
                  ]),
                this.updateShadow(this.style.shadowStroke)),
            this.style.fill &&
                  (this.colors[this._charCount] &&
                    (this.context.fillStyle = this.colors[this._charCount]),
                  this.updateShadow(this.style.shadowFill)),
            (e += this.context.measureText(n).width),
            this._charCount++;
          }
          return Math.ceil(e);
        }),
        (a.Text.prototype.updateLine = function (t, e, i) {
          for (let n = 0; n < t.length; n++) {
            const r = t[n];
            if (this.fontWeights.length > 0 || this.fontStyles.length > 0) {
              const a = this.fontToComponents(this.context.font);
              this.fontStyles[this._charCount] &&
                  (a.fontStyle = this.fontStyles[this._charCount]),
              this.fontWeights[this._charCount] &&
                    (a.fontWeight = this.fontWeights[this._charCount]),
              (this.context.font = this.componentsToFont(a));
            }
            this.style.stroke &&
                this.style.strokeThickness &&
                (this.strokeColors[this._charCount] &&
                  (this.context.strokeStyle = this.strokeColors[
                    this._charCount
                  ]),
                this.updateShadow(this.style.shadowStroke),
                this.context.strokeText(r, e, i)),
            this.style.fill &&
                  (this.colors[this._charCount] &&
                    (this.context.fillStyle = this.colors[this._charCount]),
                  this.updateShadow(this.style.shadowFill),
                  this.context.fillText(r, e, i)),
            (e += this.context.measureText(r).width),
            this._charCount++;
          }
        }),
        (a.Text.prototype.clearColors = function () {
          return (
            (this.colors = []),
            (this.strokeColors = []),
            (this.dirty = !0),
            this
          );
        }),
        (a.Text.prototype.clearFontValues = function () {
          return (
            (this.fontStyles = []),
            (this.fontWeights = []),
            (this.dirty = !0),
            this
          );
        }),
        (a.Text.prototype.addColor = function (t, e) {
          return (this.colors[e] = t), (this.dirty = !0), this;
        }),
        (a.Text.prototype.addStrokeColor = function (t, e) {
          return (this.strokeColors[e] = t), (this.dirty = !0), this;
        }),
        (a.Text.prototype.addFontStyle = function (t, e) {
          return (this.fontStyles[e] = t), (this.dirty = !0), this;
        }),
        (a.Text.prototype.addFontWeight = function (t, e) {
          return (this.fontWeights[e] = t), (this.dirty = !0), this;
        }),
        (a.Text.prototype.precalculateWordWrap = function (t) {
          return (
            (this.texture.baseTexture.resolution = this._res),
            (this.context.font = this.style.font),
            this.runWordWrap(t).split(/(?:\r\n|\r|\n)/)
          );
        }),
        (a.Text.prototype.runWordWrap = function (t) {
          return this.useAdvancedWrap
            ? this.advancedWordWrap(t)
            : this.basicWordWrap(t);
        }),
        (a.Text.prototype.advancedWordWrap = function (t) {
          for (
            var e = this.context,
              i = this.style.wordWrapWidth,
              n = '',
              r = t.replace(/ +/gi, ' ').split(/\r?\n/gi),
              a = r.length,
              o = 0;
            o < a;
            o++
          ) {
            let s = r[o],
              u = '';
            if (
              ((s = s.replace(/^ *|\s*$/gi, '')), e.measureText(s).width < i)
            ) { n += `${s}\n`; } else {
              for (let l = i, c = s.split(' '), h = 0; h < c.length; h++) {
                let d = c[h],
                  f = `${d} `,
                  p = e.measureText(f).width;
                if (p > l) {
                  if (h === 0) {
                    for (
                      var g = f;
                      g.length &&
                        ((g = g.slice(0, -1)),
                        !((p = e.measureText(g).width) <= l));

                    );
                    if (!g.length) { throw new Error("This text's wordWrapWidth setting is less than a single character!"); }
                    const y = d.substr(g.length);
                    (c[h] = y), (u += g);
                  }
                  let v = c[h].length ? h : h + 1,
                    m = c
                      .slice(v)
                      .join(' ')
                      .replace(/[ \n]*$/gi, '');
                  (r[o + 1] = `${m} ${r[o + 1] || ''}`), (a = r.length);
                  break;
                }
                (u += f), (l -= p);
              }
              n += `${u.replace(/[ \n]*$/gi, '')}\n`;
            }
          }
          return (n = n.replace(/[\s|\n]*$/gi, ''));
        }),
        (a.Text.prototype.basicWordWrap = function (t) {
          for (var e = '', i = t.split('\n'), n = 0; n < i.length; n++) {
            for (
              let r = this.style.wordWrapWidth, a = i[n].split(' '), o = 0;
              o < a.length;
              o++
            ) {
              let s = this.context.measureText(a[o]).width,
                u = s + this.context.measureText(' ').width;
              u > r
                ? (o > 0 && (e += '\n'),
                (e += `${a[o]} `),
                (r = this.style.wordWrapWidth - s))
                : ((r -= u), (e += `${a[o]} `));
            }
            n < i.length - 1 && (e += '\n');
          }
          return e;
        }),
        (a.Text.prototype.updateFont = function (t) {
          const e = this.componentsToFont(t);
          this.style.font !== e &&
              ((this.style.font = e),
              (this.dirty = !0),
              this.parent && this.updateTransform());
        }),
        (a.Text.prototype.fontToComponents = function (t) {
          const e = t.match(/^\s*(?:\b(normal|italic|oblique|inherit)?\b)\s*(?:\b(normal|small-caps|inherit)?\b)\s*(?:\b(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit)?\b)\s*(?:\b(xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller|0|\d*(?:[.]\d*)?(?:%|[a-z]{2,5}))?\b)\s*(.*)\s*$/);
          if (e) {
            let i = e[5].trim();
            return (
              /^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(i) ||
                  /['",]/.exec(i) ||
                  (i = `'${i}'`),
              {
                font: t,
                fontStyle: e[1] || 'normal',
                fontVariant: e[2] || 'normal',
                fontWeight: e[3] || 'normal',
                fontSize: e[4] || 'medium',
                fontFamily: i,
              }
            );
          }
          return (
            console.warn(`Phaser.Text - unparsable CSS font: ${t}`),
            { font: t }
          );
        }),
        (a.Text.prototype.componentsToFont = function (t) {
          let e,
            i = [];
          return (
            (e = t.fontStyle),
            e && e !== 'normal' && i.push(e),
            (e = t.fontVariant),
            e && e !== 'normal' && i.push(e),
            (e = t.fontWeight),
            e && e !== 'normal' && i.push(e),
            (e = t.fontSize),
            e && e !== 'medium' && i.push(e),
            (e = t.fontFamily),
            e && i.push(e),
            i.length || i.push(t.font),
            i.join(' ')
          );
        }),
        (a.Text.prototype.setText = function (t) {
          return (this.text = t.toString() || ''), (this.dirty = !0), this;
        }),
        (a.Text.prototype.parseList = function (t) {
          if (!Array.isArray(t)) return this;
          for (var e = '', i = 0; i < t.length; i++) {
            Array.isArray(t[i])
              ? ((e += t[i].join('\t')), i < t.length - 1 && (e += '\n'))
              : ((e += t[i]), i < t.length - 1 && (e += '\t'));
          }
          return (this.text = e), (this.dirty = !0), this;
        }),
        (a.Text.prototype.setTextBounds = function (t, e, i, n) {
          return (
            void 0 === t
              ? (this.textBounds = null)
              : (this.textBounds
                ? this.textBounds.setTo(t, e, i, n)
                : (this.textBounds = new a.Rectangle(t, e, i, n)),
              this.style.wordWrapWidth > i &&
                    (this.style.wordWrapWidth = i)),
            this.updateTexture(),
            this
          );
        }),
        (a.Text.prototype.updateTexture = function () {
          let t = this.texture.baseTexture,
            e = this.texture.crop,
            i = this.texture.frame,
            n = this.canvas.width,
            r = this.canvas.height;
          if (
            ((t.width = n),
            (t.height = r),
            (e.width = n),
            (e.height = r),
            (i.width = n),
            (i.height = r),
            (this.texture.width = n),
            (this.texture.height = r),
            (this._width = n),
            (this._height = r),
            this.textBounds)
          ) {
            let a = this.textBounds.x,
              o = this.textBounds.y;
            this.style.boundsAlignH === 'right'
              ? (a += this.textBounds.width - this.canvas.width)
              : this.style.boundsAlignH === 'center' &&
                  (a += this.textBounds.halfWidth - this.canvas.width / 2),
            this.style.boundsAlignV === 'bottom'
              ? (o += this.textBounds.height - this.canvas.height)
              : this.style.boundsAlignV === 'middle' &&
                    (o += this.textBounds.halfHeight - this.canvas.height / 2),
            (this.pivot.x = -a),
            (this.pivot.y = -o);
          }
          (this.renderable = n !== 0 && r !== 0),
          (this.texture.requiresReTint = !0),
          this.texture.baseTexture.dirty();
        }),
        (a.Text.prototype._renderWebGL = function (t) {
          this.dirty && (this.updateText(), (this.dirty = !1)),
          PIXI.Sprite.prototype._renderWebGL.call(this, t);
        }),
        (a.Text.prototype._renderCanvas = function (t) {
          this.dirty && (this.updateText(), (this.dirty = !1)),
          PIXI.Sprite.prototype._renderCanvas.call(this, t);
        }),
        (a.Text.prototype.determineFontProperties = function (t) {
          let e = a.Text.fontPropertiesCache[t];
          if (!e) {
            e = {};
            let i = a.Text.fontPropertiesCanvas,
              n = a.Text.fontPropertiesContext;
            n.font = t;
            let r = Math.ceil(n.measureText('|Mq').width),
              o = Math.ceil(n.measureText('|Mq').width),
              s = 2 * o;
            if (
              ((o = (1.4 * o) | 0),
              (i.width = r),
              (i.height = s),
              (n.fillStyle = '#f00'),
              n.fillRect(0, 0, r, s),
              (n.font = t),
              (n.textBaseline = 'alphabetic'),
              (n.fillStyle = '#000'),
              n.fillText('|Mq', 0, o),
              !n.getImageData(0, 0, r, s))
            ) {
              return (
                (e.ascent = o),
                (e.descent = o + 6),
                (e.fontSize = e.ascent + e.descent),
                (a.Text.fontPropertiesCache[t] = e),
                e
              );
            }
            let u,
              l,
              c = n.getImageData(0, 0, r, s).data,
              h = c.length,
              d = 4 * r,
              f = 0,
              p = !1;
            for (u = 0; u < o; u++) {
              for (l = 0; l < d; l += 4) {
                if (c[f + l] !== 255) {
                  p = !0;
                  break;
                }
              }
              if (p) break;
              f += d;
            }
            for (e.ascent = o - u, f = h - d, p = !1, u = s; u > o; u--) {
              for (l = 0; l < d; l += 4) {
                if (c[f + l] !== 255) {
                  p = !0;
                  break;
                }
              }
              if (p) break;
              f -= d;
            }
            (e.descent = u - o),
            (e.descent += 6),
            (e.fontSize = e.ascent + e.descent),
            (a.Text.fontPropertiesCache[t] = e);
          }
          return e;
        }),
        (a.Text.prototype.getBounds = function (t) {
          return (
            this.dirty && (this.updateText(), (this.dirty = !1)),
            PIXI.Sprite.prototype.getBounds.call(this, t)
          );
        }),
        Object.defineProperty(a.Text.prototype, 'text', {
          get() {
            return this._text;
          },
          set(t) {
            t !== this._text &&
                ((this._text = t.toString() || ''),
                (this.dirty = !0),
                this.parent && this.updateTransform());
          },
        }),
        Object.defineProperty(a.Text.prototype, 'cssFont', {
          get() {
            return this.componentsToFont(this._fontComponents);
          },
          set(t) {
            (t = t || 'bold 20pt Arial'),
            (this._fontComponents = this.fontToComponents(t)),
            this.updateFont(this._fontComponents);
          },
        }),
        Object.defineProperty(a.Text.prototype, 'font', {
          get() {
            return this._fontComponents.fontFamily;
          },
          set(t) {
            (t = t || 'Arial'),
            (t = t.trim()),
            /^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(t) ||
                  /['",]/.exec(t) ||
                  (t = `'${t}'`),
            (this._fontComponents.fontFamily = t),
            this.updateFont(this._fontComponents);
          },
        }),
        Object.defineProperty(a.Text.prototype, 'fontSize', {
          get() {
            const t = this._fontComponents.fontSize;
            return t && /(?:^0$|px$)/.exec(t) ? parseInt(t, 10) : t;
          },
          set(t) {
            (t = t || '0'),
            typeof t === 'number' && (t += 'px'),
            (this._fontComponents.fontSize = t),
            this.updateFont(this._fontComponents);
          },
        }),
        Object.defineProperty(a.Text.prototype, 'fontWeight', {
          get() {
            return this._fontComponents.fontWeight || 'normal';
          },
          set(t) {
            (t = t || 'normal'),
            (this._fontComponents.fontWeight = t),
            this.updateFont(this._fontComponents);
          },
        }),
        Object.defineProperty(a.Text.prototype, 'fontStyle', {
          get() {
            return this._fontComponents.fontStyle || 'normal';
          },
          set(t) {
            (t = t || 'normal'),
            (this._fontComponents.fontStyle = t),
            this.updateFont(this._fontComponents);
          },
        }),
        Object.defineProperty(a.Text.prototype, 'fontVariant', {
          get() {
            return this._fontComponents.fontVariant || 'normal';
          },
          set(t) {
            (t = t || 'normal'),
            (this._fontComponents.fontVariant = t),
            this.updateFont(this._fontComponents);
          },
        }),
        Object.defineProperty(a.Text.prototype, 'fill', {
          get() {
            return this.style.fill;
          },
          set(t) {
            t !== this.style.fill &&
                ((this.style.fill = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'align', {
          get() {
            return this.style.align;
          },
          set(t) {
            t !== this.style.align &&
                ((this.style.align = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'resolution', {
          get() {
            return this._res;
          },
          set(t) {
            t !== this._res && ((this._res = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'tabs', {
          get() {
            return this.style.tabs;
          },
          set(t) {
            t !== this.style.tabs &&
                ((this.style.tabs = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'boundsAlignH', {
          get() {
            return this.style.boundsAlignH;
          },
          set(t) {
            t !== this.style.boundsAlignH &&
                ((this.style.boundsAlignH = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'boundsAlignV', {
          get() {
            return this.style.boundsAlignV;
          },
          set(t) {
            t !== this.style.boundsAlignV &&
                ((this.style.boundsAlignV = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'stroke', {
          get() {
            return this.style.stroke;
          },
          set(t) {
            t !== this.style.stroke &&
                ((this.style.stroke = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'strokeThickness', {
          get() {
            return this.style.strokeThickness;
          },
          set(t) {
            t !== this.style.strokeThickness &&
                ((this.style.strokeThickness = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'wordWrap', {
          get() {
            return this.style.wordWrap;
          },
          set(t) {
            t !== this.style.wordWrap &&
                ((this.style.wordWrap = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'wordWrapWidth', {
          get() {
            return this.style.wordWrapWidth;
          },
          set(t) {
            t !== this.style.wordWrapWidth &&
                ((this.style.wordWrapWidth = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'lineSpacing', {
          get() {
            return this._lineSpacing;
          },
          set(t) {
            t !== this._lineSpacing &&
                ((this._lineSpacing = parseFloat(t)),
                (this.dirty = !0),
                this.parent && this.updateTransform());
          },
        }),
        Object.defineProperty(a.Text.prototype, 'shadowOffsetX', {
          get() {
            return this.style.shadowOffsetX;
          },
          set(t) {
            t !== this.style.shadowOffsetX &&
                ((this.style.shadowOffsetX = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'shadowOffsetY', {
          get() {
            return this.style.shadowOffsetY;
          },
          set(t) {
            t !== this.style.shadowOffsetY &&
                ((this.style.shadowOffsetY = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'shadowColor', {
          get() {
            return this.style.shadowColor;
          },
          set(t) {
            t !== this.style.shadowColor &&
                ((this.style.shadowColor = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'shadowBlur', {
          get() {
            return this.style.shadowBlur;
          },
          set(t) {
            t !== this.style.shadowBlur &&
                ((this.style.shadowBlur = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'shadowStroke', {
          get() {
            return this.style.shadowStroke;
          },
          set(t) {
            t !== this.style.shadowStroke &&
                ((this.style.shadowStroke = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'shadowFill', {
          get() {
            return this.style.shadowFill;
          },
          set(t) {
            t !== this.style.shadowFill &&
                ((this.style.shadowFill = t), (this.dirty = !0));
          },
        }),
        Object.defineProperty(a.Text.prototype, 'width', {
          get() {
            return (
              this.dirty && (this.updateText(), (this.dirty = !1)),
              this.scale.x * this.texture.frame.width
            );
          },
          set(t) {
            (this.scale.x = t / this.texture.frame.width), (this._width = t);
          },
        }),
        Object.defineProperty(a.Text.prototype, 'height', {
          get() {
            return (
              this.dirty && (this.updateText(), (this.dirty = !1)),
              this.scale.y * this.texture.frame.height
            );
          },
          set(t) {
            (this.scale.y = t / this.texture.frame.height),
            (this._height = t);
          },
        }),
        (a.Text.fontPropertiesCache = {}),
        (a.Text.fontPropertiesCanvas = PIXI.CanvasPool.create(a.Text.fontPropertiesCanvas)),
        (a.Text.fontPropertiesContext = a.Text.fontPropertiesCanvas.getContext('2d')),
        (a.BitmapText = function (t, e, i, n, r, o, s) {
          (e = e || 0),
          (i = i || 0),
          (n = n || ''),
          (r = r || ''),
          (o = o || 32),
          (s = s || 'left'),
          PIXI.DisplayObjectContainer.call(this),
          (this.type = a.BITMAPTEXT),
          (this.physicsType = a.SPRITE),
          (this.textWidth = 0),
          (this.textHeight = 0),
          (this.anchor = new a.Point()),
          (this._prevAnchor = new a.Point()),
          (this._glyphs = []),
          (this._maxWidth = 0),
          (this._text = r.toString() || ''),
          (this._data = t.cache.getBitmapFont(n)),
          (this._font = n),
          (this._fontSize = o),
          (this._align = s),
          (this._tint = 16777215),
          this.updateText(),
          (this.dirty = !1),
          a.Component.Core.init.call(this, t, e, i, '', null);
        }),
        (a.BitmapText.prototype = Object.create(PIXI.DisplayObjectContainer.prototype)),
        (a.BitmapText.prototype.constructor = a.BitmapText),
        a.Component.Core.install.call(a.BitmapText.prototype, [
          'Angle',
          'AutoCull',
          'Bounds',
          'Destroy',
          'FixedToCamera',
          'InputEnabled',
          'InWorld',
          'LifeSpan',
          'PhysicsBody',
          'Reset',
        ]),
        (a.BitmapText.prototype.preUpdatePhysics =
            a.Component.PhysicsBody.preUpdate),
        (a.BitmapText.prototype.preUpdateLifeSpan =
            a.Component.LifeSpan.preUpdate),
        (a.BitmapText.prototype.preUpdateInWorld =
            a.Component.InWorld.preUpdate),
        (a.BitmapText.prototype.preUpdateCore = a.Component.Core.preUpdate),
        (a.BitmapText.prototype.preUpdate = function () {
          return (
            !!(
              this.preUpdatePhysics() &&
                this.preUpdateLifeSpan() &&
                this.preUpdateInWorld()
            ) && this.preUpdateCore()
          );
        });
        (a.BitmapText.prototype.postUpdate = function () {
          a.Component.PhysicsBody.postUpdate.call(this),
          a.Component.FixedToCamera.postUpdate.call(this),
          this.body &&
              this.body.type === a.Physics.ARCADE &&
              ((this.textWidth === this.body.sourceWidth &&
                this.textHeight === this.body.sourceHeight) ||
                this.body.setSize(this.textWidth, this.textHeight));
        }),
        (a.BitmapText.prototype.setText = function (t) {
          this.text = t;
        }),
        (a.BitmapText.prototype.scanLine = function (t, e, i) {
          for (
            var n = 0,
              r = 0,
              a = -1,
              o = 0,
              s = null,
              u = this._maxWidth > 0 ? this._maxWidth : null,
              l = [],
              c = 0;
            c < i.length;
            c++
          ) {
            var h = c === i.length - 1;
            if (/(?:\r\n|\r|\n)/.test(i.charAt(c))) {
              return {
                width: r, text: i.substr(0, c), end: h, chars: l,
              };
            }
            let d = i.charCodeAt(c),
              f = t.chars[d],
              p = 0;
            void 0 === f && ((d = 32), (f = t.chars[d]));
            const g = s && f.kerning[s] ? f.kerning[s] : 0;
            if (
              (/(\s)/.test(i.charAt(c)) && ((a = c), (o = r)),
              (p = (g + f.texture.width + f.xOffset) * e),
              u && r + p >= u && a > -1)
            ) {
              return {
                width: o || r,
                text: i.substr(0, c - (c - a)),
                end: h,
                chars: l,
              };
            }
            (r += (f.xAdvance + g) * e),
            l.push(n + (f.xOffset + g) * e),
            (n += (f.xAdvance + g) * e),
            (s = d);
          }
          return {
            width: r, text: i, end: h, chars: l,
          };
        }),
        (a.BitmapText.prototype.cleanText = function (t, e) {
          void 0 === e && (e = '');
          const i = this._data.font;
          if (!i) return '';
          for (
            var n = /\r\n|\n\r|\n|\r/g,
              r = t.replace(n, '\n').split('\n'),
              a = 0;
            a < r.length;
            a++
          ) {
            for (var o = '', s = r[a], u = 0; u < s.length; u++) { o = i.chars[s.charCodeAt(u)] ? o.concat(s[u]) : o.concat(e); }
            r[a] = o;
          }
          return r.join('\n');
        }),
        (a.BitmapText.prototype.updateText = function () {
          const t = this._data.font;
          if (t) {
            let e = this.text,
              i = this._fontSize / t.size,
              n = [],
              r = 0;
            this.textWidth = 0;
            do {
              var a = this.scanLine(t, i, e);
              (a.y = r),
              n.push(a),
              a.width > this.textWidth && (this.textWidth = a.width),
              (r += t.lineHeight * i),
              (e = e.substr(a.text.length + 1));
            } while (!1 === a.end);
            this.textHeight = r;
            for (
              var o = 0,
                s = 0,
                u = this.textWidth * this.anchor.x,
                l = this.textHeight * this.anchor.y,
                c = 0;
              c < n.length;
              c++
            ) {
              var a = n[c];
              this._align === 'right'
                ? (s = this.textWidth - a.width)
                : this._align === 'center' &&
                    (s = (this.textWidth - a.width) / 2);
              for (let h = 0; h < a.text.length; h++) {
                let d = a.text.charCodeAt(h),
                  f = t.chars[d];
                void 0 === f && ((d = 32), (f = t.chars[d]));
                let p = this._glyphs[o];
                p
                  ? (p.texture = f.texture)
                  : ((p = new PIXI.Sprite(f.texture)),
                  (p.name = a.text[h]),
                  this._glyphs.push(p)),
                (p.position.x = a.chars[h] + s - u),
                (p.position.y = a.y + f.yOffset * i - l),
                p.scale.set(i),
                (p.tint = this.tint),
                (p.texture.requiresReTint = !0),
                p.parent || this.addChild(p),
                o++;
              }
            }
            for (c = o; c < this._glyphs.length; c++) { this.removeChild(this._glyphs[c]); }
          }
        }),
        (a.BitmapText.prototype.purgeGlyphs = function () {
          for (
            var t = this._glyphs.length, e = [], i = 0;
            i < this._glyphs.length;
            i++
          ) {
            this._glyphs[i].parent !== this
              ? this._glyphs[i].destroy()
              : e.push(this._glyphs[i]);
          }
          return (
            (this._glyphs = []),
            (this._glyphs = e),
            this.updateText(),
            t - e.length
          );
        }),
        (a.BitmapText.prototype.updateTransform = function () {
          (!this.dirty && this.anchor.equals(this._prevAnchor)) ||
              (this.updateText(),
              (this.dirty = !1),
              this._prevAnchor.copyFrom(this.anchor)),
          PIXI.DisplayObjectContainer.prototype.updateTransform.call(this);
        }),
        Object.defineProperty(a.BitmapText.prototype, 'align', {
          get() {
            return this._align;
          },
          set(t) {
            t === this._align ||
                (t !== 'left' && t !== 'center' && t !== 'right') ||
                ((this._align = t), this.updateText());
          },
        }),
        Object.defineProperty(a.BitmapText.prototype, 'tint', {
          get() {
            return this._tint;
          },
          set(t) {
            t !== this._tint && ((this._tint = t), this.updateText());
          },
        }),
        Object.defineProperty(a.BitmapText.prototype, 'font', {
          get() {
            return this._font;
          },
          set(t) {
            t !== this._font &&
                ((this._font = t.trim()),
                (this._data = this.game.cache.getBitmapFont(this._font)),
                this.updateText());
          },
        }),
        Object.defineProperty(a.BitmapText.prototype, 'fontSize', {
          get() {
            return this._fontSize;
          },
          set(t) {
            (t = parseInt(t, 10)) !== this._fontSize &&
                t > 0 &&
                ((this._fontSize = t), this.updateText());
          },
        }),
        Object.defineProperty(a.BitmapText.prototype, 'text', {
          get() {
            return this._text;
          },
          set(t) {
            t !== this._text &&
                ((this._text = t.toString() || ''), this.updateText());
          },
        }),
        Object.defineProperty(a.BitmapText.prototype, 'maxWidth', {
          get() {
            return this._maxWidth;
          },
          set(t) {
            t !== this._maxWidth && ((this._maxWidth = t), this.updateText());
          },
        }),
        Object.defineProperty(a.BitmapText.prototype, 'smoothed', {
          get() {
            return !this._data.base.scaleMode;
          },
          set(t) {
            this._data.base.scaleMode = t ? 0 : 1;
          },
        }),
        (a.RetroFont = function (t, e, i, n, r, o, s, u, l, c) {
          if (!t.cache.checkImageKey(e)) return !1;
          (void 0 !== o && o !== null) || (o = t.cache.getImage(e).width / i),
          (this.characterWidth = i),
          (this.characterHeight = n),
          (this.characterSpacingX = s || 0),
          (this.characterSpacingY = u || 0),
          (this.characterPerRow = o),
          (this.offsetX = l || 0),
          (this.offsetY = c || 0),
          (this.align = 'left'),
          (this.multiLine = !1),
          (this.autoUpperCase = !0),
          (this.customSpacingX = 0),
          (this.customSpacingY = 0),
          (this.fixedWidth = 0),
          (this.fontSet = t.cache.getImage(e)),
          (this._text = ''),
          (this.grabData = []),
          (this.frameData = new a.FrameData());
          for (
            let h = this.offsetX, d = this.offsetY, f = 0, p = 0;
            p < r.length;
            p++
          ) {
            const g = this.frameData.addFrame(new a.Frame(p, h, d, this.characterWidth, this.characterHeight));
            (this.grabData[r.charCodeAt(p)] = g.index),
            f++,
            f === this.characterPerRow
              ? ((f = 0),
              (h = this.offsetX),
              (d += this.characterHeight + this.characterSpacingY))
              : (h += this.characterWidth + this.characterSpacingX);
          }
          t.cache.updateFrameData(e, this.frameData),
          (this.stamp = new a.Image(t, 0, 0, e, 0)),
          a.RenderTexture.call(this, t, 100, 100, '', a.scaleModes.NEAREST),
          (this.type = a.RETROFONT);
        }),
        (a.RetroFont.prototype = Object.create(a.RenderTexture.prototype)),
        (a.RetroFont.prototype.constructor = a.RetroFont),
        (a.RetroFont.ALIGN_LEFT = 'left'),
        (a.RetroFont.ALIGN_RIGHT = 'right'),
        (a.RetroFont.ALIGN_CENTER = 'center'),
        (a.RetroFont.TEXT_SET1 =
            ' !"#$%&\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~'),
        (a.RetroFont.TEXT_SET2 =
            ' !"#$%&\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ'),
        (a.RetroFont.TEXT_SET3 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 '),
        (a.RetroFont.TEXT_SET4 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789'),
        (a.RetroFont.TEXT_SET5 =
            "ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789"),
        (a.RetroFont.TEXT_SET6 =
            'ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.\' '),
        (a.RetroFont.TEXT_SET7 =
            'AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-\'39'),
        (a.RetroFont.TEXT_SET8 = '0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ'),
        (a.RetroFont.TEXT_SET9 =
            'ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,\'"?!'),
        (a.RetroFont.TEXT_SET10 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'),
        (a.RetroFont.TEXT_SET11 =
            'ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()\':;0123456789'),
        (a.RetroFont.prototype.setFixedWidth = function (t, e) {
          void 0 === e && (e = 'left'),
          (this.fixedWidth = t),
          (this.align = e);
        }),
        (a.RetroFont.prototype.setText = function (t, e, i, n, r, a) {
          (this.multiLine = e || !1),
          (this.customSpacingX = i || 0),
          (this.customSpacingY = n || 0),
          (this.align = r || 'left'),
          (this.autoUpperCase = !a),
          t.length > 0 && (this.text = t);
        }),
        (a.RetroFont.prototype.buildRetroFontText = function () {
          let t = 0,
            e = 0;
          if ((this.clear(), this.multiLine)) {
            const i = this._text.split('\n');
            this.fixedWidth > 0
              ? this.resize(
                this.fixedWidth,
                i.length * (this.characterHeight + this.customSpacingY) -
                      this.customSpacingY,
                !0,
              )
              : this.resize(
                this.getLongestLine() *
                      (this.characterWidth + this.customSpacingX),
                i.length * (this.characterHeight + this.customSpacingY) -
                      this.customSpacingY,
                !0,
              );
            for (let n = 0; n < i.length; n++) {
              (t = 0),
              this.align === a.RetroFont.ALIGN_RIGHT
                ? (t =
                        this.width -
                        i[n].length *
                          (this.characterWidth + this.customSpacingX))
                : this.align === a.RetroFont.ALIGN_CENTER &&
                      ((t =
                        this.width / 2 -
                        (i[n].length *
                          (this.characterWidth + this.customSpacingX)) /
                          2),
                      (t += this.customSpacingX / 2)),
              t < 0 && (t = 0),
              this.pasteLine(i[n], t, e, this.customSpacingX),
              (e += this.characterHeight + this.customSpacingY);
            }
          } else {
            this.fixedWidth > 0
              ? this.resize(this.fixedWidth, this.characterHeight, !0)
              : this.resize(
                this._text.length *
                      (this.characterWidth + this.customSpacingX),
                this.characterHeight,
                !0,
              ),
            (t = 0),
            this.align === a.RetroFont.ALIGN_RIGHT
              ? (t =
                      this.width -
                      this._text.length *
                        (this.characterWidth + this.customSpacingX))
              : this.align === a.RetroFont.ALIGN_CENTER &&
                    ((t =
                      this.width / 2 -
                      (this._text.length *
                        (this.characterWidth + this.customSpacingX)) /
                        2),
                    (t += this.customSpacingX / 2)),
            t < 0 && (t = 0),
            this.pasteLine(this._text, t, 0, this.customSpacingX);
          }
          this.requiresReTint = !0;
        }),
        (a.RetroFont.prototype.pasteLine = function (t, e, i, n) {
          for (let r = 0; r < t.length; r++) {
            if (t.charAt(r) === ' ') e += this.characterWidth + n;
            else if (
              this.grabData[t.charCodeAt(r)] >= 0 &&
                ((this.stamp.frame = this.grabData[t.charCodeAt(r)]),
                this.renderXY(this.stamp, e, i, !1),
                (e += this.characterWidth + n) > this.width)
            ) { break; }
          }
        }),
        (a.RetroFont.prototype.getLongestLine = function () {
          let t = 0;
          if (this._text.length > 0) {
            for (let e = this._text.split('\n'), i = 0; i < e.length; i++) { e[i].length > t && (t = e[i].length); }
          }
          return t;
        }),
        (a.RetroFont.prototype.removeUnsupportedCharacters = function (t) {
          for (var e = '', i = 0; i < this._text.length; i++) {
            let n = this._text[i],
              r = n.charCodeAt(0);
            (this.grabData[r] >= 0 || (!t && n === '\n')) &&
                (e = e.concat(n));
          }
          return e;
        }),
        (a.RetroFont.prototype.updateOffset = function (t, e) {
          if (this.offsetX !== t || this.offsetY !== e) {
            for (
              let i = t - this.offsetX,
                n = e - this.offsetY,
                r = this.game.cache.getFrameData(this.stamp.key).getFrames(),
                a = r.length;
              a--;

            ) { (r[a].x += i), (r[a].y += n); }
            this.buildRetroFontText();
          }
        }),
        Object.defineProperty(a.RetroFont.prototype, 'text', {
          get() {
            return this._text;
          },
          set(t) {
            let e;
            (e = this.autoUpperCase ? t.toUpperCase() : t) !== this._text &&
                ((this._text = e),
                this.removeUnsupportedCharacters(this.multiLine),
                this.buildRetroFontText());
          },
        }),
        Object.defineProperty(a.RetroFont.prototype, 'smoothed', {
          get() {
            return this.stamp.smoothed;
          },
          set(t) {
            (this.stamp.smoothed = t), this.buildRetroFontText();
          },
        }),
        (a.Rope = function (t, e, i, n, r, o) {
          (this.points = []),
          (this.points = o),
          (this._hasUpdateAnimation = !1),
          (this._updateAnimationCallback = null),
          (e = e || 0),
          (i = i || 0),
          (n = n || null),
          (r = r || null),
          (this.type = a.ROPE),
          PIXI.Rope.call(this, PIXI.TextureCache.__default, this.points),
          a.Component.Core.init.call(this, t, e, i, n, r);
        }),
        (a.Rope.prototype = Object.create(PIXI.Rope.prototype)),
        (a.Rope.prototype.constructor = a.Rope),
        a.Component.Core.install.call(a.Rope.prototype, [
          'Angle',
          'Animation',
          'AutoCull',
          'Bounds',
          'BringToTop',
          'Crop',
          'Delta',
          'Destroy',
          'FixedToCamera',
          'InWorld',
          'LifeSpan',
          'LoadTexture',
          'Overlap',
          'PhysicsBody',
          'Reset',
          'ScaleMinMax',
          'Smoothed',
        ]),
        (a.Rope.prototype.preUpdatePhysics =
            a.Component.PhysicsBody.preUpdate),
        (a.Rope.prototype.preUpdateLifeSpan = a.Component.LifeSpan.preUpdate),
        (a.Rope.prototype.preUpdateInWorld = a.Component.InWorld.preUpdate),
        (a.Rope.prototype.preUpdateCore = a.Component.Core.preUpdate),
        (a.Rope.prototype.preUpdate = function () {
          return (
            !!(
              this.preUpdatePhysics() &&
                this.preUpdateLifeSpan() &&
                this.preUpdateInWorld()
            ) && this.preUpdateCore()
          );
        }),
        (a.Rope.prototype.update = function () {
          this._hasUpdateAnimation && this.updateAnimation.call(this);
        }),
        (a.Rope.prototype.reset = function (t, e) {
          return a.Component.Reset.prototype.reset.call(this, t, e), this;
        }),
        Object.defineProperty(a.Rope.prototype, 'updateAnimation', {
          get() {
            return this._updateAnimation;
          },
          set(t) {
            t && typeof t === 'function'
              ? ((this._hasUpdateAnimation = !0), (this._updateAnimation = t))
              : ((this._hasUpdateAnimation = !1),
              (this._updateAnimation = null));
          },
        }),
        Object.defineProperty(a.Rope.prototype, 'segments', {
          get() {
            for (
              var t, e, i, n, r, o, s, u, l = [], c = 0;
              c < this.points.length;
              c++
            ) {
              (t = 4 * c),
              (e = this.vertices[t] * this.scale.x),
              (i = this.vertices[t + 1] * this.scale.y),
              (n = this.vertices[t + 4] * this.scale.x),
              (r = this.vertices[t + 3] * this.scale.y),
              (o = a.Math.difference(e, n)),
              (s = a.Math.difference(i, r)),
              (e += this.world.x),
              (i += this.world.y),
              (u = new a.Rectangle(e, i, o, s)),
              l.push(u);
            }
            return l;
          },
        }),
        (a.TileSprite = function (t, e, i, n, r, o, s) {
          (e = e || 0),
          (i = i || 0),
          (n = n || 256),
          (r = r || 256),
          (o = o || null),
          (s = s || null),
          (this.type = a.TILESPRITE),
          (this.physicsType = a.SPRITE),
          (this._scroll = new a.Point());
          const u = t.cache.getImage('__default', !0);
          PIXI.TilingSprite.call(this, new PIXI.Texture(u.base), n, r),
          a.Component.Core.init.call(this, t, e, i, o, s);
        }),
        (a.TileSprite.prototype = Object.create(PIXI.TilingSprite.prototype)),
        (a.TileSprite.prototype.constructor = a.TileSprite),
        a.Component.Core.install.call(a.TileSprite.prototype, [
          'Angle',
          'Animation',
          'AutoCull',
          'Bounds',
          'BringToTop',
          'Destroy',
          'FixedToCamera',
          'Health',
          'InCamera',
          'InputEnabled',
          'InWorld',
          'LifeSpan',
          'LoadTexture',
          'Overlap',
          'PhysicsBody',
          'Reset',
          'Smoothed',
        ]),
        (a.TileSprite.prototype.preUpdatePhysics =
            a.Component.PhysicsBody.preUpdate),
        (a.TileSprite.prototype.preUpdateLifeSpan =
            a.Component.LifeSpan.preUpdate),
        (a.TileSprite.prototype.preUpdateInWorld =
            a.Component.InWorld.preUpdate),
        (a.TileSprite.prototype.preUpdateCore = a.Component.Core.preUpdate),
        (a.TileSprite.prototype.preUpdate = function () {
          return (
            this._scroll.x !== 0 &&
                (this.tilePosition.x +=
                  this._scroll.x * this.game.time.physicsElapsed),
            this._scroll.y !== 0 &&
                (this.tilePosition.y +=
                  this._scroll.y * this.game.time.physicsElapsed),
            !!(
              this.preUpdatePhysics() &&
                this.preUpdateLifeSpan() &&
                this.preUpdateInWorld()
            ) && this.preUpdateCore()
          );
        }),
        (a.TileSprite.prototype.autoScroll = function (t, e) {
          this._scroll.set(t, e);
        }),
        (a.TileSprite.prototype.stopScroll = function () {
          this._scroll.set(0, 0);
        }),
        (a.TileSprite.prototype.destroy = function (t) {
          a.Component.Destroy.prototype.destroy.call(this, t),
          PIXI.TilingSprite.prototype.destroy.call(this);
        }),
        (a.TileSprite.prototype.reset = function (t, e) {
          return (
            a.Component.Reset.prototype.reset.call(this, t, e),
            (this.tilePosition.x = 0),
            (this.tilePosition.y = 0),
            this
          );
        }),
        (a.Device = function () {
          (this.deviceReadyAt = 0),
          (this.initialized = !1),
          (this.desktop = !1),
          (this.iOS = !1),
          (this.iOSVersion = 0),
          (this.cocoonJS = !1),
          (this.cocoonJSApp = !1),
          (this.cordova = !1),
          (this.node = !1),
          (this.nodeWebkit = !1),
          (this.electron = !1),
          (this.ejecta = !1),
          (this.crosswalk = !1),
          (this.android = !1),
          (this.chromeOS = !1),
          (this.linux = !1),
          (this.macOS = !1),
          (this.windows = !1),
          (this.windowsPhone = !1),
          (this.canvas = !1),
          (this.canvasBitBltShift = null),
          (this.webGL = !1),
          (this.file = !1),
          (this.fileSystem = !1),
          (this.localStorage = !1),
          (this.worker = !1),
          (this.css3D = !1),
          (this.pointerLock = !1),
          (this.typedArray = !1),
          (this.vibration = !1),
          (this.getUserMedia = !0),
          (this.quirksMode = !1),
          (this.touch = !1),
          (this.mspointer = !1),
          (this.wheelEvent = null),
          (this.arora = !1),
          (this.chrome = !1),
          (this.chromeVersion = 0),
          (this.epiphany = !1),
          (this.firefox = !1),
          (this.firefoxVersion = 0),
          (this.ie = !1),
          (this.ieVersion = 0),
          (this.trident = !1),
          (this.tridentVersion = 0),
          (this.edge = !1),
          (this.mobileSafari = !1),
          (this.midori = !1),
          (this.opera = !1),
          (this.safari = !1),
          (this.safariVersion = 0),
          (this.webApp = !1),
          (this.silk = !1),
          (this.audioData = !1),
          (this.webAudio = !1),
          (this.ogg = !1),
          (this.opus = !1),
          (this.mp3 = !1),
          (this.wav = !1),
          (this.m4a = !1),
          (this.webm = !1),
          (this.dolby = !1),
          (this.oggVideo = !1),
          (this.h264Video = !1),
          (this.mp4Video = !1),
          (this.webmVideo = !1),
          (this.vp9Video = !1),
          (this.hlsVideo = !1),
          (this.iPhone = !1),
          (this.iPhone4 = !1),
          (this.iPad = !1),
          (this.pixelRatio = 0),
          (this.littleEndian = !1),
          (this.LITTLE_ENDIAN = !1),
          (this.support32bit = !1),
          (this.fullscreen = !1),
          (this.requestFullscreen = ''),
          (this.cancelFullscreen = ''),
          (this.fullscreenKeyboard = !1);
        }),
        (a.Device = new a.Device()),
        (a.Device.onInitialized = new a.Signal()),
        (a.Device.whenReady = function (t, e, i) {
          const n = this._readyCheck;
          if (this.deviceReadyAt || !n) t.call(e, this);
          else if (n._monitor || i) { (n._queue = n._queue || []), n._queue.push([t, e]); } else {
            (n._monitor = n.bind(this)),
            (n._queue = n._queue || []),
            n._queue.push([t, e]);
            let r = void 0 !== window.cordova,
              a = navigator.isCocoonJS;
            document.readyState === 'complete' ||
              document.readyState === 'interactive'
              ? window.setTimeout(n._monitor, 0)
              : r && !a
                ? document.addEventListener('deviceready', n._monitor, !1)
                : (document.addEventListener(
                  'DOMContentLoaded',
                  n._monitor,
                  !1,
                ),
                window.addEventListener('load', n._monitor, !1));
          }
        }),
        (a.Device._readyCheck = function () {
          const t = this._readyCheck;
          if (document.body) {
            if (!this.deviceReadyAt) {
              (this.deviceReadyAt = Date.now()),
              document.removeEventListener('deviceready', t._monitor),
              document.removeEventListener('DOMContentLoaded', t._monitor),
              window.removeEventListener('load', t._monitor),
              this._initialize(),
              (this.initialized = !0),
              this.onInitialized.dispatch(this);
              for (var e; (e = t._queue.shift());) {
                let i = e[0],
                  n = e[1];
                i.call(n, this);
              }
              (this._readyCheck = null),
              (this._initialize = null),
              (this.onInitialized = null);
            }
          } else window.setTimeout(t._monitor, 20);
        }),
        (a.Device._initialize = function () {
          function t() {
            let t = new ArrayBuffer(4),
              e = new Uint8Array(t),
              i = new Uint32Array(t);
            return (
              (e[0] = 161),
              (e[1] = 178),
              (e[2] = 195),
              (e[3] = 212),
              i[0] == 3569595041 || (i[0] != 2712847316 && null)
            );
          }
          function e() {
            if (void 0 === Uint8ClampedArray) return !1;
            let t = PIXI.CanvasPool.create(this, 1, 1),
              e = t.getContext('2d');
            if (!e) return !1;
            const i = e.createImageData(1, 1);
            return (
              PIXI.CanvasPool.remove(this),
              i.data instanceof Uint8ClampedArray
            );
          }
          const r = this;
          !(function () {
            const t = navigator.userAgent;
            /Playstation Vita/.test(t)
              ? (r.vita = !0)
              : /Kindle/.test(t) ||
                  /\bKF[A-Z][A-Z]+/.test(t) ||
                  /Silk.*Mobile Safari/.test(t)
                ? (r.kindle = !0)
                : /Android/.test(t)
                  ? (r.android = !0)
                  : /CrOS/.test(t)
                    ? (r.chromeOS = !0)
                    : /iP[ao]d|iPhone/i.test(t)
                      ? ((r.iOS = !0),
                      navigator.appVersion.match(/OS (\d+)/),
                      (r.iOSVersion = parseInt(RegExp.$1, 10)))
                      : /Linux/.test(t)
                        ? (r.linux = !0)
                        : /Mac OS/.test(t)
                          ? (r.macOS = !0)
                          : /Windows/.test(t) && (r.windows = !0),
            (/Windows Phone/i.test(t) || /IEMobile/i.test(t)) &&
                  ((r.android = !1),
                  (r.iOS = !1),
                  (r.macOS = !1),
                  (r.windows = !0),
                  (r.windowsPhone = !0));
            const e = /Silk/.test(t);
            (r.windows || r.macOS || (r.linux && !e) || r.chromeOS) &&
                (r.desktop = !0),
            (r.windowsPhone ||
                  (/Windows NT/i.test(t) && /Touch/i.test(t))) &&
                  (r.desktop = !1);
          }()),
          (function () {
            const t = navigator.userAgent;
            if (
              (/Arora/.test(t)
                ? (r.arora = !0)
                : /Edge\/\d+/.test(t)
                  ? (r.edge = !0)
                  : /Chrome\/(\d+)/.test(t) && !r.windowsPhone
                    ? ((r.chrome = !0),
                    (r.chromeVersion = parseInt(RegExp.$1, 10)))
                    : /Epiphany/.test(t)
                      ? (r.epiphany = !0)
                      : /Firefox\D+(\d+)/.test(t)
                        ? ((r.firefox = !0),
                        (r.firefoxVersion = parseInt(RegExp.$1, 10)))
                        : /AppleWebKit/.test(t) && r.iOS
                          ? (r.mobileSafari = !0)
                          : /MSIE (\d+\.\d+);/.test(t)
                            ? ((r.ie = !0), (r.ieVersion = parseInt(RegExp.$1, 10)))
                            : /Midori/.test(t)
                              ? (r.midori = !0)
                              : /Opera/.test(t)
                                ? (r.opera = !0)
                                : /Safari\/(\d+)/.test(t) && !r.windowsPhone
                                  ? ((r.safari = !0),
                                  /Version\/(\d+)\./.test(t) &&
                        (r.safariVersion = parseInt(RegExp.$1, 10)))
                                  : /Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(t) &&
                      ((r.ie = !0),
                      (r.trident = !0),
                      (r.tridentVersion = parseInt(RegExp.$1, 10)),
                      (r.ieVersion = parseInt(RegExp.$3, 10))),
              /Silk/.test(t) && (r.silk = !0),
              navigator.standalone && (r.webApp = !0),
              void 0 !== window.cordova && (r.cordova = !0),
              void 0 !== i && (r.node = !0),
              r.node &&
                    n(i.versions) === 'object' &&
                    ((r.nodeWebkit = !!i.versions['node-webkit']),
                    (r.electron = !!i.versions.electron)),
              navigator.isCocoonJS && (r.cocoonJS = !0),
              r.cocoonJS)
            ) {
              try {
                r.cocoonJSApp = typeof CocoonJS !== 'undefined';
              } catch (t) {
                r.cocoonJSApp = !1;
              }
            }
            void 0 !== window.ejecta && (r.ejecta = !0),
            /Crosswalk/.test(t) && (r.crosswalk = !0);
          }()),
          (function () {
            (r.audioData = !!window.Audio),
            (r.webAudio = !(
              !window.AudioContext && !window.webkitAudioContext
            ));
            const t = document.createElement('audio');
            try {
              if (
                t.canPlayType &&
                    (t
                      .canPlayType('audio/ogg; codecs="vorbis"')
                      .replace(/^no$/, '') && (r.ogg = !0),
                    (t
                      .canPlayType('audio/ogg; codecs="opus"')
                      .replace(/^no$/, '') ||
                      t.canPlayType('audio/opus;').replace(/^no$/, '')) &&
                      (r.opus = !0),
                    t.canPlayType('audio/mpeg;').replace(/^no$/, '') &&
                      (r.mp3 = !0),
                    t
                      .canPlayType('audio/wav; codecs="1"')
                      .replace(/^no$/, '') && (r.wav = !0),
                    (t.canPlayType('audio/x-m4a;') ||
                      t.canPlayType('audio/aac;').replace(/^no$/, '')) &&
                      (r.m4a = !0),
                    t
                      .canPlayType('audio/webm; codecs="vorbis"')
                      .replace(/^no$/, '') && (r.webm = !0),
                    t.canPlayType('audio/mp4;codecs="ec-3"') !== '')
              ) {
                if (r.edge) r.dolby = !0;
                else if (
                  r.safari &&
                      r.safariVersion >= 9 &&
                      /Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)
                ) {
                  let e = parseInt(RegExp.$1, 10),
                    i = parseInt(RegExp.$2, 10);
                  ((e === 10 && i >= 11) || e > 10) && (r.dolby = !0);
                }
              }
            } catch (t) {}
          }()),
          (function () {
            const t = document.createElement('video');
            try {
              !!t.canPlayType &&
                    (t
                      .canPlayType('video/ogg; codecs="theora"')
                      .replace(/^no$/, '') && (r.oggVideo = !0),
                    t
                      .canPlayType('video/mp4; codecs="avc1.42E01E"')
                      .replace(/^no$/, '') &&
                      ((r.h264Video = !0), (r.mp4Video = !0)),
                    t
                      .canPlayType('video/webm; codecs="vp8, vorbis"')
                      .replace(/^no$/, '') && (r.webmVideo = !0),
                    t
                      .canPlayType('video/webm; codecs="vp9"')
                      .replace(/^no$/, '') && (r.vp9Video = !0),
                    t
                      .canPlayType('application/x-mpegURL; codecs="avc1.42E01E"')
                      .replace(/^no$/, '') && (r.hlsVideo = !0));
            } catch (t) {}
          }()),
          (function () {
            let t,
              e = document.createElement('p'),
              i = {
                webkitTransform: '-webkit-transform',
                OTransform: '-o-transform',
                msTransform: '-ms-transform',
                MozTransform: '-moz-transform',
                transform: 'transform',
              };
            document.body.insertBefore(e, null);
            for (const n in i) {
              void 0 !== e.style[n] &&
                    ((e.style[n] = 'translate3d(1px,1px,1px)'),
                    (t = window.getComputedStyle(e).getPropertyValue(i[n])));
            }
            document.body.removeChild(e),
            (r.css3D = void 0 !== t && t.length > 0 && t !== 'none');
          }()),
          (function () {
            (r.pixelRatio = window.devicePixelRatio || 1),
            (r.iPhone =
                    navigator.userAgent.toLowerCase().indexOf('iphone') != -1),
            (r.iPhone4 = r.pixelRatio == 2 && r.iPhone),
            (r.iPad =
                    navigator.userAgent.toLowerCase().indexOf('ipad') != -1),
            typeof Int8Array !== 'undefined'
              ? (r.typedArray = !0)
              : (r.typedArray = !1),
            typeof ArrayBuffer !== 'undefined' &&
                    typeof Uint8Array !== 'undefined' &&
                    typeof Uint32Array !== 'undefined' &&
                    ((r.littleEndian = t()),
                    (r.LITTLE_ENDIAN = r.littleEndian)),
            (r.support32bit =
                    typeof ArrayBuffer !== 'undefined' &&
                    typeof Uint8ClampedArray !== 'undefined' &&
                    typeof Int32Array !== 'undefined' &&
                    r.littleEndian !== null &&
                    e()),
            (navigator.vibrate =
                    navigator.vibrate ||
                    navigator.webkitVibrate ||
                    navigator.mozVibrate ||
                    navigator.msVibrate),
            navigator.vibrate && (r.vibration = !0);
          }()),
          (function () {
            r.canvas = !!window.CanvasRenderingContext2D || r.cocoonJS;
            try {
              r.localStorage = !!localStorage.getItem;
            } catch (t) {
              r.localStorage = !1;
            }
            (r.file = !!(
              window.File &&
                  window.FileReader &&
                  window.FileList &&
                  window.Blob
            )),
            (r.fileSystem = !!window.requestFileSystem),
            (r.webGL = (function () {
              try {
                const t = document.createElement('canvas');
                return (
                  (t.screencanvas = !1),
                  !!window.WebGLRenderingContext &&
                          (t.getContext('webgl') ||
                            t.getContext('experimental-webgl'))
                );
              } catch (t) {
                return !1;
              }
            }())),
            (r.webGL = !!r.webGL),
            (r.worker = !!window.Worker),
            (r.pointerLock =
                    'pointerLockElement' in document ||
                    'mozPointerLockElement' in document ||
                    'webkitPointerLockElement' in document),
            (r.quirksMode = document.compatMode !== 'CSS1Compat'),
            (navigator.getUserMedia =
                    navigator.getUserMedia ||
                    navigator.webkitGetUserMedia ||
                    navigator.mozGetUserMedia ||
                    navigator.msGetUserMedia ||
                    navigator.oGetUserMedia),
            (window.URL =
                    window.URL ||
                    window.webkitURL ||
                    window.mozURL ||
                    window.msURL),
            (r.getUserMedia =
                    r.getUserMedia && !!navigator.getUserMedia && !!window.URL),
            r.firefox && r.firefoxVersion < 21 && (r.getUserMedia = !1),
            !r.iOS &&
                    (r.ie || r.firefox || r.chrome) &&
                    (r.canvasBitBltShift = !0),
            (r.safari || r.mobileSafari) && (r.canvasBitBltShift = !1);
          }()),
          (function () {
            for (
              var t = [
                  'requestFullscreen',
                  'requestFullScreen',
                  'webkitRequestFullscreen',
                  'webkitRequestFullScreen',
                  'msRequestFullscreen',
                  'msRequestFullScreen',
                  'mozRequestFullScreen',
                  'mozRequestFullscreen',
                ],
                e = document.createElement('div'),
                i = 0;
              i < t.length;
              i++
            ) {
              if (e[t[i]]) {
                (r.fullscreen = !0), (r.requestFullscreen = t[i]);
                break;
              }
            }
            const n = [
              'cancelFullScreen',
              'exitFullscreen',
              'webkitCancelFullScreen',
              'webkitExitFullscreen',
              'msCancelFullScreen',
              'msExitFullscreen',
              'mozCancelFullScreen',
              'mozExitFullscreen',
            ];
            if (r.fullscreen) {
              for (var i = 0; i < n.length; i++) {
                if (document[n[i]]) {
                  r.cancelFullscreen = n[i];
                  break;
                }
              }
            }
            window.Element &&
                  Element.ALLOW_KEYBOARD_INPUT &&
                  (r.fullscreenKeyboard = !0);
          }()),
          (function () {
            ('ontouchstart' in document.documentElement ||
                  (window.navigator.maxTouchPoints &&
                    window.navigator.maxTouchPoints >= 1)) &&
                  (r.touch = !0),
            (window.navigator.msPointerEnabled ||
                    window.navigator.pointerEnabled) &&
                    (r.mspointer = !0),
            r.cocoonJS ||
                    ('onwheel' in window || (r.ie && 'WheelEvent' in window)
                      ? (r.wheelEvent = 'wheel')
                      : 'onmousewheel' in window
                        ? (r.wheelEvent = 'mousewheel')
                        : r.firefox &&
                        'MouseScrollEvent' in window &&
                        (r.wheelEvent = 'DOMMouseScroll'));
          }());
        }),
        (a.Device.canPlayAudio = function (t) {
          return !!(
            (t === 'mp3' && this.mp3) ||
              (t === 'ogg' && (this.ogg || this.opus)) ||
              (t === 'm4a' && this.m4a) ||
              (t === 'opus' && this.opus) ||
              (t === 'wav' && this.wav) ||
              (t === 'webm' && this.webm) ||
              (t === 'mp4' && this.dolby)
          );
        }),
        (a.Device.canPlayVideo = function (t) {
          return !!(
            (t === 'webm' && (this.webmVideo || this.vp9Video)) ||
              (t === 'mp4' && (this.mp4Video || this.h264Video)) ||
              ((t === 'ogg' || t === 'ogv') && this.oggVideo) ||
              (t === 'mpeg' && this.hlsVideo)
          );
        }),
        (a.Device.isConsoleOpen = function () {
          return (
            !(!window.console || !window.console.firebug) ||
              (!(
                !window.console ||
                (console.profile(),
                console.profileEnd(),
                console.clear && console.clear(),
                !console.profiles)
              ) &&
                console.profiles.length > 0)
          );
        }),
        (a.Device.isAndroidStockBrowser = function () {
          const t = window.navigator.userAgent.match(/Android.*AppleWebKit\/([\d.]+)/);
          return t && t[1] < 537;
        }),
        (a.Canvas = {
          create(t, e, i, n, r) {
            if (((e = e || 256), (i = i || 256), void 0 === r)) { var a = PIXI.CanvasPool.create(t, e, i); } else var a = document.createElement('canvas');
            return (
              typeof n === 'string' && n !== '' && (a.id = n),
              (a.width = e),
              (a.height = i),
              (a.style.display = 'block'),
              a
            );
          },
          setBackgroundColor(t, e) {
            return (e = e || 'rgb(0,0,0)'), (t.style.backgroundColor = e), t;
          },
          setTouchAction(t, e) {
            return (
              (e = e || 'none'),
              (t.style.msTouchAction = e),
              (t.style['ms-touch-action'] = e),
              (t.style['touch-action'] = e),
              t
            );
          },
          setUserSelect(t, e) {
            return (
              (e = e || 'none'),
              (t.style['-webkit-touch-callout'] = e),
              (t.style['-webkit-user-select'] = e),
              (t.style['-khtml-user-select'] = e),
              (t.style['-moz-user-select'] = e),
              (t.style['-ms-user-select'] = e),
              (t.style['user-select'] = e),
              (t.style['-webkit-tap-highlight-color'] = 'rgba(0, 0, 0, 0)'),
              t
            );
          },
          addToDOM(t, e, i) {
            let r;
            return (
              void 0 === i && (i = !0),
              e &&
                  (typeof e === 'string'
                    ? (r = document.getElementById(e))
                    : (void 0 === e ? 'undefined' : n(e)) === 'object' &&
                      e.nodeType === 1 &&
                      (r = e)),
              r || (r = document.body),
              i && r.style && (r.style.overflow = 'hidden'),
              r.appendChild(t),
              t
            );
          },
          removeFromDOM(t) {
            t.parentNode && t.parentNode.removeChild(t);
          },
          setTransform(t, e, i, n, r, a, o) {
            return t.setTransform(n, a, o, r, e, i), t;
          },
          setSmoothingEnabled(t, e) {
            const i = a.Canvas.getSmoothingPrefix(t);
            return i && (t[i] = e), t;
          },
          getSmoothingPrefix(t) {
            const e = ['i', 'webkitI', 'msI', 'mozI', 'oI'];
            for (const i in e) {
              const n = `${e[i]}mageSmoothingEnabled`;
              if (n in t) return n;
            }
            return null;
          },
          getSmoothingEnabled(t) {
            const e = a.Canvas.getSmoothingPrefix(t);
            if (e) return t[e];
          },
          setImageRenderingCrisp(t) {
            for (
              let e = [
                  'optimizeSpeed',
                  'crisp-edges',
                  '-moz-crisp-edges',
                  '-webkit-optimize-contrast',
                  'optimize-contrast',
                  'pixelated',
                ],
                i = 0;
              i < e.length;
              i++
            ) { t.style['image-rendering'] = e[i]; }
            return (t.style.msInterpolationMode = 'nearest-neighbor'), t;
          },
          setImageRenderingBicubic(t) {
            return (
              (t.style['image-rendering'] = 'auto'),
              (t.style.msInterpolationMode = 'bicubic'),
              t
            );
          },
        }),
        (a.RequestAnimationFrame = function (t, e) {
          void 0 === e && (e = !1),
          (this.game = t),
          (this.isRunning = !1),
          (this.forceSetTimeOut = e);
          for (
            let i = ['ms', 'moz', 'webkit', 'o'], n = 0;
            n < i.length && !window.requestAnimationFrame;
            n++
          ) {
            (window.requestAnimationFrame =
                window[`${i[n]}RequestAnimationFrame`]),
            (window.cancelAnimationFrame =
                  window[`${i[n]}CancelAnimationFrame`]);
          }
          (this._isSetTimeOut = !1),
          (this._onLoop = null),
          (this._timeOutID = null);
        }),
        (a.RequestAnimationFrame.prototype = {
          start() {
            this.isRunning = !0;
            const t = this;
            !window.requestAnimationFrame || this.forceSetTimeOut
              ? ((this._isSetTimeOut = !0),
              (this._onLoop = function () {
                return t.updateSetTimeout();
              }),
              (this._timeOutID = window.setTimeout(this._onLoop, 0)))
              : ((this._isSetTimeOut = !1),
              (this._onLoop = function (e) {
                return t.updateRAF(e);
              }),
              (this._timeOutID = window.requestAnimationFrame(this._onLoop)));
          },
          updateRAF(t) {
            this.isRunning &&
                (this.game.update(Math.floor(t)),
                (this._timeOutID = window.requestAnimationFrame(this._onLoop)));
          },
          updateSetTimeout() {
            this.isRunning &&
                (this.game.update(Date.now()),
                (this._timeOutID = window.setTimeout(
                  this._onLoop,
                  this.game.time.timeToCall,
                )));
          },
          stop() {
            this._isSetTimeOut
              ? clearTimeout(this._timeOutID)
              : window.cancelAnimationFrame(this._timeOutID),
            (this.isRunning = !1);
          },
          isSetTimeOut() {
            return this._isSetTimeOut;
          },
          isRAF() {
            return !1 === this._isSetTimeOut;
          },
        }),
        (a.RequestAnimationFrame.prototype.constructor =
            a.RequestAnimationFrame),
        (a.Math = {
          PI2: 2 * Math.PI,
          between(t, e) {
            return Math.floor(Math.random() * (e - t + 1) + t);
          },
          fuzzyEqual(t, e, i) {
            return void 0 === i && (i = 1e-4), Math.abs(t - e) < i;
          },
          fuzzyLessThan(t, e, i) {
            return void 0 === i && (i = 1e-4), t < e + i;
          },
          fuzzyGreaterThan(t, e, i) {
            return void 0 === i && (i = 1e-4), t > e - i;
          },
          fuzzyCeil(t, e) {
            return void 0 === e && (e = 1e-4), Math.ceil(t - e);
          },
          fuzzyFloor(t, e) {
            return void 0 === e && (e = 1e-4), Math.floor(t + e);
          },
          average() {
            for (var t = 0, e = arguments.length, i = 0; i < e; i++) { t += +arguments[i]; }
            return t / e;
          },
          shear(t) {
            return t % 1;
          },
          snapTo(t, e, i) {
            return (
              void 0 === i && (i = 0),
              e === 0 ? t : ((t -= i), (t = e * Math.round(t / e)), i + t)
            );
          },
          snapToFloor(t, e, i) {
            return (
              void 0 === i && (i = 0),
              e === 0 ? t : ((t -= i), (t = e * Math.floor(t / e)), i + t)
            );
          },
          snapToCeil(t, e, i) {
            return (
              void 0 === i && (i = 0),
              e === 0 ? t : ((t -= i), (t = e * Math.ceil(t / e)), i + t)
            );
          },
          roundTo(t, e, i) {
            void 0 === e && (e = 0), void 0 === i && (i = 10);
            const n = Math.pow(i, -e);
            return Math.round(t * n) / n;
          },
          floorTo(t, e, i) {
            void 0 === e && (e = 0), void 0 === i && (i = 10);
            const n = Math.pow(i, -e);
            return Math.floor(t * n) / n;
          },
          ceilTo(t, e, i) {
            void 0 === e && (e = 0), void 0 === i && (i = 10);
            const n = Math.pow(i, -e);
            return Math.ceil(t * n) / n;
          },
          angleBetween(t, e, i, n) {
            return Math.atan2(n - e, i - t);
          },
          angleBetweenY(t, e, i, n) {
            return Math.atan2(i - t, n - e);
          },
          angleBetweenPoints(t, e) {
            return Math.atan2(e.y - t.y, e.x - t.x);
          },
          angleBetweenPointsY(t, e) {
            return Math.atan2(e.x - t.x, e.y - t.y);
          },
          reverseAngle(t) {
            return this.normalizeAngle(t + Math.PI, !0);
          },
          normalizeAngle(t) {
            return (t %= 2 * Math.PI), t >= 0 ? t : t + 2 * Math.PI;
          },
          maxAdd(t, e, i) {
            return Math.min(t + e, i);
          },
          minSub(t, e, i) {
            return Math.max(t - e, i);
          },
          wrap(t, e, i) {
            const n = i - e;
            if (n <= 0) return 0;
            let r = (t - e) % n;
            return r < 0 && (r += n), r + e;
          },
          wrapValue(t, e, i) {
            return (
              (t = Math.abs(t)),
              (e = Math.abs(e)),
              (i = Math.abs(i)),
              (t + e) % i
            );
          },
          isOdd(t) {
            return !!(1 & t);
          },
          isEven(t) {
            return !(1 & t);
          },
          min() {
            if (arguments.length === 1 && n(arguments[0]) === 'object') { var t = arguments[0]; } else var t = arguments;
            for (var e = 1, i = 0, r = t.length; e < r; e++) { t[e] < t[i] && (i = e); }
            return t[i];
          },
          max() {
            if (arguments.length === 1 && n(arguments[0]) === 'object') { var t = arguments[0]; } else var t = arguments;
            for (var e = 1, i = 0, r = t.length; e < r; e++) { t[e] > t[i] && (i = e); }
            return t[i];
          },
          minProperty(t) {
            if (arguments.length === 2 && n(arguments[1]) === 'object') { var e = arguments[1]; } else var e = arguments.slice(1);
            for (var i = 1, r = 0, a = e.length; i < a; i++) { e[i][t] < e[r][t] && (r = i); }
            return e[r][t];
          },
          maxProperty(t) {
            if (arguments.length === 2 && n(arguments[1]) === 'object') { var e = arguments[1]; } else var e = arguments.slice(1);
            for (var i = 1, r = 0, a = e.length; i < a; i++) { e[i][t] > e[r][t] && (r = i); }
            return e[r][t];
          },
          wrapAngle(t, e) {
            return e
              ? this.wrap(t, -Math.PI, Math.PI)
              : this.wrap(t, -180, 180);
          },
          linearInterpolation(t, e) {
            let i = t.length - 1,
              n = i * e,
              r = Math.floor(n);
            return e < 0
              ? this.linear(t[0], t[1], n)
              : e > 1
                ? this.linear(t[i], t[i - 1], i - n)
                : this.linear(t[r], t[r + 1 > i ? i : r + 1], n - r);
          },
          bezierInterpolation(t, e) {
            for (var i = 0, n = t.length - 1, r = 0; r <= n; r++) {
              i +=
                  Math.pow(1 - e, n - r) *
                  Math.pow(e, r) *
                  t[r] *
                  this.bernstein(n, r);
            }
            return i;
          },
          catmullRomInterpolation(t, e) {
            let i = t.length - 1,
              n = i * e,
              r = Math.floor(n);
            return t[0] === t[i]
              ? (e < 0 && (r = Math.floor((n = i * (1 + e)))),
              this.catmullRom(
                t[(r - 1 + i) % i],
                t[r],
                t[(r + 1) % i],
                t[(r + 2) % i],
                n - r,
              ))
              : e < 0
                ? t[0] - (this.catmullRom(t[0], t[0], t[1], t[1], -n) - t[0])
                : e > 1
                  ? t[i] -
                  (this.catmullRom(t[i], t[i], t[i - 1], t[i - 1], n - i) -
                    t[i])
                  : this.catmullRom(
                    t[r ? r - 1 : 0],
                    t[r],
                    t[i < r + 1 ? i : r + 1],
                    t[i < r + 2 ? i : r + 2],
                    n - r,
                  );
          },
          linear(t, e, i) {
            return (e - t) * i + t;
          },
          bernstein(t, e) {
            return (
              this.factorial(t) / this.factorial(e) / this.factorial(t - e)
            );
          },
          factorial(t) {
            if (t === 0) return 1;
            for (var e = t; --t;) e *= t;
            return e;
          },
          catmullRom(t, e, i, n, r) {
            let a = 0.5 * (i - t),
              o = 0.5 * (n - e),
              s = r * r;
            return (
              (2 * e - 2 * i + a + o) * (r * s) +
                (-3 * e + 3 * i - 2 * a - o) * s +
                a * r +
                e
            );
          },
          difference(t, e) {
            return Math.abs(t - e);
          },
          roundAwayFromZero(t) {
            return t > 0 ? Math.ceil(t) : Math.floor(t);
          },
          sinCosGenerator(t, e, i, n) {
            void 0 === e && (e = 1),
            void 0 === i && (i = 1),
            void 0 === n && (n = 1);
            for (
              var r = e, a = i, o = (n * Math.PI) / t, s = [], u = [], l = 0;
              l < t;
              l++
            ) { (a -= r * o), (r += a * o), (s[l] = a), (u[l] = r); }
            return { sin: u, cos: s, length: t };
          },
          distance(t, e, i, n) {
            let r = t - i,
              a = e - n;
            return Math.sqrt(r * r + a * a);
          },
          distanceSq(t, e, i, n) {
            let r = t - i,
              a = e - n;
            return r * r + a * a;
          },
          distancePow(t, e, i, n, r) {
            return (
              void 0 === r && (r = 2),
              Math.sqrt(Math.pow(i - t, r) + Math.pow(n - e, r))
            );
          },
          clamp(t, e, i) {
            return t < e ? e : i < t ? i : t;
          },
          clampBottom(t, e) {
            return t < e ? e : t;
          },
          within(t, e, i) {
            return Math.abs(t - e) <= i;
          },
          mapLinear(t, e, i, n, r) {
            return n + ((t - e) * (r - n)) / (i - e);
          },
          smoothstep(t, e, i) {
            return (
              (t = Math.max(0, Math.min(1, (t - e) / (i - e)))) *
                t *
                (3 - 2 * t)
            );
          },
          smootherstep(t, e, i) {
            return (
              (t = Math.max(0, Math.min(1, (t - e) / (i - e)))) *
                t *
                t *
                (t * (6 * t - 15) + 10)
            );
          },
          sign(t) {
            return t < 0 ? -1 : t > 0 ? 1 : 0;
          },
          percent(t, e, i) {
            return (
              void 0 === i && (i = 0),
              t > e || i > e ? 1 : t < i || i > t ? 0 : (t - i) / e
            );
          },
        });
        let l = Math.PI / 180,
          c = 180 / Math.PI;
        return (
          (a.Math.degToRad = function (t) {
            return t * l;
          }),
          (a.Math.radToDeg = function (t) {
            return t * c;
          }),
          (a.RandomDataGenerator = function (t) {
            void 0 === t && (t = []),
            (this.c = 1),
            (this.s0 = 0),
            (this.s1 = 0),
            (this.s2 = 0),
            typeof t === 'string' ? this.state(t) : this.sow(t);
          }),
          (a.RandomDataGenerator.prototype = {
            rnd() {
              const t = 2091639 * this.s0 + 2.3283064365386963e-10 * this.c;
              return (
                (this.c = 0 | t),
                (this.s0 = this.s1),
                (this.s1 = this.s2),
                (this.s2 = t - this.c),
                this.s2
              );
            },
            sow(t) {
              if (
                ((this.s0 = this.hash(' ')),
                (this.s1 = this.hash(this.s0)),
                (this.s2 = this.hash(this.s1)),
                (this.c = 1),
                t)
              ) {
                for (let e = 0; e < t.length && t[e] != null; e++) {
                  const i = t[e];
                  (this.s0 -= this.hash(i)),
                  (this.s0 += ~~(this.s0 < 0)),
                  (this.s1 -= this.hash(i)),
                  (this.s1 += ~~(this.s1 < 0)),
                  (this.s2 -= this.hash(i)),
                  (this.s2 += ~~(this.s2 < 0));
                }
              }
            },
            hash(t) {
              let e,
                i,
                n;
              for (n = 4022871197, t = t.toString(), i = 0; i < t.length; i++) {
                (n += t.charCodeAt(i)),
                (e = 0.02519603282416938 * n),
                (n = e >>> 0),
                (e -= n),
                (e *= n),
                (n = e >>> 0),
                (e -= n),
                (n += 4294967296 * e);
              }
              return 2.3283064365386963e-10 * (n >>> 0);
            },
            integer() {
              return 4294967296 * this.rnd.apply(this);
            },
            frac() {
              return (
                this.rnd.apply(this) +
                1.1102230246251565e-16 * ((2097152 * this.rnd.apply(this)) | 0)
              );
            },
            real() {
              return this.integer() + this.frac();
            },
            integerInRange(t, e) {
              return Math.floor(this.realInRange(0, e - t + 1) + t);
            },
            between(t, e) {
              return this.integerInRange(t, e);
            },
            realInRange(t, e) {
              return this.frac() * (e - t) + t;
            },
            normal() {
              return 1 - 2 * this.frac();
            },
            uuid() {
              let t = '',
                e = '';
              for (
                e = t = '';
                t++ < 36;
                e +=
                  ~t % 5 | ((3 * t) & 4)
                    ? (15 ^ t
                      ? 8 ^ (this.frac() * (20 ^ t ? 16 : 4))
                      : 4
                    ).toString(16)
                    : '-'
              );
              return e;
            },
            pick(t) {
              return t[this.integerInRange(0, t.length - 1)];
            },
            sign() {
              return this.pick([-1, 1]);
            },
            weightedPick(t) {
              return t[~~(Math.pow(this.frac(), 2) * (t.length - 1) + 0.5)];
            },
            timestamp(t, e) {
              return this.realInRange(t || 9466848e5, e || 1577862e6);
            },
            angle() {
              return this.integerInRange(-180, 180);
            },
            state(t) {
              return (
                typeof t === 'string' &&
                  t.match(/^!rnd/) &&
                  ((t = t.split(',')),
                  (this.c = parseFloat(t[1])),
                  (this.s0 = parseFloat(t[2])),
                  (this.s1 = parseFloat(t[3])),
                  (this.s2 = parseFloat(t[4]))),
                ['!rnd', this.c, this.s0, this.s1, this.s2].join(',')
              );
            },
          }),
          (a.RandomDataGenerator.prototype.constructor = a.RandomDataGenerator),
          (a.QuadTree = function (t, e, i, n, r, a, o) {
            (this.maxObjects = 10),
            (this.maxLevels = 4),
            (this.level = 0),
            (this.bounds = {}),
            (this.objects = []),
            (this.nodes = []),
            (this._empty = []),
            this.reset(t, e, i, n, r, a, o);
          }),
          (a.QuadTree.prototype = {
            reset(t, e, i, n, r, a, o) {
              (this.maxObjects = r || 10),
              (this.maxLevels = a || 4),
              (this.level = o || 0),
              (this.bounds = {
                x: Math.round(t),
                y: Math.round(e),
                width: i,
                height: n,
                subWidth: Math.floor(i / 2),
                subHeight: Math.floor(n / 2),
                right: Math.round(t) + Math.floor(i / 2),
                bottom: Math.round(e) + Math.floor(n / 2),
              }),
              (this.objects.length = 0),
              (this.nodes.length = 0);
            },
            populate(t) {
              t.forEach(this.populateHandler, this, !0);
            },
            populateHandler(t) {
              t.body && t.exists && this.insert(t.body);
            },
            split() {
              (this.nodes[0] = new a.QuadTree(
                this.bounds.right,
                this.bounds.y,
                this.bounds.subWidth,
                this.bounds.subHeight,
                this.maxObjects,
                this.maxLevels,
                this.level + 1,
              )),
              (this.nodes[1] = new a.QuadTree(
                this.bounds.x,
                this.bounds.y,
                this.bounds.subWidth,
                this.bounds.subHeight,
                this.maxObjects,
                this.maxLevels,
                this.level + 1,
              )),
              (this.nodes[2] = new a.QuadTree(
                this.bounds.x,
                this.bounds.bottom,
                this.bounds.subWidth,
                this.bounds.subHeight,
                this.maxObjects,
                this.maxLevels,
                this.level + 1,
              )),
              (this.nodes[3] = new a.QuadTree(
                this.bounds.right,
                this.bounds.bottom,
                this.bounds.subWidth,
                this.bounds.subHeight,
                this.maxObjects,
                this.maxLevels,
                this.level + 1,
              ));
            },
            insert(t) {
              let e,
                i = 0;
              if (this.nodes[0] != null && (e = this.getIndex(t)) !== -1) { return void this.nodes[e].insert(t); }
              if (
                (this.objects.push(t),
                this.objects.length > this.maxObjects &&
                  this.level < this.maxLevels)
              ) {
                for (
                  this.nodes[0] == null && this.split();
                  i < this.objects.length;

                ) {
                  (e = this.getIndex(this.objects[i])),
                  e !== -1
                    ? this.nodes[e].insert(this.objects.splice(i, 1)[0])
                    : i++;
                }
              }
            },
            getIndex(t) {
              let e = -1;
              return (
                t.x < this.bounds.right && t.right < this.bounds.right
                  ? t.y < this.bounds.bottom && t.bottom < this.bounds.bottom
                    ? (e = 1)
                    : t.y > this.bounds.bottom && (e = 2)
                  : t.x > this.bounds.right &&
                    (t.y < this.bounds.bottom && t.bottom < this.bounds.bottom
                      ? (e = 0)
                      : t.y > this.bounds.bottom && (e = 3)),
                e
              );
            },
            retrieve(t) {
              if (t instanceof a.Rectangle) {
                var e = this.objects,
                  i = this.getIndex(t);
              } else {
                if (!t.body) return this._empty;
                var e = this.objects,
                  i = this.getIndex(t.body);
              }
              return (
                this.nodes[0] &&
                  (i !== -1
                    ? (e = e.concat(this.nodes[i].retrieve(t)))
                    : ((e = e.concat(this.nodes[0].retrieve(t))),
                    (e = e.concat(this.nodes[1].retrieve(t))),
                    (e = e.concat(this.nodes[2].retrieve(t))),
                    (e = e.concat(this.nodes[3].retrieve(t))))),
                e
              );
            },
            clear() {
              this.objects.length = 0;
              for (let t = this.nodes.length; t--;) { this.nodes[t].clear(), this.nodes.splice(t, 1); }
              this.nodes.length = 0;
            },
          }),
          (a.QuadTree.prototype.constructor = a.QuadTree),
          (a.Net = function (t) {
            this.game = t;
          }),
          (a.Net.prototype = {
            getHostName() {
              return window.location && window.location.hostname
                ? window.location.hostname
                : null;
            },
            checkDomainName(t) {
              return window.location.hostname.indexOf(t) !== -1;
            },
            updateQueryString(t, e, i, n) {
              void 0 === i && (i = !1),
              (void 0 !== n && n !== '') || (n = window.location.href);
              let r = '',
                a = new RegExp(`([?|&])${t}=.*?(&|#|$)(.*)`, 'gi');
              if (a.test(n)) {
                r =
                  void 0 !== e && e !== null
                    ? n.replace(a, `$1${t}=${e}$2$3`)
                    : n.replace(a, '$1$3').replace(/(&|\?)$/, '');
              } else if (void 0 !== e && e !== null) {
                let o = n.indexOf('?') !== -1 ? '&' : '?',
                  s = n.split('#');
                (n = `${s[0] + o + t}=${e}`),
                s[1] && (n += `#${s[1]}`),
                (r = n);
              } else r = n;
              if (!i) return r;
              window.location.href = r;
            },
            getQueryString(t) {
              void 0 === t && (t = '');
              let e = {},
                i = location.search.substring(1).split('&');
              for (const n in i) {
                const r = i[n].split('=');
                if (r.length > 1) {
                  if (t && t == this.decodeURI(r[0])) { return this.decodeURI(r[1]); }
                  e[this.decodeURI(r[0])] = this.decodeURI(r[1]);
                }
              }
              return e;
            },
            decodeURI(t) {
              return decodeURIComponent(t.replace(/\+/g, ' '));
            },
          }),
          (a.Net.prototype.constructor = a.Net),
          (a.TweenManager = function (t) {
            (this.game = t),
            (this.frameBased = !1),
            (this._tweens = []),
            (this._add = []),
            (this.easeMap = {
              Power0: a.Easing.Power0,
              Power1: a.Easing.Power1,
              Power2: a.Easing.Power2,
              Power3: a.Easing.Power3,
              Power4: a.Easing.Power4,
              Linear: a.Easing.Linear.None,
              Quad: a.Easing.Quadratic.Out,
              Cubic: a.Easing.Cubic.Out,
              Quart: a.Easing.Quartic.Out,
              Quint: a.Easing.Quintic.Out,
              Sine: a.Easing.Sinusoidal.Out,
              Expo: a.Easing.Exponential.Out,
              Circ: a.Easing.Circular.Out,
              Elastic: a.Easing.Elastic.Out,
              Back: a.Easing.Back.Out,
              Bounce: a.Easing.Bounce.Out,
              'Quad.easeIn': a.Easing.Quadratic.In,
              'Cubic.easeIn': a.Easing.Cubic.In,
              'Quart.easeIn': a.Easing.Quartic.In,
              'Quint.easeIn': a.Easing.Quintic.In,
              'Sine.easeIn': a.Easing.Sinusoidal.In,
              'Expo.easeIn': a.Easing.Exponential.In,
              'Circ.easeIn': a.Easing.Circular.In,
              'Elastic.easeIn': a.Easing.Elastic.In,
              'Back.easeIn': a.Easing.Back.In,
              'Bounce.easeIn': a.Easing.Bounce.In,
              'Quad.easeOut': a.Easing.Quadratic.Out,
              'Cubic.easeOut': a.Easing.Cubic.Out,
              'Quart.easeOut': a.Easing.Quartic.Out,
              'Quint.easeOut': a.Easing.Quintic.Out,
              'Sine.easeOut': a.Easing.Sinusoidal.Out,
              'Expo.easeOut': a.Easing.Exponential.Out,
              'Circ.easeOut': a.Easing.Circular.Out,
              'Elastic.easeOut': a.Easing.Elastic.Out,
              'Back.easeOut': a.Easing.Back.Out,
              'Bounce.easeOut': a.Easing.Bounce.Out,
              'Quad.easeInOut': a.Easing.Quadratic.InOut,
              'Cubic.easeInOut': a.Easing.Cubic.InOut,
              'Quart.easeInOut': a.Easing.Quartic.InOut,
              'Quint.easeInOut': a.Easing.Quintic.InOut,
              'Sine.easeInOut': a.Easing.Sinusoidal.InOut,
              'Expo.easeInOut': a.Easing.Exponential.InOut,
              'Circ.easeInOut': a.Easing.Circular.InOut,
              'Elastic.easeInOut': a.Easing.Elastic.InOut,
              'Back.easeInOut': a.Easing.Back.InOut,
              'Bounce.easeInOut': a.Easing.Bounce.InOut,
            }),
            this.game.onPause.add(this._pauseAll, this),
            this.game.onResume.add(this._resumeAll, this);
          }),
          (a.TweenManager.prototype = {
            getAll() {
              return this._tweens;
            },
            removeAll() {
              for (let t = 0; t < this._tweens.length; t++) { this._tweens[t].pendingDelete = !0; }
              this._add = [];
            },
            removeFrom(t, e) {
              void 0 === e && (e = !0);
              var i,
                n;
              if (Array.isArray(t)) { for (i = 0, n = t.length; i < n; i++) this.removeFrom(t[i]); } else if (t.type === a.GROUP && e) {
                for (var i = 0, n = t.children.length; i < n; i++) { this.removeFrom(t.children[i]); }
              } else {
                for (i = 0, n = this._tweens.length; i < n; i++) { t === this._tweens[i].target && this.remove(this._tweens[i]); }
                for (i = 0, n = this._add.length; i < n; i++) { t === this._add[i].target && this.remove(this._add[i]); }
              }
            },
            add(t) {
              (t._manager = this), this._add.push(t);
            },
            create(t) {
              return new a.Tween(t, this.game, this);
            },
            remove(t) {
              let e = this._tweens.indexOf(t);
              e !== -1
                ? (this._tweens[e].pendingDelete = !0)
                : (e = this._add.indexOf(t)) !== -1 &&
                  (this._add[e].pendingDelete = !0);
            },
            update() {
              let t = this._add.length,
                e = this._tweens.length;
              if (e === 0 && t === 0) return !1;
              for (let i = 0; i < e;) {
                this._tweens[i].update(this.game.time.time)
                  ? i++
                  : (this._tweens.splice(i, 1), e--);
              }
              return (
                t > 0 &&
                  ((this._tweens = this._tweens.concat(this._add)),
                  (this._add.length = 0)),
                !0
              );
            },
            isTweening(t) {
              return this._tweens.some(e => e.target === t);
            },
            _pauseAll() {
              for (let t = this._tweens.length - 1; t >= 0; t--) { this._tweens[t]._pause(); }
            },
            _resumeAll() {
              for (let t = this._tweens.length - 1; t >= 0; t--) { this._tweens[t]._resume(); }
            },
            pauseAll() {
              for (let t = this._tweens.length - 1; t >= 0; t--) { this._tweens[t].pause(); }
            },
            resumeAll() {
              for (let t = this._tweens.length - 1; t >= 0; t--) { this._tweens[t].resume(!0); }
            },
          }),
          (a.TweenManager.prototype.constructor = a.TweenManager),
          (a.Tween = function (t, e, i) {
            (this.game = e),
            (this.target = t),
            (this.manager = i),
            (this.timeline = []),
            (this.reverse = !1),
            (this.timeScale = 1),
            (this.repeatCounter = 0),
            (this.pendingDelete = !1),
            (this.onStart = new a.Signal()),
            (this.onLoop = new a.Signal()),
            (this.onRepeat = new a.Signal()),
            (this.onChildComplete = new a.Signal()),
            (this.onComplete = new a.Signal()),
            (this.isRunning = !1),
            (this.current = 0),
            (this.properties = {}),
            (this.chainedTween = null),
            (this.isPaused = !1),
            (this.frameBased = i.frameBased),
            (this._onUpdateCallback = null),
            (this._onUpdateCallbackContext = null),
            (this._pausedTime = 0),
            (this._codePaused = !1),
            (this._hasStarted = !1);
          }),
          (a.Tween.prototype = {
            to(t, e, i, n, r, o, s) {
              return (
                (void 0 === e || e <= 0) && (e = 1e3),
                (void 0 !== i && i !== null) || (i = a.Easing.Default),
                void 0 === n && (n = !1),
                void 0 === r && (r = 0),
                void 0 === o && (o = 0),
                void 0 === s && (s = !1),
                typeof i === 'string' &&
                  this.manager.easeMap[i] &&
                  (i = this.manager.easeMap[i]),
                this.isRunning
                  ? (console.warn('Phaser.Tween.to cannot be called after Tween.start'),
                  this)
                  : (this.timeline.push(new a.TweenData(this).to(t, e, i, r, o, s)),
                  n && this.start(),
                  this)
              );
            },
            from(t, e, i, n, r, o, s) {
              return (
                void 0 === e && (e = 1e3),
                (void 0 !== i && i !== null) || (i = a.Easing.Default),
                void 0 === n && (n = !1),
                void 0 === r && (r = 0),
                void 0 === o && (o = 0),
                void 0 === s && (s = !1),
                typeof i === 'string' &&
                  this.manager.easeMap[i] &&
                  (i = this.manager.easeMap[i]),
                this.isRunning
                  ? (console.warn('Phaser.Tween.from cannot be called after Tween.start'),
                  this)
                  : (this.timeline.push(new a.TweenData(this).from(t, e, i, r, o, s)),
                  n && this.start(),
                  this)
              );
            },
            start(t) {
              if (
                (void 0 === t && (t = 0),
                this.game === null ||
                  this.target === null ||
                  this.timeline.length === 0 ||
                  this.isRunning)
              ) { return this; }
              for (var e = 0; e < this.timeline.length; e++) {
                for (const i in this.timeline[e].vEnd) {
                  (this.properties[i] = this.target[i] || 0),
                  Array.isArray(this.properties[i]) ||
                      (this.properties[i] *= 1);
                }
              }
              for (var e = 0; e < this.timeline.length; e++) { this.timeline[e].loadValues(); }
              return (
                this.manager.add(this),
                (this.isRunning = !0),
                (t < 0 || t > this.timeline.length - 1) && (t = 0),
                (this.current = t),
                this.timeline[this.current].start(),
                this
              );
            },
            stop(t) {
              return (
                void 0 === t && (t = !1),
                (this.isRunning = !1),
                (this._onUpdateCallback = null),
                (this._onUpdateCallbackContext = null),
                t &&
                  (this.onComplete.dispatch(this.target, this),
                  (this._hasStarted = !1),
                  this.chainedTween && this.chainedTween.start()),
                this.manager.remove(this),
                this
              );
            },
            updateTweenData(t, e, i) {
              if (this.timeline.length === 0) return this;
              if ((void 0 === i && (i = 0), i === -1)) {
                for (let n = 0; n < this.timeline.length; n++) { this.timeline[n][t] = e; }
              } else this.timeline[i][t] = e;
              return this;
            },
            delay(t, e) {
              return this.updateTweenData('delay', t, e);
            },
            repeat(t, e, i) {
              return (
                void 0 === e && (e = 0),
                this.updateTweenData('repeatCounter', t, i),
                this.updateTweenData('repeatDelay', e, i)
              );
            },
            repeatDelay(t, e) {
              return this.updateTweenData('repeatDelay', t, e);
            },
            yoyo(t, e, i) {
              return (
                void 0 === e && (e = 0),
                this.updateTweenData('yoyo', t, i),
                this.updateTweenData('yoyoDelay', e, i)
              );
            },
            yoyoDelay(t, e) {
              return this.updateTweenData('yoyoDelay', t, e);
            },
            easing(t, e) {
              return (
                typeof t === 'string' &&
                  this.manager.easeMap[t] &&
                  (t = this.manager.easeMap[t]),
                this.updateTweenData('easingFunction', t, e)
              );
            },
            interpolation(t, e, i) {
              return (
                void 0 === e && (e = a.Math),
                this.updateTweenData('interpolationFunction', t, i),
                this.updateTweenData('interpolationContext', e, i)
              );
            },
            repeatAll(t) {
              return void 0 === t && (t = 0), (this.repeatCounter = t), this;
            },
            chain() {
              for (let t = arguments.length; t--;) {
                t > 0
                  ? (arguments[t - 1].chainedTween = arguments[t])
                  : (this.chainedTween = arguments[t]);
              }
              return this;
            },
            loop(t) {
              return (
                void 0 === t && (t = !0),
                (this.repeatCounter = t ? -1 : 0),
                this
              );
            },
            onUpdateCallback(t, e) {
              return (
                (this._onUpdateCallback = t),
                (this._onUpdateCallbackContext = e),
                this
              );
            },
            pause() {
              (this.isPaused = !0),
              (this._codePaused = !0),
              (this._pausedTime = this.game.time.time);
            },
            _pause() {
              this._codePaused ||
                ((this.isPaused = !0),
                (this._pausedTime = this.game.time.time));
            },
            resume() {
              if (this.isPaused) {
                (this.isPaused = !1), (this._codePaused = !1);
                for (let t = 0; t < this.timeline.length; t++) {
                  this.timeline[t].isRunning ||
                    (this.timeline[t].startTime +=
                      this.game.time.time - this._pausedTime);
                }
              }
            },
            _resume() {
              this._codePaused || this.resume();
            },
            update(t) {
              if (this.pendingDelete || !this.target) return !1;
              if (this.isPaused) return !0;
              const e = this.timeline[this.current].update(t);
              if (e === a.TweenData.PENDING) return !0;
              if (e === a.TweenData.RUNNING) {
                return (
                  this._hasStarted ||
                    (this.onStart.dispatch(this.target, this),
                    (this._hasStarted = !0)),
                  this._onUpdateCallback !== null &&
                    this._onUpdateCallback.call(
                      this._onUpdateCallbackContext,
                      this,
                      this.timeline[this.current].value,
                      this.timeline[this.current],
                    ),
                  this.isRunning
                );
              }
              if (e === a.TweenData.LOOPED) {
                return (
                  this.timeline[this.current].repeatCounter === -1
                    ? this.onLoop.dispatch(this.target, this)
                    : this.onRepeat.dispatch(this.target, this),
                  !0
                );
              }
              if (e === a.TweenData.COMPLETE) {
                let i = !1;
                return (
                  this.reverse
                    ? --this.current < 0 &&
                      ((this.current = this.timeline.length - 1), (i = !0))
                    : ++this.current === this.timeline.length &&
                      ((this.current = 0), (i = !0)),
                  i
                    ? this.repeatCounter === -1
                      ? (this.timeline[this.current].start(),
                      this.onLoop.dispatch(this.target, this),
                      !0)
                      : this.repeatCounter > 0
                        ? (this.repeatCounter--,
                        this.timeline[this.current].start(),
                        this.onRepeat.dispatch(this.target, this),
                        !0)
                        : ((this.isRunning = !1),
                        this.onComplete.dispatch(this.target, this),
                        (this._hasStarted = !1),
                        this.chainedTween && this.chainedTween.start(),
                        !1)
                    : (this.onChildComplete.dispatch(this.target, this),
                    this.timeline[this.current].start(),
                    !0)
                );
              }
            },
            generateData(t, e) {
              if (this.game === null || this.target === null) return null;
              void 0 === t && (t = 60), void 0 === e && (e = []);
              for (var i = 0; i < this.timeline.length; i++) {
                for (const n in this.timeline[i].vEnd) {
                  (this.properties[n] = this.target[n] || 0),
                  Array.isArray(this.properties[n]) ||
                      (this.properties[n] *= 1);
                }
              }
              for (var i = 0; i < this.timeline.length; i++) { this.timeline[i].loadValues(); }
              for (var i = 0; i < this.timeline.length; i++) { e = e.concat(this.timeline[i].generateData(t)); }
              return e;
            },
          }),
          Object.defineProperty(a.Tween.prototype, 'totalDuration', {
            get() {
              for (var t = 0, e = 0; e < this.timeline.length; e++) { t += this.timeline[e].duration; }
              return t;
            },
          }),
          (a.Tween.prototype.constructor = a.Tween),
          (a.TweenData = function (t) {
            (this.parent = t),
            (this.game = t.game),
            (this.vStart = {}),
            (this.vStartCache = {}),
            (this.vEnd = {}),
            (this.vEndCache = {}),
            (this.duration = 1e3),
            (this.percent = 0),
            (this.value = 0),
            (this.repeatCounter = 0),
            (this.repeatDelay = 0),
            (this.repeatTotal = 0),
            (this.interpolate = !1),
            (this.yoyo = !1),
            (this.yoyoDelay = 0),
            (this.inReverse = !1),
            (this.delay = 0),
            (this.dt = 0),
            (this.startTime = null),
            (this.easingFunction = a.Easing.Default),
            (this.interpolationFunction = a.Math.linearInterpolation),
            (this.interpolationContext = a.Math),
            (this.isRunning = !1),
            (this.isFrom = !1);
          }),
          (a.TweenData.PENDING = 0),
          (a.TweenData.RUNNING = 1),
          (a.TweenData.LOOPED = 2),
          (a.TweenData.COMPLETE = 3),
          (a.TweenData.prototype = {
            to(t, e, i, n, r, a) {
              return (
                (this.vEnd = t),
                (this.duration = e),
                (this.easingFunction = i),
                (this.delay = n),
                (this.repeatTotal = r),
                (this.yoyo = a),
                (this.isFrom = !1),
                this
              );
            },
            from(t, e, i, n, r, a) {
              return (
                (this.vEnd = t),
                (this.duration = e),
                (this.easingFunction = i),
                (this.delay = n),
                (this.repeatTotal = r),
                (this.yoyo = a),
                (this.isFrom = !0),
                this
              );
            },
            start() {
              if (
                ((this.startTime = this.game.time.time + this.delay),
                this.parent.reverse ? (this.dt = this.duration) : (this.dt = 0),
                this.delay > 0 ? (this.isRunning = !1) : (this.isRunning = !0),
                this.isFrom)
              ) {
                for (const t in this.vStartCache) {
                  (this.vStart[t] = this.vEndCache[t]),
                  (this.vEnd[t] = this.vStartCache[t]),
                  (this.parent.target[t] = this.vStart[t]);
                }
              }
              return (
                (this.value = 0),
                (this.yoyoCounter = 0),
                (this.repeatCounter = this.repeatTotal),
                this
              );
            },
            loadValues() {
              for (const t in this.parent.properties) {
                if (
                  ((this.vStart[t] = this.parent.properties[t]),
                  Array.isArray(this.vEnd[t]))
                ) {
                  if (this.vEnd[t].length === 0) continue;
                  this.percent === 0 &&
                    (this.vEnd[t] = [this.vStart[t]].concat(this.vEnd[t]));
                }
                void 0 !== this.vEnd[t]
                  ? (typeof this.vEnd[t] === 'string' &&
                      (this.vEnd[t] =
                        this.vStart[t] + parseFloat(this.vEnd[t], 10)),
                  (this.parent.properties[t] = this.vEnd[t]))
                  : (this.vEnd[t] = this.vStart[t]),
                (this.vStartCache[t] = this.vStart[t]),
                (this.vEndCache[t] = this.vEnd[t]);
              }
              return this;
            },
            update(t) {
              if (this.isRunning) {
                if (t < this.startTime) return a.TweenData.RUNNING;
              } else {
                if (!(t >= this.startTime)) return a.TweenData.PENDING;
                this.isRunning = !0;
              }
              const e = this.parent.frameBased
                ? this.game.time.physicsElapsedMS
                : this.game.time.elapsedMS;
              this.parent.reverse
                ? ((this.dt -= e * this.parent.timeScale),
                (this.dt = Math.max(this.dt, 0)))
                : ((this.dt += e * this.parent.timeScale),
                (this.dt = Math.min(this.dt, this.duration))),
              (this.percent = this.dt / this.duration),
              (this.value = this.easingFunction(this.percent));
              for (const i in this.vEnd) {
                let n = this.vStart[i],
                  r = this.vEnd[i];
                Array.isArray(r)
                  ? (this.parent.target[i] = this.interpolationFunction.call(
                    this.interpolationContext,
                    r,
                    this.value,
                  ))
                  : (this.parent.target[i] = n + (r - n) * this.value);
              }
              return (!this.parent.reverse && this.percent === 1) ||
                (this.parent.reverse && this.percent === 0)
                ? this.repeat()
                : a.TweenData.RUNNING;
            },
            generateData(t) {
              this.parent.reverse ? (this.dt = this.duration) : (this.dt = 0);
              let e = [],
                i = !1,
                n = (1 / t) * 1e3;
              do {
                this.parent.reverse
                  ? ((this.dt -= n), (this.dt = Math.max(this.dt, 0)))
                  : ((this.dt += n),
                  (this.dt = Math.min(this.dt, this.duration))),
                (this.percent = this.dt / this.duration),
                (this.value = this.easingFunction(this.percent));
                const r = {};
                for (const a in this.vEnd) {
                  let o = this.vStart[a],
                    s = this.vEnd[a];
                  Array.isArray(s)
                    ? (r[a] = this.interpolationFunction(s, this.value))
                    : (r[a] = o + (s - o) * this.value);
                }
                e.push(r),
                ((!this.parent.reverse && this.percent === 1) ||
                    (this.parent.reverse && this.percent === 0)) &&
                    (i = !0);
              } while (!i);
              if (this.yoyo) {
                const u = e.slice();
                u.reverse(), (e = e.concat(u));
              }
              return e;
            },
            repeat() {
              if (this.yoyo) {
                if (this.inReverse && this.repeatCounter === 0) {
                  for (var t in this.vStartCache) {
                    (this.vStart[t] = this.vStartCache[t]),
                    (this.vEnd[t] = this.vEndCache[t]);
                  }
                  return (this.inReverse = !1), a.TweenData.COMPLETE;
                }
                this.inReverse = !this.inReverse;
              } else if (this.repeatCounter === 0) return a.TweenData.COMPLETE;
              if (this.inReverse) {
                for (var t in this.vStartCache) {
                  (this.vStart[t] = this.vEndCache[t]),
                  (this.vEnd[t] = this.vStartCache[t]);
                }
              } else {
                for (var t in this.vStartCache) {
                  (this.vStart[t] = this.vStartCache[t]),
                  (this.vEnd[t] = this.vEndCache[t]);
                }
                this.repeatCounter > 0 && this.repeatCounter--;
              }
              return (
                (this.startTime = this.game.time.time),
                this.yoyo && this.inReverse
                  ? (this.startTime += this.yoyoDelay)
                  : this.inReverse || (this.startTime += this.repeatDelay),
                this.parent.reverse ? (this.dt = this.duration) : (this.dt = 0),
                a.TweenData.LOOPED
              );
            },
          }),
          (a.TweenData.prototype.constructor = a.TweenData),
          (a.Easing = {
            Linear: {
              None(t) {
                return t;
              },
            },
            Quadratic: {
              In(t) {
                return t * t;
              },
              Out(t) {
                return t * (2 - t);
              },
              InOut(t) {
                return (t *= 2) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1);
              },
            },
            Cubic: {
              In(t) {
                return t * t * t;
              },
              Out(t) {
                return --t * t * t + 1;
              },
              InOut(t) {
                return (t *= 2) < 1
                  ? 0.5 * t * t * t
                  : 0.5 * ((t -= 2) * t * t + 2);
              },
            },
            Quartic: {
              In(t) {
                return t * t * t * t;
              },
              Out(t) {
                return 1 - --t * t * t * t;
              },
              InOut(t) {
                return (t *= 2) < 1
                  ? 0.5 * t * t * t * t
                  : -0.5 * ((t -= 2) * t * t * t - 2);
              },
            },
            Quintic: {
              In(t) {
                return t * t * t * t * t;
              },
              Out(t) {
                return --t * t * t * t * t + 1;
              },
              InOut(t) {
                return (t *= 2) < 1
                  ? 0.5 * t * t * t * t * t
                  : 0.5 * ((t -= 2) * t * t * t * t + 2);
              },
            },
            Sinusoidal: {
              In(t) {
                return t === 0
                  ? 0
                  : t === 1
                    ? 1
                    : 1 - Math.cos((t * Math.PI) / 2);
              },
              Out(t) {
                return t === 0 ? 0 : t === 1 ? 1 : Math.sin((t * Math.PI) / 2);
              },
              InOut(t) {
                return t === 0
                  ? 0
                  : t === 1
                    ? 1
                    : 0.5 * (1 - Math.cos(Math.PI * t));
              },
            },
            Exponential: {
              In(t) {
                return t === 0 ? 0 : Math.pow(1024, t - 1);
              },
              Out(t) {
                return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);
              },
              InOut(t) {
                return t === 0
                  ? 0
                  : t === 1
                    ? 1
                    : (t *= 2) < 1
                      ? 0.5 * Math.pow(1024, t - 1)
                      : 0.5 * (2 - Math.pow(2, -10 * (t - 1)));
              },
            },
            Circular: {
              In(t) {
                return 1 - Math.sqrt(1 - t * t);
              },
              Out(t) {
                return Math.sqrt(1 - --t * t);
              },
              InOut(t) {
                return (t *= 2) < 1
                  ? -0.5 * (Math.sqrt(1 - t * t) - 1)
                  : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);
              },
            },
            Elastic: {
              In(t) {
                let e,
                  i = 0.1;
                return t === 0
                  ? 0
                  : t === 1
                    ? 1
                    : (!i || i < 1
                      ? ((i = 1), (e = 0.1))
                      : (e = (0.4 * Math.asin(1 / i)) / (2 * Math.PI)),
                    -i *
                      Math.pow(2, 10 * (t -= 1)) *
                      Math.sin(((t - e) * (2 * Math.PI)) / 0.4));
              },
              Out(t) {
                let e,
                  i = 0.1;
                return t === 0
                  ? 0
                  : t === 1
                    ? 1
                    : (!i || i < 1
                      ? ((i = 1), (e = 0.1))
                      : (e = (0.4 * Math.asin(1 / i)) / (2 * Math.PI)),
                    i *
                      Math.pow(2, -10 * t) *
                      Math.sin(((t - e) * (2 * Math.PI)) / 0.4) +
                      1);
              },
              InOut(t) {
                let e,
                  i = 0.1;
                return t === 0
                  ? 0
                  : t === 1
                    ? 1
                    : (!i || i < 1
                      ? ((i = 1), (e = 0.1))
                      : (e = (0.4 * Math.asin(1 / i)) / (2 * Math.PI)),
                    (t *= 2) < 1
                      ? i *
                        Math.pow(2, 10 * (t -= 1)) *
                        Math.sin(((t - e) * (2 * Math.PI)) / 0.4) *
                        -0.5
                      : i *
                          Math.pow(2, -10 * (t -= 1)) *
                          Math.sin(((t - e) * (2 * Math.PI)) / 0.4) *
                          0.5 +
                        1);
              },
            },
            Back: {
              In(t) {
                const e = 1.70158;
                return t * t * ((e + 1) * t - e);
              },
              Out(t) {
                const e = 1.70158;
                return --t * t * ((e + 1) * t + e) + 1;
              },
              InOut(t) {
                const e = 2.5949095;
                return (t *= 2) < 1
                  ? t * t * ((e + 1) * t - e) * 0.5
                  : 0.5 * ((t -= 2) * t * ((e + 1) * t + e) + 2);
              },
            },
            Bounce: {
              In(t) {
                return 1 - a.Easing.Bounce.Out(1 - t);
              },
              Out(t) {
                return t < 1 / 2.75
                  ? 7.5625 * t * t
                  : t < 2 / 2.75
                    ? 7.5625 * (t -= 1.5 / 2.75) * t + 0.75
                    : t < 2.5 / 2.75
                      ? 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375
                      : 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375;
              },
              InOut(t) {
                return t < 0.5
                  ? 0.5 * a.Easing.Bounce.In(2 * t)
                  : 0.5 * a.Easing.Bounce.Out(2 * t - 1) + 0.5;
              },
            },
          }),
          (a.Easing.Default = a.Easing.Linear.None),
          (a.Easing.Power0 = a.Easing.Linear.None),
          (a.Easing.Power1 = a.Easing.Quadratic.Out),
          (a.Easing.Power2 = a.Easing.Cubic.Out),
          (a.Easing.Power3 = a.Easing.Quartic.Out),
          (a.Easing.Power4 = a.Easing.Quintic.Out),
          (a.Time = function (t) {
            (this.game = t),
            (this.time = 0),
            (this.prevTime = 0),
            (this.now = 0),
            (this.elapsed = 0),
            (this.elapsedMS = 0),
            (this.physicsElapsed = 1 / 60),
            (this.physicsElapsedMS = (1 / 60) * 1e3),
            (this.desiredFpsMult = 1 / 60),
            (this._desiredFps = 60),
            (this.suggestedFps = this.desiredFps),
            (this.slowMotion = 1),
            (this.advancedTiming = !1),
            (this.frames = 0),
            (this.fps = 0),
            (this.fpsMin = 1e3),
            (this.fpsMax = 0),
            (this.msMin = 1e3),
            (this.msMax = 0),
            (this.pauseDuration = 0),
            (this.timeToCall = 0),
            (this.timeExpected = 0),
            (this.events = new a.Timer(this.game, !1)),
            (this._frameCount = 0),
            (this._elapsedAccumulator = 0),
            (this._started = 0),
            (this._timeLastSecond = 0),
            (this._pauseStarted = 0),
            (this._justResumed = !1),
            (this._timers = []);
          }),
          (a.Time.prototype = {
            boot() {
              (this._started = Date.now()),
              (this.time = Date.now()),
              this.events.start(),
              (this.timeExpected = this.time);
            },
            add(t) {
              return this._timers.push(t), t;
            },
            create(t) {
              void 0 === t && (t = !0);
              const e = new a.Timer(this.game, t);
              return this._timers.push(e), e;
            },
            removeAll() {
              for (let t = 0; t < this._timers.length; t++) { this._timers[t].destroy(); }
              (this._timers = []), this.events.removeAll();
            },
            refresh() {
              const t = this.time;
              (this.time = Date.now()), (this.elapsedMS = this.time - t);
            },
            update(t) {
              const e = this.time;
              (this.time = Date.now()),
              (this.elapsedMS = this.time - e),
              (this.prevTime = this.now),
              (this.now = t),
              (this.elapsed = this.now - this.prevTime),
              this.game.raf._isSetTimeOut &&
                  ((this.timeToCall = Math.floor(Math.max(
                    0,
                    1e3 / this._desiredFps - (this.timeExpected - t),
                  ))),
                  (this.timeExpected = t + this.timeToCall)),
              this.advancedTiming && this.updateAdvancedTiming(),
              this.game.paused ||
                  (this.events.update(this.time),
                  this._timers.length && this.updateTimers());
            },
            updateTimers() {
              for (let t = 0, e = this._timers.length; t < e;) {
                this._timers[t].update(this.time)
                  ? t++
                  : (this._timers.splice(t, 1), e--);
              }
            },
            updateAdvancedTiming() {
              this._frameCount++,
              (this._elapsedAccumulator += this.elapsed),
              this._frameCount >= 2 * this._desiredFps &&
                  ((this.suggestedFps =
                    5 *
                    Math.floor(200 / (this._elapsedAccumulator / this._frameCount))),
                  (this._frameCount = 0),
                  (this._elapsedAccumulator = 0)),
              (this.msMin = Math.min(this.msMin, this.elapsed)),
              (this.msMax = Math.max(this.msMax, this.elapsed)),
              this.frames++,
              this.now > this._timeLastSecond + 1e3 &&
                  ((this.fps = Math.round((1e3 * this.frames) / (this.now - this._timeLastSecond))),
                  (this.fpsMin = Math.min(this.fpsMin, this.fps)),
                  (this.fpsMax = Math.max(this.fpsMax, this.fps)),
                  (this._timeLastSecond = this.now),
                  (this.frames = 0));
            },
            gamePaused() {
              (this._pauseStarted = Date.now()), this.events.pause();
              for (let t = this._timers.length; t--;) this._timers[t]._pause();
            },
            gameResumed() {
              (this.time = Date.now()),
              (this.pauseDuration = this.time - this._pauseStarted),
              this.events.resume();
              for (let t = this._timers.length; t--;) { this._timers[t]._resume(); }
            },
            totalElapsedSeconds() {
              return 0.001 * (this.time - this._started);
            },
            elapsedSince(t) {
              return this.time - t;
            },
            elapsedSecondsSince(t) {
              return 0.001 * (this.time - t);
            },
            reset() {
              (this._started = this.time), this.removeAll();
            },
          }),
          Object.defineProperty(a.Time.prototype, 'desiredFps', {
            get() {
              return this._desiredFps;
            },
            set(t) {
              (this._desiredFps = t),
              (this.physicsElapsed = 1 / t),
              (this.physicsElapsedMS = 1e3 * this.physicsElapsed),
              (this.desiredFpsMult = 1 / t);
            },
          }),
          (a.Time.prototype.constructor = a.Time),
          (a.Timer = function (t, e) {
            void 0 === e && (e = !0),
            (this.game = t),
            (this.running = !1),
            (this.autoDestroy = e),
            (this.expired = !1),
            (this.elapsed = 0),
            (this.events = []),
            (this.onComplete = new a.Signal()),
            (this.nextTick = 0),
            (this.timeCap = 1e3),
            (this.paused = !1),
            (this._codePaused = !1),
            (this._started = 0),
            (this._pauseStarted = 0),
            (this._pauseTotal = 0),
            (this._now = Date.now()),
            (this._len = 0),
            (this._marked = 0),
            (this._i = 0),
            (this._diff = 0),
            (this._newTick = 0);
          }),
          (a.Timer.MINUTE = 6e4),
          (a.Timer.SECOND = 1e3),
          (a.Timer.HALF = 500),
          (a.Timer.QUARTER = 250),
          (a.Timer.prototype = {
            create(t, e, i, n, r, o) {
              t = Math.round(t);
              let s = t;
              this._now === 0 ? (s += this.game.time.time) : (s += this._now);
              const u = new a.TimerEvent(this, t, s, i, e, n, r, o);
              return this.events.push(u), this.order(), (this.expired = !1), u;
            },
            add(t, e, i) {
              return this.create(
                t,
                !1,
                0,
                e,
                i,
                Array.prototype.slice.call(arguments, 3),
              );
            },
            repeat(t, e, i, n) {
              return this.create(
                t,
                !1,
                e,
                i,
                n,
                Array.prototype.slice.call(arguments, 4),
              );
            },
            loop(t, e, i) {
              return this.create(
                t,
                !0,
                0,
                e,
                i,
                Array.prototype.slice.call(arguments, 3),
              );
            },
            start(t) {
              if (!this.running) {
                (this._started = this.game.time.time + (t || 0)),
                (this.running = !0);
                for (let e = 0; e < this.events.length; e++) { this.events[e].tick = this.events[e].delay + this._started; }
              }
            },
            stop(t) {
              (this.running = !1),
              void 0 === t && (t = !0),
              t && (this.events.length = 0);
            },
            remove(t) {
              for (let e = 0; e < this.events.length; e++) {
                if (this.events[e] === t) { return (this.events[e].pendingDelete = !0), !0; }
              }
              return !1;
            },
            order() {
              this.events.length > 0 &&
                (this.events.sort(this.sortHandler),
                (this.nextTick = this.events[0].tick));
            },
            sortHandler(t, e) {
              return t.tick < e.tick ? -1 : t.tick > e.tick ? 1 : 0;
            },
            clearPendingEvents() {
              for (this._i = this.events.length; this._i--;) {
                this.events[this._i].pendingDelete &&
                  this.events.splice(this._i, 1);
              }
              (this._len = this.events.length), (this._i = 0);
            },
            update(t) {
              if (this.paused) return !0;
              if (
                ((this.elapsed = t - this._now),
                (this._now = t),
                this.elapsed > this.timeCap &&
                  this.adjustEvents(t - this.elapsed),
                (this._marked = 0),
                this.clearPendingEvents(),
                this.running && this._now >= this.nextTick && this._len > 0)
              ) {
                for (
                  ;
                  this._i < this._len &&
                  this.running &&
                  this._now >= this.events[this._i].tick &&
                  !this.events[this._i].pendingDelete;

                ) {
                  (this._newTick =
                    this._now +
                    this.events[this._i].delay -
                    (this._now - this.events[this._i].tick)),
                  this._newTick < 0 &&
                      (this._newTick = this._now + this.events[this._i].delay),
                  !0 === this.events[this._i].loop
                    ? ((this.events[this._i].tick = this._newTick),
                    this.events[this._i].callback.apply(
                      this.events[this._i].callbackContext,
                      this.events[this._i].args,
                    ))
                    : this.events[this._i].repeatCount > 0
                      ? (this.events[this._i].repeatCount--,
                      (this.events[this._i].tick = this._newTick),
                      this.events[this._i].callback.apply(
                        this.events[this._i].callbackContext,
                        this.events[this._i].args,
                      ))
                      : (this._marked++,
                      (this.events[this._i].pendingDelete = !0),
                      this.events[this._i].callback.apply(
                        this.events[this._i].callbackContext,
                        this.events[this._i].args,
                      )),
                  this._i++;
                }
                this.events.length > this._marked
                  ? this.order()
                  : ((this.expired = !0), this.onComplete.dispatch(this));
              }
              return !this.expired || !this.autoDestroy;
            },
            pause() {
              this.running &&
                ((this._codePaused = !0),
                this.paused ||
                  ((this._pauseStarted = this.game.time.time),
                  (this.paused = !0)));
            },
            _pause() {
              !this.paused &&
                this.running &&
                ((this._pauseStarted = this.game.time.time),
                (this.paused = !0));
            },
            adjustEvents(t) {
              for (let e = 0; e < this.events.length; e++) {
                if (!this.events[e].pendingDelete) {
                  let i = this.events[e].tick - t;
                  i < 0 && (i = 0), (this.events[e].tick = this._now + i);
                }
              }
              const n = this.nextTick - t;
              this.nextTick = n < 0 ? this._now : this._now + n;
            },
            resume() {
              if (this.paused) {
                const t = this.game.time.time;
                (this._pauseTotal += t - this._now),
                (this._now = t),
                this.adjustEvents(this._pauseStarted),
                (this.paused = !1),
                (this._codePaused = !1);
              }
            },
            _resume() {
              this._codePaused || this.resume();
            },
            removeAll() {
              this.onComplete.removeAll(),
              (this.events.length = 0),
              (this._len = 0),
              (this._i = 0);
            },
            destroy() {
              this.onComplete.removeAll(),
              (this.running = !1),
              (this.events = []),
              (this._len = 0),
              (this._i = 0);
            },
          }),
          Object.defineProperty(a.Timer.prototype, 'next', {
            get() {
              return this.nextTick;
            },
          }),
          Object.defineProperty(a.Timer.prototype, 'duration', {
            get() {
              return this.running && this.nextTick > this._now
                ? this.nextTick - this._now
                : 0;
            },
          }),
          Object.defineProperty(a.Timer.prototype, 'length', {
            get() {
              return this.events.length;
            },
          }),
          Object.defineProperty(a.Timer.prototype, 'ms', {
            get() {
              return this.running
                ? this._now - this._started - this._pauseTotal
                : 0;
            },
          }),
          Object.defineProperty(a.Timer.prototype, 'seconds', {
            get() {
              return this.running ? 0.001 * this.ms : 0;
            },
          }),
          (a.Timer.prototype.constructor = a.Timer),
          (a.TimerEvent = function (t, e, i, n, r, a, o, s) {
            (this.timer = t),
            (this.delay = e),
            (this.tick = i),
            (this.repeatCount = n - 1),
            (this.loop = r),
            (this.callback = a),
            (this.callbackContext = o),
            (this.args = s),
            (this.pendingDelete = !1);
          }),
          (a.TimerEvent.prototype.constructor = a.TimerEvent),
          (a.AnimationManager = function (t) {
            (this.sprite = t),
            (this.game = t.game),
            (this.currentFrame = null),
            (this.currentAnim = null),
            (this.updateIfVisible = !0),
            (this.isLoaded = !1),
            (this._frameData = null),
            (this._anims = {}),
            (this._outputFrames = []);
          }),
          (a.AnimationManager.prototype = {
            loadFrameData(t, e) {
              if (void 0 === t) return !1;
              if (this.isLoaded) { for (const i in this._anims) this._anims[i].updateFrameData(t); }
              return (
                (this._frameData = t),
                void 0 === e || e === null
                  ? (this.frame = 0)
                  : typeof e === 'string'
                    ? (this.frameName = e)
                    : (this.frame = e),
                (this.isLoaded = !0),
                !0
              );
            },
            copyFrameData(t, e) {
              if (((this._frameData = t.clone()), this.isLoaded)) {
                for (const i in this._anims) { this._anims[i].updateFrameData(this._frameData); }
              }
              return (
                void 0 === e || e === null
                  ? (this.frame = 0)
                  : typeof e === 'string'
                    ? (this.frameName = e)
                    : (this.frame = e),
                (this.isLoaded = !0),
                !0
              );
            },
            add(t, e, i, n, r) {
              return (
                (e = e || []),
                (i = i || 60),
                void 0 === n && (n = !1),
                void 0 === r && (r = !(!e || typeof e[0] !== 'number')),
                (this._outputFrames = []),
                this._frameData.getFrameIndexes(e, r, this._outputFrames),
                (this._anims[t] = new a.Animation(
                  this.game,
                  this.sprite,
                  t,
                  this._frameData,
                  this._outputFrames,
                  i,
                  n,
                )),
                (this.currentAnim = this._anims[t]),
                this.sprite.tilingTexture && (this.sprite.refreshTexture = !0),
                this._anims[t]
              );
            },
            validateFrames(t, e) {
              void 0 === e && (e = !0);
              for (let i = 0; i < t.length; i++) {
                if (!0 === e) {
                  if (t[i] > this._frameData.total) return !1;
                } else if (!1 === this._frameData.checkFrameName(t[i])) { return !1; }
              }
              return !0;
            },
            play(t, e, i, n) {
              if (this._anims[t]) {
                return this.currentAnim === this._anims[t]
                  ? !1 === this.currentAnim.isPlaying
                    ? ((this.currentAnim.paused = !1),
                    this.currentAnim.play(e, i, n))
                    : this.currentAnim
                  : (this.currentAnim &&
                      this.currentAnim.isPlaying &&
                      this.currentAnim.stop(),
                  (this.currentAnim = this._anims[t]),
                  (this.currentAnim.paused = !1),
                  (this.currentFrame = this.currentAnim.currentFrame),
                  this.currentAnim.play(e, i, n));
              }
            },
            stop(t, e) {
              void 0 === e && (e = !1),
              !this.currentAnim ||
                  (typeof t === 'string' && t !== this.currentAnim.name) ||
                  this.currentAnim.stop(e);
            },
            update() {
              return !(
                (this.updateIfVisible && !this.sprite.visible) ||
                !this.currentAnim ||
                !this.currentAnim.update() ||
                ((this.currentFrame = this.currentAnim.currentFrame), 0)
              );
            },
            next(t) {
              this.currentAnim &&
                (this.currentAnim.next(t),
                (this.currentFrame = this.currentAnim.currentFrame));
            },
            previous(t) {
              this.currentAnim &&
                (this.currentAnim.previous(t),
                (this.currentFrame = this.currentAnim.currentFrame));
            },
            getAnimation(t) {
              return typeof t === 'string' && this._anims[t]
                ? this._anims[t]
                : null;
            },
            refreshFrame() {
              this.sprite.setTexture(PIXI.TextureCache[this.currentFrame.uuid]);
            },
            destroy() {
              var t = null;
              for (var t in this._anims) { this._anims.hasOwnProperty(t) && this._anims[t].destroy(); }
              (this._anims = {}),
              (this._outputFrames = []),
              (this._frameData = null),
              (this.currentAnim = null),
              (this.currentFrame = null),
              (this.sprite = null),
              (this.game = null);
            },
          }),
          (a.AnimationManager.prototype.constructor = a.AnimationManager),
          Object.defineProperty(a.AnimationManager.prototype, 'frameData', {
            get() {
              return this._frameData;
            },
          }),
          Object.defineProperty(a.AnimationManager.prototype, 'frameTotal', {
            get() {
              return this._frameData.total;
            },
          }),
          Object.defineProperty(a.AnimationManager.prototype, 'paused', {
            get() {
              return this.currentAnim.isPaused;
            },
            set(t) {
              this.currentAnim.paused = t;
            },
          }),
          Object.defineProperty(a.AnimationManager.prototype, 'name', {
            get() {
              if (this.currentAnim) return this.currentAnim.name;
            },
          }),
          Object.defineProperty(a.AnimationManager.prototype, 'frame', {
            get() {
              if (this.currentFrame) return this.currentFrame.index;
            },
            set(t) {
              typeof t === 'number' &&
                this._frameData &&
                this._frameData.getFrame(t) !== null &&
                ((this.currentFrame = this._frameData.getFrame(t)),
                this.currentFrame && this.sprite.setFrame(this.currentFrame));
            },
          }),
          Object.defineProperty(a.AnimationManager.prototype, 'frameName', {
            get() {
              if (this.currentFrame) return this.currentFrame.name;
            },
            set(t) {
              typeof t === 'string' &&
              this._frameData &&
              this._frameData.getFrameByName(t) !== null
                ? ((this.currentFrame = this._frameData.getFrameByName(t)),
                this.currentFrame &&
                    ((this._frameIndex = this.currentFrame.index),
                    this.sprite.setFrame(this.currentFrame)))
                : console.warn(`Cannot set frameName: ${t}`);
            },
          }),
          (a.Animation = function (t, e, i, n, r, o, s) {
            void 0 === s && (s = !1),
            (this.game = t),
            (this._parent = e),
            (this._frameData = n),
            (this.name = i),
            (this._frames = []),
            (this._frames = this._frames.concat(r)),
            (this.delay = 1e3 / o),
            (this.loop = s),
            (this.loopCount = 0),
            (this.killOnComplete = !1),
            (this.isFinished = !1),
            (this.isPlaying = !1),
            (this.isPaused = !1),
            (this._pauseStartTime = 0),
            (this._frameIndex = 0),
            (this._frameDiff = 0),
            (this._frameSkip = 1),
            (this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex])),
            (this.onStart = new a.Signal()),
            (this.onUpdate = null),
            (this.onComplete = new a.Signal()),
            (this.onLoop = new a.Signal()),
            (this.isReversed = !1),
            this.game.onPause.add(this.onPause, this),
            this.game.onResume.add(this.onResume, this);
          }),
          (a.Animation.prototype = {
            play(t, e, i) {
              return (
                typeof t === 'number' && (this.delay = 1e3 / t),
                typeof e === 'boolean' && (this.loop = e),
                void 0 !== i && (this.killOnComplete = i),
                (this.isPlaying = !0),
                (this.isFinished = !1),
                (this.paused = !1),
                (this.loopCount = 0),
                (this._timeLastFrame = this.game.time.time),
                (this._timeNextFrame = this.game.time.time + this.delay),
                (this._frameIndex = this.isReversed
                  ? this._frames.length - 1
                  : 0),
                this.updateCurrentFrame(!1, !0),
                this._parent.events.onAnimationStart$dispatch(
                  this._parent,
                  this,
                ),
                this.onStart.dispatch(this._parent, this),
                (this._parent.animations.currentAnim = this),
                (this._parent.animations.currentFrame = this.currentFrame),
                this
              );
            },
            restart() {
              (this.isPlaying = !0),
              (this.isFinished = !1),
              (this.paused = !1),
              (this.loopCount = 0),
              (this._timeLastFrame = this.game.time.time),
              (this._timeNextFrame = this.game.time.time + this.delay),
              (this._frameIndex = 0),
              (this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex])),
              this._parent.setFrame(this.currentFrame),
              (this._parent.animations.currentAnim = this),
              (this._parent.animations.currentFrame = this.currentFrame),
              this.onStart.dispatch(this._parent, this);
            },
            reverse() {
              return (this.reversed = !this.reversed), this;
            },
            reverseOnce() {
              return (
                this.onComplete.addOnce(this.reverse.bind(this)), this.reverse()
              );
            },
            setFrame(t, e) {
              let i;
              if ((void 0 === e && (e = !1), typeof t === 'string')) {
                for (var n = 0; n < this._frames.length; n++) {
                  this._frameData.getFrame(this._frames[n]).name === t &&
                    (i = n);
                }
              } else if (typeof t === 'number') {
                if (e) i = t;
                else {
                  for (var n = 0; n < this._frames.length; n++) { this._frames[n] === i && (i = n); }
                }
              }
              i &&
                ((this._frameIndex = i - 1),
                (this._timeNextFrame = this.game.time.time),
                this.update());
            },
            stop(t, e) {
              void 0 === t && (t = !1),
              void 0 === e && (e = !1),
              (this.isPlaying = !1),
              (this.isFinished = !0),
              (this.paused = !1),
              t &&
                  ((this.currentFrame = this._frameData.getFrame(this._frames[0])),
                  this._parent.setFrame(this.currentFrame)),
              e &&
                  (this._parent.events.onAnimationComplete$dispatch(
                    this._parent,
                    this,
                  ),
                  this.onComplete.dispatch(this._parent, this));
            },
            onPause() {
              this.isPlaying &&
                (this._frameDiff = this._timeNextFrame - this.game.time.time);
            },
            onResume() {
              this.isPlaying &&
                (this._timeNextFrame = this.game.time.time + this._frameDiff);
            },
            update() {
              return (
                !this.isPaused &&
                !!(
                  this.isPlaying && this.game.time.time >= this._timeNextFrame
                ) &&
                ((this._frameSkip = 1),
                (this._frameDiff = this.game.time.time - this._timeNextFrame),
                (this._timeLastFrame = this.game.time.time),
                this._frameDiff > this.delay &&
                  ((this._frameSkip = Math.floor(this._frameDiff / this.delay)),
                  (this._frameDiff -= this._frameSkip * this.delay)),
                (this._timeNextFrame =
                  this.game.time.time + (this.delay - this._frameDiff)),
                this.isReversed
                  ? (this._frameIndex -= this._frameSkip)
                  : (this._frameIndex += this._frameSkip),
                (!this.isReversed && this._frameIndex >= this._frames.length) ||
                (this.isReversed && this._frameIndex <= -1)
                  ? this.loop
                    ? ((this._frameIndex =
                        Math.abs(this._frameIndex) % this._frames.length),
                    this.isReversed &&
                        (this._frameIndex =
                          this._frames.length - 1 - this._frameIndex),
                    (this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex])),
                    this.currentFrame &&
                        this._parent.setFrame(this.currentFrame),
                    this.loopCount++,
                    this._parent.events.onAnimationLoop$dispatch(
                      this._parent,
                      this,
                    ),
                    this.onLoop.dispatch(this._parent, this),
                    !this.onUpdate ||
                        (this.onUpdate.dispatch(this, this.currentFrame),
                        !!this._frameData))
                    : (this.complete(), !1)
                  : this.updateCurrentFrame(!0))
              );
            },
            updateCurrentFrame(t, e) {
              if ((void 0 === e && (e = !1), !this._frameData)) return !1;
              const i = this.currentFrame.index;
              return (
                (this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex])),
                this.currentFrame &&
                  (e || (!e && i !== this.currentFrame.index)) &&
                  this._parent.setFrame(this.currentFrame),
                !this.onUpdate ||
                  !t ||
                  (this.onUpdate.dispatch(this, this.currentFrame),
                  !!this._frameData)
              );
            },
            next(t) {
              void 0 === t && (t = 1);
              let e = this._frameIndex + t;
              e >= this._frames.length &&
                (this.loop
                  ? (e %= this._frames.length)
                  : (e = this._frames.length - 1)),
              e !== this._frameIndex &&
                  ((this._frameIndex = e), this.updateCurrentFrame(!0));
            },
            previous(t) {
              void 0 === t && (t = 1);
              let e = this._frameIndex - t;
              e < 0 && (this.loop ? (e = this._frames.length + e) : e++),
              e !== this._frameIndex &&
                  ((this._frameIndex = e), this.updateCurrentFrame(!0));
            },
            updateFrameData(t) {
              (this._frameData = t),
              (this.currentFrame = this._frameData
                ? this._frameData.getFrame(this._frames[this._frameIndex % this._frames.length])
                : null);
            },
            destroy() {
              this._frameData &&
                (this.game.onPause.remove(this.onPause, this),
                this.game.onResume.remove(this.onResume, this),
                (this.game = null),
                (this._parent = null),
                (this._frames = null),
                (this._frameData = null),
                (this.currentFrame = null),
                (this.isPlaying = !1),
                this.onStart.dispose(),
                this.onLoop.dispose(),
                this.onComplete.dispose(),
                this.onUpdate && this.onUpdate.dispose());
            },
            complete() {
              (this._frameIndex = this._frames.length - 1),
              (this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex])),
              (this.isPlaying = !1),
              (this.isFinished = !0),
              (this.paused = !1),
              this._parent.events.onAnimationComplete$dispatch(
                this._parent,
                this,
              ),
              this.onComplete.dispatch(this._parent, this),
              this.killOnComplete && this._parent.kill();
            },
          }),
          (a.Animation.prototype.constructor = a.Animation),
          Object.defineProperty(a.Animation.prototype, 'paused', {
            get() {
              return this.isPaused;
            },
            set(t) {
              (this.isPaused = t),
              t
                ? (this._pauseStartTime = this.game.time.time)
                : this.isPlaying &&
                    (this._timeNextFrame = this.game.time.time + this.delay);
            },
          }),
          Object.defineProperty(a.Animation.prototype, 'reversed', {
            get() {
              return this.isReversed;
            },
            set(t) {
              this.isReversed = t;
            },
          }),
          Object.defineProperty(a.Animation.prototype, 'frameTotal', {
            get() {
              return this._frames.length;
            },
          }),
          Object.defineProperty(a.Animation.prototype, 'frame', {
            get() {
              return this.currentFrame !== null
                ? this.currentFrame.index
                : this._frameIndex;
            },
            set(t) {
              (this.currentFrame = this._frameData.getFrame(this._frames[t])),
              this.currentFrame !== null &&
                  ((this._frameIndex = t),
                  this._parent.setFrame(this.currentFrame),
                  this.onUpdate &&
                    this.onUpdate.dispatch(this, this.currentFrame));
            },
          }),
          Object.defineProperty(a.Animation.prototype, 'speed', {
            get() {
              return Math.round(1e3 / this.delay);
            },
            set(t) {
              t >= 1 && (this.delay = 1e3 / t);
            },
          }),
          Object.defineProperty(a.Animation.prototype, 'enableUpdate', {
            get() {
              return this.onUpdate !== null;
            },
            set(t) {
              t && this.onUpdate === null
                ? (this.onUpdate = new a.Signal())
                : t ||
                  this.onUpdate === null ||
                  (this.onUpdate.dispose(), (this.onUpdate = null));
            },
          }),
          (a.Animation.generateFrameNames = function (t, e, i, n, r) {
            void 0 === n && (n = '');
            let o = [],
              s = '';
            if (e < i) {
              for (var u = e; u <= i; u++) {
                (s =
                  typeof r === 'number'
                    ? a.Utils.pad(u.toString(), r, '0', 1)
                    : u.toString()),
                (s = t + s + n),
                o.push(s);
              }
            } else {
              for (var u = e; u >= i; u--) {
                (s =
                  typeof r === 'number'
                    ? a.Utils.pad(u.toString(), r, '0', 1)
                    : u.toString()),
                (s = t + s + n),
                o.push(s);
              }
            }
            return o;
          }),
          (a.Frame = function (t, e, i, n, r, o) {
            (this.index = t),
            (this.x = e),
            (this.y = i),
            (this.width = n),
            (this.height = r),
            (this.name = o),
            (this.centerX = Math.floor(n / 2)),
            (this.centerY = Math.floor(r / 2)),
            (this.distance = a.Math.distance(0, 0, n, r)),
            (this.rotated = !1),
            (this.rotationDirection = 'cw'),
            (this.trimmed = !1),
            (this.sourceSizeW = n),
            (this.sourceSizeH = r),
            (this.spriteSourceSizeX = 0),
            (this.spriteSourceSizeY = 0),
            (this.spriteSourceSizeW = 0),
            (this.spriteSourceSizeH = 0),
            (this.right = this.x + this.width),
            (this.bottom = this.y + this.height);
          }),
          (a.Frame.prototype = {
            resize(t, e) {
              (this.width = t),
              (this.height = e),
              (this.centerX = Math.floor(t / 2)),
              (this.centerY = Math.floor(e / 2)),
              (this.distance = a.Math.distance(0, 0, t, e)),
              (this.sourceSizeW = t),
              (this.sourceSizeH = e),
              (this.right = this.x + t),
              (this.bottom = this.y + e);
            },
            setTrim(t, e, i, n, r, a, o) {
              (this.trimmed = t),
              t &&
                  ((this.sourceSizeW = e),
                  (this.sourceSizeH = i),
                  (this.centerX = Math.floor(e / 2)),
                  (this.centerY = Math.floor(i / 2)),
                  (this.spriteSourceSizeX = n),
                  (this.spriteSourceSizeY = r),
                  (this.spriteSourceSizeW = a),
                  (this.spriteSourceSizeH = o));
            },
            clone() {
              const t = new a.Frame(
                this.index,
                this.x,
                this.y,
                this.width,
                this.height,
                this.name,
              );
              for (const e in this) this.hasOwnProperty(e) && (t[e] = this[e]);
              return t;
            },
            getRect(t) {
              return (
                void 0 === t
                  ? (t = new a.Rectangle(
                    this.x,
                    this.y,
                    this.width,
                    this.height,
                  ))
                  : t.setTo(this.x, this.y, this.width, this.height),
                t
              );
            },
          }),
          (a.Frame.prototype.constructor = a.Frame),
          (a.FrameData = function () {
            (this._frames = []), (this._frameNames = []);
          }),
          (a.FrameData.prototype = {
            addFrame(t) {
              return (
                (t.index = this._frames.length),
                this._frames.push(t),
                t.name !== '' && (this._frameNames[t.name] = t.index),
                t
              );
            },
            getFrame(t) {
              return t >= this._frames.length && (t = 0), this._frames[t];
            },
            getFrameByName(t) {
              return typeof this._frameNames[t] === 'number'
                ? this._frames[this._frameNames[t]]
                : null;
            },
            checkFrameName(t) {
              return this._frameNames[t] != null;
            },
            clone() {
              for (
                var t = new a.FrameData(), e = 0;
                e < this._frames.length;
                e++
              ) { t._frames.push(this._frames[e].clone()); }
              for (const i in this._frameNames) {
                this._frameNames.hasOwnProperty(i) &&
                  t._frameNames.push(this._frameNames[i]);
              }
              return t;
            },
            getFrameRange(t, e, i) {
              void 0 === i && (i = []);
              for (let n = t; n <= e; n++) i.push(this._frames[n]);
              return i;
            },
            getFrames(t, e, i) {
              if (
                (void 0 === e && (e = !0),
                void 0 === i && (i = []),
                void 0 === t || t.length === 0)
              ) {
                for (var n = 0; n < this._frames.length; n++) { i.push(this._frames[n]); }
              } else {
                for (var n = 0; n < t.length; n++) {
                  e
                    ? i.push(this.getFrame(t[n]))
                    : i.push(this.getFrameByName(t[n]));
                }
              }
              return i;
            },
            getFrameIndexes(t, e, i) {
              if (
                (void 0 === e && (e = !0),
                void 0 === i && (i = []),
                void 0 === t || t.length === 0)
              ) {
                for (var n = 0; n < this._frames.length; n++) { i.push(this._frames[n].index); }
              } else {
                for (var n = 0; n < t.length; n++) {
                  e && this._frames[t[n]]
                    ? i.push(this._frames[t[n]].index)
                    : this.getFrameByName(t[n]) &&
                      i.push(this.getFrameByName(t[n]).index);
                }
              }
              return i;
            },
            destroy() {
              (this._frames = null), (this._frameNames = null);
            },
          }),
          (a.FrameData.prototype.constructor = a.FrameData),
          Object.defineProperty(a.FrameData.prototype, 'total', {
            get() {
              return this._frames.length;
            },
          }),
          (a.AnimationParser = {
            spriteSheet(t, e, i, n, r, o, s) {
              let u = e;
              if (
                (typeof e === 'string' && (u = t.cache.getImage(e)), u === null)
              ) { return null; }
              let l = u.width,
                c = u.height;
              i <= 0 && (i = Math.floor(-l / Math.min(-1, i))),
              n <= 0 && (n = Math.floor(-c / Math.min(-1, n)));
              let h = Math.floor((l - o) / (i + s)),
                d = Math.floor((c - o) / (n + s)),
                f = h * d;
              if (
                (r !== -1 && (f = r),
                l === 0 || c === 0 || l < i || c < n || f === 0)
              ) {
                return (
                  console.warn(`Phaser.AnimationParser.spriteSheet: '${
                    e
                  }'s width/height zero or width/height < given frameWidth/frameHeight`),
                  null
                );
              }
              for (var p = new a.FrameData(), g = o, y = o, v = 0; v < f; v++) {
                p.addFrame(new a.Frame(v, g, y, i, n, '')),
                (g += i + s) + i > l && ((g = o), (y += n + s));
              }
              return p;
            },
            JSONData(t, e) {
              if (!e.frames) {
                return (
                  console.warn("Phaser.AnimationParser.JSONData: Invalid Texture Atlas JSON given, missing 'frames' array"),
                  void console.log(e)
                );
              }
              for (
                var i, n = new a.FrameData(), r = e.frames, o = 0;
                o < r.length;
                o++
              ) {
                (i = n.addFrame(new a.Frame(
                  o,
                  r[o].frame.x,
                  r[o].frame.y,
                  r[o].frame.w,
                  r[o].frame.h,
                  r[o].filename,
                ))),
                r[o].trimmed &&
                    i.setTrim(
                      r[o].trimmed,
                      r[o].sourceSize.w,
                      r[o].sourceSize.h,
                      r[o].spriteSourceSize.x,
                      r[o].spriteSourceSize.y,
                      r[o].spriteSourceSize.w,
                      r[o].spriteSourceSize.h,
                    );
              }
              return n;
            },
            JSONDataPyxel(t, e) {
              if (
                ([
                  'layers',
                  'tilewidth',
                  'tileheight',
                  'tileswide',
                  'tileshigh',
                ].forEach((t) => {
                  if (!e[t]) {
                    return (
                      console.warn(`Phaser.AnimationParser.JSONDataPyxel: Invalid Pyxel Tilemap JSON given, missing '${
                        t
                      }' key.`),
                      void console.log(e)
                    );
                  }
                }),
                e.layers.length != 1)
              ) {
                return (
                  console.warn('Phaser.AnimationParser.JSONDataPyxel: Too many layers, this parser only supports flat Tilemaps.'),
                  void console.log(e)
                );
              }
              for (
                var i,
                  n = new a.FrameData(),
                  r = e.tileheight,
                  o = e.tilewidth,
                  s = e.layers[0].tiles,
                  u = 0;
                u < s.length;
                u++
              ) {
                (i = n.addFrame(new a.Frame(u, s[u].x, s[u].y, o, r, `frame_${u}`))),
                i.setTrim(!1);
              }
              return n;
            },
            JSONDataHash(t, e) {
              if (!e.frames) {
                return (
                  console.warn("Phaser.AnimationParser.JSONDataHash: Invalid Texture Atlas JSON given, missing 'frames' object"),
                  void console.log(e)
                );
              }
              let i,
                n = new a.FrameData(),
                r = e.frames,
                o = 0;
              for (const s in r) {
                (i = n.addFrame(new a.Frame(
                  o,
                  r[s].frame.x,
                  r[s].frame.y,
                  r[s].frame.w,
                  r[s].frame.h,
                  s,
                ))),
                r[s].trimmed &&
                    i.setTrim(
                      r[s].trimmed,
                      r[s].sourceSize.w,
                      r[s].sourceSize.h,
                      r[s].spriteSourceSize.x,
                      r[s].spriteSourceSize.y,
                      r[s].spriteSourceSize.w,
                      r[s].spriteSourceSize.h,
                    ),
                o++;
              }
              return n;
            },
            XMLData(t, e) {
              if (!e.getElementsByTagName('TextureAtlas')) { return void console.warn('Phaser.AnimationParser.XMLData: Invalid Texture Atlas XML given, missing <TextureAtlas> tag'); }
              for (
                var i,
                  n,
                  r,
                  o,
                  s,
                  u,
                  l,
                  c,
                  h,
                  d,
                  f,
                  p = new a.FrameData(),
                  g = e.getElementsByTagName('SubTexture'),
                  y = 0;
                y < g.length;
                y++
              ) {
                (r = g[y].attributes),
                (n = r.name.value),
                (o = parseInt(r.x.value, 10)),
                (s = parseInt(r.y.value, 10)),
                (u = parseInt(r.width.value, 10)),
                (l = parseInt(r.height.value, 10)),
                (c = null),
                (h = null),
                r.frameX &&
                    ((c = Math.abs(parseInt(r.frameX.value, 10))),
                    (h = Math.abs(parseInt(r.frameY.value, 10))),
                    (d = parseInt(r.frameWidth.value, 10)),
                    (f = parseInt(r.frameHeight.value, 10))),
                (i = p.addFrame(new a.Frame(y, o, s, u, l, n))),
                (c === null && h === null) || i.setTrim(!0, u, l, c, h, d, f);
              }
              return p;
            },
          }),
          (a.Cache = function (t) {
            (this.game = t),
            (this.autoResolveURL = !1),
            (this._cache = {
              canvas: {},
              image: {},
              texture: {},
              sound: {},
              video: {},
              text: {},
              json: {},
              xml: {},
              physics: {},
              tilemap: {},
              binary: {},
              bitmapData: {},
              bitmapFont: {},
              shader: {},
              renderTexture: {},
            }),
            (this._urlMap = {}),
            (this._urlResolver = new Image()),
            (this._urlTemp = null),
            (this.onSoundUnlock = new a.Signal()),
            (this._cacheMap = []),
            (this._cacheMap[a.Cache.CANVAS] = this._cache.canvas),
            (this._cacheMap[a.Cache.IMAGE] = this._cache.image),
            (this._cacheMap[a.Cache.TEXTURE] = this._cache.texture),
            (this._cacheMap[a.Cache.SOUND] = this._cache.sound),
            (this._cacheMap[a.Cache.TEXT] = this._cache.text),
            (this._cacheMap[a.Cache.PHYSICS] = this._cache.physics),
            (this._cacheMap[a.Cache.TILEMAP] = this._cache.tilemap),
            (this._cacheMap[a.Cache.BINARY] = this._cache.binary),
            (this._cacheMap[a.Cache.BITMAPDATA] = this._cache.bitmapData),
            (this._cacheMap[a.Cache.BITMAPFONT] = this._cache.bitmapFont),
            (this._cacheMap[a.Cache.JSON] = this._cache.json),
            (this._cacheMap[a.Cache.XML] = this._cache.xml),
            (this._cacheMap[a.Cache.VIDEO] = this._cache.video),
            (this._cacheMap[a.Cache.SHADER] = this._cache.shader),
            (this._cacheMap[
              a.Cache.RENDER_TEXTURE
            ] = this._cache.renderTexture),
            this.addDefaultImage(),
            this.addMissingImage();
          }),
          (a.Cache.CANVAS = 1),
          (a.Cache.IMAGE = 2),
          (a.Cache.TEXTURE = 3),
          (a.Cache.SOUND = 4),
          (a.Cache.TEXT = 5),
          (a.Cache.PHYSICS = 6),
          (a.Cache.TILEMAP = 7),
          (a.Cache.BINARY = 8),
          (a.Cache.BITMAPDATA = 9),
          (a.Cache.BITMAPFONT = 10),
          (a.Cache.JSON = 11),
          (a.Cache.XML = 12),
          (a.Cache.VIDEO = 13),
          (a.Cache.SHADER = 14),
          (a.Cache.RENDER_TEXTURE = 15),
          (a.Cache.prototype = {
            addCanvas(t, e, i) {
              void 0 === i && (i = e.getContext('2d')),
              (this._cache.canvas[t] = { canvas: e, context: i });
            },
            addImage(t, e, i) {
              this.checkImageKey(t) && this.removeImage(t);
              const n = {
                key: t,
                url: e,
                data: i,
                base: new PIXI.BaseTexture(i),
                frame: new a.Frame(0, 0, 0, i.width, i.height, t),
                frameData: new a.FrameData(),
              };
              return (
                n.frameData.addFrame(new a.Frame(0, 0, 0, i.width, i.height, e)),
                (this._cache.image[t] = n),
                this._resolveURL(e, n),
                n
              );
            },
            addDefaultImage() {
              const t = new Image();
              t.src =
                'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==';
              const e = this.addImage('__default', null, t);
              (e.base.skipRender = !0),
              (PIXI.TextureCache.__default = new PIXI.Texture(e.base));
            },
            addMissingImage() {
              const t = new Image();
              t.src =
                'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==';
              const e = this.addImage('__missing', null, t);
              PIXI.TextureCache.__missing = new PIXI.Texture(e.base);
            },
            addSound(t, e, i, n, r) {
              void 0 === n && ((n = !0), (r = !1)),
              void 0 === r && ((n = !1), (r = !0));
              let a = !1;
              r && (a = !0),
              (this._cache.sound[t] = {
                url: e,
                data: i,
                isDecoding: !1,
                decoded: a,
                webAudio: n,
                audioTag: r,
                locked: this.game.sound.touchLocked,
              }),
              this._resolveURL(e, this._cache.sound[t]);
            },
            addText(t, e, i) {
              (this._cache.text[t] = { url: e, data: i }),
              this._resolveURL(e, this._cache.text[t]);
            },
            addPhysicsData(t, e, i, n) {
              (this._cache.physics[t] = { url: e, data: i, format: n }),
              this._resolveURL(e, this._cache.physics[t]);
            },
            addTilemap(t, e, i, n) {
              (this._cache.tilemap[t] = { url: e, data: i, format: n }),
              this._resolveURL(e, this._cache.tilemap[t]);
            },
            addBinary(t, e) {
              this._cache.binary[t] = e;
            },
            addBitmapData(t, e, i) {
              return (
                (e.key = t),
                void 0 === i &&
                  ((i = new a.FrameData()), i.addFrame(e.textureFrame)),
                (this._cache.bitmapData[t] = { data: e, frameData: i }),
                e
              );
            },
            addBitmapFont(t, e, i, n, r, o, s) {
              const u = {
                url: e,
                data: i,
                font: null,
                base: new PIXI.BaseTexture(i),
              };
              void 0 === o && (o = 0),
              void 0 === s && (s = 0),
              (u.font =
                  r === 'json'
                    ? a.LoaderParser.jsonBitmapFont(n, u.base, o, s)
                    : a.LoaderParser.xmlBitmapFont(n, u.base, o, s)),
              (this._cache.bitmapFont[t] = u),
              this._resolveURL(e, u);
            },
            addJSON(t, e, i) {
              (this._cache.json[t] = { url: e, data: i }),
              this._resolveURL(e, this._cache.json[t]);
            },
            addXML(t, e, i) {
              (this._cache.xml[t] = { url: e, data: i }),
              this._resolveURL(e, this._cache.xml[t]);
            },
            addVideo(t, e, i, n) {
              (this._cache.video[t] = {
                url: e,
                data: i,
                isBlob: n,
                locked: !0,
              }),
              this._resolveURL(e, this._cache.video[t]);
            },
            addShader(t, e, i) {
              (this._cache.shader[t] = { url: e, data: i }),
              this._resolveURL(e, this._cache.shader[t]);
            },
            addRenderTexture(t, e) {
              this._cache.renderTexture[t] = {
                texture: e,
                frame: new a.Frame(0, 0, 0, e.width, e.height, '', ''),
              };
            },
            addSpriteSheet(t, e, i, n, r, o, s, u) {
              void 0 === o && (o = -1),
              void 0 === s && (s = 0),
              void 0 === u && (u = 0);
              const l = {
                key: t,
                url: e,
                data: i,
                frameWidth: n,
                frameHeight: r,
                margin: s,
                spacing: u,
                base: new PIXI.BaseTexture(i),
                frameData: a.AnimationParser.spriteSheet(
                  this.game,
                  i,
                  n,
                  r,
                  o,
                  s,
                  u,
                ),
              };
              (this._cache.image[t] = l), this._resolveURL(e, l);
            },
            addTextureAtlas(t, e, i, n, r) {
              const o = {
                key: t,
                url: e,
                data: i,
                base: new PIXI.BaseTexture(i),
              };
              r === a.Loader.TEXTURE_ATLAS_XML_STARLING
                ? (o.frameData = a.AnimationParser.XMLData(this.game, n, t))
                : r === a.Loader.TEXTURE_ATLAS_JSON_PYXEL
                  ? (o.frameData = a.AnimationParser.JSONDataPyxel(
                    this.game,
                    n,
                    t,
                  ))
                  : Array.isArray(n.frames)
                    ? (o.frameData = a.AnimationParser.JSONData(this.game, n, t))
                    : (o.frameData = a.AnimationParser.JSONDataHash(
                      this.game,
                      n,
                      t,
                    )),
              (this._cache.image[t] = o),
              this._resolveURL(e, o);
            },
            reloadSound(t) {
              let e = this,
                i = this.getSound(t);
              i &&
                ((i.data.src = i.url),
                i.data.addEventListener(
                  'canplaythrough',
                  () => e.reloadSoundComplete(t),
                  !1,
                ),
                i.data.load());
            },
            reloadSoundComplete(t) {
              const e = this.getSound(t);
              e && ((e.locked = !1), this.onSoundUnlock.dispatch(t));
            },
            updateSound(t, e, i) {
              const n = this.getSound(t);
              n && (n[e] = i);
            },
            decodedSound(t, e) {
              const i = this.getSound(t);
              (i.data = e), (i.decoded = !0), (i.isDecoding = !1);
            },
            isSoundDecoded(t) {
              const e = this.getItem(t, a.Cache.SOUND, 'isSoundDecoded');
              if (e) return e.decoded;
            },
            isSoundReady(t) {
              const e = this.getItem(t, a.Cache.SOUND, 'isSoundDecoded');
              if (e) return e.decoded && !this.game.sound.touchLocked;
            },
            checkKey(t, e) {
              return !!this._cacheMap[t][e];
            },
            checkURL(t) {
              return !!this._urlMap[this._resolveURL(t)];
            },
            checkCanvasKey(t) {
              return this.checkKey(a.Cache.CANVAS, t);
            },
            checkImageKey(t) {
              return this.checkKey(a.Cache.IMAGE, t);
            },
            checkTextureKey(t) {
              return this.checkKey(a.Cache.TEXTURE, t);
            },
            checkSoundKey(t) {
              return this.checkKey(a.Cache.SOUND, t);
            },
            checkTextKey(t) {
              return this.checkKey(a.Cache.TEXT, t);
            },
            checkPhysicsKey(t) {
              return this.checkKey(a.Cache.PHYSICS, t);
            },
            checkTilemapKey(t) {
              return this.checkKey(a.Cache.TILEMAP, t);
            },
            checkBinaryKey(t) {
              return this.checkKey(a.Cache.BINARY, t);
            },
            checkBitmapDataKey(t) {
              return this.checkKey(a.Cache.BITMAPDATA, t);
            },
            checkBitmapFontKey(t) {
              return this.checkKey(a.Cache.BITMAPFONT, t);
            },
            checkJSONKey(t) {
              return this.checkKey(a.Cache.JSON, t);
            },
            checkXMLKey(t) {
              return this.checkKey(a.Cache.XML, t);
            },
            checkVideoKey(t) {
              return this.checkKey(a.Cache.VIDEO, t);
            },
            checkShaderKey(t) {
              return this.checkKey(a.Cache.SHADER, t);
            },
            checkRenderTextureKey(t) {
              return this.checkKey(a.Cache.RENDER_TEXTURE, t);
            },
            getItem(t, e, i, n) {
              return this.checkKey(e, t)
                ? void 0 === n
                  ? this._cacheMap[e][t]
                  : this._cacheMap[e][t][n]
                : (i &&
                    console.warn(`Phaser.Cache.${
                      i
                    }: Key "${
                      t
                    }" not found in Cache.`),
                null);
            },
            getCanvas(t) {
              return this.getItem(t, a.Cache.CANVAS, 'getCanvas', 'canvas');
            },
            getImage(t, e) {
              (void 0 !== t && t !== null) || (t = '__default'),
              void 0 === e && (e = !1);
              let i = this.getItem(t, a.Cache.IMAGE, 'getImage');
              return (
                i === null &&
                  (i = this.getItem('__missing', a.Cache.IMAGE, 'getImage')),
                e ? i : i.data
              );
            },
            getTextureFrame(t) {
              return this.getItem(
                t,
                a.Cache.TEXTURE,
                'getTextureFrame',
                'frame',
              );
            },
            getSound(t) {
              return this.getItem(t, a.Cache.SOUND, 'getSound');
            },
            getSoundData(t) {
              return this.getItem(t, a.Cache.SOUND, 'getSoundData', 'data');
            },
            getText(t) {
              return this.getItem(t, a.Cache.TEXT, 'getText', 'data');
            },
            getPhysicsData(t, e, i) {
              const n = this.getItem(
                t,
                a.Cache.PHYSICS,
                'getPhysicsData',
                'data',
              );
              if (n === null || void 0 === e || e === null) return n;
              if (n[e]) {
                const r = n[e];
                if (!r || !i) return r;
                for (let o in r) if (((o = r[o]), o.fixtureKey === i)) return o;
                console.warn(`Phaser.Cache.getPhysicsData: Could not find given fixtureKey: "${
                  i
                } in ${
                  t
                }"`);
              } else {
                console.warn(`Phaser.Cache.getPhysicsData: Invalid key/object: "${
                  t
                } / ${
                  e
                }"`);
              }
              return null;
            },
            getTilemapData(t) {
              return this.getItem(t, a.Cache.TILEMAP, 'getTilemapData');
            },
            getBinary(t) {
              return this.getItem(t, a.Cache.BINARY, 'getBinary');
            },
            getBitmapData(t) {
              return this.getItem(
                t,
                a.Cache.BITMAPDATA,
                'getBitmapData',
                'data',
              );
            },
            getBitmapFont(t) {
              return this.getItem(t, a.Cache.BITMAPFONT, 'getBitmapFont');
            },
            getJSON(t, e) {
              const i = this.getItem(t, a.Cache.JSON, 'getJSON', 'data');
              return i
                ? e
                  ? a.Utils.extend(!0, Array.isArray(i) ? [] : {}, i)
                  : i
                : null;
            },
            getXML(t) {
              return this.getItem(t, a.Cache.XML, 'getXML', 'data');
            },
            getVideo(t) {
              return this.getItem(t, a.Cache.VIDEO, 'getVideo');
            },
            getShader(t) {
              return this.getItem(t, a.Cache.SHADER, 'getShader', 'data');
            },
            getRenderTexture(t) {
              return this.getItem(
                t,
                a.Cache.RENDER_TEXTURE,
                'getRenderTexture',
              );
            },
            getBaseTexture(t, e) {
              return (
                void 0 === e && (e = a.Cache.IMAGE),
                this.getItem(t, e, 'getBaseTexture', 'base')
              );
            },
            getFrame(t, e) {
              return (
                void 0 === e && (e = a.Cache.IMAGE),
                this.getItem(t, e, 'getFrame', 'frame')
              );
            },
            getFrameCount(t, e) {
              const i = this.getFrameData(t, e);
              return i ? i.total : 0;
            },
            getFrameData(t, e) {
              return (
                void 0 === e && (e = a.Cache.IMAGE),
                this.getItem(t, e, 'getFrameData', 'frameData')
              );
            },
            hasFrameData(t, e) {
              return (
                void 0 === e && (e = a.Cache.IMAGE),
                this.getItem(t, e, '', 'frameData') !== null
              );
            },
            updateFrameData(t, e, i) {
              void 0 === i && (i = a.Cache.IMAGE),
              this._cacheMap[i][t] && (this._cacheMap[i][t].frameData = e);
            },
            getFrameByIndex(t, e, i) {
              const n = this.getFrameData(t, i);
              return n ? n.getFrame(e) : null;
            },
            getFrameByName(t, e, i) {
              const n = this.getFrameData(t, i);
              return n ? n.getFrameByName(e) : null;
            },
            getPixiTexture(t) {
              if (PIXI.TextureCache[t]) return PIXI.TextureCache[t];
              const e = this.getPixiBaseTexture(t);
              return e ? new PIXI.Texture(e) : null;
            },
            getPixiBaseTexture(t) {
              if (PIXI.BaseTextureCache[t]) return PIXI.BaseTextureCache[t];
              const e = this.getItem(t, a.Cache.IMAGE, 'getPixiBaseTexture');
              return e !== null ? e.base : null;
            },
            getURL(t) {
              var t = this._resolveURL(t);
              return t
                ? this._urlMap[t]
                : (console.warn(`Phaser.Cache.getUrl: Invalid url: "${
                  t
                }" or Cache.autoResolveURL was false`),
                null);
            },
            getKeys(t) {
              void 0 === t && (t = a.Cache.IMAGE);
              const e = [];
              if (this._cacheMap[t]) {
                for (const i in this._cacheMap[t]) { i !== '__default' && i !== '__missing' && e.push(i); }
              }
              return e;
            },
            removeCanvas(t) {
              delete this._cache.canvas[t];
            },
            removeImage(t, e) {
              void 0 === e && (e = !0);
              const i = this.getImage(t, !0);
              e && i.base && i.base.destroy(), delete this._cache.image[t];
            },
            removeSound(t) {
              delete this._cache.sound[t];
            },
            removeText(t) {
              delete this._cache.text[t];
            },
            removePhysics(t) {
              delete this._cache.physics[t];
            },
            removeTilemap(t) {
              delete this._cache.tilemap[t];
            },
            removeBinary(t) {
              delete this._cache.binary[t];
            },
            removeBitmapData(t) {
              delete this._cache.bitmapData[t];
            },
            removeBitmapFont(t) {
              delete this._cache.bitmapFont[t];
            },
            removeJSON(t) {
              delete this._cache.json[t];
            },
            removeXML(t) {
              delete this._cache.xml[t];
            },
            removeVideo(t) {
              delete this._cache.video[t];
            },
            removeShader(t) {
              delete this._cache.shader[t];
            },
            removeRenderTexture(t) {
              delete this._cache.renderTexture[t];
            },
            removeSpriteSheet(t) {
              delete this._cache.spriteSheet[t];
            },
            removeTextureAtlas(t) {
              delete this._cache.atlas[t];
            },
            clearGLTextures() {
              for (const t in this._cache.image) { this._cache.image[t].base._glTextures = []; }
            },
            _resolveURL(t, e) {
              return this.autoResolveURL
                ? ((this._urlResolver.src = this.game.load.baseURL + t),
                (this._urlTemp = this._urlResolver.src),
                (this._urlResolver.src = ''),
                e && (this._urlMap[this._urlTemp] = e),
                this._urlTemp)
                : null;
            },
            destroy() {
              for (let t = 0; t < this._cacheMap.length; t++) {
                const e = this._cacheMap[t];
                for (const i in e) {
                  i !== '__default' &&
                    i !== '__missing' &&
                    (e[i].destroy && e[i].destroy(), delete e[i]);
                }
              }
              (this._urlMap = null),
              (this._urlResolver = null),
              (this._urlTemp = null);
            },
          }),
          (a.Cache.prototype.constructor = a.Cache),
          (a.Loader = function (t) {
            (this.game = t),
            (this.cache = t.cache),
            (this.resetLocked = !1),
            (this.isLoading = !1),
            (this.hasLoaded = !1),
            (this.preloadSprite = null),
            (this.crossOrigin = !1),
            (this.baseURL = ''),
            (this.path = ''),
            (this.onLoadStart = new a.Signal()),
            (this.onLoadComplete = new a.Signal()),
            (this.onPackComplete = new a.Signal()),
            (this.onFileStart = new a.Signal()),
            (this.onFileComplete = new a.Signal()),
            (this.onFileError = new a.Signal()),
            (this.useXDomainRequest = !1),
            (this._warnedAboutXDomainRequest = !1),
            (this.enableParallel = !0),
            (this.maxParallelDownloads = 4),
            (this._withSyncPointDepth = 0),
            (this._fileList = []),
            (this._flightQueue = []),
            (this._processingHead = 0),
            (this._fileLoadStarted = !1),
            (this._totalPackCount = 0),
            (this._totalFileCount = 0),
            (this._loadedPackCount = 0),
            (this._loadedFileCount = 0);
          }),
          (a.Loader.TEXTURE_ATLAS_JSON_ARRAY = 0),
          (a.Loader.TEXTURE_ATLAS_JSON_HASH = 1),
          (a.Loader.TEXTURE_ATLAS_XML_STARLING = 2),
          (a.Loader.PHYSICS_LIME_CORONA_JSON = 3),
          (a.Loader.PHYSICS_PHASER_JSON = 4),
          (a.Loader.TEXTURE_ATLAS_JSON_PYXEL = 5),
          (a.Loader.prototype = {
            setPreloadSprite(t, e) {
              (e = e || 0),
              (this.preloadSprite = {
                sprite: t,
                direction: e,
                width: t.width,
                height: t.height,
                rect: null,
              }),
              (this.preloadSprite.rect =
                  e === 0
                    ? new a.Rectangle(0, 0, 1, t.height)
                    : new a.Rectangle(0, 0, t.width, 1)),
              t.crop(this.preloadSprite.rect),
              (t.visible = !0);
            },
            resize() {
              this.preloadSprite &&
                this.preloadSprite.height !==
                  this.preloadSprite.sprite.height &&
                (this.preloadSprite.rect.height = this.preloadSprite.sprite.height);
            },
            checkKeyExists(t, e) {
              return this.getAssetIndex(t, e) > -1;
            },
            getAssetIndex(t, e) {
              for (var i = -1, n = 0; n < this._fileList.length; n++) {
                const r = this._fileList[n];
                if (
                  r.type === t &&
                  r.key === e &&
                  ((i = n), !r.loaded && !r.loading)
                ) { break; }
              }
              return i;
            },
            getAsset(t, e) {
              const i = this.getAssetIndex(t, e);
              return i > -1 && { index: i, file: this._fileList[i] };
            },
            reset(t, e) {
              void 0 === e && (e = !1),
              this.resetLocked ||
                  (t && (this.preloadSprite = null),
                  (this.isLoading = !1),
                  (this._processingHead = 0),
                  (this._fileList.length = 0),
                  (this._flightQueue.length = 0),
                  (this._fileLoadStarted = !1),
                  (this._totalFileCount = 0),
                  (this._totalPackCount = 0),
                  (this._loadedPackCount = 0),
                  (this._loadedFileCount = 0),
                  e &&
                    (this.onLoadStart.removeAll(),
                    this.onLoadComplete.removeAll(),
                    this.onPackComplete.removeAll(),
                    this.onFileStart.removeAll(),
                    this.onFileComplete.removeAll(),
                    this.onFileError.removeAll()));
            },
            addToFileList(t, e, i, n, r, a) {
              if ((void 0 === r && (r = !1), void 0 === e || e === '')) {
                return (
                  console.warn(`Phaser.Loader: Invalid or no key given of type ${t}`),
                  this
                );
              }
              if (void 0 === i || i === null) {
                if (!a) {
                  return (
                    console.warn(`Phaser.Loader: No URL given for file type: ${
                      t
                    } key: ${
                      e}`),
                    this
                  );
                }
                i = e + a;
              }
              const o = {
                type: t,
                key: e,
                path: this.path,
                url: i,
                syncPoint: this._withSyncPointDepth > 0,
                data: null,
                loading: !1,
                loaded: !1,
                error: !1,
              };
              if (n) for (const s in n) o[s] = n[s];
              const u = this.getAssetIndex(t, e);
              if (r && u > -1) {
                const l = this._fileList[u];
                l.loading || l.loaded
                  ? (this._fileList.push(o), this._totalFileCount++)
                  : (this._fileList[u] = o);
              } else { u === -1 && (this._fileList.push(o), this._totalFileCount++); }
              return this;
            },
            replaceInFileList(t, e, i, n) {
              return this.addToFileList(t, e, i, n, !0);
            },
            pack(t, e, i, n) {
              if (
                (void 0 === e && (e = null),
                void 0 === i && (i = null),
                void 0 === n && (n = null),
                !e && !i)
              ) {
                return (
                  console.warn('Phaser.Loader.pack - Both url and data are null. One must be set.'),
                  this
                );
              }
              const r = {
                type: 'packfile',
                key: t,
                url: e,
                path: this.path,
                syncPoint: !0,
                data: null,
                loading: !1,
                loaded: !1,
                error: !1,
                callbackContext: n,
              };
              i &&
                (typeof i === 'string' && (i = JSON.parse(i)),
                (r.data = i || {}),
                (r.loaded = !0));
              for (let a = 0; a < this._fileList.length + 1; a++) {
                const o = this._fileList[a];
                if (!o || (!o.loaded && !o.loading && o.type !== 'packfile')) {
                  this._fileList.splice(a, 0, r), this._totalPackCount++;
                  break;
                }
              }
              return this;
            },
            image(t, e, i) {
              return this.addToFileList('image', t, e, void 0, i, '.png');
            },
            images(t, e) {
              if (Array.isArray(e)) { for (var i = 0; i < t.length; i++) this.image(t[i], e[i]); } else for (var i = 0; i < t.length; i++) this.image(t[i]);
              return this;
            },
            text(t, e, i) {
              return this.addToFileList('text', t, e, void 0, i, '.txt');
            },
            json(t, e, i) {
              return this.addToFileList('json', t, e, void 0, i, '.json');
            },
            shader(t, e, i) {
              return this.addToFileList('shader', t, e, void 0, i, '.frag');
            },
            xml(t, e, i) {
              return this.addToFileList('xml', t, e, void 0, i, '.xml');
            },
            script(t, e, i, n) {
              return (
                void 0 === i && (i = !1),
                !1 !== i && void 0 === n && (n = this),
                this.addToFileList(
                  'script',
                  t,
                  e,
                  { syncPoint: !0, callback: i, callbackContext: n },
                  !1,
                  '.js',
                )
              );
            },
            binary(t, e, i, n) {
              return (
                void 0 === i && (i = !1),
                !1 !== i && void 0 === n && (n = i),
                this.addToFileList(
                  'binary',
                  t,
                  e,
                  { callback: i, callbackContext: n },
                  !1,
                  '.bin',
                )
              );
            },
            spritesheet(t, e, i, n, r, a, o) {
              return (
                void 0 === r && (r = -1),
                void 0 === a && (a = 0),
                void 0 === o && (o = 0),
                this.addToFileList(
                  'spritesheet',
                  t,
                  e,
                  {
                    frameWidth: i,
                    frameHeight: n,
                    frameMax: r,
                    margin: a,
                    spacing: o,
                  },
                  !1,
                  '.png',
                )
              );
            },
            audio(t, e, i) {
              return this.game.sound.noAudio
                ? this
                : (void 0 === i && (i = !0),
                typeof e === 'string' && (e = [e]),
                this.addToFileList('audio', t, e, {
                  buffer: null,
                  autoDecode: i,
                }));
            },
            audioSprite(t, e, i, n, r) {
              return this.game.sound.noAudio
                ? this
                : (void 0 === i && (i = null),
                void 0 === n && (n = null),
                void 0 === r && (r = !0),
                this.audio(t, e, r),
                i
                  ? this.json(`${t}-audioatlas`, i)
                  : n
                    ? (typeof n === 'string' && (n = JSON.parse(n)),
                    this.cache.addJSON(`${t}-audioatlas`, '', n))
                    : console.warn('Phaser.Loader.audiosprite - You must specify either a jsonURL or provide a jsonData object'),
                this);
            },
            audiosprite(t, e, i, n, r) {
              return this.audioSprite(t, e, i, n, r);
            },
            video(t, e, i, n) {
              return (
                void 0 === i &&
                  (i = this.game.device.firefox
                    ? 'loadeddata'
                    : 'canplaythrough'),
                void 0 === n && (n = !1),
                typeof e === 'string' && (e = [e]),
                this.addToFileList('video', t, e, {
                  buffer: null,
                  asBlob: n,
                  loadEvent: i,
                })
              );
            },
            tilemap(t, e, i, n) {
              if (
                (void 0 === e && (e = null),
                void 0 === i && (i = null),
                void 0 === n && (n = a.Tilemap.CSV),
                e || i || (e = n === a.Tilemap.CSV ? `${t}.csv` : `${t}.json`),
                i)
              ) {
                switch (n) {
                  case a.Tilemap.CSV:
                    break;
                  case a.Tilemap.TILED_JSON:
                    typeof i === 'string' && (i = JSON.parse(i));
                }
                this.cache.addTilemap(t, null, i, n);
              } else this.addToFileList('tilemap', t, e, { format: n });
              return this;
            },
            physics(t, e, i, n) {
              return (
                void 0 === e && (e = null),
                void 0 === i && (i = null),
                void 0 === n && (n = a.Physics.LIME_CORONA_JSON),
                e || i || (e = `${t}.json`),
                i
                  ? (typeof i === 'string' && (i = JSON.parse(i)),
                  this.cache.addPhysicsData(t, null, i, n))
                  : this.addToFileList('physics', t, e, { format: n }),
                this
              );
            },
            bitmapFont(t, e, i, n, r, a) {
              if (
                ((void 0 !== e && e !== null) || (e = `${t}.png`),
                void 0 === i && (i = null),
                void 0 === n && (n = null),
                i === null && n === null && (i = `${t}.xml`),
                void 0 === r && (r = 0),
                void 0 === a && (a = 0),
                i)
              ) {
                this.addToFileList('bitmapfont', t, e, {
                  atlasURL: i,
                  xSpacing: r,
                  ySpacing: a,
                });
              } else if (typeof n === 'string') {
                let o,
                  s;
                try {
                  o = JSON.parse(n);
                } catch (t) {
                  s = this.parseXml(n);
                }
                if (!s && !o) { throw new Error('Phaser.Loader. Invalid Bitmap Font atlas given'); }
                this.addToFileList('bitmapfont', t, e, {
                  atlasURL: null,
                  atlasData: o || s,
                  atlasType: o ? 'json' : 'xml',
                  xSpacing: r,
                  ySpacing: a,
                });
              }
              return this;
            },
            atlasJSONArray(t, e, i, n) {
              return this.atlas(t, e, i, n, a.Loader.TEXTURE_ATLAS_JSON_ARRAY);
            },
            atlasJSONHash(t, e, i, n) {
              return this.atlas(t, e, i, n, a.Loader.TEXTURE_ATLAS_JSON_HASH);
            },
            atlasXML(t, e, i, n) {
              return (
                void 0 === i && (i = null),
                void 0 === n && (n = null),
                i || n || (i = `${t}.xml`),
                this.atlas(t, e, i, n, a.Loader.TEXTURE_ATLAS_XML_STARLING)
              );
            },
            atlas(t, e, i, n, r) {
              if (
                ((void 0 !== e && e !== null) || (e = `${t}.png`),
                void 0 === i && (i = null),
                void 0 === n && (n = null),
                void 0 === r && (r = a.Loader.TEXTURE_ATLAS_JSON_ARRAY),
                i ||
                  n ||
                  (i =
                    r === a.Loader.TEXTURE_ATLAS_XML_STARLING
                      ? `${t}.xml`
                      : `${t}.json`),
                i)
              ) {
                this.addToFileList('textureatlas', t, e, {
                  atlasURL: i,
                  format: r,
                });
              } else {
                switch (r) {
                  case a.Loader.TEXTURE_ATLAS_JSON_ARRAY:
                    typeof n === 'string' && (n = JSON.parse(n));
                    break;
                  case a.Loader.TEXTURE_ATLAS_XML_STARLING:
                    if (typeof n === 'string') {
                      const o = this.parseXml(n);
                      if (!o) {
                        throw new Error('Phaser.Loader. Invalid Texture Atlas XML given');
                      }
                      n = o;
                    }
                }
                this.addToFileList('textureatlas', t, e, {
                  atlasURL: null,
                  atlasData: n,
                  format: r,
                });
              }
              return this;
            },
            withSyncPoint(t, e) {
              this._withSyncPointDepth++;
              try {
                t.call(e || this, this);
              } finally {
                this._withSyncPointDepth--;
              }
              return this;
            },
            addSyncPoint(t, e) {
              const i = this.getAsset(t, e);
              return i && (i.file.syncPoint = !0), this;
            },
            removeFile(t, e) {
              const i = this.getAsset(t, e);
              i && (i.loaded || i.loading || this._fileList.splice(i.index, 1));
            },
            removeAll() {
              (this._fileList.length = 0), (this._flightQueue.length = 0);
            },
            start() {
              this.isLoading ||
                ((this.hasLoaded = !1),
                (this.isLoading = !0),
                this.updateProgress(),
                this.processLoadQueue());
            },
            processLoadQueue() {
              if (!this.isLoading) {
                return (
                  console.warn('Phaser.Loader - active loading canceled / reset'),
                  void this.finishedLoading(!0)
                );
              }
              for (var t = 0; t < this._flightQueue.length; t++) {
                var e = this._flightQueue[t];
                (e.loaded || e.error) &&
                  (this._flightQueue.splice(t, 1),
                  t--,
                  (e.loading = !1),
                  (e.requestUrl = null),
                  (e.requestObject = null),
                  e.error && this.onFileError.dispatch(e.key, e),
                  e.type !== 'packfile'
                    ? (this._loadedFileCount++,
                    this.onFileComplete.dispatch(
                      this.progress,
                      e.key,
                      !e.error,
                      this._loadedFileCount,
                      this._totalFileCount,
                    ))
                    : e.type === 'packfile' &&
                      e.error &&
                      (this._loadedPackCount++,
                      this.onPackComplete.dispatch(
                        e.key,
                        !e.error,
                        this._loadedPackCount,
                        this._totalPackCount,
                      )));
              }
              for (
                var i = !1,
                  n = this.enableParallel
                    ? a.Math.clamp(this.maxParallelDownloads, 1, 12)
                    : 1,
                  t = this._processingHead;
                t < this._fileList.length;
                t++
              ) {
                var e = this._fileList[t];
                if (
                  (e.type === 'packfile' &&
                    !e.error &&
                    e.loaded &&
                    t === this._processingHead &&
                    (this.processPack(e),
                    this._loadedPackCount++,
                    this.onPackComplete.dispatch(
                      e.key,
                      !e.error,
                      this._loadedPackCount,
                      this._totalPackCount,
                    )),
                  e.loaded || e.error
                    ? t === this._processingHead &&
                      (this._processingHead = t + 1)
                    : !e.loading &&
                      this._flightQueue.length < n &&
                      (e.type !== 'packfile' || e.data
                        ? i ||
                          (this._fileLoadStarted ||
                            ((this._fileLoadStarted = !0),
                            this.onLoadStart.dispatch()),
                          this._flightQueue.push(e),
                          (e.loading = !0),
                          this.onFileStart.dispatch(
                            this.progress,
                            e.key,
                            e.url,
                          ),
                          this.loadFile(e))
                        : (this._flightQueue.push(e),
                        (e.loading = !0),
                        this.loadFile(e))),
                  !e.loaded && e.syncPoint && (i = !0),
                  this._flightQueue.length >= n ||
                    (i && this._loadedPackCount === this._totalPackCount))
                ) { break; }
              }
              if (
                (this.updateProgress(),
                this._processingHead >= this._fileList.length)
              ) { this.finishedLoading(); } else if (!this._flightQueue.length) {
                console.warn('Phaser.Loader - aborting: processing queue empty, loading may have stalled');
                const r = this;
                setTimeout(() => {
                  r.finishedLoading(!0);
                }, 2e3);
              }
            },
            finishedLoading(t) {
              this.hasLoaded ||
                ((this.hasLoaded = !0),
                (this.isLoading = !1),
                t ||
                  this._fileLoadStarted ||
                  ((this._fileLoadStarted = !0), this.onLoadStart.dispatch()),
                this.onLoadComplete.dispatch(),
                this.game.state.loadComplete(),
                this.reset());
            },
            asyncComplete(t, e) {
              void 0 === e && (e = ''),
              (t.loaded = !0),
              (t.error = !!e),
              e &&
                  ((t.errorMessage = e),
                  console.warn(`Phaser.Loader - ${t.type}[${t.key}]: ${e}`)),
              this.processLoadQueue();
            },
            processPack(t) {
              const e = t.data[t.key];
              if (!e) {
                return void console.warn(`Phaser.Loader - ${
                  t.key
                }: pack has data, but not for pack key`);
              }
              for (let i = 0; i < e.length; i++) {
                const n = e[i];
                switch (n.type) {
                  case 'image':
                    this.image(n.key, n.url, n.overwrite);
                    break;
                  case 'text':
                    this.text(n.key, n.url, n.overwrite);
                    break;
                  case 'json':
                    this.json(n.key, n.url, n.overwrite);
                    break;
                  case 'xml':
                    this.xml(n.key, n.url, n.overwrite);
                    break;
                  case 'script':
                    this.script(
                      n.key,
                      n.url,
                      n.callback,
                      t.callbackContext || this,
                    );
                    break;
                  case 'binary':
                    this.binary(
                      n.key,
                      n.url,
                      n.callback,
                      t.callbackContext || this,
                    );
                    break;
                  case 'spritesheet':
                    this.spritesheet(
                      n.key,
                      n.url,
                      n.frameWidth,
                      n.frameHeight,
                      n.frameMax,
                      n.margin,
                      n.spacing,
                    );
                    break;
                  case 'video':
                    this.video(n.key, n.urls);
                    break;
                  case 'audio':
                    this.audio(n.key, n.urls, n.autoDecode);
                    break;
                  case 'audiosprite':
                    this.audiosprite(
                      n.key,
                      n.urls,
                      n.jsonURL,
                      n.jsonData,
                      n.autoDecode,
                    );
                    break;
                  case 'tilemap':
                    this.tilemap(n.key, n.url, n.data, a.Tilemap[n.format]);
                    break;
                  case 'physics':
                    this.physics(n.key, n.url, n.data, a.Loader[n.format]);
                    break;
                  case 'bitmapFont':
                    this.bitmapFont(
                      n.key,
                      n.textureURL,
                      n.atlasURL,
                      n.atlasData,
                      n.xSpacing,
                      n.ySpacing,
                    );
                    break;
                  case 'atlasJSONArray':
                    this.atlasJSONArray(
                      n.key,
                      n.textureURL,
                      n.atlasURL,
                      n.atlasData,
                    );
                    break;
                  case 'atlasJSONHash':
                    this.atlasJSONHash(
                      n.key,
                      n.textureURL,
                      n.atlasURL,
                      n.atlasData,
                    );
                    break;
                  case 'atlasXML':
                    this.atlasXML(n.key, n.textureURL, n.atlasURL, n.atlasData);
                    break;
                  case 'atlas':
                    this.atlas(
                      n.key,
                      n.textureURL,
                      n.atlasURL,
                      n.atlasData,
                      a.Loader[n.format],
                    );
                    break;
                  case 'shader':
                    this.shader(n.key, n.url, n.overwrite);
                }
              }
            },
            transformUrl(t, e) {
              return (
                !!t &&
                (t.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)
                  ? t
                  : this.baseURL + e.path + t)
              );
            },
            loadFile(t) {
              switch (t.type) {
                case 'packfile':
                  this.xhrLoad(
                    t,
                    this.transformUrl(t.url, t),
                    'text',
                    this.fileComplete,
                  );
                  break;
                case 'image':
                case 'spritesheet':
                case 'textureatlas':
                case 'bitmapfont':
                  this.loadImageTag(t);
                  break;
                case 'audio':
                  (t.url = this.getAudioURL(t.url)),
                  t.url
                    ? this.game.sound.usingWebAudio
                      ? this.xhrLoad(
                        t,
                        this.transformUrl(t.url, t),
                        'arraybuffer',
                        this.fileComplete,
                      )
                      : this.game.sound.usingAudioTag && this.loadAudioTag(t)
                    : this.fileError(
                      t,
                      null,
                      'No supported audio URL specified or device does not have audio playback support',
                    );
                  break;
                case 'video':
                  (t.url = this.getVideoURL(t.url)),
                  t.url
                    ? t.asBlob
                      ? this.xhrLoad(
                        t,
                        this.transformUrl(t.url, t),
                        'blob',
                        this.fileComplete,
                      )
                      : this.loadVideoTag(t)
                    : this.fileError(
                      t,
                      null,
                      'No supported video URL specified or device does not have video playback support',
                    );
                  break;
                case 'json':
                  this.xhrLoad(
                    t,
                    this.transformUrl(t.url, t),
                    'text',
                    this.jsonLoadComplete,
                  );
                  break;
                case 'xml':
                  this.xhrLoad(
                    t,
                    this.transformUrl(t.url, t),
                    'text',
                    this.xmlLoadComplete,
                  );
                  break;
                case 'tilemap':
                  t.format === a.Tilemap.TILED_JSON
                    ? this.xhrLoad(
                      t,
                      this.transformUrl(t.url, t),
                      'text',
                      this.jsonLoadComplete,
                    )
                    : t.format === a.Tilemap.CSV
                      ? this.xhrLoad(
                        t,
                        this.transformUrl(t.url, t),
                        'text',
                        this.csvLoadComplete,
                      )
                      : this.asyncComplete(
                        t,
                        `invalid Tilemap format: ${t.format}`,
                      );
                  break;
                case 'text':
                case 'script':
                case 'shader':
                case 'physics':
                  this.xhrLoad(
                    t,
                    this.transformUrl(t.url, t),
                    'text',
                    this.fileComplete,
                  );
                  break;
                case 'binary':
                  this.xhrLoad(
                    t,
                    this.transformUrl(t.url, t),
                    'arraybuffer',
                    this.fileComplete,
                  );
              }
            },
            loadImageTag(t) {
              const e = this;
              (t.data = new Image()),
              (t.data.name = t.key),
              this.crossOrigin && (t.data.crossOrigin = this.crossOrigin),
              (t.data.onload = function () {
                t.data.onload &&
                    ((t.data.onload = null),
                    (t.data.onerror = null),
                    e.fileComplete(t));
              }),
              (t.data.onerror = function () {
                t.data.onload &&
                    ((t.data.onload = null),
                    (t.data.onerror = null),
                    e.fileError(t));
              }),
              (t.data.src = this.transformUrl(t.url, t)),
              t.data.complete &&
                  t.data.width &&
                  t.data.height &&
                  ((t.data.onload = null),
                  (t.data.onerror = null),
                  this.fileComplete(t));
            },
            loadVideoTag(t) {
              const e = this;
              (t.data = document.createElement('video')),
              (t.data.name = t.key),
              (t.data.controls = !1),
              (t.data.autoplay = !1);
              const i = function i() {
                t.data.removeEventListener(t.loadEvent, i, !1),
                (t.data.onerror = null),
                (t.data.canplay = !0),
                a.GAMES[e.game.id].load.fileComplete(t);
              };
              (t.data.onerror = function () {
                t.data.removeEventListener(t.loadEvent, i, !1),
                (t.data.onerror = null),
                (t.data.canplay = !1),
                e.fileError(t);
              }),
              t.data.addEventListener(t.loadEvent, i, !1),
              (t.data.src = this.transformUrl(t.url, t)),
              t.data.load();
            },
            loadAudioTag(t) {
              const e = this;
              if (this.game.sound.touchLocked) {
                (t.data = new Audio()),
                (t.data.name = t.key),
                (t.data.preload = 'auto'),
                (t.data.src = this.transformUrl(t.url, t)),
                this.fileComplete(t);
              } else {
                (t.data = new Audio()), (t.data.name = t.key);
                const i = function i() {
                  t.data.removeEventListener('canplaythrough', i, !1),
                  (t.data.onerror = null),
                  e.fileComplete(t);
                };
                (t.data.onerror = function () {
                  t.data.removeEventListener('canplaythrough', i, !1),
                  (t.data.onerror = null),
                  e.fileError(t);
                }),
                (t.data.preload = 'auto'),
                (t.data.src = this.transformUrl(t.url, t)),
                t.data.addEventListener('canplaythrough', i, !1),
                t.data.load();
              }
            },
            xhrLoad(t, e, i, n, r) {
              if (this.useXDomainRequest && window.XDomainRequest) { return void this.xhrLoadWithXDR(t, e, i, n, r); }
              const a = new XMLHttpRequest();
              a.open('GET', e, !0),
              (a.responseType = i),
              (r = r || this.fileError);
              const o = this;
              (a.onload = function () {
                try {
                  return a.readyState == 4 && a.status >= 400 && a.status <= 599
                    ? r.call(o, t, a)
                    : n.call(o, t, a);
                } catch (e) {
                  o.hasLoaded
                    ? window.console && console.error(e)
                    : o.asyncComplete(t, e.message || 'Exception');
                }
              }),
              (a.onerror = function () {
                try {
                  return r.call(o, t, a);
                } catch (e) {
                  o.hasLoaded
                    ? window.console && console.error(e)
                    : o.asyncComplete(t, e.message || 'Exception');
                }
              }),
              (t.requestObject = a),
              (t.requestUrl = e),
              a.send();
            },
            xhrLoadWithXDR(t, e, i, n, r) {
              this._warnedAboutXDomainRequest ||
                (this.game.device.ie && !(this.game.device.ieVersion >= 10)) ||
                ((this._warnedAboutXDomainRequest = !0),
                console.warn('Phaser.Loader - using XDomainRequest outside of IE 9'));
              const a = new window.XDomainRequest();
              a.open('GET', e, !0),
              (a.responseType = i),
              (a.timeout = 3e3),
              (r = r || this.fileError);
              const o = this;
              (a.onerror = function () {
                try {
                  return r.call(o, t, a);
                } catch (e) {
                  o.asyncComplete(t, e.message || 'Exception');
                }
              }),
              (a.ontimeout = function () {
                try {
                  return r.call(o, t, a);
                } catch (e) {
                  o.asyncComplete(t, e.message || 'Exception');
                }
              }),
              (a.onprogress = function () {}),
              (a.onload = function () {
                try {
                  return a.readyState == 4 &&
                      a.status >= 400 &&
                      a.status <= 599
                    ? r.call(o, t, a)
                    : n.call(o, t, a);
                } catch (e) {
                  o.asyncComplete(t, e.message || 'Exception');
                }
              }),
              (t.requestObject = a),
              (t.requestUrl = e),
              setTimeout(() => {
                a.send();
              }, 0);
            },
            getVideoURL(t) {
              for (let e = 0; e < t.length; e++) {
                var i,
                  n = t[e];
                if (n.uri) {
                  if (
                    ((i = n.type),
                    (n = n.uri),
                    this.game.device.canPlayVideo(i))
                  ) { return n; }
                } else {
                  if (n.indexOf('blob:') === 0 || n.indexOf('data:') === 0) { return n; }
                  if (
                    (n.indexOf('?') >= 0 && (n = n.substr(0, n.indexOf('?'))),
                    (i = n
                      .substr((Math.max(0, n.lastIndexOf('.')) || 1 / 0) + 1)
                      .toLowerCase()),
                    this.game.device.canPlayVideo(i))
                  ) { return t[e]; }
                }
              }
              return null;
            },
            getAudioURL(t) {
              if (this.game.sound.noAudio) return null;
              for (let e = 0; e < t.length; e++) {
                var i,
                  n = t[e];
                if (n.uri) {
                  if (
                    ((i = n.type),
                    (n = n.uri),
                    this.game.device.canPlayAudio(i))
                  ) { return n; }
                } else {
                  if (n.indexOf('blob:') === 0 || n.indexOf('data:') === 0) { return n; }
                  if (
                    (n.indexOf('?') >= 0 && (n = n.substr(0, n.indexOf('?'))),
                    (i = n
                      .substr((Math.max(0, n.lastIndexOf('.')) || 1 / 0) + 1)
                      .toLowerCase()),
                    this.game.device.canPlayAudio(i))
                  ) { return t[e]; }
                }
              }
              return null;
            },
            fileError(t, e, i) {
              let n = t.requestUrl || this.transformUrl(t.url, t),
                r = `error loading asset from URL ${n}`;
              !i && e && (i = e.status),
              i && (r = `${r} (${i})`),
              this.asyncComplete(t, r);
            },
            fileComplete(t, e) {
              let i = !0;
              switch (t.type) {
                case 'packfile':
                  var n = JSON.parse(e.responseText);
                  t.data = n || {};
                  break;
                case 'image':
                  this.cache.addImage(t.key, t.url, t.data);
                  break;
                case 'spritesheet':
                  this.cache.addSpriteSheet(
                    t.key,
                    t.url,
                    t.data,
                    t.frameWidth,
                    t.frameHeight,
                    t.frameMax,
                    t.margin,
                    t.spacing,
                  );
                  break;
                case 'textureatlas':
                  if (t.atlasURL == null) {
                    this.cache.addTextureAtlas(
                      t.key,
                      t.url,
                      t.data,
                      t.atlasData,
                      t.format,
                    );
                  } else if (
                    ((i = !1),
                    t.format == a.Loader.TEXTURE_ATLAS_JSON_ARRAY ||
                      t.format == a.Loader.TEXTURE_ATLAS_JSON_HASH ||
                      t.format == a.Loader.TEXTURE_ATLAS_JSON_PYXEL)
                  ) {
                    this.xhrLoad(
                      t,
                      this.transformUrl(t.atlasURL, t),
                      'text',
                      this.jsonLoadComplete,
                    );
                  } else {
                    if (t.format != a.Loader.TEXTURE_ATLAS_XML_STARLING) {
                      throw new Error(`Phaser.Loader. Invalid Texture Atlas format: ${
                        t.format}`);
                    }
                    this.xhrLoad(
                      t,
                      this.transformUrl(t.atlasURL, t),
                      'text',
                      this.xmlLoadComplete,
                    );
                  }
                  break;
                case 'bitmapfont':
                  t.atlasURL
                    ? ((i = !1),
                    this.xhrLoad(
                      t,
                      this.transformUrl(t.atlasURL, t),
                      'text',
                      function (t, e) {
                        let i;
                        try {
                          i = JSON.parse(e.responseText);
                        } catch (t) {}
                        i
                          ? ((t.atlasType = 'json'),
                          this.jsonLoadComplete(t, e))
                          : ((t.atlasType = 'xml'),
                          this.xmlLoadComplete(t, e));
                      },
                    ))
                    : this.cache.addBitmapFont(
                      t.key,
                      t.url,
                      t.data,
                      t.atlasData,
                      t.atlasType,
                      t.xSpacing,
                      t.ySpacing,
                    );
                  break;
                case 'video':
                  if (t.asBlob) {
                    try {
                      t.data = e.response;
                    } catch (e) {
                      throw new Error(`Phaser.Loader. Unable to parse video file as Blob: ${
                        t.key}`);
                    }
                  }
                  this.cache.addVideo(t.key, t.url, t.data, t.asBlob);
                  break;
                case 'audio':
                  this.game.sound.usingWebAudio
                    ? ((t.data = e.response),
                    this.cache.addSound(t.key, t.url, t.data, !0, !1),
                    t.autoDecode && this.game.sound.decode(t.key))
                    : this.cache.addSound(t.key, t.url, t.data, !1, !0);
                  break;
                case 'text':
                  (t.data = e.responseText),
                  this.cache.addText(t.key, t.url, t.data);
                  break;
                case 'shader':
                  (t.data = e.responseText),
                  this.cache.addShader(t.key, t.url, t.data);
                  break;
                case 'physics':
                  var n = JSON.parse(e.responseText);
                  this.cache.addPhysicsData(t.key, t.url, n, t.format);
                  break;
                case 'script':
                  (t.data = document.createElement('script')),
                  (t.data.language = 'javascript'),
                  (t.data.type = 'text/javascript'),
                  (t.data.defer = !1),
                  (t.data.text = e.responseText),
                  document.head.appendChild(t.data),
                  t.callback &&
                      (t.data = t.callback.call(
                        t.callbackContext,
                        t.key,
                        e.responseText,
                      ));
                  break;
                case 'binary':
                  t.callback
                    ? (t.data = t.callback.call(
                      t.callbackContext,
                      t.key,
                      e.response,
                    ))
                    : (t.data = e.response),
                  this.cache.addBinary(t.key, t.data);
              }
              i && this.asyncComplete(t);
            },
            jsonLoadComplete(t, e) {
              const i = JSON.parse(e.responseText);
              t.type === 'tilemap'
                ? this.cache.addTilemap(t.key, t.url, i, t.format)
                : t.type === 'bitmapfont'
                  ? this.cache.addBitmapFont(
                    t.key,
                    t.url,
                    t.data,
                    i,
                    t.atlasType,
                    t.xSpacing,
                    t.ySpacing,
                  )
                  : t.type === 'json'
                    ? this.cache.addJSON(t.key, t.url, i)
                    : this.cache.addTextureAtlas(t.key, t.url, t.data, i, t.format),
              this.asyncComplete(t);
            },
            csvLoadComplete(t, e) {
              const i = e.responseText;
              this.cache.addTilemap(t.key, t.url, i, t.format),
              this.asyncComplete(t);
            },
            xmlLoadComplete(t, e) {
              let i = e.responseText,
                n = this.parseXml(i);
              if (!n) {
                const r = e.responseType || e.contentType;
                return (
                  console.warn(`Phaser.Loader - ${t.key}: invalid XML (${r})`),
                  void this.asyncComplete(t, 'invalid XML')
                );
              }
              t.type === 'bitmapfont'
                ? this.cache.addBitmapFont(
                  t.key,
                  t.url,
                  t.data,
                  n,
                  t.atlasType,
                  t.xSpacing,
                  t.ySpacing,
                )
                : t.type === 'textureatlas'
                  ? this.cache.addTextureAtlas(t.key, t.url, t.data, n, t.format)
                  : t.type === 'xml' && this.cache.addXML(t.key, t.url, n),
              this.asyncComplete(t);
            },
            parseXml(t) {
              let e;
              try {
                if (window.DOMParser) {
                  const i = new DOMParser();
                  e = i.parseFromString(t, 'text/xml');
                } else {
                  (e = new ActiveXObject('Microsoft.XMLDOM')),
                  (e.async = 'false'),
                  e.loadXML(t);
                }
              } catch (t) {
                e = null;
              }
              return e &&
                e.documentElement &&
                !e.getElementsByTagName('parsererror').length
                ? e
                : null;
            },
            updateProgress() {
              this.preloadSprite &&
                (this.preloadSprite.direction === 0
                  ? (this.preloadSprite.rect.width = Math.floor((this.preloadSprite.width / 100) * this.progress))
                  : (this.preloadSprite.rect.height = Math.floor((this.preloadSprite.height / 100) * this.progress)),
                this.preloadSprite.sprite
                  ? this.preloadSprite.sprite.updateCrop()
                  : (this.preloadSprite = null));
            },
            totalLoadedFiles() {
              return this._loadedFileCount;
            },
            totalQueuedFiles() {
              return this._totalFileCount - this._loadedFileCount;
            },
            totalLoadedPacks() {
              return this._totalPackCount;
            },
            totalQueuedPacks() {
              return this._totalPackCount - this._loadedPackCount;
            },
          }),
          Object.defineProperty(a.Loader.prototype, 'progressFloat', {
            get() {
              const t = (this._loadedFileCount / this._totalFileCount) * 100;
              return a.Math.clamp(t || 0, 0, 100);
            },
          }),
          Object.defineProperty(a.Loader.prototype, 'progress', {
            get() {
              return Math.round(this.progressFloat);
            },
          }),
          (a.Loader.prototype.constructor = a.Loader),
          (a.LoaderParser = {
            bitmapFont(t, e, i, n) {
              return this.xmlBitmapFont(t, e, i, n);
            },
            xmlBitmapFont(t, e, i, n) {
              let r = {},
                a = t.getElementsByTagName('info')[0],
                o = t.getElementsByTagName('common')[0];
              (r.font = a.getAttribute('face')),
              (r.size = parseInt(a.getAttribute('size'), 10)),
              (r.lineHeight = parseInt(o.getAttribute('lineHeight'), 10) + n),
              (r.chars = {});
              for (
                var s = t.getElementsByTagName('char'), u = 0;
                u < s.length;
                u++
              ) {
                const l = parseInt(s[u].getAttribute('id'), 10);
                r.chars[l] = {
                  x: parseInt(s[u].getAttribute('x'), 10),
                  y: parseInt(s[u].getAttribute('y'), 10),
                  width: parseInt(s[u].getAttribute('width'), 10),
                  height: parseInt(s[u].getAttribute('height'), 10),
                  xOffset: parseInt(s[u].getAttribute('xoffset'), 10),
                  yOffset: parseInt(s[u].getAttribute('yoffset'), 10),
                  xAdvance: parseInt(s[u].getAttribute('xadvance'), 10) + i,
                  kerning: {},
                };
              }
              const c = t.getElementsByTagName('kerning');
              for (u = 0; u < c.length; u++) {
                let h = parseInt(c[u].getAttribute('first'), 10),
                  d = parseInt(c[u].getAttribute('second'), 10),
                  f = parseInt(c[u].getAttribute('amount'), 10);
                r.chars[d].kerning[h] = f;
              }
              return this.finalizeBitmapFont(e, r);
            },
            jsonBitmapFont(t, e, i, n) {
              const r = {
                font: t.font.info._face,
                size: parseInt(t.font.info._size, 10),
                lineHeight: parseInt(t.font.common._lineHeight, 10) + n,
                chars: {},
              };
              return (
                t.font.chars.char.forEach((t) => {
                  const e = parseInt(t._id, 10);
                  r.chars[e] = {
                    x: parseInt(t._x, 10),
                    y: parseInt(t._y, 10),
                    width: parseInt(t._width, 10),
                    height: parseInt(t._height, 10),
                    xOffset: parseInt(t._xoffset, 10),
                    yOffset: parseInt(t._yoffset, 10),
                    xAdvance: parseInt(t._xadvance, 10) + i,
                    kerning: {},
                  };
                }),
                t.font.kernings &&
                  t.font.kernings.kerning &&
                  t.font.kernings.kerning.forEach((t) => {
                    r.chars[t._second].kerning[t._first] = parseInt(
                      t._amount,
                      10,
                    );
                  }),
                this.finalizeBitmapFont(e, r)
              );
            },
            finalizeBitmapFont(t, e) {
              return (
                Object.keys(e.chars).forEach((i) => {
                  const n = e.chars[i];
                  n.texture = new PIXI.Texture(
                    t,
                    new a.Rectangle(n.x, n.y, n.width, n.height),
                  );
                }),
                e
              );
            },
          }),
          (a.AudioSprite = function (t, e) {
            (this.game = t),
            (this.key = e),
            (this.config = this.game.cache.getJSON(`${e}-audioatlas`)),
            (this.autoplayKey = null),
            (this.autoplay = !1),
            (this.sounds = {});
            for (const i in this.config.spritemap) {
              let n = this.config.spritemap[i],
                r = this.game.add.sound(this.key);
              r.addMarker(i, n.start, n.end - n.start, null, n.loop),
              (this.sounds[i] = r);
            }
            this.config.autoplay &&
              ((this.autoplayKey = this.config.autoplay),
              this.play(this.autoplayKey),
              (this.autoplay = this.sounds[this.autoplayKey]));
          }),
          (a.AudioSprite.prototype = {
            play(t, e) {
              return void 0 === e && (e = 1), this.sounds[t].play(t, null, e);
            },
            stop(t) {
              if (t) this.sounds[t].stop();
              else for (const e in this.sounds) this.sounds[e].stop();
            },
            get(t) {
              return this.sounds[t];
            },
          }),
          (a.AudioSprite.prototype.constructor = a.AudioSprite),
          (a.Sound = function (t, e, i, n, r) {
            void 0 === i && (i = 1),
            void 0 === n && (n = !1),
            void 0 === r && (r = t.sound.connectToMaster),
            (this.game = t),
            (this.name = e),
            (this.key = e),
            (this.loop = n),
            (this.volume = i),
            (this.markers = {}),
            (this.context = null),
            (this.autoplay = !1),
            (this.totalDuration = 0),
            (this.startTime = 0),
            (this.currentTime = 0),
            (this.duration = 0),
            (this.durationMS = 0),
            (this.position = 0),
            (this.stopTime = 0),
            (this.paused = !1),
            (this.pausedPosition = 0),
            (this.pausedTime = 0),
            (this.isPlaying = !1),
            (this.currentMarker = ''),
            (this.fadeTween = null),
            (this.pendingPlayback = !1),
            (this.override = !1),
            (this.allowMultiple = !1),
            (this.usingWebAudio = this.game.sound.usingWebAudio),
            (this.usingAudioTag = this.game.sound.usingAudioTag),
            (this.externalNode = null),
            (this.masterGainNode = null),
            (this.gainNode = null),
            (this._sound = null),
            this.usingWebAudio
              ? ((this.context = this.game.sound.context),
              (this.masterGainNode = this.game.sound.masterGain),
              void 0 === this.context.createGain
                ? (this.gainNode = this.context.createGainNode())
                : (this.gainNode = this.context.createGain()),
              (this.gainNode.gain.value = i * this.game.sound.volume),
              r && this.gainNode.connect(this.masterGainNode))
              : this.usingAudioTag &&
                  (this.game.cache.getSound(e) &&
                  this.game.cache.isSoundReady(e)
                    ? ((this._sound = this.game.cache.getSoundData(e)),
                    (this.totalDuration = 0),
                    this._sound.duration &&
                        (this.totalDuration = this._sound.duration))
                    : this.game.cache.onSoundUnlock.add(
                      this.soundHasUnlocked,
                      this,
                    )),
            (this.onDecoded = new a.Signal()),
            (this.onPlay = new a.Signal()),
            (this.onPause = new a.Signal()),
            (this.onResume = new a.Signal()),
            (this.onLoop = new a.Signal()),
            (this.onStop = new a.Signal()),
            (this.onMute = new a.Signal()),
            (this.onMarkerComplete = new a.Signal()),
            (this.onFadeComplete = new a.Signal()),
            (this._volume = i),
            (this._buffer = null),
            (this._muted = !1),
            (this._tempMarker = 0),
            (this._tempPosition = 0),
            (this._tempVolume = 0),
            (this._tempPause = 0),
            (this._muteVolume = 0),
            (this._tempLoop = 0),
            (this._paused = !1),
            (this._onDecodedEventDispatched = !1);
          }),
          (a.Sound.prototype = {
            soundHasUnlocked(t) {
              t === this.key &&
                ((this._sound = this.game.cache.getSoundData(this.key)),
                (this.totalDuration = this._sound.duration));
            },
            addMarker(t, e, i, n, r) {
              (void 0 !== i && i !== null) || (i = 1),
              (void 0 !== n && n !== null) || (n = 1),
              void 0 === r && (r = !1),
              (this.markers[t] = {
                name: t,
                start: e,
                stop: e + i,
                volume: n,
                duration: i,
                durationMS: 1e3 * i,
                loop: r,
              });
            },
            removeMarker(t) {
              delete this.markers[t];
            },
            onEndedHandler() {
              (this._sound.onended = null),
              (this.isPlaying = !1),
              (this.currentTime = this.durationMS),
              this.stop();
            },
            update() {
              if (!this.game.cache.checkSoundKey(this.key)) { return void this.destroy(); }
              this.isDecoded &&
                !this._onDecodedEventDispatched &&
                (this.onDecoded.dispatch(this),
                (this._onDecodedEventDispatched = !0)),
              this.pendingPlayback &&
                  this.game.cache.isSoundReady(this.key) &&
                  ((this.pendingPlayback = !1),
                  this.play(
                    this._tempMarker,
                    this._tempPosition,
                    this._tempVolume,
                    this._tempLoop,
                  )),
              this.isPlaying &&
                  ((this.currentTime = this.game.time.time - this.startTime),
                  this.currentTime >= this.durationMS &&
                    (this.usingWebAudio
                      ? this.loop
                        ? (this.onLoop.dispatch(this),
                        (this.isPlaying = !1),
                        this.currentMarker === ''
                          ? ((this.currentTime = 0),
                          (this.startTime = this.game.time.time),
                          (this.isPlaying = !0))
                          : (this.onMarkerComplete.dispatch(
                            this.currentMarker,
                            this,
                          ),
                          this.play(
                            this.currentMarker,
                            0,
                            this.volume,
                            !0,
                            !0,
                          )))
                        : this.currentMarker !== '' && this.stop()
                      : this.loop
                        ? (this.onLoop.dispatch(this),
                        this.currentMarker === '' &&
                          ((this.currentTime = 0),
                          (this.startTime = this.game.time.time)),
                        (this.isPlaying = !1),
                        this.play(this.currentMarker, 0, this.volume, !0, !0))
                        : this.stop()));
            },
            loopFull(t) {
              this.play(null, 0, t, !0);
            },
            play(t, e, i, n, r) {
              if (
                ((void 0 !== t && !1 !== t && t !== null) || (t = ''),
                void 0 === r && (r = !0),
                this.isPlaying && !this.allowMultiple && !r && !this.override)
              ) { return this; }
              if (
                this._sound &&
                this.isPlaying &&
                !this.allowMultiple &&
                (this.override || r)
              ) {
                if (this.usingWebAudio) {
                  if (void 0 === this._sound.stop) this._sound.noteOff(0);
                  else {
                    try {
                      this._sound.stop(0);
                    } catch (t) {}
                  }
                  this.externalNode
                    ? this._sound.disconnect(this.externalNode)
                    : this._sound.disconnect(this.gainNode);
                } else {
                  this.usingAudioTag &&
                    (this._sound.pause(), (this._sound.currentTime = 0));
                }
              }
              if (t === '' && Object.keys(this.markers).length > 0) return this;
              if (t !== '') {
                if (((this.currentMarker = t), !this.markers[t])) return this;
                (this.position = this.markers[t].start),
                (this.volume = this.markers[t].volume),
                (this.loop = this.markers[t].loop),
                (this.duration = this.markers[t].duration),
                (this.durationMS = this.markers[t].durationMS),
                void 0 !== i && (this.volume = i),
                void 0 !== n && (this.loop = n),
                (this._tempMarker = t),
                (this._tempPosition = this.position),
                (this._tempVolume = this.volume),
                (this._tempLoop = this.loop);
              } else {
                (e = e || 0),
                void 0 === i && (i = this._volume),
                void 0 === n && (n = this.loop),
                (this.position = Math.max(0, e)),
                (this.volume = i),
                (this.loop = n),
                (this.duration = 0),
                (this.durationMS = 0),
                (this._tempMarker = t),
                (this._tempPosition = e),
                (this._tempVolume = i),
                (this._tempLoop = n);
              }
              return (
                this.usingWebAudio
                  ? this.game.cache.isSoundDecoded(this.key)
                    ? ((this._sound = this.context.createBufferSource()),
                    this.externalNode
                      ? this._sound.connect(this.externalNode)
                      : this._sound.connect(this.gainNode),
                    (this._buffer = this.game.cache.getSoundData(this.key)),
                    (this._sound.buffer = this._buffer),
                    this.loop && t === '' && (this._sound.loop = !0),
                    this.loop ||
                        t !== '' ||
                        (this._sound.onended = this.onEndedHandler.bind(this)),
                    (this.totalDuration = this._sound.buffer.duration),
                    this.duration === 0 &&
                        ((this.duration = this.totalDuration),
                        (this.durationMS = Math.ceil(1e3 * this.totalDuration))),
                    void 0 === this._sound.start
                      ? this._sound.noteGrainOn(
                        0,
                        this.position,
                        this.duration,
                      )
                      : this.loop && t === ''
                        ? this._sound.start(0, 0)
                        : this._sound.start(0, this.position, this.duration),
                    (this.isPlaying = !0),
                    (this.startTime = this.game.time.time),
                    (this.currentTime = 0),
                    (this.stopTime = this.startTime + this.durationMS),
                    this.onPlay.dispatch(this))
                    : ((this.pendingPlayback = !0),
                    this.game.cache.getSound(this.key) &&
                        !1 === this.game.cache.getSound(this.key).isDecoding &&
                        this.game.sound.decode(this.key, this))
                  : this.game.cache.getSound(this.key) &&
                    this.game.cache.getSound(this.key).locked
                    ? (this.game.cache.reloadSound(this.key),
                    (this.pendingPlayback = !0))
                    : this._sound &&
                    (this.game.device.cocoonJS || this._sound.readyState === 4)
                      ? (this._sound.play(),
                      (this.totalDuration = this._sound.duration),
                      this.duration === 0 &&
                      ((this.duration = this.totalDuration),
                      (this.durationMS = 1e3 * this.totalDuration)),
                      (this._sound.currentTime = this.position),
                      (this._sound.muted = this._muted),
                      this._muted || this.game.sound.mute
                        ? (this._sound.volume = 0)
                        : (this._sound.volume = this._volume),
                      (this.isPlaying = !0),
                      (this.startTime = this.game.time.time),
                      (this.currentTime = 0),
                      (this.stopTime = this.startTime + this.durationMS),
                      this.onPlay.dispatch(this))
                      : (this.pendingPlayback = !0),
                this
              );
            },
            restart(t, e, i, n) {
              (t = t || ''),
              (e = e || 0),
              (i = i || 1),
              void 0 === n && (n = !1),
              this.play(t, e, i, n, !0);
            },
            pause() {
              this.isPlaying &&
                this._sound &&
                ((this.paused = !0),
                (this.pausedPosition = this.currentTime),
                (this.pausedTime = this.game.time.time),
                (this._tempPause = this._sound.currentTime),
                this.onPause.dispatch(this),
                this.stop());
            },
            resume() {
              if (this.paused && this._sound) {
                if (this.usingWebAudio) {
                  const t = Math.max(
                    0,
                    this.position + this.pausedPosition / 1e3,
                  );
                  (this._sound = this.context.createBufferSource()),
                  (this._sound.buffer = this._buffer),
                  this.externalNode
                    ? this._sound.connect(this.externalNode)
                    : this._sound.connect(this.gainNode),
                  this.loop && (this._sound.loop = !0),
                  this.loop ||
                      this.currentMarker !== '' ||
                      (this._sound.onended = this.onEndedHandler.bind(this));
                  const e = this.duration - this.pausedPosition / 1e3;
                  void 0 === this._sound.start
                    ? this._sound.noteGrainOn(0, t, e)
                    : this.loop && this.game.device.chrome
                      ? this.game.device.chromeVersion === 42
                        ? this._sound.start(0)
                        : this._sound.start(0, t)
                      : this._sound.start(0, t, e);
                } else {
                  (this._sound.currentTime = this._tempPause),
                  this._sound.play();
                }
                (this.isPlaying = !0),
                (this.paused = !1),
                (this.startTime += this.game.time.time - this.pausedTime),
                this.onResume.dispatch(this);
              }
            },
            stop() {
              if (this.isPlaying && this._sound) {
                if (this.usingWebAudio) {
                  if (void 0 === this._sound.stop) this._sound.noteOff(0);
                  else {
                    try {
                      this._sound.stop(0);
                    } catch (t) {}
                  }
                  this.externalNode
                    ? this._sound.disconnect(this.externalNode)
                    : this._sound.disconnect(this.gainNode);
                } else {
                  this.usingAudioTag &&
                    (this._sound.pause(), (this._sound.currentTime = 0));
                }
              }
              if (
                ((this.pendingPlayback = !1),
                (this.isPlaying = !1),
                !this.paused)
              ) {
                const t = this.currentMarker;
                this.currentMarker !== '' &&
                  this.onMarkerComplete.dispatch(this.currentMarker, this),
                (this.currentMarker = ''),
                this.fadeTween !== null && this.fadeTween.stop(),
                this.onStop.dispatch(this, t);
              }
            },
            fadeIn(t, e, i) {
              void 0 === e && (e = !1),
              void 0 === i && (i = this.currentMarker),
              this.paused || (this.play(i, 0, 0, e), this.fadeTo(t, 1));
            },
            fadeOut(t) {
              this.fadeTo(t, 0);
            },
            fadeTo(t, e) {
              if (this.isPlaying && !this.paused && e !== this.volume) {
                if ((void 0 === t && (t = 1e3), void 0 === e)) {
                  return void console.warn('Phaser.Sound.fadeTo: No Volume Specified.');
                }
                (this.fadeTween = this.game.add
                  .tween(this)
                  .to({ volume: e }, t, a.Easing.Linear.None, !0)),
                this.fadeTween.onComplete.add(this.fadeComplete, this);
              }
            },
            fadeComplete() {
              this.onFadeComplete.dispatch(this, this.volume),
              this.volume === 0 && this.stop();
            },
            updateGlobalVolume(t) {
              this.usingAudioTag &&
                this._sound &&
                (this._sound.volume = t * this._volume);
            },
            destroy(t) {
              void 0 === t && (t = !0),
              this.stop(),
              t
                ? this.game.sound.remove(this)
                : ((this.markers = {}),
                (this.context = null),
                (this._buffer = null),
                (this.externalNode = null),
                this.onDecoded.dispose(),
                this.onPlay.dispose(),
                this.onPause.dispose(),
                this.onResume.dispose(),
                this.onLoop.dispose(),
                this.onStop.dispose(),
                this.onMute.dispose(),
                this.onMarkerComplete.dispose());
            },
          }),
          (a.Sound.prototype.constructor = a.Sound),
          Object.defineProperty(a.Sound.prototype, 'isDecoding', {
            get() {
              return this.game.cache.getSound(this.key).isDecoding;
            },
          }),
          Object.defineProperty(a.Sound.prototype, 'isDecoded', {
            get() {
              return this.game.cache.isSoundDecoded(this.key);
            },
          }),
          Object.defineProperty(a.Sound.prototype, 'mute', {
            get() {
              return this._muted || this.game.sound.mute;
            },
            set(t) {
              (t = t || !1) !== this._muted &&
                (t
                  ? ((this._muted = !0),
                  (this._muteVolume = this._tempVolume),
                  this.usingWebAudio
                    ? (this.gainNode.gain.value = 0)
                    : this.usingAudioTag &&
                        this._sound &&
                        (this._sound.volume = 0))
                  : ((this._muted = !1),
                  this.usingWebAudio
                    ? (this.gainNode.gain.value = this._muteVolume)
                    : this.usingAudioTag &&
                        this._sound &&
                        (this._sound.volume = this._muteVolume)),
                this.onMute.dispatch(this));
            },
          }),
          Object.defineProperty(a.Sound.prototype, 'volume', {
            get() {
              return this._volume;
            },
            set(t) {
              if (
                (this.game.device.firefox &&
                  this.usingAudioTag &&
                  (t = this.game.math.clamp(t, 0, 1)),
                this._muted)
              ) { return void (this._muteVolume = t); }
              (this._tempVolume = t),
              (this._volume = t),
              this.usingWebAudio
                ? (this.gainNode.gain.value = t)
                : this.usingAudioTag &&
                    this._sound &&
                    (this._sound.volume = t);
            },
          }),
          (a.SoundManager = function (t) {
            (this.game = t),
            (this.onSoundDecode = new a.Signal()),
            (this.onVolumeChange = new a.Signal()),
            (this.onMute = new a.Signal()),
            (this.onUnMute = new a.Signal()),
            (this.context = null),
            (this.usingWebAudio = !1),
            (this.usingAudioTag = !1),
            (this.noAudio = !1),
            (this.connectToMaster = !0),
            (this.touchLocked = !1),
            (this.channels = 32),
            (this.muteOnPause = !0),
            (this._codeMuted = !1),
            (this._muted = !1),
            (this._unlockSource = null),
            (this._volume = 1),
            (this._sounds = []),
            (this._watchList = new a.ArraySet()),
            (this._watching = !1),
            (this._watchCallback = null),
            (this._watchContext = null);
          }),
          (a.SoundManager.prototype = {
            boot() {
              if (
                (this.game.device.iOS &&
                  !1 === this.game.device.webAudio &&
                  (this.channels = 1),
                window.PhaserGlobal)
              ) {
                if (!0 === window.PhaserGlobal.disableAudio) { return (this.noAudio = !0), void (this.touchLocked = !1); }
                if (!0 === window.PhaserGlobal.disableWebAudio) {
                  return (
                    (this.usingAudioTag = !0), void (this.touchLocked = !1)
                  );
                }
              }
              if (window.PhaserGlobal && window.PhaserGlobal.audioContext) { this.context = window.PhaserGlobal.audioContext; } else if (window.AudioContext) {
                try {
                  this.context = new window.AudioContext();
                } catch (t) {
                  (this.context = null),
                  (this.usingWebAudio = !1),
                  (this.touchLocked = !1);
                }
              } else if (window.webkitAudioContext) {
                try {
                  this.context = new window.webkitAudioContext();
                } catch (t) {
                  (this.context = null),
                  (this.usingWebAudio = !1),
                  (this.touchLocked = !1);
                }
              }
              if (this.context === null) {
                if (void 0 === window.Audio) return void (this.noAudio = !0);
                this.usingAudioTag = !0;
              } else {
                (this.usingWebAudio = !0),
                void 0 === this.context.createGain
                  ? (this.masterGain = this.context.createGainNode())
                  : (this.masterGain = this.context.createGain()),
                (this.masterGain.gain.value = 1),
                this.masterGain.connect(this.context.destination);
              }
              this.noAudio ||
                (((!this.game.device.cocoonJS && this.game.device.iOS) ||
                  (window.PhaserGlobal &&
                    window.PhaserGlobal.fakeiOSTouchLock)) &&
                  this.setTouchLock());
            },
            setTouchLock() {
              this.noAudio ||
                (window.PhaserGlobal &&
                  !0 === window.PhaserGlobal.disableAudio) ||
                (this.game.device.iOSVersion > 8
                  ? this.game.input.touch.addTouchLockCallback(
                    this.unlock,
                    this,
                    !0,
                  )
                  : this.game.input.touch.addTouchLockCallback(
                    this.unlock,
                    this,
                  ),
                (this.touchLocked = !0));
            },
            unlock() {
              if (
                this.noAudio ||
                !this.touchLocked ||
                this._unlockSource !== null
              ) { return !0; }
              if (this.usingAudioTag) { (this.touchLocked = !1), (this._unlockSource = null); } else if (this.usingWebAudio) {
                const t = this.context.createBuffer(1, 1, 22050);
                (this._unlockSource = this.context.createBufferSource()),
                (this._unlockSource.buffer = t),
                this._unlockSource.connect(this.context.destination),
                void 0 === this._unlockSource.start
                  ? this._unlockSource.noteOn(0)
                  : this._unlockSource.start(0);
              }
              return !0;
            },
            stopAll() {
              if (!this.noAudio) {
                for (let t = 0; t < this._sounds.length; t++) { this._sounds[t] && this._sounds[t].stop(); }
              }
            },
            pauseAll() {
              if (!this.noAudio) {
                for (let t = 0; t < this._sounds.length; t++) { this._sounds[t] && this._sounds[t].pause(); }
              }
            },
            resumeAll() {
              if (!this.noAudio) {
                for (let t = 0; t < this._sounds.length; t++) { this._sounds[t] && this._sounds[t].resume(); }
              }
            },
            decode(t, e) {
              e = e || null;
              const i = this.game.cache.getSoundData(t);
              if (i && !1 === this.game.cache.isSoundDecoded(t)) {
                this.game.cache.updateSound(t, 'isDecoding', !0);
                const n = this;
                try {
                  this.context.decodeAudioData(i, (i) => {
                    i &&
                      (n.game.cache.decodedSound(t, i),
                      n.onSoundDecode.dispatch(t, e));
                  });
                } catch (t) {}
              }
            },
            setDecodedCallback(t, e, i) {
              typeof t === 'string' && (t = [t]), this._watchList.reset();
              for (let n = 0; n < t.length; n++) {
                t[n] instanceof a.Sound
                  ? this.game.cache.isSoundDecoded(t[n].key) ||
                    this._watchList.add(t[n].key)
                  : this.game.cache.isSoundDecoded(t[n]) ||
                    this._watchList.add(t[n]);
              }
              this._watchList.total === 0
                ? ((this._watching = !1), e.call(i))
                : ((this._watching = !0),
                (this._watchCallback = e),
                (this._watchContext = i));
            },
            update() {
              if (!this.noAudio) {
                !this.touchLocked ||
                  this._unlockSource === null ||
                  (this._unlockSource.playbackState !==
                    this._unlockSource.PLAYING_STATE &&
                    this._unlockSource.playbackState !==
                      this._unlockSource.FINISHED_STATE) ||
                  ((this.touchLocked = !1), (this._unlockSource = null));
                for (let t = 0; t < this._sounds.length; t++) { this._sounds[t].update(); }
                if (this._watching) {
                  for (let e = this._watchList.first; e;) {
                    this.game.cache.isSoundDecoded(e) &&
                      this._watchList.remove(e),
                    (e = this._watchList.next);
                  }
                  this._watchList.total === 0 &&
                    ((this._watching = !1),
                    this._watchCallback.call(this._watchContext));
                }
              }
            },
            add(t, e, i, n) {
              void 0 === e && (e = 1),
              void 0 === i && (i = !1),
              void 0 === n && (n = this.connectToMaster);
              const r = new a.Sound(this.game, t, e, i, n);
              return this._sounds.push(r), r;
            },
            addSprite(t) {
              return new a.AudioSprite(this.game, t);
            },
            remove(t) {
              for (let e = this._sounds.length; e--;) {
                if (this._sounds[e] === t) {
                  return (
                    this._sounds[e].destroy(!1), this._sounds.splice(e, 1), !0
                  );
                }
              }
              return !1;
            },
            removeByKey(t) {
              for (var e = this._sounds.length, i = 0; e--;) {
                this._sounds[e].key === t &&
                  (this._sounds[e].destroy(!1), this._sounds.splice(e, 1), i++);
              }
              return i;
            },
            play(t, e, i) {
              if (!this.noAudio) {
                const n = this.add(t, e, i);
                return n.play(), n;
              }
            },
            setMute() {
              if (!this._muted) {
                (this._muted = !0),
                this.usingWebAudio &&
                    ((this._muteVolume = this.masterGain.gain.value),
                    (this.masterGain.gain.value = 0));
                for (let t = 0; t < this._sounds.length; t++) { this._sounds[t].usingAudioTag && (this._sounds[t].mute = !0); }
                this.onMute.dispatch();
              }
            },
            unsetMute() {
              if (this._muted && !this._codeMuted) {
                (this._muted = !1),
                this.usingWebAudio &&
                    (this.masterGain.gain.value = this._muteVolume);
                for (let t = 0; t < this._sounds.length; t++) { this._sounds[t].usingAudioTag && (this._sounds[t].mute = !1); }
                this.onUnMute.dispatch();
              }
            },
            destroy() {
              this.stopAll();
              for (let t = 0; t < this._sounds.length; t++) { this._sounds[t] && this._sounds[t].destroy(); }
              (this._sounds = []),
              this.onSoundDecode.dispose(),
              this.context &&
                  (window.PhaserGlobal
                    ? (window.PhaserGlobal.audioContext = this.context)
                    : this.context.close && this.context.close());
            },
          }),
          (a.SoundManager.prototype.constructor = a.SoundManager),
          Object.defineProperty(a.SoundManager.prototype, 'mute', {
            get() {
              return this._muted;
            },
            set(t) {
              if ((t = t || !1)) {
                if (this._muted) return;
                (this._codeMuted = !0), this.setMute();
              } else {
                if (!this._muted) return;
                (this._codeMuted = !1), this.unsetMute();
              }
            },
          }),
          Object.defineProperty(a.SoundManager.prototype, 'volume', {
            get() {
              return this._volume;
            },
            set(t) {
              if ((t < 0 ? (t = 0) : t > 1 && (t = 1), this._volume !== t)) {
                if (((this._volume = t), this.usingWebAudio)) { this.masterGain.gain.value = t; } else {
                  for (let e = 0; e < this._sounds.length; e++) {
                    this._sounds[e].usingAudioTag &&
                      this._sounds[e].updateGlobalVolume(t);
                  }
                }
                this.onVolumeChange.dispatch(t);
              }
            },
          }),
          (a.ScaleManager = function (t, e, i) {
            (this.game = t),
            (this.dom = a.DOM),
            (this.grid = null),
            (this.width = 0),
            (this.height = 0),
            (this.minWidth = null),
            (this.maxWidth = null),
            (this.minHeight = null),
            (this.maxHeight = null),
            (this.offset = new a.Point()),
            (this.forceLandscape = !1),
            (this.forcePortrait = !1),
            (this.incorrectOrientation = !1),
            (this._pageAlignHorizontally = !1),
            (this._pageAlignVertically = !1),
            (this.onOrientationChange = new a.Signal()),
            (this.enterIncorrectOrientation = new a.Signal()),
            (this.leaveIncorrectOrientation = new a.Signal()),
            (this.fullScreenTarget = null),
            (this._createdFullScreenTarget = null),
            (this.onFullScreenInit = new a.Signal()),
            (this.onFullScreenChange = new a.Signal()),
            (this.onFullScreenError = new a.Signal()),
            (this.screenOrientation = this.dom.getScreenOrientation()),
            (this.scaleFactor = new a.Point(1, 1)),
            (this.scaleFactorInversed = new a.Point(1, 1)),
            (this.margin = {
              left: 0,
              top: 0,
              right: 0,
              bottom: 0,
              x: 0,
              y: 0,
            }),
            (this.bounds = new a.Rectangle()),
            (this.aspectRatio = 0),
            (this.sourceAspectRatio = 0),
            (this.event = null),
            (this.windowConstraints = { right: 'layout', bottom: '' }),
            (this.compatibility = {
              supportsFullScreen: !1,
              orientationFallback: null,
              noMargins: !1,
              scrollTo: null,
              forceMinimumDocumentHeight: !1,
              canExpandParent: !0,
              clickTrampoline: '',
            }),
            (this._scaleMode = a.ScaleManager.NO_SCALE),
            (this._fullScreenScaleMode = a.ScaleManager.NO_SCALE),
            (this.parentIsWindow = !1),
            (this.parentNode = null),
            (this.parentScaleFactor = new a.Point(1, 1)),
            (this.trackParentInterval = 2e3),
            (this.onSizeChange = new a.Signal()),
            (this.onResize = null),
            (this.onResizeContext = null),
            (this._pendingScaleMode = null),
            (this._fullScreenRestore = null),
            (this._gameSize = new a.Rectangle()),
            (this._userScaleFactor = new a.Point(1, 1)),
            (this._userScaleTrim = new a.Point(0, 0)),
            (this._lastUpdate = 0),
            (this._updateThrottle = 0),
            (this._updateThrottleReset = 100),
            (this._parentBounds = new a.Rectangle()),
            (this._tempBounds = new a.Rectangle()),
            (this._lastReportedCanvasSize = new a.Rectangle()),
            (this._lastReportedGameSize = new a.Rectangle()),
            (this._booted = !1),
            t.config && this.parseConfig(t.config),
            this.setupScale(e, i);
          }),
          (a.ScaleManager.EXACT_FIT = 0),
          (a.ScaleManager.NO_SCALE = 1),
          (a.ScaleManager.SHOW_ALL = 2),
          (a.ScaleManager.RESIZE = 3),
          (a.ScaleManager.USER_SCALE = 4),
          (a.ScaleManager.prototype = {
            boot() {
              const t = this.compatibility;
              (t.supportsFullScreen =
                this.game.device.fullscreen && !this.game.device.cocoonJS),
              this.game.device.iPad ||
                  this.game.device.webApp ||
                  this.game.device.desktop ||
                  (this.game.device.android && !this.game.device.chrome
                    ? (t.scrollTo = new a.Point(0, 1))
                    : (t.scrollTo = new a.Point(0, 0))),
              this.game.device.desktop
                ? ((t.orientationFallback = 'screen'),
                (t.clickTrampoline = 'when-not-mouse'))
                : ((t.orientationFallback = ''), (t.clickTrampoline = ''));
              const e = this;
              (this._orientationChange = function (t) {
                return e.orientationChange(t);
              }),
              (this._windowResize = function (t) {
                return e.windowResize(t);
              }),
              window.addEventListener(
                'orientationchange',
                this._orientationChange,
                !1,
              ),
              window.addEventListener('resize', this._windowResize, !1),
              this.compatibility.supportsFullScreen &&
                  ((this._fullScreenChange = function (t) {
                    return e.fullScreenChange(t);
                  }),
                  (this._fullScreenError = function (t) {
                    return e.fullScreenError(t);
                  }),
                  document.addEventListener(
                    'webkitfullscreenchange',
                    this._fullScreenChange,
                    !1,
                  ),
                  document.addEventListener(
                    'mozfullscreenchange',
                    this._fullScreenChange,
                    !1,
                  ),
                  document.addEventListener(
                    'MSFullscreenChange',
                    this._fullScreenChange,
                    !1,
                  ),
                  document.addEventListener(
                    'fullscreenchange',
                    this._fullScreenChange,
                    !1,
                  ),
                  document.addEventListener(
                    'webkitfullscreenerror',
                    this._fullScreenError,
                    !1,
                  ),
                  document.addEventListener(
                    'mozfullscreenerror',
                    this._fullScreenError,
                    !1,
                  ),
                  document.addEventListener(
                    'MSFullscreenError',
                    this._fullScreenError,
                    !1,
                  ),
                  document.addEventListener(
                    'fullscreenerror',
                    this._fullScreenError,
                    !1,
                  )),
              this.game.onResume.add(this._gameResumed, this),
              this.dom.getOffset(this.game.canvas, this.offset),
              this.bounds.setTo(
                this.offset.x,
                this.offset.y,
                this.width,
                this.height,
              ),
              this.setGameSize(this.game.width, this.game.height),
              (this.screenOrientation = this.dom.getScreenOrientation(this.compatibility.orientationFallback)),
              a.FlexGrid &&
                  (this.grid = new a.FlexGrid(this, this.width, this.height)),
              (this._booted = !0),
              this._pendingScaleMode !== null &&
                  ((this.scaleMode = this._pendingScaleMode),
                  (this._pendingScaleMode = null));
            },
            parseConfig(t) {
              void 0 !== t.scaleMode &&
                (this._booted
                  ? (this.scaleMode = t.scaleMode)
                  : (this._pendingScaleMode = t.scaleMode)),
              void 0 !== t.fullScreenScaleMode &&
                  (this.fullScreenScaleMode = t.fullScreenScaleMode),
              t.fullScreenTarget &&
                  (this.fullScreenTarget = t.fullScreenTarget);
            },
            setupScale(t, e) {
              let i,
                n = new a.Rectangle();
              this.game.parent !== '' &&
                (typeof this.game.parent === 'string'
                  ? (i = document.getElementById(this.game.parent))
                  : this.game.parent &&
                    this.game.parent.nodeType === 1 &&
                    (i = this.game.parent)),
              i
                ? ((this.parentNode = i),
                (this.parentIsWindow = !1),
                this.getParentBounds(this._parentBounds),
                (n.width = this._parentBounds.width),
                (n.height = this._parentBounds.height),
                this.offset.set(this._parentBounds.x, this._parentBounds.y))
                : ((this.parentNode = null),
                (this.parentIsWindow = !0),
                (n.width = this.dom.visualBounds.width),
                (n.height = this.dom.visualBounds.height),
                this.offset.set(0, 0));
              let r = 0,
                o = 0;
              typeof t === 'number'
                ? (r = t)
                : ((this.parentScaleFactor.x = parseInt(t, 10) / 100),
                (r = n.width * this.parentScaleFactor.x)),
              typeof e === 'number'
                ? (o = e)
                : ((this.parentScaleFactor.y = parseInt(e, 10) / 100),
                (o = n.height * this.parentScaleFactor.y)),
              (r = Math.floor(r)),
              (o = Math.floor(o)),
              this._gameSize.setTo(0, 0, r, o),
              this.updateDimensions(r, o, !1);
            },
            _gameResumed() {
              this.queueUpdate(!0);
            },
            setGameSize(t, e) {
              this._gameSize.setTo(0, 0, t, e),
              this.currentScaleMode !== a.ScaleManager.RESIZE &&
                  this.updateDimensions(t, e, !0),
              this.queueUpdate(!0);
            },
            setUserScale(t, e, i, n) {
              this._userScaleFactor.setTo(t, e),
              this._userScaleTrim.setTo(0 | i, 0 | n),
              this.queueUpdate(!0);
            },
            setResizeCallback(t, e) {
              (this.onResize = t), (this.onResizeContext = e);
            },
            signalSizeChange() {
              if (
                !a.Rectangle.sameDimensions(
                  this,
                  this._lastReportedCanvasSize,
                ) ||
                !a.Rectangle.sameDimensions(
                  this.game,
                  this._lastReportedGameSize,
                )
              ) {
                let t = this.width,
                  e = this.height;
                this._lastReportedCanvasSize.setTo(0, 0, t, e),
                this._lastReportedGameSize.setTo(
                  0,
                  0,
                  this.game.width,
                  this.game.height,
                ),
                this.grid && this.grid.onResize(t, e),
                this.onSizeChange.dispatch(this, t, e),
                this.currentScaleMode === a.ScaleManager.RESIZE &&
                    (this.game.state.resize(t, e), this.game.load.resize(t, e));
              }
            },
            setMinMax(t, e, i, n) {
              (this.minWidth = t),
              (this.minHeight = e),
              void 0 !== i && (this.maxWidth = i),
              void 0 !== n && (this.maxHeight = n);
            },
            preUpdate() {
              if (
                !(this.game.time.time < this._lastUpdate + this._updateThrottle)
              ) {
                const t = this._updateThrottle;
                (this._updateThrottleReset = t >= 400 ? 0 : 100),
                this.dom.getOffset(this.game.canvas, this.offset);
                let e = this._parentBounds.width,
                  i = this._parentBounds.height,
                  n = this.getParentBounds(this._parentBounds),
                  r = n.width !== e || n.height !== i,
                  o = this.updateOrientationState();
                (r || o) &&
                  (this.onResize &&
                    this.onResize.call(this.onResizeContext, this, n),
                  this.updateLayout(),
                  this.signalSizeChange());
                let s = 2 * this._updateThrottle;
                this._updateThrottle < t &&
                  (s = Math.min(t, this._updateThrottleReset)),
                (this._updateThrottle = a.Math.clamp(
                  s,
                  25,
                  this.trackParentInterval,
                )),
                (this._lastUpdate = this.game.time.time);
              }
            },
            pauseUpdate() {
              this.preUpdate(),
              (this._updateThrottle = this.trackParentInterval);
            },
            updateDimensions(t, e, i) {
              (this.width = t * this.parentScaleFactor.x),
              (this.height = e * this.parentScaleFactor.y),
              (this.game.width = this.width),
              (this.game.height = this.height),
              (this.sourceAspectRatio = this.width / this.height),
              this.updateScalingAndBounds(),
              i &&
                  (this.game.renderer.resize(this.width, this.height),
                  this.game.camera.setSize(this.width, this.height),
                  this.game.world.resize(this.width, this.height));
            },
            updateScalingAndBounds() {
              (this.scaleFactor.x = this.game.width / this.width),
              (this.scaleFactor.y = this.game.height / this.height),
              (this.scaleFactorInversed.x = this.width / this.game.width),
              (this.scaleFactorInversed.y = this.height / this.game.height),
              (this.aspectRatio = this.width / this.height),
              this.game.canvas &&
                  this.dom.getOffset(this.game.canvas, this.offset),
              this.bounds.setTo(
                this.offset.x,
                this.offset.y,
                this.width,
                this.height,
              ),
              this.game.input &&
                  this.game.input.scale &&
                  this.game.input.scale.setTo(
                    this.scaleFactor.x,
                    this.scaleFactor.y,
                  );
            },
            forceOrientation(t, e) {
              void 0 === e && (e = !1),
              (this.forceLandscape = t),
              (this.forcePortrait = e),
              this.queueUpdate(!0);
            },
            classifyOrientation(t) {
              return t === 'portrait-primary' || t === 'portrait-secondary'
                ? 'portrait'
                : t === 'landscape-primary' || t === 'landscape-secondary'
                  ? 'landscape'
                  : null;
            },
            updateOrientationState() {
              let t = this.screenOrientation,
                e = this.incorrectOrientation;
              (this.screenOrientation = this.dom.getScreenOrientation(this.compatibility.orientationFallback)),
              (this.incorrectOrientation =
                  (this.forceLandscape && !this.isLandscape) ||
                  (this.forcePortrait && !this.isPortrait));
              let i = t !== this.screenOrientation,
                n = e !== this.incorrectOrientation;
              return (
                n &&
                  (this.incorrectOrientation
                    ? this.enterIncorrectOrientation.dispatch()
                    : this.leaveIncorrectOrientation.dispatch()),
                (i || n) && this.onOrientationChange.dispatch(this, t, e),
                i || n
              );
            },
            orientationChange(t) {
              (this.event = t), this.queueUpdate(!0);
            },
            windowResize(t) {
              (this.event = t), this.queueUpdate(!0);
            },
            scrollTop() {
              const t = this.compatibility.scrollTo;
              t && window.scrollTo(t.x, t.y);
            },
            refresh() {
              this.scrollTop(), this.queueUpdate(!0);
            },
            updateLayout() {
              const t = this.currentScaleMode;
              if (t === a.ScaleManager.RESIZE) return void this.reflowGame();
              if (
                (this.scrollTop(),
                this.compatibility.forceMinimumDocumentHeight &&
                  (document.documentElement.style.minHeight =
                    `${window.innerHeight}px`),
                this.incorrectOrientation
                  ? this.setMaximum()
                  : t === a.ScaleManager.EXACT_FIT
                    ? this.setExactFit()
                    : t === a.ScaleManager.SHOW_ALL
                      ? !this.isFullScreen &&
                    this.boundingParent &&
                    this.compatibility.canExpandParent
                        ? (this.setShowAll(!0),
                        this.resetCanvas(),
                        this.setShowAll())
                        : this.setShowAll()
                      : t === a.ScaleManager.NO_SCALE
                        ? ((this.width = this.game.width),
                        (this.height = this.game.height))
                        : t === a.ScaleManager.USER_SCALE &&
                    ((this.width =
                      this.game.width * this._userScaleFactor.x -
                      this._userScaleTrim.x),
                    (this.height =
                      this.game.height * this._userScaleFactor.y -
                      this._userScaleTrim.y)),
                !this.compatibility.canExpandParent &&
                  (t === a.ScaleManager.SHOW_ALL ||
                    t === a.ScaleManager.USER_SCALE))
              ) {
                const e = this.getParentBounds(this._tempBounds);
                (this.width = Math.min(this.width, e.width)),
                (this.height = Math.min(this.height, e.height));
              }
              (this.width = 0 | this.width),
              (this.height = 0 | this.height),
              this.reflowCanvas();
            },
            getParentBounds(t) {
              let e = t || new a.Rectangle(),
                i = this.boundingParent,
                n = this.dom.visualBounds,
                r = this.dom.layoutBounds;
              if (i) {
                let o = i.getBoundingClientRect(),
                  s = i.offsetParent
                    ? i.offsetParent.getBoundingClientRect()
                    : i.getBoundingClientRect();
                e.setTo(o.left - s.left, o.top - s.top, o.width, o.height);
                const u = this.windowConstraints;
                if (u.right) {
                  var l = u.right === 'layout' ? r : n;
                  e.right = Math.min(e.right, l.width);
                }
                if (u.bottom) {
                  var l = u.bottom === 'layout' ? r : n;
                  e.bottom = Math.min(e.bottom, l.height);
                }
              } else e.setTo(0, 0, n.width, n.height);
              return (
                e.setTo(
                  Math.round(e.x),
                  Math.round(e.y),
                  Math.round(e.width),
                  Math.round(e.height),
                ),
                e
              );
            },
            alignCanvas(t, e) {
              let i = this.getParentBounds(this._tempBounds),
                n = this.game.canvas,
                r = this.margin;
              if (t) {
                r.left = r.right = 0;
                var a = n.getBoundingClientRect();
                if (this.width < i.width && !this.incorrectOrientation) {
                  var o = a.left - i.x,
                    s = i.width / 2 - this.width / 2;
                  s = Math.max(s, 0);
                  var u = s - o;
                  r.left = Math.round(u);
                }
                (n.style.marginLeft = `${r.left}px`),
                r.left !== 0 &&
                    ((r.right = -(i.width - a.width - r.left)),
                    (n.style.marginRight = `${r.right}px`));
              }
              if (e) {
                r.top = r.bottom = 0;
                var a = n.getBoundingClientRect();
                if (this.height < i.height && !this.incorrectOrientation) {
                  var o = a.top - i.y,
                    s = i.height / 2 - this.height / 2;
                  s = Math.max(s, 0);
                  var u = s - o;
                  r.top = Math.round(u);
                }
                (n.style.marginTop = `${r.top}px`),
                r.top !== 0 &&
                    ((r.bottom = -(i.height - a.height - r.top)),
                    (n.style.marginBottom = `${r.bottom}px`));
              }
              (r.x = r.left), (r.y = r.top);
            },
            reflowGame() {
              this.resetCanvas('', '');
              const t = this.getParentBounds(this._tempBounds);
              this.updateDimensions(t.width, t.height, !0);
            },
            reflowCanvas() {
              this.incorrectOrientation ||
                ((this.width = a.Math.clamp(
                  this.width,
                  this.minWidth || 0,
                  this.maxWidth || this.width,
                )),
                (this.height = a.Math.clamp(
                  this.height,
                  this.minHeight || 0,
                  this.maxHeight || this.height,
                ))),
              this.resetCanvas(),
              this.compatibility.noMargins ||
                  (this.isFullScreen && this._createdFullScreenTarget
                    ? this.alignCanvas(!0, !0)
                    : this.alignCanvas(
                      this.pageAlignHorizontally,
                      this.pageAlignVertically,
                    )),
              this.updateScalingAndBounds();
            },
            resetCanvas(t, e) {
              void 0 === t && (t = `${this.width}px`),
              void 0 === e && (e = `${this.height}px`);
              const i = this.game.canvas;
              this.compatibility.noMargins ||
                ((i.style.marginLeft = ''),
                (i.style.marginTop = ''),
                (i.style.marginRight = ''),
                (i.style.marginBottom = '')),
              (i.style.width = t),
              (i.style.height = e);
            },
            queueUpdate(t) {
              t &&
                ((this._parentBounds.width = 0),
                (this._parentBounds.height = 0)),
              (this._updateThrottle = this._updateThrottleReset);
            },
            reset(t) {
              t && this.grid && this.grid.reset();
            },
            setMaximum() {
              (this.width = this.dom.visualBounds.width),
              (this.height = this.dom.visualBounds.height);
            },
            setShowAll(t) {
              let e,
                i = this.getParentBounds(this._tempBounds),
                n = i.width,
                r = i.height;
              (e = t
                ? Math.max(r / this.game.height, n / this.game.width)
                : Math.min(r / this.game.height, n / this.game.width)),
              (this.width = Math.round(this.game.width * e)),
              (this.height = Math.round(this.game.height * e));
            },
            setExactFit() {
              const t = this.getParentBounds(this._tempBounds);
              (this.width = t.width),
              (this.height = t.height),
              this.isFullScreen ||
                  (this.maxWidth &&
                    (this.width = Math.min(this.width, this.maxWidth)),
                  this.maxHeight &&
                    (this.height = Math.min(this.height, this.maxHeight)));
            },
            createFullScreenTarget() {
              const t = document.createElement('div');
              return (
                (t.style.margin = '0'),
                (t.style.padding = '0'),
                (t.style.background = '#000'),
                t
              );
            },
            startFullScreen(t, e) {
              if (this.isFullScreen) return !1;
              if (!this.compatibility.supportsFullScreen) {
                const i = this;
                return void setTimeout(() => {
                  i.fullScreenError();
                }, 10);
              }
              if (this.compatibility.clickTrampoline === 'when-not-mouse') {
                const n = this.game.input;
                if (
                  n.activePointer &&
                  n.activePointer !== n.mousePointer &&
                  (e || !1 !== e)
                ) {
                  return void n.activePointer.addClickTrampoline(
                    'startFullScreen',
                    this.startFullScreen,
                    this,
                    [t, !1],
                  );
                }
              }
              void 0 !== t &&
                this.game.renderType === a.CANVAS &&
                (this.game.stage.smoothed = t);
              let r = this.fullScreenTarget;
              r ||
                (this.cleanupCreatedTarget(),
                (this._createdFullScreenTarget = this.createFullScreenTarget()),
                (r = this._createdFullScreenTarget));
              const o = { targetElement: r };
              if (
                (this.onFullScreenInit.dispatch(this, o),
                this._createdFullScreenTarget)
              ) {
                const s = this.game.canvas;
                s.parentNode.insertBefore(r, s), r.appendChild(s);
              }
              return (
                this.game.device.fullscreenKeyboard
                  ? r[this.game.device.requestFullscreen](Element.ALLOW_KEYBOARD_INPUT)
                  : r[this.game.device.requestFullscreen](),
                !0
              );
            },
            stopFullScreen() {
              return !(
                !this.isFullScreen ||
                !this.compatibility.supportsFullScreen ||
                (document[this.game.device.cancelFullscreen](), 0)
              );
            },
            cleanupCreatedTarget() {
              const t = this._createdFullScreenTarget;
              if (t && t.parentNode) {
                const e = t.parentNode;
                e.insertBefore(this.game.canvas, t), e.removeChild(t);
              }
              this._createdFullScreenTarget = null;
            },
            prepScreenMode(t) {
              let e = !!this._createdFullScreenTarget,
                i = this._createdFullScreenTarget || this.fullScreenTarget;
              t
                ? (e ||
                    this.fullScreenScaleMode === a.ScaleManager.EXACT_FIT) &&
                  i !== this.game.canvas &&
                  ((this._fullScreenRestore = {
                    targetWidth: i.style.width,
                    targetHeight: i.style.height,
                  }),
                  (i.style.width = '100%'),
                  (i.style.height = '100%'))
                : (this._fullScreenRestore &&
                    ((i.style.width = this._fullScreenRestore.targetWidth),
                    (i.style.height = this._fullScreenRestore.targetHeight),
                    (this._fullScreenRestore = null)),
                this.updateDimensions(
                  this._gameSize.width,
                  this._gameSize.height,
                  !0,
                ),
                this.resetCanvas());
            },
            fullScreenChange(t) {
              (this.event = t),
              this.isFullScreen
                ? (this.prepScreenMode(!0),
                this.updateLayout(),
                this.queueUpdate(!0))
                : (this.prepScreenMode(!1),
                this.cleanupCreatedTarget(),
                this.updateLayout(),
                this.queueUpdate(!0)),
              this.onFullScreenChange.dispatch(this, this.width, this.height);
            },
            fullScreenError(t) {
              (this.event = t),
              this.cleanupCreatedTarget(),
              console.warn('Phaser.ScaleManager: requestFullscreen failed or device does not support the Fullscreen API'),
              this.onFullScreenError.dispatch(this);
            },
            scaleSprite(t, e, i, n) {
              if (
                (void 0 === e && (e = this.width),
                void 0 === i && (i = this.height),
                void 0 === n && (n = !1),
                !t || !t.scale)
              ) { return t; }
              if (
                ((t.scale.x = 1),
                (t.scale.y = 1),
                t.width <= 0 || t.height <= 0 || e <= 0 || i <= 0)
              ) { return t; }
              let r = e,
                a = (t.height * e) / t.width,
                o = (t.width * i) / t.height,
                s = i,
                u = o > e;
              return (
                (u = u ? n : !n),
                u
                  ? ((t.width = Math.floor(r)), (t.height = Math.floor(a)))
                  : ((t.width = Math.floor(o)), (t.height = Math.floor(s))),
                t
              );
            },
            destroy() {
              this.game.onResume.remove(this._gameResumed, this),
              window.removeEventListener(
                'orientationchange',
                this._orientationChange,
                !1,
              ),
              window.removeEventListener('resize', this._windowResize, !1),
              this.compatibility.supportsFullScreen &&
                  (document.removeEventListener(
                    'webkitfullscreenchange',
                    this._fullScreenChange,
                    !1,
                  ),
                  document.removeEventListener(
                    'mozfullscreenchange',
                    this._fullScreenChange,
                    !1,
                  ),
                  document.removeEventListener(
                    'MSFullscreenChange',
                    this._fullScreenChange,
                    !1,
                  ),
                  document.removeEventListener(
                    'fullscreenchange',
                    this._fullScreenChange,
                    !1,
                  ),
                  document.removeEventListener(
                    'webkitfullscreenerror',
                    this._fullScreenError,
                    !1,
                  ),
                  document.removeEventListener(
                    'mozfullscreenerror',
                    this._fullScreenError,
                    !1,
                  ),
                  document.removeEventListener(
                    'MSFullscreenError',
                    this._fullScreenError,
                    !1,
                  ),
                  document.removeEventListener(
                    'fullscreenerror',
                    this._fullScreenError,
                    !1,
                  ));
            },
          }),
          (a.ScaleManager.prototype.constructor = a.ScaleManager),
          Object.defineProperty(a.ScaleManager.prototype, 'boundingParent', {
            get() {
              return this.parentIsWindow ||
                (this.isFullScreen && !this._createdFullScreenTarget)
                ? null
                : (this.game.canvas && this.game.canvas.parentNode) || null;
            },
          }),
          Object.defineProperty(a.ScaleManager.prototype, 'scaleMode', {
            get() {
              return this._scaleMode;
            },
            set(t) {
              return (
                t !== this._scaleMode &&
                  (this.isFullScreen ||
                    (this.updateDimensions(
                      this._gameSize.width,
                      this._gameSize.height,
                      !0,
                    ),
                    this.queueUpdate(!0)),
                  (this._scaleMode = t)),
                this._scaleMode
              );
            },
          }),
          Object.defineProperty(
            a.ScaleManager.prototype,
            'fullScreenScaleMode',
            {
              get() {
                return this._fullScreenScaleMode;
              },
              set(t) {
                return (
                  t !== this._fullScreenScaleMode &&
                    (this.isFullScreen
                      ? (this.prepScreenMode(!1),
                      (this._fullScreenScaleMode = t),
                      this.prepScreenMode(!0),
                      this.queueUpdate(!0))
                      : (this._fullScreenScaleMode = t)),
                  this._fullScreenScaleMode
                );
              },
            },
          ),
          Object.defineProperty(a.ScaleManager.prototype, 'currentScaleMode', {
            get() {
              return this.isFullScreen
                ? this._fullScreenScaleMode
                : this._scaleMode;
            },
          }),
          Object.defineProperty(
            a.ScaleManager.prototype,
            'pageAlignHorizontally',
            {
              get() {
                return this._pageAlignHorizontally;
              },
              set(t) {
                t !== this._pageAlignHorizontally &&
                  ((this._pageAlignHorizontally = t), this.queueUpdate(!0));
              },
            },
          ),
          Object.defineProperty(
            a.ScaleManager.prototype,
            'pageAlignVertically',
            {
              get() {
                return this._pageAlignVertically;
              },
              set(t) {
                t !== this._pageAlignVertically &&
                  ((this._pageAlignVertically = t), this.queueUpdate(!0));
              },
            },
          ),
          Object.defineProperty(a.ScaleManager.prototype, 'isFullScreen', {
            get() {
              return !!(
                document.fullscreenElement ||
                document.webkitFullscreenElement ||
                document.mozFullScreenElement ||
                document.msFullscreenElement
              );
            },
          }),
          Object.defineProperty(a.ScaleManager.prototype, 'isPortrait', {
            get() {
              return (
                this.classifyOrientation(this.screenOrientation) === 'portrait'
              );
            },
          }),
          Object.defineProperty(a.ScaleManager.prototype, 'isLandscape', {
            get() {
              return (
                this.classifyOrientation(this.screenOrientation) === 'landscape'
              );
            },
          }),
          Object.defineProperty(a.ScaleManager.prototype, 'isGamePortrait', {
            get() {
              return this.height > this.width;
            },
          }),
          Object.defineProperty(a.ScaleManager.prototype, 'isGameLandscape', {
            get() {
              return this.width > this.height;
            },
          }),
          (a.Utils.Debug = function (t) {
            (this.game = t),
            (this.sprite = null),
            (this.bmd = null),
            (this.canvas = null),
            (this.context = null),
            (this.font = '14px Courier'),
            (this.columnWidth = 100),
            (this.lineHeight = 16),
            (this.renderShadow = !0),
            (this.currentX = 0),
            (this.currentY = 0),
            (this.currentAlpha = 1),
            (this.dirty = !1);
          }),
          (a.Utils.Debug.prototype = {
            boot() {
              this.game.renderType === a.CANVAS
                ? (this.context = this.game.context)
                : ((this.bmd = this.game.make.bitmapData(
                  this.game.width,
                  this.game.height,
                )),
                (this.sprite = this.game.make.image(0, 0, this.bmd)),
                this.game.stage.addChild(this.sprite),
                this.game.scale.onSizeChange.add(this.resize, this),
                (this.canvas = PIXI.CanvasPool.create(
                  this,
                  this.game.width,
                  this.game.height,
                )),
                (this.context = this.canvas.getContext('2d')));
            },
            resize(t, e, i) {
              this.bmd.resize(e, i),
              (this.canvas.width = e),
              (this.canvas.height = i);
            },
            preUpdate() {
              this.dirty &&
                this.sprite &&
                (this.bmd.clear(),
                this.bmd.draw(this.canvas, 0, 0),
                this.context.clearRect(0, 0, this.game.width, this.game.height),
                (this.dirty = !1));
            },
            reset() {
              this.context &&
                this.context.clearRect(0, 0, this.game.width, this.game.height),
              this.sprite && this.bmd.clear();
            },
            start(t, e, i, n) {
              typeof t !== 'number' && (t = 0),
              typeof e !== 'number' && (e = 0),
              (i = i || 'rgb(255,255,255)'),
              void 0 === n && (n = 0),
              (this.currentX = t),
              (this.currentY = e),
              (this.currentColor = i),
              (this.columnWidth = n),
              (this.dirty = !0),
              this.context.save(),
              this.context.setTransform(1, 0, 0, 1, 0, 0),
              (this.context.strokeStyle = i),
              (this.context.fillStyle = i),
              (this.context.font = this.font),
              (this.context.globalAlpha = this.currentAlpha);
            },
            stop() {
              this.context.restore();
            },
            line() {
              for (let t = this.currentX, e = 0; e < arguments.length; e++) {
                this.renderShadow &&
                  ((this.context.fillStyle = 'rgb(0,0,0)'),
                  this.context.fillText(arguments[e], t + 1, this.currentY + 1),
                  (this.context.fillStyle = this.currentColor)),
                this.context.fillText(arguments[e], t, this.currentY),
                (t += this.columnWidth);
              }
              this.currentY += this.lineHeight;
            },
            soundInfo(t, e, i, n) {
              this.start(e, i, n),
              this.line(`Sound: ${t.key} Locked: ${t.game.sound.touchLocked}`),
              this.line(`Is Ready?: ${
                this.game.cache.isSoundReady(t.key)
              } Pending Playback: ${
                t.pendingPlayback}`),
              this.line(`Decoded: ${t.isDecoded} Decoding: ${t.isDecoding}`),
              this.line(`Total Duration: ${
                t.totalDuration
              } Playing: ${
                t.isPlaying}`),
              this.line(`Time: ${t.currentTime}`),
              this.line(`Volume: ${t.volume} Muted: ${t.mute}`),
              this.line(`WebAudio: ${t.usingWebAudio} Audio: ${t.usingAudioTag}`),
              t.currentMarker !== '' &&
                  (this.line(`Marker: ${
                    t.currentMarker
                  } Duration: ${
                    t.duration
                  } (ms: ${
                    t.durationMS
                  })`),
                  this.line(`Start: ${
                    t.markers[t.currentMarker].start
                  } Stop: ${
                    t.markers[t.currentMarker].stop}`),
                  this.line(`Position: ${t.position}`)),
              this.stop();
            },
            cameraInfo(t, e, i, n) {
              this.start(e, i, n),
              this.line(`Camera (${t.width} x ${t.height})`),
              this.line(`X: ${t.x} Y: ${t.y}`),
              t.bounds &&
                  this.line(`Bounds x: ${
                    t.bounds.x
                  } Y: ${
                    t.bounds.y
                  } w: ${
                    t.bounds.width
                  } h: ${
                    t.bounds.height}`),
              this.line(`View x: ${
                t.view.x
              } Y: ${
                t.view.y
              } w: ${
                t.view.width
              } h: ${
                t.view.height}`),
              this.line(`Total in view: ${t.totalInView}`),
              this.stop();
            },
            timer(t, e, i, n) {
              this.start(e, i, n),
              this.line(`Timer (running: ${
                t.running
              } expired: ${
                t.expired
              })`),
              this.line(`Next Tick: ${t.next} Duration: ${t.duration}`),
              this.line(`Paused: ${t.paused} Length: ${t.length}`),
              this.stop();
            },
            pointer(t, e, i, n, r) {
              t != null &&
                (void 0 === e && (e = !1),
                (i = i || 'rgba(0,255,0,0.5)'),
                (n = n || 'rgba(255,0,0,0.5)'),
                (!0 === e && !0 === t.isUp) ||
                  (this.start(t.x, t.y - 100, r),
                  this.context.beginPath(),
                  this.context.arc(t.x, t.y, t.circle.radius, 0, 2 * Math.PI),
                  t.active
                    ? (this.context.fillStyle = i)
                    : (this.context.fillStyle = n),
                  this.context.fill(),
                  this.context.closePath(),
                  this.context.beginPath(),
                  this.context.moveTo(t.positionDown.x, t.positionDown.y),
                  this.context.lineTo(t.position.x, t.position.y),
                  (this.context.lineWidth = 2),
                  this.context.stroke(),
                  this.context.closePath(),
                  this.line(`ID: ${t.id} Active: ${t.active}`),
                  this.line(`World X: ${t.worldX} World Y: ${t.worldY}`),
                  this.line(`Screen X: ${
                    t.x
                  } Screen Y: ${
                    t.y
                  } In: ${
                    t.withinGame}`),
                  this.line(`Duration: ${t.duration} ms`),
                  this.line(`is Down: ${t.isDown} is Up: ${t.isUp}`),
                  this.stop()));
            },
            spriteInputInfo(t, e, i, n) {
              this.start(e, i, n),
              this.line(`Sprite Input: (${t.width} x ${t.height})`),
              this.line(`x: ${
                t.input.pointerX().toFixed(1)
              } y: ${
                t.input.pointerY().toFixed(1)}`),
              this.line(`over: ${
                t.input.pointerOver()
              } duration: ${
                t.input.overDuration().toFixed(0)}`),
              this.line(`down: ${
                t.input.pointerDown()
              } duration: ${
                t.input.downDuration().toFixed(0)}`),
              this.line(`just over: ${
                t.input.justOver()
              } just out: ${
                t.input.justOut()}`),
              this.stop();
            },
            key(t, e, i, n) {
              this.start(e, i, n, 150),
              this.line('Key:', t.keyCode, 'isDown:', t.isDown),
              this.line('justDown:', t.justDown, 'justUp:', t.justUp),
              this.line(
                'Time Down:',
                t.timeDown.toFixed(0),
                'duration:',
                t.duration.toFixed(0),
              ),
              this.stop();
            },
            inputInfo(t, e, i) {
              this.start(t, e, i),
              this.line('Input'),
              this.line(`X: ${this.game.input.x} Y: ${this.game.input.y}`),
              this.line(`World X: ${
                this.game.input.worldX
              } World Y: ${
                this.game.input.worldY}`),
              this.line(`Scale X: ${
                this.game.input.scale.x.toFixed(1)
              } Scale Y: ${
                this.game.input.scale.x.toFixed(1)}`),
              this.line(`Screen X: ${
                this.game.input.activePointer.screenX
              } Screen Y: ${
                this.game.input.activePointer.screenY}`),
              this.stop();
            },
            spriteBounds(t, e, i) {
              const n = t.getBounds();
              (n.x += this.game.camera.x),
              (n.y += this.game.camera.y),
              this.rectangle(n, e, i);
            },
            ropeSegments(t, e, i) {
              const n = this;
              t.segments.forEach((t) => {
                n.rectangle(t, e, i);
              }, this);
            },
            spriteInfo(t, e, i, n) {
              this.start(e, i, n),
              this.line(`Sprite:  (${
                t.width
              } x ${
                t.height
              }) anchor: ${
                t.anchor.x
              } x ${
                t.anchor.y}`),
              this.line(`x: ${t.x.toFixed(1)} y: ${t.y.toFixed(1)}`),
              this.line(`angle: ${
                t.angle.toFixed(1)
              } rotation: ${
                t.rotation.toFixed(1)}`),
              this.line(`visible: ${t.visible} in camera: ${t.inCamera}`),
              this.line(`bounds x: ${
                t._bounds.x.toFixed(1)
              } y: ${
                t._bounds.y.toFixed(1)
              } w: ${
                t._bounds.width.toFixed(1)
              } h: ${
                t._bounds.height.toFixed(1)}`),
              this.stop();
            },
            spriteCoords(t, e, i, n) {
              this.start(e, i, n, 100),
              t.name && this.line(t.name),
              this.line('x:', t.x.toFixed(2), 'y:', t.y.toFixed(2)),
              this.line(
                'pos x:',
                t.position.x.toFixed(2),
                'pos y:',
                t.position.y.toFixed(2),
              ),
              this.line(
                'world x:',
                t.world.x.toFixed(2),
                'world y:',
                t.world.y.toFixed(2),
              ),
              this.stop();
            },
            lineInfo(t, e, i, n) {
              this.start(e, i, n, 80),
              this.line(
                'start.x:',
                t.start.x.toFixed(2),
                'start.y:',
                t.start.y.toFixed(2),
              ),
              this.line(
                'end.x:',
                t.end.x.toFixed(2),
                'end.y:',
                t.end.y.toFixed(2),
              ),
              this.line('length:', t.length.toFixed(2), 'angle:', t.angle),
              this.stop();
            },
            pixel(t, e, i, n) {
              (n = n || 2),
              this.start(),
              (this.context.fillStyle = i),
              this.context.fillRect(t, e, n, n),
              this.stop();
            },
            geom(t, e, i, n) {
              void 0 === i && (i = !0),
              void 0 === n && (n = 0),
              (e = e || 'rgba(0,255,0,0.4)'),
              this.start(),
              (this.context.fillStyle = e),
              (this.context.strokeStyle = e),
              t instanceof a.Rectangle || n === 1
                ? i
                  ? this.context.fillRect(
                    t.x - this.game.camera.x,
                    t.y - this.game.camera.y,
                    t.width,
                    t.height,
                  )
                  : this.context.strokeRect(
                    t.x - this.game.camera.x,
                    t.y - this.game.camera.y,
                    t.width,
                    t.height,
                  )
                : t instanceof a.Circle || n === 2
                  ? (this.context.beginPath(),
                  this.context.arc(
                    t.x - this.game.camera.x,
                    t.y - this.game.camera.y,
                    t.radius,
                    0,
                    2 * Math.PI,
                    !1,
                  ),
                  this.context.closePath(),
                  i ? this.context.fill() : this.context.stroke())
                  : t instanceof a.Point || n === 3
                    ? this.context.fillRect(
                      t.x - this.game.camera.x,
                      t.y - this.game.camera.y,
                      4,
                      4,
                    )
                    : (t instanceof a.Line || n === 4) &&
                    ((this.context.lineWidth = 1),
                    this.context.beginPath(),
                    this.context.moveTo(
                      t.start.x + 0.5 - this.game.camera.x,
                      t.start.y + 0.5 - this.game.camera.y,
                    ),
                    this.context.lineTo(
                      t.end.x + 0.5 - this.game.camera.x,
                      t.end.y + 0.5 - this.game.camera.y,
                    ),
                    this.context.closePath(),
                    this.context.stroke()),
              this.stop();
            },
            rectangle(t, e, i) {
              void 0 === i && (i = !0),
              (e = e || 'rgba(0, 255, 0, 0.4)'),
              this.start(),
              i
                ? ((this.context.fillStyle = e),
                this.context.fillRect(
                  t.x - this.game.camera.x,
                  t.y - this.game.camera.y,
                  t.width,
                  t.height,
                ))
                : ((this.context.strokeStyle = e),
                this.context.strokeRect(
                  t.x - this.game.camera.x,
                  t.y - this.game.camera.y,
                  t.width,
                  t.height,
                )),
              this.stop();
            },
            text(t, e, i, n, r) {
              (n = n || 'rgb(255,255,255)'),
              (r = r || '16px Courier'),
              this.start(),
              (this.context.font = r),
              this.renderShadow &&
                  ((this.context.fillStyle = 'rgb(0,0,0)'),
                  this.context.fillText(t, e + 1, i + 1)),
              (this.context.fillStyle = n),
              this.context.fillText(t, e, i),
              this.stop();
            },
            quadTree(t, e) {
              (e = e || 'rgba(255,0,0,0.3)'), this.start();
              const i = t.bounds;
              if (t.nodes.length === 0) {
                (this.context.strokeStyle = e),
                this.context.strokeRect(i.x, i.y, i.width, i.height),
                this.text(
                  `size: ${t.objects.length}`,
                  i.x + 4,
                  i.y + 16,
                  'rgb(0,200,0)',
                  '12px Courier',
                ),
                (this.context.strokeStyle = 'rgb(0,255,0)');
                for (var n = 0; n < t.objects.length; n++) {
                  this.context.strokeRect(
                    t.objects[n].x,
                    t.objects[n].y,
                    t.objects[n].width,
                    t.objects[n].height,
                  );
                }
              } else {
                for (var n = 0; n < t.nodes.length; n++) { this.quadTree(t.nodes[n]); }
              }
              this.stop();
            },
            body(t, e, i) {
              t.body &&
                (this.start(),
                t.body.type === a.Physics.ARCADE
                  ? a.Physics.Arcade.Body.render(this.context, t.body, e, i)
                  : t.body.type === a.Physics.NINJA
                    ? a.Physics.Ninja.Body.render(this.context, t.body, e, i)
                    : t.body.type === a.Physics.BOX2D &&
                    a.Physics.Box2D.renderBody(this.context, t.body, e),
                this.stop());
            },
            bodyInfo(t, e, i, n) {
              t.body &&
                (this.start(e, i, n, 210),
                t.body.type === a.Physics.ARCADE
                  ? a.Physics.Arcade.Body.renderBodyInfo(this, t.body)
                  : t.body.type === a.Physics.BOX2D &&
                    this.game.physics.box2d.renderBodyInfo(this, t.body),
                this.stop());
            },
            box2dWorld() {
              this.start(),
              this.context.translate(
                -this.game.camera.view.x,
                -this.game.camera.view.y,
                0,
              ),
              this.game.physics.box2d.renderDebugDraw(this.context),
              this.stop();
            },
            box2dBody(t, e) {
              this.start(),
              a.Physics.Box2D.renderBody(this.context, t, e),
              this.stop();
            },
            displayList(t) {
              if (
                (void 0 === t && (t = this.game.world),
                t.hasOwnProperty('renderOrderID')
                  ? console.log(`[${t.renderOrderID}]`, t)
                  : console.log('[]', t),
                t.children && t.children.length > 0)
              ) {
                for (let e = 0; e < t.children.length; e++) { this.game.debug.displayList(t.children[e]); }
              }
            },
            destroy() {
              PIXI.CanvasPool.remove(this);
            },
          }),
          (a.Utils.Debug.prototype.constructor = a.Utils.Debug),
          (a.DOM = {
            getOffset(t, e) {
              e = e || new a.Point();
              let i = t.getBoundingClientRect(),
                n = a.DOM.scrollY,
                r = a.DOM.scrollX,
                o = document.documentElement.clientTop,
                s = document.documentElement.clientLeft;
              return (e.x = i.left + r - s), (e.y = i.top + n - o), e;
            },
            getBounds(t, e) {
              return (
                void 0 === e && (e = 0),
                !(!(t = t && !t.nodeType ? t[0] : t) || t.nodeType !== 1) &&
                  this.calibrate(t.getBoundingClientRect(), e)
              );
            },
            calibrate(t, e) {
              e = +e || 0;
              const i = {
                width: 0,
                height: 0,
                left: 0,
                right: 0,
                top: 0,
                bottom: 0,
              };
              return (
                (i.width = (i.right = t.right + e) - (i.left = t.left - e)),
                (i.height = (i.bottom = t.bottom + e) - (i.top = t.top - e)),
                i
              );
            },
            getAspectRatio(t) {
              t =
                t == null
                  ? this.visualBounds
                  : t.nodeType === 1
                    ? this.getBounds(t)
                    : t;
              let e = t.width,
                i = t.height;
              return (
                typeof e === 'function' && (e = e.call(t)),
                typeof i === 'function' && (i = i.call(t)),
                e / i
              );
            },
            inLayoutViewport(t, e) {
              const i = this.getBounds(t, e);
              return (
                !!i &&
                i.bottom >= 0 &&
                i.right >= 0 &&
                i.top <= this.layoutBounds.width &&
                i.left <= this.layoutBounds.height
              );
            },
            getScreenOrientation(t) {
              let e = window.screen,
                i = e.orientation || e.mozOrientation || e.msOrientation;
              if (i && typeof i.type === 'string') return i.type;
              if (typeof i === 'string') return i;
              let n = 'portrait-primary',
                r = 'landscape-primary';
              if (t === 'screen') return e.height > e.width ? n : r;
              if (t === 'viewport') {
                return this.visualBounds.height > this.visualBounds.width
                  ? n
                  : r;
              }
              if (
                t === 'window.orientation' &&
                typeof window.orientation === 'number'
              ) {
                return window.orientation === 0 || window.orientation === 180
                  ? n
                  : r;
              }
              if (window.matchMedia) {
                if (window.matchMedia('(orientation: portrait)').matches) { return n; }
                if (window.matchMedia('(orientation: landscape)').matches) { return r; }
              }
              return this.visualBounds.height > this.visualBounds.width ? n : r;
            },
            visualBounds: new a.Rectangle(),
            layoutBounds: new a.Rectangle(),
            documentBounds: new a.Rectangle(),
          }),
          a.Device.whenReady(
            (t) => {
              let e =
                  window && 'pageXOffset' in window
                    ? function () {
                      return window.pageXOffset;
                    }
                    : function () {
                      return document.documentElement.scrollLeft;
                    },
                i =
                  window && 'pageYOffset' in window
                    ? function () {
                      return window.pageYOffset;
                    }
                    : function () {
                      return document.documentElement.scrollTop;
                    };
              if (
                (Object.defineProperty(a.DOM, 'scrollX', { get: e }),
                Object.defineProperty(a.DOM, 'scrollY', { get: i }),
                Object.defineProperty(a.DOM.visualBounds, 'x', { get: e }),
                Object.defineProperty(a.DOM.visualBounds, 'y', { get: i }),
                Object.defineProperty(a.DOM.layoutBounds, 'x', { value: 0 }),
                Object.defineProperty(a.DOM.layoutBounds, 'y', { value: 0 }),
                t.desktop &&
                  document.documentElement.clientWidth <= window.innerWidth &&
                  document.documentElement.clientHeight <= window.innerHeight)
              ) {
                let n = function () {
                    return Math.max(
                      window.innerWidth,
                      document.documentElement.clientWidth,
                    );
                  },
                  r = function () {
                    return Math.max(
                      window.innerHeight,
                      document.documentElement.clientHeight,
                    );
                  };
                Object.defineProperty(a.DOM.visualBounds, 'width', { get: n }),
                Object.defineProperty(a.DOM.visualBounds, 'height', {
                  get: r,
                }),
                Object.defineProperty(a.DOM.layoutBounds, 'width', {
                  get: n,
                }),
                Object.defineProperty(a.DOM.layoutBounds, 'height', {
                  get: r,
                });
              } else {
                Object.defineProperty(a.DOM.visualBounds, 'width', {
                  get() {
                    return window.innerWidth;
                  },
                }),
                Object.defineProperty(a.DOM.visualBounds, 'height', {
                  get() {
                    return window.innerHeight;
                  },
                }),
                Object.defineProperty(a.DOM.layoutBounds, 'width', {
                  get() {
                    let t = document.documentElement.clientWidth,
                      e = window.innerWidth;
                    return t < e ? e : t;
                  },
                }),
                Object.defineProperty(a.DOM.layoutBounds, 'height', {
                  get() {
                    let t = document.documentElement.clientHeight,
                      e = window.innerHeight;
                    return t < e ? e : t;
                  },
                });
              }
              Object.defineProperty(a.DOM.documentBounds, 'x', { value: 0 }),
              Object.defineProperty(a.DOM.documentBounds, 'y', { value: 0 }),
              Object.defineProperty(a.DOM.documentBounds, 'width', {
                get() {
                  const t = document.documentElement;
                  return Math.max(
                    t.clientWidth,
                    t.offsetWidth,
                    t.scrollWidth,
                  );
                },
              }),
              Object.defineProperty(a.DOM.documentBounds, 'height', {
                get() {
                  const t = document.documentElement;
                  return Math.max(
                    t.clientHeight,
                    t.offsetHeight,
                    t.scrollHeight,
                  );
                },
              });
            },
            null,
            !0,
          ),
          (a.ArraySet = function (t) {
            (this.position = 0), (this.list = t || []);
          }),
          (a.ArraySet.prototype = {
            add(t) {
              return this.exists(t) || this.list.push(t), t;
            },
            getIndex(t) {
              return this.list.indexOf(t);
            },
            getByKey(t, e) {
              for (let i = this.list.length; i--;) { if (this.list[i][t] === e) return this.list[i]; }
              return null;
            },
            exists(t) {
              return this.list.indexOf(t) > -1;
            },
            reset() {
              this.list.length = 0;
            },
            remove(t) {
              const e = this.list.indexOf(t);
              if (e > -1) return this.list.splice(e, 1), t;
            },
            setAll(t, e) {
              for (let i = this.list.length; i--;) { this.list[i] && (this.list[i][t] = e); }
            },
            callAll(t) {
              for (
                let e = Array.prototype.slice.call(arguments, 1),
                  i = this.list.length;
                i--;

              ) {
                this.list[i] &&
                  this.list[i][t] &&
                  this.list[i][t].apply(this.list[i], e);
              }
            },
            removeAll(t) {
              void 0 === t && (t = !1);
              for (let e = this.list.length; e--;) {
                if (this.list[e]) {
                  const i = this.remove(this.list[e]);
                  t && i.destroy();
                }
              }
              (this.position = 0), (this.list = []);
            },
          }),
          Object.defineProperty(a.ArraySet.prototype, 'total', {
            get() {
              return this.list.length;
            },
          }),
          Object.defineProperty(a.ArraySet.prototype, 'first', {
            get() {
              return (
                (this.position = 0), this.list.length > 0 ? this.list[0] : null
              );
            },
          }),
          Object.defineProperty(a.ArraySet.prototype, 'next', {
            get() {
              return this.position < this.list.length
                ? (this.position++, this.list[this.position])
                : null;
            },
          }),
          (a.ArraySet.prototype.constructor = a.ArraySet),
          (a.ArrayUtils = {
            getRandomItem(t, e, i) {
              if (t === null) return null;
              void 0 === e && (e = 0), void 0 === i && (i = t.length);
              const n = e + Math.floor(Math.random() * i);
              return void 0 === t[n] ? null : t[n];
            },
            removeRandomItem(t, e, i) {
              if (t == null) return null;
              void 0 === e && (e = 0), void 0 === i && (i = t.length);
              const n = e + Math.floor(Math.random() * i);
              if (n < t.length) {
                const r = t.splice(n, 1);
                return void 0 === r[0] ? null : r[0];
              }
              return null;
            },
            shuffle(t) {
              for (let e = t.length - 1; e > 0; e--) {
                let i = Math.floor(Math.random() * (e + 1)),
                  n = t[e];
                (t[e] = t[i]), (t[i] = n);
              }
              return t;
            },
            transposeMatrix(t) {
              for (
                var e = t.length, i = t[0].length, n = new Array(i), r = 0;
                r < i;
                r++
              ) {
                n[r] = new Array(e);
                for (let a = e - 1; a > -1; a--) n[r][a] = t[a][r];
              }
              return n;
            },
            rotateMatrix(t, e) {
              if (
                (typeof e !== 'string' && (e = ((e % 360) + 360) % 360),
                e === 90 || e === -270 || e === 'rotateLeft')
              ) { (t = a.ArrayUtils.transposeMatrix(t)), (t = t.reverse()); } else if (e === -90 || e === 270 || e === 'rotateRight') { (t = t.reverse()), (t = a.ArrayUtils.transposeMatrix(t)); } else if (Math.abs(e) === 180 || e === 'rotate180') {
                for (let i = 0; i < t.length; i++) t[i].reverse();
                t = t.reverse();
              }
              return t;
            },
            findClosest(t, e) {
              if (!e.length) return NaN;
              if (e.length === 1 || t < e[0]) return e[0];
              for (var i = 1; e[i] < t;) i++;
              let n = e[i - 1],
                r = i < e.length ? e[i] : Number.POSITIVE_INFINITY;
              return r - t <= t - n ? r : n;
            },
            rotate(t) {
              const e = t.shift();
              return t.push(e), e;
            },
            numberArray(t, e) {
              for (var i = [], n = t; n <= e; n++) i.push(n);
              return i;
            },
            numberArrayStep(t, e, i) {
              (void 0 !== t && t !== null) || (t = 0),
              (void 0 !== e && e !== null) || ((e = t), (t = 0)),
              void 0 === i && (i = 1);
              for (
                var n = [],
                  r = Math.max(a.Math.roundAwayFromZero((e - t) / (i || 1)), 0),
                  o = 0;
                o < r;
                o++
              ) { n.push(t), (t += i); }
              return n;
            },
          }),
          (a.LinkedList = function () {
            (this.next = null),
            (this.prev = null),
            (this.first = null),
            (this.last = null),
            (this.total = 0);
          }),
          (a.LinkedList.prototype = {
            add(t) {
              return this.total === 0 &&
                this.first === null &&
                this.last === null
                ? ((this.first = t),
                (this.last = t),
                (this.next = t),
                (t.prev = this),
                this.total++,
                t)
                : ((this.last.next = t),
                (t.prev = this.last),
                (this.last = t),
                this.total++,
                t);
            },
            reset() {
              (this.first = null),
              (this.last = null),
              (this.next = null),
              (this.prev = null),
              (this.total = 0);
            },
            remove(t) {
              if (this.total === 1) { return this.reset(), void (t.next = t.prev = null); }
              t === this.first
                ? (this.first = this.first.next)
                : t === this.last && (this.last = this.last.prev),
              t.prev && (t.prev.next = t.next),
              t.next && (t.next.prev = t.prev),
              (t.next = t.prev = null),
              this.first === null && (this.last = null),
              this.total--;
            },
            callAll(t) {
              if (this.first && this.last) {
                let e = this.first;
                do {
                  e && e[t] && e[t].call(e), (e = e.next);
                } while (e != this.last.next);
              }
            },
          }),
          (a.LinkedList.prototype.constructor = a.LinkedList),
          (a.Create = function (t) {
            (this.game = t),
            (this.bmd = null),
            (this.canvas = null),
            (this.ctx = null),
            (this.palettes = [
              {
                0: '#000',
                1: '#9D9D9D',
                2: '#FFF',
                3: '#BE2633',
                4: '#E06F8B',
                5: '#493C2B',
                6: '#A46422',
                7: '#EB8931',
                8: '#F7E26B',
                9: '#2F484E',
                A: '#44891A',
                B: '#A3CE27',
                C: '#1B2632',
                D: '#005784',
                E: '#31A2F2',
                F: '#B2DCEF',
              },
              {
                0: '#000',
                1: '#191028',
                2: '#46af45',
                3: '#a1d685',
                4: '#453e78',
                5: '#7664fe',
                6: '#833129',
                7: '#9ec2e8',
                8: '#dc534b',
                9: '#e18d79',
                A: '#d6b97b',
                B: '#e9d8a1',
                C: '#216c4b',
                D: '#d365c8',
                E: '#afaab9',
                F: '#f5f4eb',
              },
              {
                0: '#000',
                1: '#2234d1',
                2: '#0c7e45',
                3: '#44aacc',
                4: '#8a3622',
                5: '#5c2e78',
                6: '#aa5c3d',
                7: '#b5b5b5',
                8: '#5e606e',
                9: '#4c81fb',
                A: '#6cd947',
                B: '#7be2f9',
                C: '#eb8a60',
                D: '#e23d69',
                E: '#ffd93f',
                F: '#fff',
              },
              {
                0: '#000',
                1: '#fff',
                2: '#8b4131',
                3: '#7bbdc5',
                4: '#8b41ac',
                5: '#6aac41',
                6: '#3931a4',
                7: '#d5de73',
                8: '#945a20',
                9: '#5a4100',
                A: '#bd736a',
                B: '#525252',
                C: '#838383',
                D: '#acee8b',
                E: '#7b73de',
                F: '#acacac',
              },
              {
                0: '#000',
                1: '#191028',
                2: '#46af45',
                3: '#a1d685',
                4: '#453e78',
                5: '#7664fe',
                6: '#833129',
                7: '#9ec2e8',
                8: '#dc534b',
                9: '#e18d79',
                A: '#d6b97b',
                B: '#e9d8a1',
                C: '#216c4b',
                D: '#d365c8',
                E: '#afaab9',
                F: '#fff',
              },
            ]);
          }),
          (a.Create.PALETTE_ARNE = 0),
          (a.Create.PALETTE_JMP = 1),
          (a.Create.PALETTE_CGA = 2),
          (a.Create.PALETTE_C64 = 3),
          (a.Create.PALETTE_JAPANESE_MACHINE = 4),
          (a.Create.prototype = {
            texture(t, e, i, n, r) {
              void 0 === i && (i = 8),
              void 0 === n && (n = i),
              void 0 === r && (r = 0);
              let a = e[0].length * i,
                o = e.length * n;
              this.bmd === null &&
                ((this.bmd = this.game.make.bitmapData()),
                (this.canvas = this.bmd.canvas),
                (this.ctx = this.bmd.context)),
              this.bmd.resize(a, o),
              this.bmd.clear();
              for (let s = 0; s < e.length; s++) {
                for (let u = e[s], l = 0; l < u.length; l++) {
                  const c = u[l];
                  c !== '.' &&
                    c !== ' ' &&
                    ((this.ctx.fillStyle = this.palettes[r][c]),
                    this.ctx.fillRect(l * i, s * n, i, n));
                }
              }
              return this.bmd.generateTexture(t);
            },
            grid(t, e, i, n, r, a) {
              this.bmd === null &&
                ((this.bmd = this.game.make.bitmapData()),
                (this.canvas = this.bmd.canvas),
                (this.ctx = this.bmd.context)),
              this.bmd.resize(e, i),
              (this.ctx.fillStyle = a);
              for (let o = 0; o < i; o += r) this.ctx.fillRect(0, o, e, 1);
              for (let s = 0; s < e; s += n) this.ctx.fillRect(s, 0, 1, i);
              return this.bmd.generateTexture(t);
            },
          }),
          (a.Create.prototype.constructor = a.Create),
          (a.FlexGrid = function (t, e, i) {
            (this.game = t.game),
            (this.manager = t),
            (this.width = e),
            (this.height = i),
            (this.boundsCustom = new a.Rectangle(0, 0, e, i)),
            (this.boundsFluid = new a.Rectangle(0, 0, e, i)),
            (this.boundsFull = new a.Rectangle(0, 0, e, i)),
            (this.boundsNone = new a.Rectangle(0, 0, e, i)),
            (this.positionCustom = new a.Point(0, 0)),
            (this.positionFluid = new a.Point(0, 0)),
            (this.positionFull = new a.Point(0, 0)),
            (this.positionNone = new a.Point(0, 0)),
            (this.scaleCustom = new a.Point(1, 1)),
            (this.scaleFluid = new a.Point(1, 1)),
            (this.scaleFluidInversed = new a.Point(1, 1)),
            (this.scaleFull = new a.Point(1, 1)),
            (this.scaleNone = new a.Point(1, 1)),
            (this.customWidth = 0),
            (this.customHeight = 0),
            (this.customOffsetX = 0),
            (this.customOffsetY = 0),
            (this.ratioH = e / i),
            (this.ratioV = i / e),
            (this.multiplier = 0),
            (this.layers = []);
          }),
          (a.FlexGrid.prototype = {
            setSize(t, e) {
              (this.width = t),
              (this.height = e),
              (this.ratioH = t / e),
              (this.ratioV = e / t),
              (this.scaleNone = new a.Point(1, 1)),
              (this.boundsNone.width = this.width),
              (this.boundsNone.height = this.height),
              this.refresh();
            },
            createCustomLayer(t, e, i, n) {
              void 0 === n && (n = !0),
              (this.customWidth = t),
              (this.customHeight = e),
              (this.boundsCustom.width = t),
              (this.boundsCustom.height = e);
              const r = new a.FlexLayer(
                this,
                this.positionCustom,
                this.boundsCustom,
                this.scaleCustom,
              );
              return (
                n && this.game.world.add(r),
                this.layers.push(r),
                void 0 !== i && typeof i !== null && r.addMultiple(i),
                r
              );
            },
            createFluidLayer(t, e) {
              void 0 === e && (e = !0);
              const i = new a.FlexLayer(
                this,
                this.positionFluid,
                this.boundsFluid,
                this.scaleFluid,
              );
              return (
                e && this.game.world.add(i),
                this.layers.push(i),
                void 0 !== t && typeof t !== null && i.addMultiple(t),
                i
              );
            },
            createFullLayer(t) {
              const e = new a.FlexLayer(
                this,
                this.positionFull,
                this.boundsFull,
                this.scaleFluid,
              );
              return (
                this.game.world.add(e),
                this.layers.push(e),
                void 0 !== t && e.addMultiple(t),
                e
              );
            },
            createFixedLayer(t) {
              const e = new a.FlexLayer(
                this,
                this.positionNone,
                this.boundsNone,
                this.scaleNone,
              );
              return (
                this.game.world.add(e),
                this.layers.push(e),
                void 0 !== t && e.addMultiple(t),
                e
              );
            },
            reset() {
              for (let t = this.layers.length; t--;) {
                this.layers[t].persist ||
                  ((this.layers[t].position = null),
                  (this.layers[t].scale = null),
                  this.layers.slice(t, 1));
              }
            },
            onResize(t, e) {
              (this.ratioH = t / e), (this.ratioV = e / t), this.refresh(t, e);
            },
            refresh() {
              (this.multiplier = Math.min(
                this.manager.height / this.height,
                this.manager.width / this.width,
              )),
              (this.boundsFluid.width = Math.round(this.width * this.multiplier)),
              (this.boundsFluid.height = Math.round(this.height * this.multiplier)),
              this.scaleFluid.set(
                this.boundsFluid.width / this.width,
                this.boundsFluid.height / this.height,
              ),
              this.scaleFluidInversed.set(
                this.width / this.boundsFluid.width,
                this.height / this.boundsFluid.height,
              ),
              this.scaleFull.set(
                this.boundsFull.width / this.width,
                this.boundsFull.height / this.height,
              ),
              (this.boundsFull.width = Math.round(this.manager.width * this.scaleFluidInversed.x)),
              (this.boundsFull.height = Math.round(this.manager.height * this.scaleFluidInversed.y)),
              this.boundsFluid.centerOn(
                this.manager.bounds.centerX,
                this.manager.bounds.centerY,
              ),
              this.boundsNone.centerOn(
                this.manager.bounds.centerX,
                this.manager.bounds.centerY,
              ),
              this.positionFluid.set(this.boundsFluid.x, this.boundsFluid.y),
              this.positionNone.set(this.boundsNone.x, this.boundsNone.y);
            },
            fitSprite(t) {
              this.manager.scaleSprite(t),
              (t.x = this.manager.bounds.centerX),
              (t.y = this.manager.bounds.centerY);
            },
            debug() {
              this.game.debug.text(
                `${this.boundsFluid.width} x ${this.boundsFluid.height}`,
                this.boundsFluid.x + 4,
                this.boundsFluid.y + 16,
              ),
              this.game.debug.geom(this.boundsFluid, 'rgba(255,0,0,0.9', !1);
            },
          }),
          (a.FlexGrid.prototype.constructor = a.FlexGrid),
          (a.FlexLayer = function (t, e, i, n) {
            a.Group.call(
              this,
              t.game,
              null,
              `__flexLayer${t.game.rnd.uuid()}`,
              !1,
            ),
            (this.manager = t.manager),
            (this.grid = t),
            (this.persist = !1),
            (this.position = e),
            (this.bounds = i),
            (this.scale = n),
            (this.topLeft = i.topLeft),
            (this.topMiddle = new a.Point(i.halfWidth, 0)),
            (this.topRight = i.topRight),
            (this.bottomLeft = i.bottomLeft),
            (this.bottomMiddle = new a.Point(i.halfWidth, i.bottom)),
            (this.bottomRight = i.bottomRight);
          }),
          (a.FlexLayer.prototype = Object.create(a.Group.prototype)),
          (a.FlexLayer.prototype.constructor = a.FlexLayer),
          (a.FlexLayer.prototype.resize = function () {}),
          (a.FlexLayer.prototype.debug = function () {
            this.game.debug.text(
              `${this.bounds.width} x ${this.bounds.height}`,
              this.bounds.x + 4,
              this.bounds.y + 16,
            ),
            this.game.debug.geom(this.bounds, 'rgba(0,0,255,0.9', !1),
            this.game.debug.geom(this.topLeft, 'rgba(255,255,255,0.9'),
            this.game.debug.geom(this.topMiddle, 'rgba(255,255,255,0.9'),
            this.game.debug.geom(this.topRight, 'rgba(255,255,255,0.9');
          }),
          (a.Color = {
            packPixel(t, e, i, n) {
              return a.Device.LITTLE_ENDIAN
                ? ((n << 24) | (i << 16) | (e << 8) | t) >>> 0
                : ((t << 24) | (e << 16) | (i << 8) | n) >>> 0;
            },
            unpackPixel(t, e, i, n) {
              return (
                (void 0 !== e && e !== null) || (e = a.Color.createColor()),
                (void 0 !== i && i !== null) || (i = !1),
                (void 0 !== n && n !== null) || (n = !1),
                a.Device.LITTLE_ENDIAN
                  ? ((e.a = (4278190080 & t) >>> 24),
                  (e.b = (16711680 & t) >>> 16),
                  (e.g = (65280 & t) >>> 8),
                  (e.r = 255 & t))
                  : ((e.r = (4278190080 & t) >>> 24),
                  (e.g = (16711680 & t) >>> 16),
                  (e.b = (65280 & t) >>> 8),
                  (e.a = 255 & t)),
                (e.color = t),
                (e.rgba =
                  `rgba(${
                    e.r
                  },${
                    e.g
                  },${
                    e.b
                  },${
                    e.a / 255
                  })`),
                i && a.Color.RGBtoHSL(e.r, e.g, e.b, e),
                n && a.Color.RGBtoHSV(e.r, e.g, e.b, e),
                e
              );
            },
            fromRGBA(t, e) {
              return (
                e || (e = a.Color.createColor()),
                (e.r = (4278190080 & t) >>> 24),
                (e.g = (16711680 & t) >>> 16),
                (e.b = (65280 & t) >>> 8),
                (e.a = 255 & t),
                (e.rgba =
                  `rgba(${e.r},${e.g},${e.b},${e.a})`),
                e
              );
            },
            toRGBA(t, e, i, n) {
              return (t << 24) | (e << 16) | (i << 8) | n;
            },
            RGBtoHSL(t, e, i, n) {
              n || (n = a.Color.createColor(t, e, i, 1)),
              (t /= 255),
              (e /= 255),
              (i /= 255);
              let r = Math.min(t, e, i),
                o = Math.max(t, e, i);
              if (((n.h = 0), (n.s = 0), (n.l = (o + r) / 2), o !== r)) {
                const s = o - r;
                (n.s = n.l > 0.5 ? s / (2 - o - r) : s / (o + r)),
                o === t
                  ? (n.h = (e - i) / s + (e < i ? 6 : 0))
                  : o === e
                    ? (n.h = (i - t) / s + 2)
                    : o === i && (n.h = (t - e) / s + 4),
                (n.h /= 6);
              }
              return n;
            },
            HSLtoRGB(t, e, i, n) {
              if (
                (n
                  ? ((n.r = i), (n.g = i), (n.b = i))
                  : (n = a.Color.createColor(i, i, i)),
                e !== 0)
              ) {
                let r = i < 0.5 ? i * (1 + e) : i + e - i * e,
                  o = 2 * i - r;
                (n.r = a.Color.hueToColor(o, r, t + 1 / 3)),
                (n.g = a.Color.hueToColor(o, r, t)),
                (n.b = a.Color.hueToColor(o, r, t - 1 / 3));
              }
              return (
                (n.r = Math.floor((255 * n.r) | 0)),
                (n.g = Math.floor((255 * n.g) | 0)),
                (n.b = Math.floor((255 * n.b) | 0)),
                a.Color.updateColor(n),
                n
              );
            },
            RGBtoHSV(t, e, i, n) {
              n || (n = a.Color.createColor(t, e, i, 255)),
              (t /= 255),
              (e /= 255),
              (i /= 255);
              let r = Math.min(t, e, i),
                o = Math.max(t, e, i),
                s = o - r;
              return (
                (n.h = 0),
                (n.s = o === 0 ? 0 : s / o),
                (n.v = o),
                o !== r &&
                  (o === t
                    ? (n.h = (e - i) / s + (e < i ? 6 : 0))
                    : o === e
                      ? (n.h = (i - t) / s + 2)
                      : o === i && (n.h = (t - e) / s + 4),
                  (n.h /= 6)),
                n
              );
            },
            HSVtoRGB(t, e, i, n) {
              void 0 === n && (n = a.Color.createColor(0, 0, 0, 1, t, e, 0, i));
              let r,
                o,
                s,
                u = Math.floor(6 * t),
                l = 6 * t - u,
                c = i * (1 - e),
                h = i * (1 - l * e),
                d = i * (1 - (1 - l) * e);
              switch (u % 6) {
                case 0:
                  (r = i), (o = d), (s = c);
                  break;
                case 1:
                  (r = h), (o = i), (s = c);
                  break;
                case 2:
                  (r = c), (o = i), (s = d);
                  break;
                case 3:
                  (r = c), (o = h), (s = i);
                  break;
                case 4:
                  (r = d), (o = c), (s = i);
                  break;
                case 5:
                  (r = i), (o = c), (s = h);
              }
              return (
                (n.r = Math.floor(255 * r)),
                (n.g = Math.floor(255 * o)),
                (n.b = Math.floor(255 * s)),
                a.Color.updateColor(n),
                n
              );
            },
            hueToColor(t, e, i) {
              return (
                i < 0 && (i += 1),
                i > 1 && (i -= 1),
                i < 1 / 6
                  ? t + 6 * (e - t) * i
                  : i < 0.5
                    ? e
                    : i < 2 / 3
                      ? t + (e - t) * (2 / 3 - i) * 6
                      : t
              );
            },
            createColor(t, e, i, n, r, o, s, u) {
              const l = {
                r: t || 0,
                g: e || 0,
                b: i || 0,
                a: n || 1,
                h: r || 0,
                s: o || 0,
                l: s || 0,
                v: u || 0,
                color: 0,
                color32: 0,
                rgba: '',
              };
              return a.Color.updateColor(l);
            },
            updateColor(t) {
              return (
                (t.rgba =
                  `rgba(${
                    t.r.toString()
                  },${
                    t.g.toString()
                  },${
                    t.b.toString()
                  },${
                    t.a.toString()
                  })`),
                (t.color = a.Color.getColor(t.r, t.g, t.b)),
                (t.color32 = a.Color.getColor32(255 * t.a, t.r, t.g, t.b)),
                t
              );
            },
            getColor32(t, e, i, n) {
              return (t << 24) | (e << 16) | (i << 8) | n;
            },
            getColor(t, e, i) {
              return (t << 16) | (e << 8) | i;
            },
            RGBtoString(t, e, i, n, r) {
              return (
                void 0 === n && (n = 255),
                void 0 === r && (r = '#'),
                r === '#'
                  ? `#${
                    ((1 << 24) + (t << 16) + (e << 8) + i).toString(16).slice(1)}`
                  : `0x${
                    a.Color.componentToHex(n)
                  }${a.Color.componentToHex(t)
                  }${a.Color.componentToHex(e)
                  }${a.Color.componentToHex(i)}`
              );
            },
            hexToRGB(t) {
              const e = a.Color.hexToColor(t);
              if (e) return a.Color.getColor32(e.a, e.r, e.g, e.b);
            },
            hexToColor(t, e) {
              t = t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i, (
                t,
                e,
                i,
                n,
              ) => e + e + i + i + n + n);
              const i = /^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);
              if (i) {
                let n = parseInt(i[1], 16),
                  r = parseInt(i[2], 16),
                  o = parseInt(i[3], 16);
                e
                  ? ((e.r = n), (e.g = r), (e.b = o))
                  : (e = a.Color.createColor(n, r, o));
              }
              return e;
            },
            webToColor(t, e) {
              e || (e = a.Color.createColor());
              const i = /^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t);
              return (
                i &&
                  ((e.r = parseInt(i[1], 10)),
                  (e.g = parseInt(i[2], 10)),
                  (e.b = parseInt(i[3], 10)),
                  (e.a = void 0 !== i[4] ? parseFloat(i[4]) : 1),
                  a.Color.updateColor(e)),
                e
              );
            },
            valueToColor(t, e) {
              if ((e || (e = a.Color.createColor()), typeof t === 'string')) {
                return t.indexOf('rgb') === 0
                  ? a.Color.webToColor(t, e)
                  : ((e.a = 1), a.Color.hexToColor(t, e));
              }
              if (typeof t === 'number') {
                const i = a.Color.getRGB(t);
                return (
                  (e.r = i.r), (e.g = i.g), (e.b = i.b), (e.a = i.a / 255), e
                );
              }
              return e;
            },
            componentToHex(t) {
              const e = t.toString(16);
              return e.length == 1 ? `0${e}` : e;
            },
            HSVColorWheel(t, e) {
              void 0 === t && (t = 1), void 0 === e && (e = 1);
              for (var i = [], n = 0; n <= 359; n++) { i.push(a.Color.HSVtoRGB(n / 359, t, e)); }
              return i;
            },
            HSLColorWheel(t, e) {
              void 0 === t && (t = 0.5), void 0 === e && (e = 0.5);
              for (var i = [], n = 0; n <= 359; n++) { i.push(a.Color.HSLtoRGB(n / 359, t, e)); }
              return i;
            },
            interpolateColor(t, e, i, n, r) {
              void 0 === r && (r = 255);
              let o = a.Color.getRGB(t),
                s = a.Color.getRGB(e),
                u = ((s.red - o.red) * n) / i + o.red,
                l = ((s.green - o.green) * n) / i + o.green,
                c = ((s.blue - o.blue) * n) / i + o.blue;
              return a.Color.getColor32(r, u, l, c);
            },
            interpolateColorWithRGB(t, e, i, n, r, o) {
              let s = a.Color.getRGB(t),
                u = ((e - s.red) * o) / r + s.red,
                l = ((i - s.green) * o) / r + s.green,
                c = ((n - s.blue) * o) / r + s.blue;
              return a.Color.getColor(u, l, c);
            },
            interpolateRGB(t, e, i, n, r, o, s, u) {
              let l = ((n - t) * u) / s + t,
                c = ((r - e) * u) / s + e,
                h = ((o - i) * u) / s + i;
              return a.Color.getColor(l, c, h);
            },
            getRandomColor(t, e, i) {
              if (
                (void 0 === t && (t = 0),
                void 0 === e && (e = 255),
                void 0 === i && (i = 255),
                e > 255 || t > e)
              ) { return a.Color.getColor(255, 255, 255); }
              let n = t + Math.round(Math.random() * (e - t)),
                r = t + Math.round(Math.random() * (e - t)),
                o = t + Math.round(Math.random() * (e - t));
              return a.Color.getColor32(i, n, r, o);
            },
            getRGB(t) {
              return t > 16777215
                ? {
                  alpha: t >>> 24,
                  red: (t >> 16) & 255,
                  green: (t >> 8) & 255,
                  blue: 255 & t,
                  a: t >>> 24,
                  r: (t >> 16) & 255,
                  g: (t >> 8) & 255,
                  b: 255 & t,
                }
                : {
                  alpha: 255,
                  red: (t >> 16) & 255,
                  green: (t >> 8) & 255,
                  blue: 255 & t,
                  a: 255,
                  r: (t >> 16) & 255,
                  g: (t >> 8) & 255,
                  b: 255 & t,
                };
            },
            getWebRGB(t) {
              if ((void 0 === t ? 'undefined' : n(t)) === 'object') {
                return (
                  `rgba(${
                    t.r.toString()
                  },${
                    t.g.toString()
                  },${
                    t.b.toString()
                  },${
                    (t.a / 255).toString()
                  })`
                );
              }
              const e = a.Color.getRGB(t);
              return (
                `rgba(${
                  e.r.toString()
                },${
                  e.g.toString()
                },${
                  e.b.toString()
                },${
                  (e.a / 255).toString()
                })`
              );
            },
            getAlpha(t) {
              return t >>> 24;
            },
            getAlphaFloat(t) {
              return (t >>> 24) / 255;
            },
            getRed(t) {
              return (t >> 16) & 255;
            },
            getGreen(t) {
              return (t >> 8) & 255;
            },
            getBlue(t) {
              return 255 & t;
            },
            blendNormal(t) {
              return t;
            },
            blendLighten(t, e) {
              return e > t ? e : t;
            },
            blendDarken(t, e) {
              return e > t ? t : e;
            },
            blendMultiply(t, e) {
              return (t * e) / 255;
            },
            blendAverage(t, e) {
              return (t + e) / 2;
            },
            blendAdd(t, e) {
              return Math.min(255, t + e);
            },
            blendSubtract(t, e) {
              return Math.max(0, t + e - 255);
            },
            blendDifference(t, e) {
              return Math.abs(t - e);
            },
            blendNegation(t, e) {
              return 255 - Math.abs(255 - t - e);
            },
            blendScreen(t, e) {
              return 255 - (((255 - t) * (255 - e)) >> 8);
            },
            blendExclusion(t, e) {
              return t + e - (2 * t * e) / 255;
            },
            blendOverlay(t, e) {
              return e < 128
                ? (2 * t * e) / 255
                : 255 - (2 * (255 - t) * (255 - e)) / 255;
            },
            blendSoftLight(t, e) {
              return e < 128
                ? 2 * (64 + (t >> 1)) * (e / 255)
                : 255 - (2 * (255 - (64 + (t >> 1))) * (255 - e)) / 255;
            },
            blendHardLight(t, e) {
              return a.Color.blendOverlay(e, t);
            },
            blendColorDodge(t, e) {
              return e === 255 ? e : Math.min(255, (t << 8) / (255 - e));
            },
            blendColorBurn(t, e) {
              return e === 0 ? e : Math.max(0, 255 - ((255 - t) << 8) / e);
            },
            blendLinearDodge(t, e) {
              return a.Color.blendAdd(t, e);
            },
            blendLinearBurn(t, e) {
              return a.Color.blendSubtract(t, e);
            },
            blendLinearLight(t, e) {
              return e < 128
                ? a.Color.blendLinearBurn(t, 2 * e)
                : a.Color.blendLinearDodge(t, 2 * (e - 128));
            },
            blendVividLight(t, e) {
              return e < 128
                ? a.Color.blendColorBurn(t, 2 * e)
                : a.Color.blendColorDodge(t, 2 * (e - 128));
            },
            blendPinLight(t, e) {
              return e < 128
                ? a.Color.blendDarken(t, 2 * e)
                : a.Color.blendLighten(t, 2 * (e - 128));
            },
            blendHardMix(t, e) {
              return a.Color.blendVividLight(t, e) < 128 ? 0 : 255;
            },
            blendReflect(t, e) {
              return e === 255 ? e : Math.min(255, (t * t) / (255 - e));
            },
            blendGlow(t, e) {
              return a.Color.blendReflect(e, t);
            },
            blendPhoenix(t, e) {
              return Math.min(t, e) - Math.max(t, e) + 255;
            },
          }),
          (a.Physics = function (t, e) {
            (e = e || {}),
            (this.game = t),
            (this.config = e),
            (this.arcade = null),
            (this.p2 = null),
            (this.ninja = null),
            (this.box2d = null),
            (this.chipmunk = null),
            (this.matter = null),
            this.parseConfig();
          }),
          (a.Physics.ARCADE = 0),
          (a.Physics.P2JS = 1),
          (a.Physics.NINJA = 2),
          (a.Physics.BOX2D = 3),
          (a.Physics.CHIPMUNK = 4),
          (a.Physics.MATTERJS = 5),
          (a.Physics.prototype = {
            parseConfig() {
              (this.config.hasOwnProperty('arcade') &&
                !0 !== this.config.arcade) ||
                !a.Physics.hasOwnProperty('Arcade') ||
                (this.arcade = new a.Physics.Arcade(this.game)),
              this.config.hasOwnProperty('ninja') &&
                  !0 === this.config.ninja &&
                  a.Physics.hasOwnProperty('Ninja') &&
                  (this.ninja = new a.Physics.Ninja(this.game)),
              this.config.hasOwnProperty('p2') &&
                  !0 === this.config.p2 &&
                  a.Physics.hasOwnProperty('P2') &&
                  (this.p2 = new a.Physics.P2(this.game, this.config)),
              this.config.hasOwnProperty('box2d') &&
                  !0 === this.config.box2d &&
                  a.Physics.hasOwnProperty('BOX2D') &&
                  (this.box2d = new a.Physics.BOX2D(this.game, this.config)),
              this.config.hasOwnProperty('matter') &&
                  !0 === this.config.matter &&
                  a.Physics.hasOwnProperty('Matter') &&
                  (this.matter = new a.Physics.Matter(this.game, this.config));
            },
            startSystem(t) {
              t === a.Physics.ARCADE
                ? (this.arcade = new a.Physics.Arcade(this.game))
                : t === a.Physics.P2JS
                  ? this.p2 === null
                    ? (this.p2 = new a.Physics.P2(this.game, this.config))
                    : this.p2.reset()
                  : t === a.Physics.NINJA
                    ? (this.ninja = new a.Physics.Ninja(this.game))
                    : t === a.Physics.BOX2D
                      ? this.box2d === null
                        ? (this.box2d = new a.Physics.Box2D(this.game, this.config))
                        : this.box2d.reset()
                      : t === a.Physics.MATTERJS &&
                  (this.matter === null
                    ? (this.matter = new a.Physics.Matter(
                      this.game,
                      this.config,
                    ))
                    : this.matter.reset());
            },
            enable(t, e, i) {
              void 0 === e && (e = a.Physics.ARCADE),
              void 0 === i && (i = !1),
              e === a.Physics.ARCADE
                ? this.arcade.enable(t)
                : e === a.Physics.P2JS && this.p2
                  ? this.p2.enable(t, i)
                  : e === a.Physics.NINJA && this.ninja
                    ? this.ninja.enableAABB(t)
                    : e === a.Physics.BOX2D && this.box2d
                      ? this.box2d.enable(t)
                      : e === a.Physics.MATTERJS && this.matter
                        ? this.matter.enable(t)
                        : console.warn(`${t.key
                        } is attempting to enable a physics body using an unknown physics system.`);
            },
            preUpdate() {
              this.p2 && this.p2.preUpdate(),
              this.box2d && this.box2d.preUpdate(),
              this.matter && this.matter.preUpdate();
            },
            update() {
              this.p2 && this.p2.update(),
              this.box2d && this.box2d.update(),
              this.matter && this.matter.update();
            },
            setBoundsToWorld() {
              this.arcade && this.arcade.setBoundsToWorld(),
              this.ninja && this.ninja.setBoundsToWorld(),
              this.p2 && this.p2.setBoundsToWorld(),
              this.box2d && this.box2d.setBoundsToWorld(),
              this.matter && this.matter.setBoundsToWorld();
            },
            clear() {
              this.p2 && this.p2.clear(),
              this.box2d && this.box2d.clear(),
              this.matter && this.matter.clear();
            },
            reset() {
              this.p2 && this.p2.reset(),
              this.box2d && this.box2d.reset(),
              this.matter && this.matter.reset();
            },
            destroy() {
              this.p2 && this.p2.destroy(),
              this.box2d && this.box2d.destroy(),
              this.matter && this.matter.destroy(),
              (this.arcade = null),
              (this.ninja = null),
              (this.p2 = null),
              (this.box2d = null),
              (this.matter = null);
            },
          }),
          (a.Physics.prototype.constructor = a.Physics),
          (a.Physics.Arcade = function (t) {
            (this.game = t),
            (this.gravity = new a.Point()),
            (this.bounds = new a.Rectangle(
              0,
              0,
              t.world.width,
              t.world.height,
            )),
            (this.checkCollision = {
              up: !0, down: !0, left: !0, right: !0,
            }),
            (this.maxObjects = 10),
            (this.maxLevels = 4),
            (this.OVERLAP_BIAS = 4),
            (this.forceX = !1),
            (this.sortDirection = a.Physics.Arcade.LEFT_RIGHT),
            (this.skipQuadTree = !0),
            (this.isPaused = !1),
            (this.quadTree = new a.QuadTree(
              this.game.world.bounds.x,
              this.game.world.bounds.y,
              this.game.world.bounds.width,
              this.game.world.bounds.height,
              this.maxObjects,
              this.maxLevels,
            )),
            (this._total = 0),
            this.setBoundsToWorld();
          }),
          (a.Physics.Arcade.prototype.constructor = a.Physics.Arcade),
          (a.Physics.Arcade.SORT_NONE = 0),
          (a.Physics.Arcade.LEFT_RIGHT = 1),
          (a.Physics.Arcade.RIGHT_LEFT = 2),
          (a.Physics.Arcade.TOP_BOTTOM = 3),
          (a.Physics.Arcade.BOTTOM_TOP = 4),
          (a.Physics.Arcade.prototype = {
            setBounds(t, e, i, n) {
              this.bounds.setTo(t, e, i, n);
            },
            setBoundsToWorld() {
              this.bounds.copyFrom(this.game.world.bounds);
            },
            enable(t, e) {
              void 0 === e && (e = !0);
              let i = 1;
              if (Array.isArray(t)) {
                for (i = t.length; i--;) {
                  t[i] instanceof a.Group
                    ? this.enable(t[i].children, e)
                    : (this.enableBody(t[i]),
                    e &&
                        t[i].hasOwnProperty('children') &&
                        t[i].children.length > 0 &&
                        this.enable(t[i], !0));
                }
              } else {
                t instanceof a.Group
                  ? this.enable(t.children, e)
                  : (this.enableBody(t),
                  e &&
                      t.hasOwnProperty('children') &&
                      t.children.length > 0 &&
                      this.enable(t.children, !0));
              }
            },
            enableBody(t) {
              t.hasOwnProperty('body') &&
                t.body === null &&
                ((t.body = new a.Physics.Arcade.Body(t)),
                t.parent &&
                  t.parent instanceof a.Group &&
                  t.parent.addToHash(t));
            },
            updateMotion(t) {
              const e =
                this.computeVelocity(
                  0,
                  t,
                  t.angularVelocity,
                  t.angularAcceleration,
                  t.angularDrag,
                  t.maxAngular,
                ) - t.angularVelocity;
              (t.angularVelocity += e),
              (t.rotation +=
                  t.angularVelocity * this.game.time.physicsElapsed),
              (t.velocity.x = this.computeVelocity(
                1,
                t,
                t.velocity.x,
                t.acceleration.x,
                t.drag.x,
                t.maxVelocity.x,
              )),
              (t.velocity.y = this.computeVelocity(
                2,
                t,
                t.velocity.y,
                t.acceleration.y,
                t.drag.y,
                t.maxVelocity.y,
              ));
            },
            computeVelocity(t, e, i, n, r, a) {
              return (
                void 0 === a && (a = 1e4),
                t === 1 && e.allowGravity
                  ? (i +=
                      (this.gravity.x + e.gravity.x) *
                      this.game.time.physicsElapsed)
                  : t === 2 &&
                    e.allowGravity &&
                    (i +=
                      (this.gravity.y + e.gravity.y) *
                      this.game.time.physicsElapsed),
                n
                  ? (i += n * this.game.time.physicsElapsed)
                  : r &&
                    ((r *= this.game.time.physicsElapsed),
                    i - r > 0 ? (i -= r) : i + r < 0 ? (i += r) : (i = 0)),
                i > a ? (i = a) : i < -a && (i = -a),
                i
              );
            },
            overlap(t, e, i, n, r) {
              if (
                ((i = i || null),
                (n = n || null),
                (r = r || i),
                (this._total = 0),
                !Array.isArray(t) && Array.isArray(e))
              ) {
                for (var a = 0; a < e.length; a++) { this.collideHandler(t, e[a], i, n, r, !0); }
              } else if (Array.isArray(t) && !Array.isArray(e)) {
                for (var a = 0; a < t.length; a++) { this.collideHandler(t[a], e, i, n, r, !0); }
              } else if (Array.isArray(t) && Array.isArray(e)) {
                for (var a = 0; a < t.length; a++) {
                  for (let o = 0; o < e.length; o++) { this.collideHandler(t[a], e[o], i, n, r, !0); }
                }
              } else this.collideHandler(t, e, i, n, r, !0);
              return this._total > 0;
            },
            collide(t, e, i, n, r) {
              if (
                ((i = i || null),
                (n = n || null),
                (r = r || i),
                (this._total = 0),
                !Array.isArray(t) && Array.isArray(e))
              ) {
                for (var a = 0; a < e.length; a++) { this.collideHandler(t, e[a], i, n, r, !1); }
              } else if (Array.isArray(t) && !Array.isArray(e)) {
                for (var a = 0; a < t.length; a++) { this.collideHandler(t[a], e, i, n, r, !1); }
              } else if (Array.isArray(t) && Array.isArray(e)) {
                for (var a = 0; a < t.length; a++) {
                  for (let o = 0; o < e.length; o++) { this.collideHandler(t[a], e[o], i, n, r, !1); }
                }
              } else this.collideHandler(t, e, i, n, r, !1);
              return this._total > 0;
            },
            sortLeftRight(t, e) {
              return t.body && e.body ? t.body.x - e.body.x : 0;
            },
            sortRightLeft(t, e) {
              return t.body && e.body ? e.body.x - t.body.x : 0;
            },
            sortTopBottom(t, e) {
              return t.body && e.body ? t.body.y - e.body.y : 0;
            },
            sortBottomTop(t, e) {
              return t.body && e.body ? e.body.y - t.body.y : 0;
            },
            sort(t, e) {
              t.physicsSortDirection !== null
                ? (e = t.physicsSortDirection)
                : void 0 === e && (e = this.sortDirection),
              e === a.Physics.Arcade.LEFT_RIGHT
                ? t.hash.sort(this.sortLeftRight)
                : e === a.Physics.Arcade.RIGHT_LEFT
                  ? t.hash.sort(this.sortRightLeft)
                  : e === a.Physics.Arcade.TOP_BOTTOM
                    ? t.hash.sort(this.sortTopBottom)
                    : e === a.Physics.Arcade.BOTTOM_TOP &&
                    t.hash.sort(this.sortBottomTop);
            },
            collideHandler(t, e, i, n, r, o) {
              if (void 0 === e && t.physicsType === a.GROUP) {
                return (
                  this.sort(t), void this.collideGroupVsSelf(t, i, n, r, o)
                );
              }
              t &&
                e &&
                t.exists &&
                e.exists &&
                (this.sortDirection !== a.Physics.Arcade.SORT_NONE &&
                  (t.physicsType === a.GROUP && this.sort(t),
                  e.physicsType === a.GROUP && this.sort(e)),
                t.physicsType === a.SPRITE
                  ? e.physicsType === a.SPRITE
                    ? this.collideSpriteVsSprite(t, e, i, n, r, o)
                    : e.physicsType === a.GROUP
                      ? this.collideSpriteVsGroup(t, e, i, n, r, o)
                      : e.physicsType === a.TILEMAPLAYER &&
                      this.collideSpriteVsTilemapLayer(t, e, i, n, r, o)
                  : t.physicsType === a.GROUP
                    ? e.physicsType === a.SPRITE
                      ? this.collideSpriteVsGroup(e, t, i, n, r, o)
                      : e.physicsType === a.GROUP
                        ? this.collideGroupVsGroup(t, e, i, n, r, o)
                        : e.physicsType === a.TILEMAPLAYER &&
                      this.collideGroupVsTilemapLayer(t, e, i, n, r, o)
                    : t.physicsType === a.TILEMAPLAYER &&
                    (e.physicsType === a.SPRITE
                      ? this.collideSpriteVsTilemapLayer(e, t, i, n, r, o)
                      : e.physicsType === a.GROUP &&
                        this.collideGroupVsTilemapLayer(e, t, i, n, r, o)));
            },
            collideSpriteVsSprite(t, e, i, n, r, a) {
              return !(
                !t.body ||
                !e.body ||
                (this.separate(t.body, e.body, n, r, a) &&
                  (i && i.call(r, t, e), this._total++),
                0)
              );
            },
            collideSpriteVsGroup(t, e, i, n, r, o) {
              if (e.length !== 0 && t.body) {
                let s;
                if (this.skipQuadTree || t.body.skipQuadTree) {
                  for (var u = 0; u < e.hash.length; u++) {
                    if (e.hash[u] && e.hash[u].exists && e.hash[u].body) {
                      if (
                        ((s = e.hash[u].body),
                        this.sortDirection === a.Physics.Arcade.LEFT_RIGHT)
                      ) {
                        if (t.body.right < s.x) break;
                        if (s.right < t.body.x) continue;
                      } else if (
                        this.sortDirection === a.Physics.Arcade.RIGHT_LEFT
                      ) {
                        if (t.body.x > s.right) break;
                        if (s.x > t.body.right) continue;
                      } else if (
                        this.sortDirection === a.Physics.Arcade.TOP_BOTTOM
                      ) {
                        if (t.body.bottom < s.y) break;
                        if (s.bottom < t.body.y) continue;
                      } else if (
                        this.sortDirection === a.Physics.Arcade.BOTTOM_TOP
                      ) {
                        if (t.body.y > s.bottom) break;
                        if (s.y > t.body.bottom) continue;
                      }
                      this.collideSpriteVsSprite(t, e.hash[u], i, n, r, o);
                    }
                  }
                } else {
                  this.quadTree.clear(),
                  this.quadTree.reset(
                    this.game.world.bounds.x,
                    this.game.world.bounds.y,
                    this.game.world.bounds.width,
                    this.game.world.bounds.height,
                    this.maxObjects,
                    this.maxLevels,
                  ),
                  this.quadTree.populate(e);
                  for (
                    var l = this.quadTree.retrieve(t), u = 0;
                    u < l.length;
                    u++
                  ) {
                    this.separate(t.body, l[u], n, r, o) &&
                      (i && i.call(r, t, l[u].sprite), this._total++);
                  }
                }
              }
            },
            collideGroupVsSelf(t, e, i, n, r) {
              if (t.length !== 0) {
                for (let o = 0; o < t.hash.length; o++) {
                  if (t.hash[o] && t.hash[o].exists && t.hash[o].body) { for (let s = t.hash[o], u = o + 1; u < t.hash.length; u++)
                    if (t.hash[u] && t.hash[u].exists && t.hash[u].body) {
                      var l = t.hash[u];
                      if (
                        this.sortDirection === a.Physics.Arcade.LEFT_RIGHT
                      ) {
                        if (s.body.right < l.body.x) break;
                        if (l.body.right < s.body.x) continue;
                      } else if (
                        this.sortDirection === a.Physics.Arcade.RIGHT_LEFT
                      ) {
                        if (s.body.x > l.body.right) continue;
                        if (l.body.x > s.body.right) break;
                      } else if (
                        this.sortDirection === a.Physics.Arcade.TOP_BOTTOM
                      ) {
                        if (s.body.bottom < l.body.y) continue;
                        if (l.body.bottom < s.body.y) break;
                      } else if (
                        this.sortDirection === a.Physics.Arcade.BOTTOM_TOP
                      ) {
                        if (s.body.y > l.body.bottom) continue;
                        if (l.body.y > s.body.bottom) break;
                      }
                      this.collideSpriteVsSprite(s, l, e, i, n, r);
                    } }
                }
              }
            },
            collideGroupVsGroup(t, e, i, n, r, o) {
              if (t.length !== 0 && e.length !== 0) {
                for (let s = 0; s < t.children.length; s++) {
                  t.children[s].exists &&
                    (t.children[s].physicsType === a.GROUP
                      ? this.collideGroupVsGroup(t.children[s], e, i, n, r, o)
                      : this.collideSpriteVsGroup(
                        t.children[s],
                        e,
                        i,
                        n,
                        r,
                        o,
                      ));
                }
              }
            },
            separate(t, e, i, n, r) {
              if (!t.enable || !e.enable || !this.intersects(t, e)) return !1;
              if (i && !1 === i.call(n, t.sprite, e.sprite)) return !1;
              let a = !1,
                o = !1;
              return (
                this.forceX ||
                Math.abs(this.gravity.y + t.gravity.y) <
                  Math.abs(this.gravity.x + t.gravity.x)
                  ? ((a = this.separateX(t, e, r)),
                  this.intersects(t, e) && (o = this.separateY(t, e, r)))
                  : ((o = this.separateY(t, e, r)),
                  this.intersects(t, e) && (a = this.separateX(t, e, r))),
                a || o
              );
            },
            intersects(t, e) {
              return !(
                t === e ||
                t.right <= e.position.x ||
                t.bottom <= e.position.y ||
                t.position.x >= e.right ||
                t.position.y >= e.bottom
              );
            },
            getOverlapX(t, e, i) {
              let n = 0,
                r = t.deltaAbsX() + e.deltaAbsX() + this.OVERLAP_BIAS;
              return (
                t.deltaX() === 0 && e.deltaX() === 0
                  ? ((t.embedded = !0), (e.embedded = !0))
                  : t.deltaX() > e.deltaX()
                    ? ((n = t.right - e.x),
                    (n > r && !i) ||
                    !1 === t.checkCollision.right ||
                    !1 === e.checkCollision.left
                      ? (n = 0)
                      : ((t.touching.none = !1),
                      (t.touching.right = !0),
                      (e.touching.none = !1),
                      (e.touching.left = !0)))
                    : t.deltaX() < e.deltaX() &&
                    ((n = t.x - e.width - e.x),
                    (-n > r && !i) ||
                    !1 === t.checkCollision.left ||
                    !1 === e.checkCollision.right
                      ? (n = 0)
                      : ((t.touching.none = !1),
                      (t.touching.left = !0),
                      (e.touching.none = !1),
                      (e.touching.right = !0))),
                (t.overlapX = n),
                (e.overlapX = n),
                n
              );
            },
            getOverlapY(t, e, i) {
              let n = 0,
                r = t.deltaAbsY() + e.deltaAbsY() + this.OVERLAP_BIAS;
              return (
                t.deltaY() === 0 && e.deltaY() === 0
                  ? ((t.embedded = !0), (e.embedded = !0))
                  : t.deltaY() > e.deltaY()
                    ? ((n = t.bottom - e.y),
                    (n > r && !i) ||
                    !1 === t.checkCollision.down ||
                    !1 === e.checkCollision.up
                      ? (n = 0)
                      : ((t.touching.none = !1),
                      (t.touching.down = !0),
                      (e.touching.none = !1),
                      (e.touching.up = !0)))
                    : t.deltaY() < e.deltaY() &&
                    ((n = t.y - e.bottom),
                    (-n > r && !i) ||
                    !1 === t.checkCollision.up ||
                    !1 === e.checkCollision.down
                      ? (n = 0)
                      : ((t.touching.none = !1),
                      (t.touching.up = !0),
                      (e.touching.none = !1),
                      (e.touching.down = !0))),
                (t.overlapY = n),
                (e.overlapY = n),
                n
              );
            },
            separateX(t, e, i) {
              let n = this.getOverlapX(t, e, i);
              if (
                i ||
                n === 0 ||
                (t.immovable && e.immovable) ||
                t.customSeparateX ||
                e.customSeparateX
              ) { return n !== 0 || (t.embedded && e.embedded); }
              let r = t.velocity.x,
                a = e.velocity.x;
              if (t.immovable || e.immovable) {
                t.immovable
                  ? ((e.x += n),
                  (e.velocity.x = r - a * e.bounce.x),
                  t.moves && (e.y += (t.y - t.prev.y) * t.friction.y))
                  : ((t.x -= n),
                  (t.velocity.x = a - r * t.bounce.x),
                  e.moves && (t.y += (e.y - e.prev.y) * e.friction.y));
              } else {
                (n *= 0.5), (t.x -= n), (e.x += n);
                let o = Math.sqrt((a * a * e.mass) / t.mass) * (a > 0 ? 1 : -1),
                  s = Math.sqrt((r * r * t.mass) / e.mass) * (r > 0 ? 1 : -1),
                  u = 0.5 * (o + s);
                (o -= u),
                (s -= u),
                (t.velocity.x = u + o * t.bounce.x),
                (e.velocity.x = u + s * e.bounce.x);
              }
              return !0;
            },
            separateY(t, e, i) {
              let n = this.getOverlapY(t, e, i);
              if (
                i ||
                n === 0 ||
                (t.immovable && e.immovable) ||
                t.customSeparateY ||
                e.customSeparateY
              ) { return n !== 0 || (t.embedded && e.embedded); }
              let r = t.velocity.y,
                a = e.velocity.y;
              if (t.immovable || e.immovable) {
                t.immovable
                  ? ((e.y += n),
                  (e.velocity.y = r - a * e.bounce.y),
                  t.moves && (e.x += (t.x - t.prev.x) * t.friction.x))
                  : ((t.y -= n),
                  (t.velocity.y = a - r * t.bounce.y),
                  e.moves && (t.x += (e.x - e.prev.x) * e.friction.x));
              } else {
                (n *= 0.5), (t.y -= n), (e.y += n);
                let o = Math.sqrt((a * a * e.mass) / t.mass) * (a > 0 ? 1 : -1),
                  s = Math.sqrt((r * r * t.mass) / e.mass) * (r > 0 ? 1 : -1),
                  u = 0.5 * (o + s);
                (o -= u),
                (s -= u),
                (t.velocity.y = u + o * t.bounce.y),
                (e.velocity.y = u + s * e.bounce.y);
              }
              return !0;
            },
            getObjectsUnderPointer(t, e, i, n) {
              if (e.length !== 0 && t.exists) { return this.getObjectsAtLocation(t.x, t.y, e, i, n, t); }
            },
            getObjectsAtLocation(t, e, i, n, r, o) {
              this.quadTree.clear(),
              this.quadTree.reset(
                this.game.world.bounds.x,
                this.game.world.bounds.y,
                this.game.world.bounds.width,
                this.game.world.bounds.height,
                this.maxObjects,
                this.maxLevels,
              ),
              this.quadTree.populate(i);
              for (
                var s = new a.Rectangle(t, e, 1, 1),
                  u = [],
                  l = this.quadTree.retrieve(s),
                  c = 0;
                c < l.length;
                c++
              ) {
                l[c].hitTest(t, e) &&
                  (n && n.call(r, o, l[c].sprite), u.push(l[c].sprite));
              }
              return u;
            },
            moveToObject(t, e, i, n) {
              void 0 === i && (i = 60), void 0 === n && (n = 0);
              const r = Math.atan2(e.y - t.y, e.x - t.x);
              return (
                n > 0 && (i = this.distanceBetween(t, e) / (n / 1e3)),
                (t.body.velocity.x = Math.cos(r) * i),
                (t.body.velocity.y = Math.sin(r) * i),
                r
              );
            },
            moveToPointer(t, e, i, n) {
              void 0 === e && (e = 60),
              (i = i || this.game.input.activePointer),
              void 0 === n && (n = 0);
              const r = this.angleToPointer(t, i);
              return (
                n > 0 && (e = this.distanceToPointer(t, i) / (n / 1e3)),
                (t.body.velocity.x = Math.cos(r) * e),
                (t.body.velocity.y = Math.sin(r) * e),
                r
              );
            },
            moveToXY(t, e, i, n, r) {
              void 0 === n && (n = 60), void 0 === r && (r = 0);
              const a = Math.atan2(i - t.y, e - t.x);
              return (
                r > 0 && (n = this.distanceToXY(t, e, i) / (r / 1e3)),
                (t.body.velocity.x = Math.cos(a) * n),
                (t.body.velocity.y = Math.sin(a) * n),
                a
              );
            },
            velocityFromAngle(t, e, i) {
              return (
                void 0 === e && (e = 60),
                (i = i || new a.Point()),
                i.setTo(
                  Math.cos(this.game.math.degToRad(t)) * e,
                  Math.sin(this.game.math.degToRad(t)) * e,
                )
              );
            },
            velocityFromRotation(t, e, i) {
              return (
                void 0 === e && (e = 60),
                (i = i || new a.Point()),
                i.setTo(Math.cos(t) * e, Math.sin(t) * e)
              );
            },
            accelerationFromRotation(t, e, i) {
              return (
                void 0 === e && (e = 60),
                (i = i || new a.Point()),
                i.setTo(Math.cos(t) * e, Math.sin(t) * e)
              );
            },
            accelerateToObject(t, e, i, n, r) {
              void 0 === i && (i = 60),
              void 0 === n && (n = 1e3),
              void 0 === r && (r = 1e3);
              const a = this.angleBetween(t, e);
              return (
                t.body.acceleration.setTo(Math.cos(a) * i, Math.sin(a) * i),
                t.body.maxVelocity.setTo(n, r),
                a
              );
            },
            accelerateToPointer(t, e, i, n, r) {
              void 0 === i && (i = 60),
              void 0 === e && (e = this.game.input.activePointer),
              void 0 === n && (n = 1e3),
              void 0 === r && (r = 1e3);
              const a = this.angleToPointer(t, e);
              return (
                t.body.acceleration.setTo(Math.cos(a) * i, Math.sin(a) * i),
                t.body.maxVelocity.setTo(n, r),
                a
              );
            },
            accelerateToXY(t, e, i, n, r, a) {
              void 0 === n && (n = 60),
              void 0 === r && (r = 1e3),
              void 0 === a && (a = 1e3);
              const o = this.angleToXY(t, e, i);
              return (
                t.body.acceleration.setTo(Math.cos(o) * n, Math.sin(o) * n),
                t.body.maxVelocity.setTo(r, a),
                o
              );
            },
            distanceBetween(t, e, i) {
              void 0 === i && (i = !1);
              let n = i ? t.world.x - e.world.x : t.x - e.x,
                r = i ? t.world.y - e.world.y : t.y - e.y;
              return Math.sqrt(n * n + r * r);
            },
            distanceToXY(t, e, i, n) {
              void 0 === n && (n = !1);
              let r = n ? t.world.x - e : t.x - e,
                a = n ? t.world.y - i : t.y - i;
              return Math.sqrt(r * r + a * a);
            },
            distanceToPointer(t, e, i) {
              void 0 === e && (e = this.game.input.activePointer),
              void 0 === i && (i = !1);
              let n = i ? t.world.x - e.worldX : t.x - e.worldX,
                r = i ? t.world.y - e.worldY : t.y - e.worldY;
              return Math.sqrt(n * n + r * r);
            },
            angleBetween(t, e, i) {
              return (
                void 0 === i && (i = !1),
                i
                  ? Math.atan2(e.world.y - t.world.y, e.world.x - t.world.x)
                  : Math.atan2(e.y - t.y, e.x - t.x)
              );
            },
            angleToXY(t, e, i, n) {
              return (
                void 0 === n && (n = !1),
                n
                  ? Math.atan2(i - t.world.y, e - t.world.x)
                  : Math.atan2(i - t.y, e - t.x)
              );
            },
            angleToPointer(t, e, i) {
              return (
                void 0 === e && (e = this.game.input.activePointer),
                void 0 === i && (i = !1),
                i
                  ? Math.atan2(e.worldY - t.world.y, e.worldX - t.world.x)
                  : Math.atan2(e.worldY - t.y, e.worldX - t.x)
              );
            },
            worldAngleToPointer(t, e) {
              return this.angleToPointer(t, e, !0);
            },
          }),
          (a.Physics.Arcade.Body = function (t) {
            (this.sprite = t),
            (this.game = t.game),
            (this.type = a.Physics.ARCADE),
            (this.enable = !0),
            (this.offset = new a.Point()),
            (this.position = new a.Point(t.x, t.y)),
            (this.prev = new a.Point(this.position.x, this.position.y)),
            (this.allowRotation = !0),
            (this.rotation = t.rotation),
            (this.preRotation = t.rotation),
            (this.width = t.width),
            (this.height = t.height),
            (this.sourceWidth = t.width),
            (this.sourceHeight = t.height),
            t.texture &&
                ((this.sourceWidth = t.texture.frame.width),
                (this.sourceHeight = t.texture.frame.height)),
            (this.halfWidth = Math.abs(t.width / 2)),
            (this.halfHeight = Math.abs(t.height / 2)),
            (this.center = new a.Point(
              t.x + this.halfWidth,
              t.y + this.halfHeight,
            )),
            (this.velocity = new a.Point()),
            (this.newVelocity = new a.Point(0, 0)),
            (this.deltaMax = new a.Point(0, 0)),
            (this.acceleration = new a.Point()),
            (this.drag = new a.Point()),
            (this.allowGravity = !0),
            (this.gravity = new a.Point(0, 0)),
            (this.bounce = new a.Point()),
            (this.worldBounce = null),
            (this.maxVelocity = new a.Point(1e4, 1e4)),
            (this.friction = new a.Point(1, 0)),
            (this.angularVelocity = 0),
            (this.angularAcceleration = 0),
            (this.angularDrag = 0),
            (this.maxAngular = 1e3),
            (this.mass = 1),
            (this.angle = 0),
            (this.speed = 0),
            (this.facing = a.NONE),
            (this.immovable = !1),
            (this.moves = !0),
            (this.customSeparateX = !1),
            (this.customSeparateY = !1),
            (this.overlapX = 0),
            (this.overlapY = 0),
            (this.embedded = !1),
            (this.collideWorldBounds = !1),
            (this.checkCollision = {
              none: !1,
              any: !0,
              up: !0,
              down: !0,
              left: !0,
              right: !0,
            }),
            (this.touching = {
              none: !0,
              up: !1,
              down: !1,
              left: !1,
              right: !1,
            }),
            (this.wasTouching = {
              none: !0,
              up: !1,
              down: !1,
              left: !1,
              right: !1,
            }),
            (this.blocked = {
              up: !1, down: !1, left: !1, right: !1,
            }),
            (this.tilePadding = new a.Point()),
            (this.dirty = !1),
            (this.skipQuadTree = !1),
            (this.syncBounds = !1),
            (this.isMoving = !1),
            (this.stopVelocityOnCollide = !0),
            (this.moveTimer = 0),
            (this.moveDistance = 0),
            (this.moveDuration = 0),
            (this.moveTarget = null),
            (this.moveEnd = null),
            (this.onMoveComplete = new a.Signal()),
            (this.movementCallback = null),
            (this.movementCallbackContext = null),
            (this._reset = !0),
            (this._sx = t.scale.x),
            (this._sy = t.scale.y),
            (this._dx = 0),
            (this._dy = 0);
          }),
          (a.Physics.Arcade.Body.prototype = {
            updateBounds() {
              if (this.syncBounds) {
                const t = this.sprite.getBounds();
                t.ceilAll(),
                (t.width === this.width && t.height === this.height) ||
                    ((this.width = t.width),
                    (this.height = t.height),
                    (this._reset = !0));
              } else {
                let e = Math.abs(this.sprite.scale.x),
                  i = Math.abs(this.sprite.scale.y);
                (e === this._sx && i === this._sy) ||
                  ((this.width = this.sourceWidth * e),
                  (this.height = this.sourceHeight * i),
                  (this._sx = e),
                  (this._sy = i),
                  (this._reset = !0));
              }
              this._reset &&
                ((this.halfWidth = Math.floor(this.width / 2)),
                (this.halfHeight = Math.floor(this.height / 2)),
                this.center.setTo(
                  this.position.x + this.halfWidth,
                  this.position.y + this.halfHeight,
                ));
            },
            preUpdate() {
              this.enable &&
                !this.game.physics.arcade.isPaused &&
                ((this.dirty = !0),
                (this.wasTouching.none = this.touching.none),
                (this.wasTouching.up = this.touching.up),
                (this.wasTouching.down = this.touching.down),
                (this.wasTouching.left = this.touching.left),
                (this.wasTouching.right = this.touching.right),
                (this.touching.none = !0),
                (this.touching.up = !1),
                (this.touching.down = !1),
                (this.touching.left = !1),
                (this.touching.right = !1),
                (this.blocked.up = !1),
                (this.blocked.down = !1),
                (this.blocked.left = !1),
                (this.blocked.right = !1),
                (this.embedded = !1),
                this.updateBounds(),
                (this.position.x =
                  this.sprite.world.x -
                  this.sprite.anchor.x * this.sprite.width +
                  this.sprite.scale.x * this.offset.x),
                (this.position.x -= this.sprite.scale.x < 0 ? this.width : 0),
                (this.position.y =
                  this.sprite.world.y -
                  this.sprite.anchor.y * this.sprite.height +
                  this.sprite.scale.y * this.offset.y),
                (this.position.y -= this.sprite.scale.y < 0 ? this.height : 0),
                (this.rotation = this.sprite.angle),
                (this.preRotation = this.rotation),
                (this._reset || this.sprite.fresh) &&
                  ((this.prev.x = this.position.x),
                  (this.prev.y = this.position.y)),
                this.moves &&
                  (this.game.physics.arcade.updateMotion(this),
                  this.newVelocity.set(
                    this.velocity.x * this.game.time.physicsElapsed,
                    this.velocity.y * this.game.time.physicsElapsed,
                  ),
                  (this.position.x += this.newVelocity.x),
                  (this.position.y += this.newVelocity.y),
                  (this.position.x === this.prev.x &&
                    this.position.y === this.prev.y) ||
                    (this.angle = Math.atan2(this.velocity.y, this.velocity.x)),
                  (this.speed = Math.sqrt(this.velocity.x * this.velocity.x +
                      this.velocity.y * this.velocity.y)),
                  this.collideWorldBounds && this.checkWorldBounds()),
                (this._dx = this.deltaX()),
                (this._dy = this.deltaY()),
                (this._reset = !1));
            },
            updateMovement() {
              let t = 0,
                e = this.overlapX !== 0 || this.overlapY !== 0;
              if (
                (this.moveDuration > 0
                  ? ((this.moveTimer += this.game.time.elapsedMS),
                  (t = this.moveTimer / this.moveDuration))
                  : (this.moveTarget.end.set(this.position.x, this.position.y),
                  (t = this.moveTarget.length / this.moveDistance)),
                this.movementCallback)
              ) {
                var i = this.movementCallback.call(
                  this.movementCallbackContext,
                  this,
                  this.velocity,
                  t,
                );
              }
              return (
                !(e || t >= 1 || (void 0 !== i && !0 !== i)) ||
                (this.stopMovement(t >= 1 || (this.stopVelocityOnCollide && e)),
                !1)
              );
            },
            stopMovement(t) {
              this.isMoving &&
                ((this.isMoving = !1),
                t && this.velocity.set(0),
                this.onMoveComplete.dispatch(
                  this.sprite,
                  this.overlapX !== 0 || this.overlapY !== 0,
                ));
            },
            postUpdate() {
              this.enable &&
                this.dirty &&
                (this.isMoving && this.updateMovement(),
                (this.dirty = !1),
                this.deltaX() < 0
                  ? (this.facing = a.LEFT)
                  : this.deltaX() > 0 && (this.facing = a.RIGHT),
                this.deltaY() < 0
                  ? (this.facing = a.UP)
                  : this.deltaY() > 0 && (this.facing = a.DOWN),
                this.moves &&
                  ((this._dx = this.deltaX()),
                  (this._dy = this.deltaY()),
                  this.deltaMax.x !== 0 &&
                    this._dx !== 0 &&
                    (this._dx < 0 && this._dx < -this.deltaMax.x
                      ? (this._dx = -this.deltaMax.x)
                      : this._dx > 0 &&
                        this._dx > this.deltaMax.x &&
                        (this._dx = this.deltaMax.x)),
                  this.deltaMax.y !== 0 &&
                    this._dy !== 0 &&
                    (this._dy < 0 && this._dy < -this.deltaMax.y
                      ? (this._dy = -this.deltaMax.y)
                      : this._dy > 0 &&
                        this._dy > this.deltaMax.y &&
                        (this._dy = this.deltaMax.y)),
                  (this.sprite.position.x += this._dx),
                  (this.sprite.position.y += this._dy),
                  (this._reset = !0)),
                this.center.setTo(
                  this.position.x + this.halfWidth,
                  this.position.y + this.halfHeight,
                ),
                this.allowRotation && (this.sprite.angle += this.deltaZ()),
                (this.prev.x = this.position.x),
                (this.prev.y = this.position.y));
            },
            checkWorldBounds() {
              let t = this.position,
                e = this.game.physics.arcade.bounds,
                i = this.game.physics.arcade.checkCollision,
                n = this.worldBounce ? -this.worldBounce.x : -this.bounce.x,
                r = this.worldBounce ? -this.worldBounce.y : -this.bounce.y;
              t.x < e.x && i.left
                ? ((t.x = e.x),
                (this.velocity.x *= n),
                (this.blocked.left = !0))
                : this.right > e.right &&
                  i.right &&
                  ((t.x = e.right - this.width),
                  (this.velocity.x *= n),
                  (this.blocked.right = !0)),
              t.y < e.y && i.up
                ? ((t.y = e.y),
                (this.velocity.y *= r),
                (this.blocked.up = !0))
                : this.bottom > e.bottom &&
                    i.down &&
                    ((t.y = e.bottom - this.height),
                    (this.velocity.y *= r),
                    (this.blocked.down = !0));
            },
            moveFrom(t, e, i) {
              if ((void 0 === e && (e = this.speed), e === 0)) return !1;
              let n;
              return (
                void 0 === i
                  ? ((n = this.angle), (i = this.game.math.radToDeg(n)))
                  : (n = this.game.math.degToRad(i)),
                (this.moveTimer = 0),
                (this.moveDuration = t),
                i === 0 || i === 180
                  ? this.velocity.set(Math.cos(n) * e, 0)
                  : i === 90 || i === 270
                    ? this.velocity.set(0, Math.sin(n) * e)
                    : this.velocity.set(Math.cos(n) * e, Math.sin(n) * e),
                (this.isMoving = !0),
                !0
              );
            },
            moveTo(t, e, i) {
              const n = e / (t / 1e3);
              if (n === 0) return !1;
              let r;
              return (
                void 0 === i
                  ? ((r = this.angle), (i = this.game.math.radToDeg(r)))
                  : (r = this.game.math.degToRad(i)),
                (e = Math.abs(e)),
                (this.moveDuration = 0),
                (this.moveDistance = e),
                this.moveTarget === null &&
                  ((this.moveTarget = new a.Line()),
                  (this.moveEnd = new a.Point())),
                this.moveTarget.fromAngle(this.x, this.y, r, e),
                this.moveEnd.set(this.moveTarget.end.x, this.moveTarget.end.y),
                this.moveTarget.setTo(this.x, this.y, this.x, this.y),
                i === 0 || i === 180
                  ? this.velocity.set(Math.cos(r) * n, 0)
                  : i === 90 || i === 270
                    ? this.velocity.set(0, Math.sin(r) * n)
                    : this.velocity.set(Math.cos(r) * n, Math.sin(r) * n),
                (this.isMoving = !0),
                !0
              );
            },
            setSize(t, e, i, n) {
              void 0 === i && (i = this.offset.x),
              void 0 === n && (n = this.offset.y),
              (this.sourceWidth = t),
              (this.sourceHeight = e),
              (this.width = this.sourceWidth * this._sx),
              (this.height = this.sourceHeight * this._sy),
              (this.halfWidth = Math.floor(this.width / 2)),
              (this.halfHeight = Math.floor(this.height / 2)),
              this.offset.setTo(i, n),
              this.center.setTo(
                this.position.x + this.halfWidth,
                this.position.y + this.halfHeight,
              );
            },
            reset(t, e) {
              this.velocity.set(0),
              this.acceleration.set(0),
              (this.speed = 0),
              (this.angularVelocity = 0),
              (this.angularAcceleration = 0),
              (this.position.x =
                  t -
                  this.sprite.anchor.x * this.sprite.width +
                  this.sprite.scale.x * this.offset.x),
              (this.position.x -= this.sprite.scale.x < 0 ? this.width : 0),
              (this.position.y =
                  e -
                  this.sprite.anchor.y * this.sprite.height +
                  this.sprite.scale.y * this.offset.y),
              (this.position.y -= this.sprite.scale.y < 0 ? this.height : 0),
              (this.prev.x = this.position.x),
              (this.prev.y = this.position.y),
              (this.rotation = this.sprite.angle),
              (this.preRotation = this.rotation),
              (this._sx = this.sprite.scale.x),
              (this._sy = this.sprite.scale.y),
              this.center.setTo(
                this.position.x + this.halfWidth,
                this.position.y + this.halfHeight,
              );
            },
            hitTest(t, e) {
              return a.Rectangle.contains(this, t, e);
            },
            onFloor() {
              return this.blocked.down;
            },
            onCeiling() {
              return this.blocked.up;
            },
            onWall() {
              return this.blocked.left || this.blocked.right;
            },
            deltaAbsX() {
              return this.deltaX() > 0 ? this.deltaX() : -this.deltaX();
            },
            deltaAbsY() {
              return this.deltaY() > 0 ? this.deltaY() : -this.deltaY();
            },
            deltaX() {
              return this.position.x - this.prev.x;
            },
            deltaY() {
              return this.position.y - this.prev.y;
            },
            deltaZ() {
              return this.rotation - this.preRotation;
            },
            destroy() {
              this.sprite.parent &&
                this.sprite.parent instanceof a.Group &&
                this.sprite.parent.removeFromHash(this.sprite),
              (this.sprite.body = null),
              (this.sprite = null);
            },
          }),
          Object.defineProperty(a.Physics.Arcade.Body.prototype, 'left', {
            get() {
              return this.position.x;
            },
          }),
          Object.defineProperty(a.Physics.Arcade.Body.prototype, 'right', {
            get() {
              return this.position.x + this.width;
            },
          }),
          Object.defineProperty(a.Physics.Arcade.Body.prototype, 'top', {
            get() {
              return this.position.y;
            },
          }),
          Object.defineProperty(a.Physics.Arcade.Body.prototype, 'bottom', {
            get() {
              return this.position.y + this.height;
            },
          }),
          Object.defineProperty(a.Physics.Arcade.Body.prototype, 'x', {
            get() {
              return this.position.x;
            },
            set(t) {
              this.position.x = t;
            },
          }),
          Object.defineProperty(a.Physics.Arcade.Body.prototype, 'y', {
            get() {
              return this.position.y;
            },
            set(t) {
              this.position.y = t;
            },
          }),
          (a.Physics.Arcade.Body.render = function (t, e, i, n) {
            void 0 === n && (n = !0),
            (i = i || 'rgba(0,255,0,0.4)'),
            n
              ? ((t.fillStyle = i),
              t.fillRect(
                e.position.x - e.game.camera.x,
                e.position.y - e.game.camera.y,
                e.width,
                e.height,
              ))
              : ((t.strokeStyle = i),
              t.strokeRect(
                e.position.x - e.game.camera.x,
                e.position.y - e.game.camera.y,
                e.width,
                e.height,
              ));
          }),
          (a.Physics.Arcade.Body.renderBodyInfo = function (t, e) {
            t.line(
              `x: ${e.x.toFixed(2)}`,
              `y: ${e.y.toFixed(2)}`,
              `width: ${e.width}`,
              `height: ${e.height}`,
            ),
            t.line(
              `velocity x: ${e.velocity.x.toFixed(2)}`,
              `y: ${e.velocity.y.toFixed(2)}`,
              `deltaX: ${e._dx.toFixed(2)}`,
              `deltaY: ${e._dy.toFixed(2)}`,
            ),
            t.line(
              `acceleration x: ${e.acceleration.x.toFixed(2)}`,
              `y: ${e.acceleration.y.toFixed(2)}`,
              `speed: ${e.speed.toFixed(2)}`,
              `angle: ${e.angle.toFixed(2)}`,
            ),
            t.line(
              `gravity x: ${e.gravity.x}`,
              `y: ${e.gravity.y}`,
              `bounce x: ${e.bounce.x.toFixed(2)}`,
              `y: ${e.bounce.y.toFixed(2)}`,
            ),
            t.line(
              `touching left: ${e.touching.left}`,
              `right: ${e.touching.right}`,
              `up: ${e.touching.up}`,
              `down: ${e.touching.down}`,
            ),
            t.line(
              `blocked left: ${e.blocked.left}`,
              `right: ${e.blocked.right}`,
              `up: ${e.blocked.up}`,
              `down: ${e.blocked.down}`,
            );
          }),
          (a.Physics.Arcade.Body.prototype.constructor = a.Physics.Arcade.Body),
          (a.Physics.Arcade.TilemapCollision = function () {}),
          (a.Physics.Arcade.TilemapCollision.prototype = {
            TILE_BIAS: 16,
            collideSpriteVsTilemapLayer(t, e, i, n, r, a) {
              if (t.body) {
                const o = e.getTiles(
                  t.body.position.x - t.body.tilePadding.x,
                  t.body.position.y - t.body.tilePadding.y,
                  t.body.width + t.body.tilePadding.x,
                  t.body.height + t.body.tilePadding.y,
                  !1,
                  !1,
                );
                if (o.length !== 0) {
                  for (let s = 0; s < o.length; s++) {
                    n
                      ? n.call(r, t, o[s]) &&
                        this.separateTile(s, t.body, o[s], e, a) &&
                        (this._total++, i && i.call(r, t, o[s]))
                      : this.separateTile(s, t.body, o[s], e, a) &&
                        (this._total++, i && i.call(r, t, o[s]));
                  }
                }
              }
            },
            collideGroupVsTilemapLayer(t, e, i, n, r, a) {
              if (t.length !== 0) {
                for (let o = 0; o < t.children.length; o++) {
                  t.children[o].exists &&
                    this.collideSpriteVsTilemapLayer(
                      t.children[o],
                      e,
                      i,
                      n,
                      r,
                      a,
                    );
                }
              }
            },
            separateTile(t, e, i, n, r) {
              if (!e.enable) return !1;
              let a = n.fixedToCamera ? 0 : n.position.x,
                o = n.fixedToCamera ? 0 : n.position.y;
              if (
                !i.intersects(
                  e.position.x - a,
                  e.position.y - o,
                  e.right - a,
                  e.bottom - o,
                )
              ) { return !1; }
              if (r) return !0;
              if (
                i.collisionCallback &&
                !i.collisionCallback.call(
                  i.collisionCallbackContext,
                  e.sprite,
                  i,
                )
              ) { return !1; }
              if (
                void 0 !== i.layer.callbacks &&
                i.layer.callbacks[i.index] &&
                !i.layer.callbacks[i.index].callback.call(
                  i.layer.callbacks[i.index].callbackContext,
                  e.sprite,
                  i,
                )
              ) { return !1; }
              if (!(i.faceLeft || i.faceRight || i.faceTop || i.faceBottom)) { return !1; }
              let s = 0,
                u = 0,
                l = 0,
                c = 1;
              if (
                (e.deltaAbsX() > e.deltaAbsY()
                  ? (l = -1)
                  : e.deltaAbsX() < e.deltaAbsY() && (c = -1),
                e.deltaX() !== 0 &&
                  e.deltaY() !== 0 &&
                  (i.faceLeft || i.faceRight) &&
                  (i.faceTop || i.faceBottom) &&
                  ((l = Math.min(
                    Math.abs(e.position.x - a - i.right),
                    Math.abs(e.right - a - i.left),
                  )),
                  (c = Math.min(
                    Math.abs(e.position.y - o - i.bottom),
                    Math.abs(e.bottom - o - i.top),
                  ))),
                l < c)
              ) {
                if (
                  (i.faceLeft || i.faceRight) &&
                  (s = this.tileCheckX(e, i, n)) !== 0 &&
                  !i.intersects(
                    e.position.x - a,
                    e.position.y - o,
                    e.right - a,
                    e.bottom - o,
                  )
                ) { return !0; }
                (i.faceTop || i.faceBottom) && (u = this.tileCheckY(e, i, n));
              } else {
                if (
                  (i.faceTop || i.faceBottom) &&
                  (u = this.tileCheckY(e, i, n)) !== 0 &&
                  !i.intersects(
                    e.position.x - a,
                    e.position.y - o,
                    e.right - a,
                    e.bottom - o,
                  )
                ) { return !0; }
                (i.faceLeft || i.faceRight) && (s = this.tileCheckX(e, i, n));
              }
              return s !== 0 || u !== 0;
            },
            tileCheckX(t, e, i) {
              let n = 0,
                r = i.fixedToCamera ? 0 : i.position.x;
              return (
                t.deltaX() < 0 &&
                !t.blocked.left &&
                e.collideRight &&
                t.checkCollision.left
                  ? e.faceRight &&
                    t.x - r < e.right &&
                    (n = t.x - r - e.right) < -this.TILE_BIAS &&
                    (n = 0)
                  : t.deltaX() > 0 &&
                    !t.blocked.right &&
                    e.collideLeft &&
                    t.checkCollision.right &&
                    e.faceLeft &&
                    t.right - r > e.left &&
                    (n = t.right - r - e.left) > this.TILE_BIAS &&
                    (n = 0),
                n !== 0 &&
                  (t.customSeparateX
                    ? (t.overlapX = n)
                    : this.processTileSeparationX(t, n)),
                n
              );
            },
            tileCheckY(t, e, i) {
              let n = 0,
                r = i.fixedToCamera ? 0 : i.position.y;
              return (
                t.deltaY() < 0 &&
                !t.blocked.up &&
                e.collideDown &&
                t.checkCollision.up
                  ? e.faceBottom &&
                    t.y - r < e.bottom &&
                    (n = t.y - r - e.bottom) < -this.TILE_BIAS &&
                    (n = 0)
                  : t.deltaY() > 0 &&
                    !t.blocked.down &&
                    e.collideUp &&
                    t.checkCollision.down &&
                    e.faceTop &&
                    t.bottom - r > e.top &&
                    (n = t.bottom - r - e.top) > this.TILE_BIAS &&
                    (n = 0),
                n !== 0 &&
                  (t.customSeparateY
                    ? (t.overlapY = n)
                    : this.processTileSeparationY(t, n)),
                n
              );
            },
            processTileSeparationX(t, e) {
              e < 0 ? (t.blocked.left = !0) : e > 0 && (t.blocked.right = !0),
              (t.position.x -= e),
              t.bounce.x === 0
                ? (t.velocity.x = 0)
                : (t.velocity.x = -t.velocity.x * t.bounce.x);
            },
            processTileSeparationY(t, e) {
              e < 0 ? (t.blocked.up = !0) : e > 0 && (t.blocked.down = !0),
              (t.position.y -= e),
              t.bounce.y === 0
                ? (t.velocity.y = 0)
                : (t.velocity.y = -t.velocity.y * t.bounce.y);
            },
          }),
          a.Utils.mixinPrototype(
            a.Physics.Arcade.prototype,
            a.Physics.Arcade.TilemapCollision.prototype,
          ),
          (p2.Body.prototype.parent = null),
          (p2.Spring.prototype.parent = null),
          (a.Physics.P2 = function (t, e) {
            (this.game = t),
            void 0 === e
              ? (e = { gravity: [0, 0], broadphase: new p2.SAPBroadphase() })
              : (e.hasOwnProperty('gravity') || (e.gravity = [0, 0]),
              e.hasOwnProperty('broadphase') ||
                    (e.broadphase = new p2.SAPBroadphase())),
            (this.config = e),
            (this.world = new p2.World(this.config)),
            (this.frameRate = 1 / 60),
            (this.useElapsedTime = !1),
            (this.paused = !1),
            (this.materials = []),
            (this.gravity = new a.Physics.P2.InversePointProxy(
              this,
              this.world.gravity,
            )),
            (this.walls = {
              left: null,
              right: null,
              top: null,
              bottom: null,
            }),
            (this.onBodyAdded = new a.Signal()),
            (this.onBodyRemoved = new a.Signal()),
            (this.onSpringAdded = new a.Signal()),
            (this.onSpringRemoved = new a.Signal()),
            (this.onConstraintAdded = new a.Signal()),
            (this.onConstraintRemoved = new a.Signal()),
            (this.onContactMaterialAdded = new a.Signal()),
            (this.onContactMaterialRemoved = new a.Signal()),
            (this.postBroadphaseCallback = null),
            (this.callbackContext = null),
            (this.onBeginContact = new a.Signal()),
            (this.onEndContact = new a.Signal()),
            e.hasOwnProperty('mpx') &&
                e.hasOwnProperty('pxm') &&
                e.hasOwnProperty('mpxi') &&
                e.hasOwnProperty('pxmi') &&
                ((this.mpx = e.mpx),
                (this.mpxi = e.mpxi),
                (this.pxm = e.pxm),
                (this.pxmi = e.pxmi)),
            this.world.on('beginContact', this.beginContactHandler, this),
            this.world.on('endContact', this.endContactHandler, this),
            (this.collisionGroups = []),
            (this.nothingCollisionGroup = new a.Physics.P2.CollisionGroup(1)),
            (this.boundsCollisionGroup = new a.Physics.P2.CollisionGroup(2)),
            (this.everythingCollisionGroup = new a.Physics.P2.CollisionGroup(2147483648)),
            (this.boundsCollidesWith = []),
            (this._toRemove = []),
            (this._collisionGroupID = 2),
            (this._boundsLeft = !0),
            (this._boundsRight = !0),
            (this._boundsTop = !0),
            (this._boundsBottom = !0),
            (this._boundsOwnGroup = !1),
            this.setBoundsToWorld(!0, !0, !0, !0, !1);
          }),
          (a.Physics.P2.prototype = {
            removeBodyNextStep(t) {
              this._toRemove.push(t);
            },
            preUpdate() {
              for (let t = this._toRemove.length; t--;) { this.removeBody(this._toRemove[t]); }
              this._toRemove.length = 0;
            },
            enable(t, e, i) {
              void 0 === e && (e = !1), void 0 === i && (i = !0);
              let n = 1;
              if (Array.isArray(t)) {
                for (n = t.length; n--;) {
                  t[n] instanceof a.Group
                    ? this.enable(t[n].children, e, i)
                    : (this.enableBody(t[n], e),
                    i &&
                        t[n].hasOwnProperty('children') &&
                        t[n].children.length > 0 &&
                        this.enable(t[n], e, !0));
                }
              } else {
                t instanceof a.Group
                  ? this.enable(t.children, e, i)
                  : (this.enableBody(t, e),
                  i &&
                      t.hasOwnProperty('children') &&
                      t.children.length > 0 &&
                      this.enable(t.children, e, !0));
              }
            },
            enableBody(t, e) {
              t.hasOwnProperty('body') &&
                t.body === null &&
                ((t.body = new a.Physics.P2.Body(this.game, t, t.x, t.y, 1)),
                (t.body.debug = e),
                void 0 !== t.anchor && t.anchor.set(0.5));
            },
            setImpactEvents(t) {
              t
                ? this.world.on('impact', this.impactHandler, this)
                : this.world.off('impact', this.impactHandler, this);
            },
            setPostBroadphaseCallback(t, e) {
              (this.postBroadphaseCallback = t),
              (this.callbackContext = e),
              t !== null
                ? this.world.on(
                  'postBroadphase',
                  this.postBroadphaseHandler,
                  this,
                )
                : this.world.off(
                  'postBroadphase',
                  this.postBroadphaseHandler,
                  this,
                );
            },
            postBroadphaseHandler(t) {
              if (this.postBroadphaseCallback && t.pairs.length !== 0) {
                for (let e = t.pairs.length - 2; e >= 0; e -= 2) {
                  t.pairs[e].parent &&
                    t.pairs[e + 1].parent &&
                    !this.postBroadphaseCallback.call(
                      this.callbackContext,
                      t.pairs[e].parent,
                      t.pairs[e + 1].parent,
                    ) &&
                    t.pairs.splice(e, 2);
                }
              }
            },
            impactHandler(t) {
              if (t.bodyA.parent && t.bodyB.parent) {
                let e = t.bodyA.parent,
                  i = t.bodyB.parent;
                e._bodyCallbacks[t.bodyB.id] &&
                  e._bodyCallbacks[t.bodyB.id].call(
                    e._bodyCallbackContext[t.bodyB.id],
                    e,
                    i,
                    t.shapeA,
                    t.shapeB,
                  ),
                i._bodyCallbacks[t.bodyA.id] &&
                    i._bodyCallbacks[t.bodyA.id].call(
                      i._bodyCallbackContext[t.bodyA.id],
                      i,
                      e,
                      t.shapeB,
                      t.shapeA,
                    ),
                e._groupCallbacks[t.shapeB.collisionGroup] &&
                    e._groupCallbacks[t.shapeB.collisionGroup].call(
                      e._groupCallbackContext[t.shapeB.collisionGroup],
                      e,
                      i,
                      t.shapeA,
                      t.shapeB,
                    ),
                i._groupCallbacks[t.shapeA.collisionGroup] &&
                    i._groupCallbacks[t.shapeA.collisionGroup].call(
                      i._groupCallbackContext[t.shapeA.collisionGroup],
                      i,
                      e,
                      t.shapeB,
                      t.shapeA,
                    );
              }
            },
            beginContactHandler(t) {
              t.bodyA &&
                t.bodyB &&
                (this.onBeginContact.dispatch(
                  t.bodyA,
                  t.bodyB,
                  t.shapeA,
                  t.shapeB,
                  t.contactEquations,
                ),
                t.bodyA.parent &&
                  t.bodyA.parent.onBeginContact.dispatch(
                    t.bodyB.parent,
                    t.bodyB,
                    t.shapeA,
                    t.shapeB,
                    t.contactEquations,
                  ),
                t.bodyB.parent &&
                  t.bodyB.parent.onBeginContact.dispatch(
                    t.bodyA.parent,
                    t.bodyA,
                    t.shapeB,
                    t.shapeA,
                    t.contactEquations,
                  ));
            },
            endContactHandler(t) {
              t.bodyA &&
                t.bodyB &&
                (this.onEndContact.dispatch(
                  t.bodyA,
                  t.bodyB,
                  t.shapeA,
                  t.shapeB,
                ),
                t.bodyA.parent &&
                  t.bodyA.parent.onEndContact.dispatch(
                    t.bodyB.parent,
                    t.bodyB,
                    t.shapeA,
                    t.shapeB,
                  ),
                t.bodyB.parent &&
                  t.bodyB.parent.onEndContact.dispatch(
                    t.bodyA.parent,
                    t.bodyA,
                    t.shapeB,
                    t.shapeA,
                  ));
            },
            setBoundsToWorld(t, e, i, n, r) {
              this.setBounds(
                this.game.world.bounds.x,
                this.game.world.bounds.y,
                this.game.world.bounds.width,
                this.game.world.bounds.height,
                t,
                e,
                i,
                n,
                r,
              );
            },
            setWorldMaterial(t, e, i, n, r) {
              void 0 === e && (e = !0),
              void 0 === i && (i = !0),
              void 0 === n && (n = !0),
              void 0 === r && (r = !0),
              e &&
                  this.walls.left &&
                  (this.walls.left.shapes[0].material = t),
              i &&
                  this.walls.right &&
                  (this.walls.right.shapes[0].material = t),
              n && this.walls.top && (this.walls.top.shapes[0].material = t),
              r &&
                  this.walls.bottom &&
                  (this.walls.bottom.shapes[0].material = t);
            },
            updateBoundsCollisionGroup(t) {
              void 0 === t && (t = !0);
              const e = t
                ? this.boundsCollisionGroup.mask
                : this.everythingCollisionGroup.mask;
              this.walls.left && (this.walls.left.shapes[0].collisionGroup = e),
              this.walls.right &&
                  (this.walls.right.shapes[0].collisionGroup = e),
              this.walls.top && (this.walls.top.shapes[0].collisionGroup = e),
              this.walls.bottom &&
                  (this.walls.bottom.shapes[0].collisionGroup = e),
              (this._boundsOwnGroup = t);
            },
            setBounds(t, e, i, n, r, a, o, s, u) {
              void 0 === r && (r = this._boundsLeft),
              void 0 === a && (a = this._boundsRight),
              void 0 === o && (o = this._boundsTop),
              void 0 === s && (s = this._boundsBottom),
              void 0 === u && (u = this._boundsOwnGroup),
              this.setupWall(r, 'left', t, e, 1.5707963267948966, u),
              this.setupWall(a, 'right', t + i, e, -1.5707963267948966, u),
              this.setupWall(o, 'top', t, e, -3.141592653589793, u),
              this.setupWall(s, 'bottom', t, e + n, 0, u),
              (this._boundsLeft = r),
              (this._boundsRight = a),
              (this._boundsTop = o),
              (this._boundsBottom = s),
              (this._boundsOwnGroup = u);
            },
            setupWall(t, e, i, n, r, a) {
              t
                ? this.walls[e]
                  ? (this.walls[e].position = [this.pxmi(i), this.pxmi(n)])
                  : ((this.walls[e] = new p2.Body({
                    mass: 0,
                    position: [this.pxmi(i), this.pxmi(n)],
                    angle: r,
                  })),
                  this.walls[e].addShape(new p2.Plane()),
                  a &&
                      (this.walls[
                        e
                      ].shapes[0].collisionGroup = this.boundsCollisionGroup.mask),
                  this.world.addBody(this.walls[e]))
                : this.walls[e] &&
                  (this.world.removeBody(this.walls[e]),
                  (this.walls[e] = null));
            },
            pause() {
              this.paused = !0;
            },
            resume() {
              this.paused = !1;
            },
            update() {
              this.paused ||
                (this.useElapsedTime
                  ? this.world.step(this.game.time.physicsElapsed)
                  : this.world.step(this.frameRate));
            },
            reset() {
              this.world.on('beginContact', this.beginContactHandler, this),
              this.world.on('endContact', this.endContactHandler, this),
              (this.nothingCollisionGroup = new a.Physics.P2.CollisionGroup(1)),
              (this.boundsCollisionGroup = new a.Physics.P2.CollisionGroup(2)),
              (this.everythingCollisionGroup = new a.Physics.P2.CollisionGroup(2147483648)),
              (this._collisionGroupID = 2),
              this.setBoundsToWorld(!0, !0, !0, !0, !1);
            },
            clear() {
              (this.world.time = 0),
              (this.world.fixedStepTime = 0),
              this.world.solver &&
                  this.world.solver.equations.length &&
                  this.world.solver.removeAllEquations();
              for (
                var t = this.world.constraints, e = t.length - 1;
                e >= 0;
                e--
              ) { this.world.removeConstraint(t[e]); }
              for (var i = this.world.bodies, e = i.length - 1; e >= 0; e--) { this.world.removeBody(i[e]); }
              for (var n = this.world.springs, e = n.length - 1; e >= 0; e--) { this.world.removeSpring(n[e]); }
              for (
                var r = this.world.contactMaterials, e = r.length - 1;
                e >= 0;
                e--
              ) { this.world.removeContactMaterial(r[e]); }
              this.world.off('beginContact', this.beginContactHandler, this),
              this.world.off('endContact', this.endContactHandler, this),
              (this.postBroadphaseCallback = null),
              (this.callbackContext = null),
              (this.impactCallback = null),
              (this.collisionGroups = []),
              (this._toRemove = []),
              (this.boundsCollidesWith = []);
            },
            destroy() {
              this.clear(), (this.game = null);
            },
            addBody(t) {
              return (
                !t.data.world &&
                (this.world.addBody(t.data), this.onBodyAdded.dispatch(t), !0)
              );
            },
            removeBody(t) {
              return (
                t.data.world == this.world &&
                  (this.world.removeBody(t.data),
                  this.onBodyRemoved.dispatch(t)),
                t
              );
            },
            addSpring(t) {
              return (
                t instanceof a.Physics.P2.Spring ||
                t instanceof a.Physics.P2.RotationalSpring
                  ? this.world.addSpring(t.data)
                  : this.world.addSpring(t),
                this.onSpringAdded.dispatch(t),
                t
              );
            },
            removeSpring(t) {
              return (
                t instanceof a.Physics.P2.Spring ||
                t instanceof a.Physics.P2.RotationalSpring
                  ? this.world.removeSpring(t.data)
                  : this.world.removeSpring(t),
                this.onSpringRemoved.dispatch(t),
                t
              );
            },
            createDistanceConstraint(t, e, i, n, r, o) {
              if (((t = this.getBody(t)), (e = this.getBody(e)), t && e)) {
                return this.addConstraint(new a.Physics.P2.DistanceConstraint(this, t, e, i, n, r, o));
              }
              console.warn('Cannot create Constraint, invalid body objects given');
            },
            createGearConstraint(t, e, i, n) {
              if (((t = this.getBody(t)), (e = this.getBody(e)), t && e)) { return this.addConstraint(new a.Physics.P2.GearConstraint(this, t, e, i, n)); }
              console.warn('Cannot create Constraint, invalid body objects given');
            },
            createRevoluteConstraint(t, e, i, n, r, o) {
              if (((t = this.getBody(t)), (i = this.getBody(i)), t && i)) {
                return this.addConstraint(new a.Physics.P2.RevoluteConstraint(this, t, e, i, n, r, o));
              }
              console.warn('Cannot create Constraint, invalid body objects given');
            },
            createLockConstraint(t, e, i, n, r) {
              if (((t = this.getBody(t)), (e = this.getBody(e)), t && e)) {
                return this.addConstraint(new a.Physics.P2.LockConstraint(this, t, e, i, n, r));
              }
              console.warn('Cannot create Constraint, invalid body objects given');
            },
            createPrismaticConstraint(t, e, i, n, r, o, s) {
              if (((t = this.getBody(t)), (e = this.getBody(e)), t && e)) {
                return this.addConstraint(new a.Physics.P2.PrismaticConstraint(
                  this,
                  t,
                  e,
                  i,
                  n,
                  r,
                  o,
                  s,
                ));
              }
              console.warn('Cannot create Constraint, invalid body objects given');
            },
            addConstraint(t) {
              return (
                this.world.addConstraint(t),
                this.onConstraintAdded.dispatch(t),
                t
              );
            },
            removeConstraint(t) {
              return (
                this.world.removeConstraint(t),
                this.onConstraintRemoved.dispatch(t),
                t
              );
            },
            addContactMaterial(t) {
              return (
                this.world.addContactMaterial(t),
                this.onContactMaterialAdded.dispatch(t),
                t
              );
            },
            removeContactMaterial(t) {
              return (
                this.world.removeContactMaterial(t),
                this.onContactMaterialRemoved.dispatch(t),
                t
              );
            },
            getContactMaterial(t, e) {
              return this.world.getContactMaterial(t, e);
            },
            setMaterial(t, e) {
              for (let i = e.length; i--;) e[i].setMaterial(t);
            },
            createMaterial(t, e) {
              t = t || '';
              const i = new a.Physics.P2.Material(t);
              return (
                this.materials.push(i), void 0 !== e && e.setMaterial(i), i
              );
            },
            createContactMaterial(t, e, i) {
              void 0 === t && (t = this.createMaterial()),
              void 0 === e && (e = this.createMaterial());
              const n = new a.Physics.P2.ContactMaterial(t, e, i);
              return this.addContactMaterial(n);
            },
            getBodies() {
              for (var t = [], e = this.world.bodies.length; e--;) { t.push(this.world.bodies[e].parent); }
              return t;
            },
            getBody(t) {
              return t instanceof p2.Body
                ? t
                : t instanceof a.Physics.P2.Body
                  ? t.data
                  : t.body && t.body.type === a.Physics.P2JS
                    ? t.body.data
                    : null;
            },
            getSprings() {
              for (var t = [], e = this.world.springs.length; e--;) { t.push(this.world.springs[e].parent); }
              return t;
            },
            getConstraints() {
              for (var t = [], e = this.world.constraints.length; e--;) { t.push(this.world.constraints[e]); }
              return t;
            },
            hitTest(t, e, i, n) {
              void 0 === e && (e = this.world.bodies),
              void 0 === i && (i = 5),
              void 0 === n && (n = !1);
              for (
                var r = [this.pxmi(t.x), this.pxmi(t.y)], o = [], s = e.length;
                s--;

              ) {
                e[s] instanceof a.Physics.P2.Body &&
                (!n || e[s].data.type !== p2.Body.STATIC)
                  ? o.push(e[s].data)
                  : e[s] instanceof p2.Body &&
                    e[s].parent &&
                    (!n || e[s].type !== p2.Body.STATIC)
                    ? o.push(e[s])
                    : e[s] instanceof a.Sprite &&
                    e[s].hasOwnProperty('body') &&
                    (!n || e[s].body.data.type !== p2.Body.STATIC) &&
                    o.push(e[s].body.data);
              }
              return this.world.hitTest(r, o, i);
            },
            toJSON() {
              return this.world.toJSON();
            },
            createCollisionGroup(t) {
              const e = Math.pow(2, this._collisionGroupID);
              this.walls.left &&
                (this.walls.left.shapes[0].collisionMask =
                  this.walls.left.shapes[0].collisionMask | e),
              this.walls.right &&
                  (this.walls.right.shapes[0].collisionMask =
                    this.walls.right.shapes[0].collisionMask | e),
              this.walls.top &&
                  (this.walls.top.shapes[0].collisionMask =
                    this.walls.top.shapes[0].collisionMask | e),
              this.walls.bottom &&
                  (this.walls.bottom.shapes[0].collisionMask =
                    this.walls.bottom.shapes[0].collisionMask | e),
              this._collisionGroupID++;
              const i = new a.Physics.P2.CollisionGroup(e);
              return (
                this.collisionGroups.push(i),
                t && this.setCollisionGroup(t, i),
                i
              );
            },
            setCollisionGroup(t, e) {
              if (t instanceof a.Group) {
                for (let i = 0; i < t.total; i++) {
                  t.children[i].body &&
                    t.children[i].body.type === a.Physics.P2JS &&
                    t.children[i].body.setCollisionGroup(e);
                }
              } else t.body.setCollisionGroup(e);
            },
            createSpring(t, e, i, n, r, o, s, u, l) {
              if (((t = this.getBody(t)), (e = this.getBody(e)), t && e)) { return this.addSpring(new a.Physics.P2.Spring(this, t, e, i, n, r, o, s, u, l)); }
              console.warn('Cannot create Spring, invalid body objects given');
            },
            createRotationalSpring(t, e, i, n, r) {
              if (((t = this.getBody(t)), (e = this.getBody(e)), t && e)) {
                return this.addSpring(new a.Physics.P2.RotationalSpring(this, t, e, i, n, r));
              }
              console.warn('Cannot create Rotational Spring, invalid body objects given');
            },
            createBody(t, e, i, n, r, o) {
              void 0 === n && (n = !1);
              const s = new a.Physics.P2.Body(this.game, null, t, e, i);
              return (
                !(o && !s.addPolygon(r, o)) &&
                (n && this.world.addBody(s.data), s)
              );
            },
            createParticle(t, e, i, n, r, o) {
              void 0 === n && (n = !1);
              const s = new a.Physics.P2.Body(this.game, null, t, e, i);
              return (
                !(o && !s.addPolygon(r, o)) &&
                (n && this.world.addBody(s.data), s)
              );
            },
            convertCollisionObjects(t, e, i) {
              void 0 === i && (i = !0);
              for (var n = [], r = 0, a = t.collision[e].length; r < a; r++) {
                let o = t.collision[e][r],
                  s = this.createBody(o.x, o.y, 0, i, {}, o.polyline);
                s && n.push(s);
              }
              return n;
            },
            clearTilemapLayerBodies(t, e) {
              e = t.getLayer(e);
              for (let i = t.layers[e].bodies.length; i--;) { t.layers[e].bodies[i].destroy(); }
              t.layers[e].bodies.length = 0;
            },
            convertTilemap(t, e, i, n) {
              (e = t.getLayer(e)),
              void 0 === i && (i = !0),
              void 0 === n && (n = !0),
              this.clearTilemapLayerBodies(t, e);
              for (
                let r = 0, a = 0, o = 0, s = 0, u = t.layers[e].height;
                s < u;
                s++
              ) {
                r = 0;
                for (let l = 0, c = t.layers[e].width; l < c; l++) {
                  const h = t.layers[e].data[s][l];
                  if (h && h.index > -1 && h.collides) {
                    if (n) {
                      const d = t.getTileRight(e, l, s);
                      if (
                        (r === 0 &&
                          ((a = h.x * h.width),
                          (o = h.y * h.height),
                          (r = h.width)),
                        d && d.collides)
                      ) { r += h.width; } else {
                        var f = this.createBody(a, o, 0, !1);
                        f.addRectangle(r, h.height, r / 2, h.height / 2, 0),
                        i && this.addBody(f),
                        t.layers[e].bodies.push(f),
                        (r = 0);
                      }
                    } else {
                      var f = this.createBody(
                        h.x * h.width,
                        h.y * h.height,
                        0,
                        !1,
                      );
                      f.addRectangle(
                        h.width,
                        h.height,
                        h.width / 2,
                        h.height / 2,
                        0,
                      ),
                      i && this.addBody(f),
                      t.layers[e].bodies.push(f);
                    }
                  }
                }
              }
              return t.layers[e].bodies;
            },
            mpx(t) {
              return (t *= 20);
            },
            pxm(t) {
              return 0.05 * t;
            },
            mpxi(t) {
              return (t *= -20);
            },
            pxmi(t) {
              return -0.05 * t;
            },
          }),
          Object.defineProperty(a.Physics.P2.prototype, 'friction', {
            get() {
              return this.world.defaultContactMaterial.friction;
            },
            set(t) {
              this.world.defaultContactMaterial.friction = t;
            },
          }),
          Object.defineProperty(a.Physics.P2.prototype, 'restitution', {
            get() {
              return this.world.defaultContactMaterial.restitution;
            },
            set(t) {
              this.world.defaultContactMaterial.restitution = t;
            },
          }),
          Object.defineProperty(a.Physics.P2.prototype, 'contactMaterial', {
            get() {
              return this.world.defaultContactMaterial;
            },
            set(t) {
              this.world.defaultContactMaterial = t;
            },
          }),
          Object.defineProperty(a.Physics.P2.prototype, 'applySpringForces', {
            get() {
              return this.world.applySpringForces;
            },
            set(t) {
              this.world.applySpringForces = t;
            },
          }),
          Object.defineProperty(a.Physics.P2.prototype, 'applyDamping', {
            get() {
              return this.world.applyDamping;
            },
            set(t) {
              this.world.applyDamping = t;
            },
          }),
          Object.defineProperty(a.Physics.P2.prototype, 'applyGravity', {
            get() {
              return this.world.applyGravity;
            },
            set(t) {
              this.world.applyGravity = t;
            },
          }),
          Object.defineProperty(a.Physics.P2.prototype, 'solveConstraints', {
            get() {
              return this.world.solveConstraints;
            },
            set(t) {
              this.world.solveConstraints = t;
            },
          }),
          Object.defineProperty(a.Physics.P2.prototype, 'time', {
            get() {
              return this.world.time;
            },
          }),
          Object.defineProperty(a.Physics.P2.prototype, 'emitImpactEvent', {
            get() {
              return this.world.emitImpactEvent;
            },
            set(t) {
              this.world.emitImpactEvent = t;
            },
          }),
          Object.defineProperty(a.Physics.P2.prototype, 'sleepMode', {
            get() {
              return this.world.sleepMode;
            },
            set(t) {
              this.world.sleepMode = t;
            },
          }),
          Object.defineProperty(a.Physics.P2.prototype, 'total', {
            get() {
              return this.world.bodies.length;
            },
          }),
          (a.Physics.P2.FixtureList = function (t) {
            Array.isArray(t) || (t = [t]),
            (this.rawList = t),
            this.init(),
            this.parse(this.rawList);
          }),
          (a.Physics.P2.FixtureList.prototype = {
            init() {
              (this.namedFixtures = {}),
              (this.groupedFixtures = []),
              (this.allFixtures = []);
            },
            setCategory(t, e) {
              const i = function (e) {
                e.collisionGroup = t;
              };
              this.getFixtures(e).forEach(i);
            },
            setMask(t, e) {
              const i = function (e) {
                e.collisionMask = t;
              };
              this.getFixtures(e).forEach(i);
            },
            setSensor(t, e) {
              const i = function (e) {
                e.sensor = t;
              };
              this.getFixtures(e).forEach(i);
            },
            setMaterial(t, e) {
              const i = function (e) {
                e.material = t;
              };
              this.getFixtures(e).forEach(i);
            },
            getFixtures(t) {
              const e = [];
              if (t) {
                t instanceof Array || (t = [t]);
                const i = this;
                return (
                  t.forEach((t) => {
                    i.namedFixtures[t] && e.push(i.namedFixtures[t]);
                  }),
                  this.flatten(e)
                );
              }
              return this.allFixtures;
            },
            getFixtureByKey(t) {
              return this.namedFixtures[t];
            },
            getGroup(t) {
              return this.groupedFixtures[t];
            },
            parse() {
              let t,
                e,
                i,
                n;
              (i = this.rawList), (n = []);
              for (t in i) {
                (e = i[t]),
                isNaN(t - 0)
                  ? (this.namedFixtures[t] = this.flatten(e))
                  : ((this.groupedFixtures[t] =
                        this.groupedFixtures[t] || []),
                  (this.groupedFixtures[t] = this.groupedFixtures[t].concat(e))),
                n.push((this.allFixtures = this.flatten(this.groupedFixtures)));
              }
            },
            flatten(t) {
              let e,
                i;
              return (
                (e = []),
                (i = arguments.callee),
                t.forEach(t => Array.prototype.push.apply(
                  e,
                  Array.isArray(t) ? i(t) : [t],
                )),
                e
              );
            },
          }),
          (a.Physics.P2.PointProxy = function (t, e) {
            (this.world = t), (this.destination = e);
          }),
          (a.Physics.P2.PointProxy.prototype.constructor =
            a.Physics.P2.PointProxy),
          Object.defineProperty(a.Physics.P2.PointProxy.prototype, 'x', {
            get() {
              return this.world.mpx(this.destination[0]);
            },
            set(t) {
              this.destination[0] = this.world.pxm(t);
            },
          }),
          Object.defineProperty(a.Physics.P2.PointProxy.prototype, 'y', {
            get() {
              return this.world.mpx(this.destination[1]);
            },
            set(t) {
              this.destination[1] = this.world.pxm(t);
            },
          }),
          Object.defineProperty(a.Physics.P2.PointProxy.prototype, 'mx', {
            get() {
              return this.destination[0];
            },
            set(t) {
              this.destination[0] = t;
            },
          }),
          Object.defineProperty(a.Physics.P2.PointProxy.prototype, 'my', {
            get() {
              return this.destination[1];
            },
            set(t) {
              this.destination[1] = t;
            },
          }),
          (a.Physics.P2.InversePointProxy = function (t, e) {
            (this.world = t), (this.destination = e);
          }),
          (a.Physics.P2.InversePointProxy.prototype.constructor =
            a.Physics.P2.InversePointProxy),
          Object.defineProperty(a.Physics.P2.InversePointProxy.prototype, 'x', {
            get() {
              return this.world.mpxi(this.destination[0]);
            },
            set(t) {
              this.destination[0] = this.world.pxmi(t);
            },
          }),
          Object.defineProperty(a.Physics.P2.InversePointProxy.prototype, 'y', {
            get() {
              return this.world.mpxi(this.destination[1]);
            },
            set(t) {
              this.destination[1] = this.world.pxmi(t);
            },
          }),
          Object.defineProperty(
            a.Physics.P2.InversePointProxy.prototype,
            'mx',
            {
              get() {
                return this.destination[0];
              },
              set(t) {
                this.destination[0] = -t;
              },
            },
          ),
          Object.defineProperty(
            a.Physics.P2.InversePointProxy.prototype,
            'my',
            {
              get() {
                return this.destination[1];
              },
              set(t) {
                this.destination[1] = -t;
              },
            },
          ),
          (a.Physics.P2.Body = function (t, e, i, n, r) {
            (e = e || null),
            (i = i || 0),
            (n = n || 0),
            void 0 === r && (r = 1),
            (this.game = t),
            (this.world = t.physics.p2),
            (this.sprite = e),
            (this.type = a.Physics.P2JS),
            (this.offset = new a.Point()),
            (this.data = new p2.Body({
              position: [this.world.pxmi(i), this.world.pxmi(n)],
              mass: r,
            })),
            (this.data.parent = this),
            (this.velocity = new a.Physics.P2.InversePointProxy(
              this.world,
              this.data.velocity,
            )),
            (this.force = new a.Physics.P2.InversePointProxy(
              this.world,
              this.data.force,
            )),
            (this.gravity = new a.Point()),
            (this.onBeginContact = new a.Signal()),
            (this.onEndContact = new a.Signal()),
            (this.collidesWith = []),
            (this.removeNextStep = !1),
            (this.debugBody = null),
            (this.dirty = !1),
            (this._collideWorldBounds = !0),
            (this._bodyCallbacks = {}),
            (this._bodyCallbackContext = {}),
            (this._groupCallbacks = {}),
            (this._groupCallbackContext = {}),
            (this._reset = !1),
            e &&
                (this.setRectangleFromSprite(e),
                e.exists && this.game.physics.p2.addBody(this));
          }),
          (a.Physics.P2.Body.prototype = {
            createBodyCallback(t, e, i) {
              let n = -1;
              t.id ? (n = t.id) : t.body && (n = t.body.id),
              n > -1 &&
                  (e === null
                    ? (delete this._bodyCallbacks[n],
                    delete this._bodyCallbackContext[n])
                    : ((this._bodyCallbacks[n] = e),
                    (this._bodyCallbackContext[n] = i)));
            },
            createGroupCallback(t, e, i) {
              e === null
                ? (delete this._groupCallbacks[t.mask],
                delete this._groupCallbackContext[t.mask])
                : ((this._groupCallbacks[t.mask] = e),
                (this._groupCallbackContext[t.mask] = i));
            },
            getCollisionMask() {
              let t = 0;
              this._collideWorldBounds &&
                (t = this.game.physics.p2.boundsCollisionGroup.mask);
              for (let e = 0; e < this.collidesWith.length; e++) { t |= this.collidesWith[e].mask; }
              return t;
            },
            updateCollisionMask(t) {
              const e = this.getCollisionMask();
              if (void 0 === t) {
                for (let i = this.data.shapes.length - 1; i >= 0; i--) { this.data.shapes[i].collisionMask = e; }
              } else t.collisionMask = e;
            },
            setCollisionGroup(t, e) {
              const i = this.getCollisionMask();
              if (void 0 === e) {
                for (let n = this.data.shapes.length - 1; n >= 0; n--) {
                  (this.data.shapes[n].collisionGroup = t.mask),
                  (this.data.shapes[n].collisionMask = i);
                }
              } else (e.collisionGroup = t.mask), (e.collisionMask = i);
            },
            clearCollision(t, e, i) {
              if (
                (void 0 === t && (t = !0),
                void 0 === e && (e = !0),
                void 0 === i)
              ) {
                for (let n = this.data.shapes.length - 1; n >= 0; n--) {
                  t && (this.data.shapes[n].collisionGroup = null),
                  e && (this.data.shapes[n].collisionMask = null);
                }
              } else { t && (i.collisionGroup = null), e && (i.collisionMask = null); }
              t && (this.collidesWith.length = 0);
            },
            removeCollisionGroup(t, e, i) {
              void 0 === e && (e = !0);
              let n;
              if (Array.isArray(t)) {
                for (var r = 0; r < t.length; r++) {
                  (n = this.collidesWith.indexOf(t[r])) > -1 &&
                    (this.collidesWith.splice(n, 1),
                    e &&
                      (delete this._groupCallbacks[t.mask],
                      delete this._groupCallbackContext[t.mask]));
                }
              } else {
                (n = this.collidesWith.indexOf(t)) > -1 &&
                  (this.collidesWith.splice(n, 1),
                  e &&
                    (delete this._groupCallbacks[t.mask],
                    delete this._groupCallbackContext[t.mask]));
              }
              const a = this.getCollisionMask();
              if (void 0 === i) {
                for (var r = this.data.shapes.length - 1; r >= 0; r--) { this.data.shapes[r].collisionMask = a; }
              } else i.collisionMask = a;
            },
            collides(t, e, i, n) {
              if (Array.isArray(t)) {
                for (var r = 0; r < t.length; r++) {
                  this.collidesWith.indexOf(t[r]) === -1 &&
                    (this.collidesWith.push(t[r]),
                    e && this.createGroupCallback(t[r], e, i));
                }
              } else {
                this.collidesWith.indexOf(t) === -1 &&
                  (this.collidesWith.push(t),
                  e && this.createGroupCallback(t, e, i));
              }
              const a = this.getCollisionMask();
              if (void 0 === n) {
                for (var r = this.data.shapes.length - 1; r >= 0; r--) { this.data.shapes[r].collisionMask = a; }
              } else n.collisionMask = a;
            },
            adjustCenterOfMass() {
              this.data.adjustCenterOfMass(), this.shapeChanged();
            },
            getVelocityAtPoint(t, e) {
              return this.data.getVelocityAtPoint(t, e);
            },
            applyDamping(t) {
              this.data.applyDamping(t);
            },
            applyImpulse(t, e, i) {
              this.data.applyImpulse(t, [
                this.world.pxmi(e),
                this.world.pxmi(i),
              ]);
            },
            applyImpulseLocal(t, e, i) {
              this.data.applyImpulseLocal(t, [
                this.world.pxmi(e),
                this.world.pxmi(i),
              ]);
            },
            applyForce(t, e, i) {
              this.data.applyForce(t, [this.world.pxmi(e), this.world.pxmi(i)]);
            },
            setZeroForce() {
              this.data.setZeroForce();
            },
            setZeroRotation() {
              this.data.angularVelocity = 0;
            },
            setZeroVelocity() {
              (this.data.velocity[0] = 0), (this.data.velocity[1] = 0);
            },
            setZeroDamping() {
              (this.data.damping = 0), (this.data.angularDamping = 0);
            },
            toLocalFrame(t, e) {
              return this.data.toLocalFrame(t, e);
            },
            toWorldFrame(t, e) {
              return this.data.toWorldFrame(t, e);
            },
            rotateLeft(t) {
              this.data.angularVelocity = this.world.pxm(-t);
            },
            rotateRight(t) {
              this.data.angularVelocity = this.world.pxm(t);
            },
            moveForward(t) {
              let e = this.world.pxmi(-t),
                i = this.data.angle + Math.PI / 2;
              (this.data.velocity[0] = e * Math.cos(i)),
              (this.data.velocity[1] = e * Math.sin(i));
            },
            moveBackward(t) {
              let e = this.world.pxmi(-t),
                i = this.data.angle + Math.PI / 2;
              (this.data.velocity[0] = -e * Math.cos(i)),
              (this.data.velocity[1] = -e * Math.sin(i));
            },
            thrust(t) {
              let e = this.world.pxmi(-t),
                i = this.data.angle + Math.PI / 2;
              (this.data.force[0] += e * Math.cos(i)),
              (this.data.force[1] += e * Math.sin(i));
            },
            thrustLeft(t) {
              let e = this.world.pxmi(-t),
                i = this.data.angle;
              (this.data.force[0] += e * Math.cos(i)),
              (this.data.force[1] += e * Math.sin(i));
            },
            thrustRight(t) {
              let e = this.world.pxmi(-t),
                i = this.data.angle;
              (this.data.force[0] -= e * Math.cos(i)),
              (this.data.force[1] -= e * Math.sin(i));
            },
            reverse(t) {
              let e = this.world.pxmi(-t),
                i = this.data.angle + Math.PI / 2;
              (this.data.force[0] -= e * Math.cos(i)),
              (this.data.force[1] -= e * Math.sin(i));
            },
            moveLeft(t) {
              this.data.velocity[0] = this.world.pxmi(-t);
            },
            moveRight(t) {
              this.data.velocity[0] = this.world.pxmi(t);
            },
            moveUp(t) {
              this.data.velocity[1] = this.world.pxmi(-t);
            },
            moveDown(t) {
              this.data.velocity[1] = this.world.pxmi(t);
            },
            preUpdate() {
              (this.dirty = !0),
              this.removeNextStep &&
                  (this.removeFromWorld(), (this.removeNextStep = !1));
            },
            postUpdate() {
              (this.sprite.x =
                this.world.mpxi(this.data.position[0]) + this.offset.x),
              (this.sprite.y =
                  this.world.mpxi(this.data.position[1]) + this.offset.y),
              this.fixedRotation || (this.sprite.rotation = this.data.angle),
              this.debugBody && this.debugBody.updateSpriteTransform(),
              (this.dirty = !1);
            },
            reset(t, e, i, n) {
              void 0 === i && (i = !1),
              void 0 === n && (n = !1),
              this.setZeroForce(),
              this.setZeroVelocity(),
              this.setZeroRotation(),
              i && this.setZeroDamping(),
              n && (this.mass = 1),
              (this.x = t),
              (this.y = e);
            },
            addToWorld() {
              if (this.game.physics.p2._toRemove) {
                for (let t = 0; t < this.game.physics.p2._toRemove.length; t++) {
                  this.game.physics.p2._toRemove[t] === this &&
                    this.game.physics.p2._toRemove.splice(t, 1);
                }
              }
              this.data.world !== this.game.physics.p2.world &&
                this.game.physics.p2.addBody(this);
            },
            removeFromWorld() {
              this.data.world === this.game.physics.p2.world &&
                this.game.physics.p2.removeBodyNextStep(this);
            },
            destroy() {
              this.removeFromWorld(),
              this.clearShapes(),
              (this._bodyCallbacks = {}),
              (this._bodyCallbackContext = {}),
              (this._groupCallbacks = {}),
              (this._groupCallbackContext = {}),
              this.debugBody && this.debugBody.destroy(!0, !0),
              (this.debugBody = null),
              this.sprite &&
                  ((this.sprite.body = null), (this.sprite = null));
            },
            clearShapes() {
              for (let t = this.data.shapes.length; t--;) { this.data.removeShape(this.data.shapes[t]); }
              this.shapeChanged();
            },
            addShape(t, e, i, n) {
              return (
                void 0 === e && (e = 0),
                void 0 === i && (i = 0),
                void 0 === n && (n = 0),
                this.data.addShape(
                  t,
                  [this.world.pxmi(e), this.world.pxmi(i)],
                  n,
                ),
                this.shapeChanged(),
                t
              );
            },
            addCircle(t, e, i, n) {
              const r = new p2.Circle({ radius: this.world.pxm(t) });
              return this.addShape(r, e, i, n);
            },
            addRectangle(t, e, i, n, r) {
              const a = new p2.Box({
                width: this.world.pxm(t),
                height: this.world.pxm(e),
              });
              return this.addShape(a, i, n, r);
            },
            addPlane(t, e, i) {
              const n = new p2.Plane();
              return this.addShape(n, t, e, i);
            },
            addParticle(t, e, i) {
              const n = new p2.Particle();
              return this.addShape(n, t, e, i);
            },
            addLine(t, e, i, n) {
              const r = new p2.Line({ length: this.world.pxm(t) });
              return this.addShape(r, e, i, n);
            },
            addCapsule(t, e, i, n, r) {
              const a = new p2.Capsule({
                length: this.world.pxm(t),
                radius: this.world.pxm(e),
              });
              return this.addShape(a, i, n, r);
            },
            addPolygon(t, e) {
              (t = t || {}),
              Array.isArray(e) ||
                  (e = Array.prototype.slice.call(arguments, 1));
              let i = [];
              if (e.length === 1 && Array.isArray(e[0])) i = e[0].slice(0);
              else if (Array.isArray(e[0])) i = e.slice();
              else if (typeof e[0] === 'number') {
                for (let n = 0, r = e.length; n < r; n += 2) { i.push([e[n], e[n + 1]]); }
              }
              const a = i.length - 1;
              i[a][0] === i[0][0] && i[a][1] === i[0][1] && i.pop();
              for (let o = 0; o < i.length; o++) {
                (i[o][0] = this.world.pxmi(i[o][0])),
                (i[o][1] = this.world.pxmi(i[o][1]));
              }
              const s = this.data.fromPolygon(i, t);
              return this.shapeChanged(), s;
            },
            removeShape(t) {
              const e = this.data.removeShape(t);
              return this.shapeChanged(), e;
            },
            setCircle(t, e, i, n) {
              return this.clearShapes(), this.addCircle(t, e, i, n);
            },
            setRectangle(t, e, i, n, r) {
              return (
                void 0 === t && (t = 16),
                void 0 === e && (e = 16),
                this.clearShapes(),
                this.addRectangle(t, e, i, n, r)
              );
            },
            setRectangleFromSprite(t) {
              return (
                void 0 === t && (t = this.sprite),
                this.clearShapes(),
                this.addRectangle(t.width, t.height, 0, 0, t.rotation)
              );
            },
            setMaterial(t, e) {
              if (void 0 === e) {
                for (let i = this.data.shapes.length - 1; i >= 0; i--) { this.data.shapes[i].material = t; }
              } else e.material = t;
            },
            shapeChanged() {
              this.debugBody && this.debugBody.draw();
            },
            addPhaserPolygon(t, e) {
              for (
                var i = this.game.cache.getPhysicsData(t, e), n = [], r = 0;
                r < i.length;
                r++
              ) {
                let a = i[r],
                  o = this.addFixture(a);
                (n[a.filter.group] = n[a.filter.group] || []),
                (n[a.filter.group] = n[a.filter.group].concat(o)),
                a.fixtureKey && (n[a.fixtureKey] = o);
              }
              return (this.data.aabbNeedsUpdate = !0), this.shapeChanged(), n;
            },
            addFixture(t) {
              const e = [];
              if (t.circle) {
                var i = new p2.Circle({
                  radius: this.world.pxm(t.circle.radius),
                });
                (i.collisionGroup = t.filter.categoryBits),
                (i.collisionMask = t.filter.maskBits),
                (i.sensor = t.isSensor);
                const n = p2.vec2.create();
                (n[0] = this.world.pxmi(t.circle.position[0] - this.sprite.width / 2)),
                (n[1] = this.world.pxmi(t.circle.position[1] - this.sprite.height / 2)),
                this.data.addShape(i, n),
                e.push(i);
              } else {
                for (
                  let r = t.polygons, a = p2.vec2.create(), o = 0;
                  o < r.length;
                  o++
                ) {
                  for (var s = r[o], u = [], l = 0; l < s.length; l += 2) { u.push([this.world.pxmi(s[l]), this.world.pxmi(s[l + 1])]); }
                  for (
                    var i = new p2.Convex({ vertices: u }), c = 0;
                    c !== i.vertices.length;
                    c++
                  ) {
                    const h = i.vertices[c];
                    p2.vec2.sub(h, h, i.centerOfMass);
                  }
                  p2.vec2.scale(a, i.centerOfMass, 1),
                  (a[0] -= this.world.pxmi(this.sprite.width / 2)),
                  (a[1] -= this.world.pxmi(this.sprite.height / 2)),
                  i.updateTriangles(),
                  i.updateCenterOfMass(),
                  i.updateBoundingRadius(),
                  (i.collisionGroup = t.filter.categoryBits),
                  (i.collisionMask = t.filter.maskBits),
                  (i.sensor = t.isSensor),
                  this.data.addShape(i, a),
                  e.push(i);
                }
              }
              return e;
            },
            loadPolygon(t, e) {
              if (t === null) var i = e;
              else var i = this.game.cache.getPhysicsData(t, e);
              for (let n = p2.vec2.create(), r = 0; r < i.length; r++) {
                for (var a = [], o = 0; o < i[r].shape.length; o += 2) {
                  a.push([
                    this.world.pxmi(i[r].shape[o]),
                    this.world.pxmi(i[r].shape[o + 1]),
                  ]);
                }
                for (
                  var s = new p2.Convex({ vertices: a }), u = 0;
                  u !== s.vertices.length;
                  u++
                ) {
                  const l = s.vertices[u];
                  p2.vec2.sub(l, l, s.centerOfMass);
                }
                p2.vec2.scale(n, s.centerOfMass, 1),
                (n[0] -= this.world.pxmi(this.sprite.width / 2)),
                (n[1] -= this.world.pxmi(this.sprite.height / 2)),
                s.updateTriangles(),
                s.updateCenterOfMass(),
                s.updateBoundingRadius(),
                this.data.addShape(s, n);
              }
              return (this.data.aabbNeedsUpdate = !0), this.shapeChanged(), !0;
            },
          }),
          (a.Physics.P2.Body.prototype.constructor = a.Physics.P2.Body),
          (a.Physics.P2.Body.DYNAMIC = 1),
          (a.Physics.P2.Body.STATIC = 2),
          (a.Physics.P2.Body.KINEMATIC = 4),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'static', {
            get() {
              return this.data.type === a.Physics.P2.Body.STATIC;
            },
            set(t) {
              t && this.data.type !== a.Physics.P2.Body.STATIC
                ? ((this.data.type = a.Physics.P2.Body.STATIC), (this.mass = 0))
                : t ||
                  this.data.type !== a.Physics.P2.Body.STATIC ||
                  ((this.data.type = a.Physics.P2.Body.DYNAMIC),
                  (this.mass = 1));
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'dynamic', {
            get() {
              return this.data.type === a.Physics.P2.Body.DYNAMIC;
            },
            set(t) {
              t && this.data.type !== a.Physics.P2.Body.DYNAMIC
                ? ((this.data.type = a.Physics.P2.Body.DYNAMIC),
                (this.mass = 1))
                : t ||
                  this.data.type !== a.Physics.P2.Body.DYNAMIC ||
                  ((this.data.type = a.Physics.P2.Body.STATIC),
                  (this.mass = 0));
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'kinematic', {
            get() {
              return this.data.type === a.Physics.P2.Body.KINEMATIC;
            },
            set(t) {
              t && this.data.type !== a.Physics.P2.Body.KINEMATIC
                ? ((this.data.type = a.Physics.P2.Body.KINEMATIC),
                (this.mass = 4))
                : t ||
                  this.data.type !== a.Physics.P2.Body.KINEMATIC ||
                  ((this.data.type = a.Physics.P2.Body.STATIC),
                  (this.mass = 0));
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'allowSleep', {
            get() {
              return this.data.allowSleep;
            },
            set(t) {
              t !== this.data.allowSleep && (this.data.allowSleep = t);
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'angle', {
            get() {
              return a.Math.wrapAngle(a.Math.radToDeg(this.data.angle));
            },
            set(t) {
              this.data.angle = a.Math.degToRad(a.Math.wrapAngle(t));
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'angularDamping', {
            get() {
              return this.data.angularDamping;
            },
            set(t) {
              this.data.angularDamping = t;
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'angularForce', {
            get() {
              return this.data.angularForce;
            },
            set(t) {
              this.data.angularForce = t;
            },
          }),
          Object.defineProperty(
            a.Physics.P2.Body.prototype,
            'angularVelocity',
            {
              get() {
                return this.data.angularVelocity;
              },
              set(t) {
                this.data.angularVelocity = t;
              },
            },
          ),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'damping', {
            get() {
              return this.data.damping;
            },
            set(t) {
              this.data.damping = t;
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'fixedRotation', {
            get() {
              return this.data.fixedRotation;
            },
            set(t) {
              t !== this.data.fixedRotation && (this.data.fixedRotation = t);
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'inertia', {
            get() {
              return this.data.inertia;
            },
            set(t) {
              this.data.inertia = t;
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'mass', {
            get() {
              return this.data.mass;
            },
            set(t) {
              t !== this.data.mass &&
                ((this.data.mass = t), this.data.updateMassProperties());
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'motionState', {
            get() {
              return this.data.type;
            },
            set(t) {
              t !== this.data.type && (this.data.type = t);
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'rotation', {
            get() {
              return this.data.angle;
            },
            set(t) {
              this.data.angle = t;
            },
          }),
          Object.defineProperty(
            a.Physics.P2.Body.prototype,
            'sleepSpeedLimit',
            {
              get() {
                return this.data.sleepSpeedLimit;
              },
              set(t) {
                this.data.sleepSpeedLimit = t;
              },
            },
          ),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'x', {
            get() {
              return this.world.mpxi(this.data.position[0]);
            },
            set(t) {
              this.data.position[0] = this.world.pxmi(t);
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'y', {
            get() {
              return this.world.mpxi(this.data.position[1]);
            },
            set(t) {
              this.data.position[1] = this.world.pxmi(t);
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'id', {
            get() {
              return this.data.id;
            },
          }),
          Object.defineProperty(a.Physics.P2.Body.prototype, 'debug', {
            get() {
              return this.debugBody !== null;
            },
            set(t) {
              t && !this.debugBody
                ? (this.debugBody = new a.Physics.P2.BodyDebug(
                  this.game,
                  this.data,
                ))
                : !t &&
                  this.debugBody &&
                  (this.debugBody.destroy(), (this.debugBody = null));
            },
          }),
          Object.defineProperty(
            a.Physics.P2.Body.prototype,
            'collideWorldBounds',
            {
              get() {
                return this._collideWorldBounds;
              },
              set(t) {
                t && !this._collideWorldBounds
                  ? ((this._collideWorldBounds = !0),
                  this.updateCollisionMask())
                  : !t &&
                    this._collideWorldBounds &&
                    ((this._collideWorldBounds = !1),
                    this.updateCollisionMask());
              },
            },
          ),
          (a.Physics.P2.BodyDebug = function (t, e, i) {
            a.Group.call(this, t);
            const n = {
              pixelsPerLengthUnit: t.physics.p2.mpx(1),
              debugPolygons: !1,
              lineWidth: 1,
              alpha: 0.5,
            };
            (this.settings = a.Utils.extend(n, i)),
            (this.ppu = this.settings.pixelsPerLengthUnit),
            (this.ppu = -1 * this.ppu),
            (this.body = e),
            (this.canvas = new a.Graphics(t)),
            (this.canvas.alpha = this.settings.alpha),
            this.add(this.canvas),
            this.draw(),
            this.updateSpriteTransform();
          }),
          (a.Physics.P2.BodyDebug.prototype = Object.create(a.Group.prototype)),
          (a.Physics.P2.BodyDebug.prototype.constructor =
            a.Physics.P2.BodyDebug),
          a.Utils.extend(a.Physics.P2.BodyDebug.prototype, {
            updateSpriteTransform() {
              (this.position.x = this.body.position[0] * this.ppu),
              (this.position.y = this.body.position[1] * this.ppu),
              (this.rotation = this.body.angle);
            },
            draw() {
              let t,
                e,
                i,
                n,
                r,
                a,
                o,
                s,
                u,
                l,
                c,
                h,
                d,
                f,
                p;
              if (
                ((s = this.body),
                (l = this.canvas),
                l.clear(),
                (i = parseInt(this.randomPastelHex(), 16)),
                (a = 16711680),
                (o = this.lineWidth),
                s instanceof p2.Body && s.shapes.length)
              ) {
                const g = s.shapes.length;
                for (n = 0; n !== g;) {
                  if (
                    ((e = s.shapes[n]),
                    (u = e.position || 0),
                    (t = e.angle || 0),
                    e instanceof p2.Circle)
                  ) {
                    this.drawCircle(
                      l,
                      u[0] * this.ppu,
                      u[1] * this.ppu,
                      t,
                      e.radius * this.ppu,
                      i,
                      o,
                    );
                  } else if (e instanceof p2.Capsule) {
                    this.drawCapsule(
                      l,
                      u[0] * this.ppu,
                      u[1] * this.ppu,
                      t,
                      e.length * this.ppu,
                      e.radius * this.ppu,
                      a,
                      i,
                      o,
                    );
                  } else if (e instanceof p2.Plane) {
                    this.drawPlane(
                      l,
                      u[0] * this.ppu,
                      -u[1] * this.ppu,
                      i,
                      a,
                      5 * o,
                      10 * o,
                      10 * o,
                      100 * this.ppu,
                      t,
                    );
                  } else if (e instanceof p2.Line) { this.drawLine(l, e.length * this.ppu, a, o); } else if (e instanceof p2.Box) {
                    this.drawRectangle(
                      l,
                      u[0] * this.ppu,
                      u[1] * this.ppu,
                      t,
                      e.width * this.ppu,
                      e.height * this.ppu,
                      a,
                      i,
                      o,
                    );
                  } else if (e instanceof p2.Convex) {
                    for (
                      h = [],
                      d = p2.vec2.create(),
                      r = f = 0,
                      p = e.vertices.length;
                      p >= 0 ? f < p : f > p;
                      r = p >= 0 ? ++f : --f
                    ) {
                      (c = e.vertices[r]),
                      p2.vec2.rotate(d, c, t),
                      h.push([
                        (d[0] + u[0]) * this.ppu,
                        -(d[1] + u[1]) * this.ppu,
                      ]);
                    }
                    this.drawConvex(
                      l,
                      h,
                      e.triangles,
                      a,
                      i,
                      o,
                      this.settings.debugPolygons,
                      [u[0] * this.ppu, -u[1] * this.ppu],
                    );
                  }
                  n++;
                }
              }
            },
            drawRectangle(t, e, i, n, r, a, o, s, u) {
              void 0 === u && (u = 1),
              void 0 === o && (o = 0),
              t.lineStyle(u, o, 1),
              t.beginFill(s),
              t.drawRect(e - r / 2, i - a / 2, r, a);
            },
            drawCircle(t, e, i, n, r, a, o) {
              void 0 === o && (o = 1),
              void 0 === a && (a = 16777215),
              t.lineStyle(o, 0, 1),
              t.beginFill(a, 1),
              t.drawCircle(e, i, 2 * -r),
              t.endFill(),
              t.moveTo(e, i),
              t.lineTo(e + r * Math.cos(-n), i + r * Math.sin(-n));
            },
            drawLine(t, e, i, n) {
              void 0 === n && (n = 1),
              void 0 === i && (i = 0),
              t.lineStyle(5 * n, i, 1),
              t.moveTo(-e / 2, 0),
              t.lineTo(e / 2, 0);
            },
            drawConvex(t, e, i, n, r, a, o, s) {
              let u,
                l,
                c,
                h,
                d,
                f,
                p,
                g,
                y,
                v,
                m;
              if ((void 0 === a && (a = 1), void 0 === n && (n = 0), o)) {
                for (u = [16711680, 65280, 255], l = 0; l !== e.length + 1;) {
                  (h = e[l % e.length]),
                  (d = e[(l + 1) % e.length]),
                  (p = h[0]),
                  (v = h[1]),
                  (g = d[0]),
                  (m = d[1]),
                  t.lineStyle(a, u[l % u.length], 1),
                  t.moveTo(p, -v),
                  t.lineTo(g, -m),
                  t.drawCircle(p, -v, 2 * a),
                  l++;
                }
                return t.lineStyle(a, 0, 1), t.drawCircle(s[0], s[1], 2 * a);
              }
              for (
                t.lineStyle(a, n, 1), t.beginFill(r), l = 0;
                l !== e.length;

              ) {
                (c = e[l]),
                (f = c[0]),
                (y = c[1]),
                l === 0 ? t.moveTo(f, -y) : t.lineTo(f, -y),
                l++;
              }
              if ((t.endFill(), e.length > 2)) {
                return (
                  t.moveTo(e[e.length - 1][0], -e[e.length - 1][1]),
                  t.lineTo(e[0][0], -e[0][1])
                );
              }
            },
            drawPath(t, e, i, n, r) {
              let a,
                o,
                s,
                u,
                l,
                c,
                h,
                d,
                f,
                p,
                g,
                y;
              for (
                void 0 === r && (r = 1),
                void 0 === i && (i = 0),
                t.lineStyle(r, i, 1),
                typeof n === 'number' && t.beginFill(n),
                o = null,
                s = null,
                a = 0;
                a < e.length;

              ) {
                (p = e[a]),
                (g = p[0]),
                (y = p[1]),
                (g === o && y === s) ||
                    (a === 0
                      ? t.moveTo(g, y)
                      : ((u = o),
                      (l = s),
                      (c = g),
                      (h = y),
                      (d = e[(a + 1) % e.length][0]),
                      (f = e[(a + 1) % e.length][1]),
                      (c - u) * (f - l) - (d - u) * (h - l) != 0 &&
                          t.lineTo(g, y)),
                    (o = g),
                    (s = y)),
                a++;
              }
              typeof n === 'number' && t.endFill(),
              e.length > 2 &&
                  typeof n === 'number' &&
                  (t.moveTo(e[e.length - 1][0], e[e.length - 1][1]),
                  t.lineTo(e[0][0], e[0][1]));
            },
            drawPlane(t, e, i, n, r, a, o, s, u, l) {
              let c,
                h;
              void 0 === a && (a = 1),
              void 0 === n && (n = 16777215),
              t.lineStyle(a, r, 11),
              t.beginFill(n),
              t.moveTo(e, -i),
              (c = e + Math.cos(l) * this.game.width),
              (h = i + Math.sin(l) * this.game.height),
              t.lineTo(c, -h),
              t.moveTo(e, -i),
              (c = e + Math.cos(l) * -this.game.width),
              (h = i + Math.sin(l) * -this.game.height),
              t.lineTo(c, -h);
            },
            drawCapsule(t, e, i, n, r, a, o, s, u) {
              void 0 === u && (u = 1),
              void 0 === o && (o = 0),
              t.lineStyle(u, o, 1);
              let l = Math.cos(n),
                c = Math.sin(n);
              t.beginFill(s, 1),
              t.drawCircle((-r / 2) * l + e, (-r / 2) * c + i, 2 * -a),
              t.drawCircle((r / 2) * l + e, (r / 2) * c + i, 2 * -a),
              t.endFill(),
              t.lineStyle(u, o, 0),
              t.beginFill(s, 1),
              t.moveTo((-r / 2) * l + a * c + e, (-r / 2) * c + a * l + i),
              t.lineTo((r / 2) * l + a * c + e, (r / 2) * c + a * l + i),
              t.lineTo((r / 2) * l - a * c + e, (r / 2) * c - a * l + i),
              t.lineTo((-r / 2) * l - a * c + e, (-r / 2) * c - a * l + i),
              t.endFill(),
              t.lineStyle(u, o, 1),
              t.moveTo((-r / 2) * l + a * c + e, (-r / 2) * c + a * l + i),
              t.lineTo((r / 2) * l + a * c + e, (r / 2) * c + a * l + i),
              t.moveTo((-r / 2) * l - a * c + e, (-r / 2) * c - a * l + i),
              t.lineTo((r / 2) * l - a * c + e, (r / 2) * c - a * l + i);
            },
            randomPastelHex() {
              let t,
                e,
                i,
                n;
              return (
                (i = [255, 255, 255]),
                (n = Math.floor(256 * Math.random())),
                (e = Math.floor(256 * Math.random())),
                (t = Math.floor(256 * Math.random())),
                (n = Math.floor((n + 3 * i[0]) / 4)),
                (e = Math.floor((e + 3 * i[1]) / 4)),
                (t = Math.floor((t + 3 * i[2]) / 4)),
                this.rgbToHex(n, e, t)
              );
            },
            rgbToHex(t, e, i) {
              return (
                this.componentToHex(t) +
                this.componentToHex(e) +
                this.componentToHex(i)
              );
            },
            componentToHex(t) {
              let e;
              return (e = t.toString(16)), e.length === 2 ? e : `${e}0`;
            },
          }),
          (a.Physics.P2.Spring = function (t, e, i, n, r, a, o, s, u, l) {
            (this.game = t.game),
            (this.world = t),
            void 0 === n && (n = 1),
            void 0 === r && (r = 100),
            void 0 === a && (a = 1),
            (n = t.pxm(n));
            const c = { restLength: n, stiffness: r, damping: a };
            void 0 !== o &&
              o !== null &&
              (c.worldAnchorA = [t.pxm(o[0]), t.pxm(o[1])]),
            void 0 !== s &&
                s !== null &&
                (c.worldAnchorB = [t.pxm(s[0]), t.pxm(s[1])]),
            void 0 !== u &&
                u !== null &&
                (c.localAnchorA = [t.pxm(u[0]), t.pxm(u[1])]),
            void 0 !== l &&
                l !== null &&
                (c.localAnchorB = [t.pxm(l[0]), t.pxm(l[1])]),
            (this.data = new p2.LinearSpring(e, i, c)),
            (this.data.parent = this);
          }),
          (a.Physics.P2.Spring.prototype.constructor = a.Physics.P2.Spring),
          (a.Physics.P2.RotationalSpring = function (t, e, i, n, r, a) {
            (this.game = t.game),
            (this.world = t),
            void 0 === n && (n = null),
            void 0 === r && (r = 100),
            void 0 === a && (a = 1),
            n && (n = t.pxm(n));
            const o = { restAngle: n, stiffness: r, damping: a };
            (this.data = new p2.RotationalSpring(e, i, o)),
            (this.data.parent = this);
          }),
          (a.Physics.P2.Spring.prototype.constructor = a.Physics.P2.Spring),
          (a.Physics.P2.Material = function (t) {
            (this.name = t), p2.Material.call(this);
          }),
          (a.Physics.P2.Material.prototype = Object.create(p2.Material.prototype)),
          (a.Physics.P2.Material.prototype.constructor = a.Physics.P2.Material),
          (a.Physics.P2.ContactMaterial = function (t, e, i) {
            p2.ContactMaterial.call(this, t, e, i);
          }),
          (a.Physics.P2.ContactMaterial.prototype = Object.create(p2.ContactMaterial.prototype)),
          (a.Physics.P2.ContactMaterial.prototype.constructor =
            a.Physics.P2.ContactMaterial),
          (a.Physics.P2.CollisionGroup = function (t) {
            this.mask = t;
          }),
          (a.Physics.P2.DistanceConstraint = function (t, e, i, n, r, a, o) {
            void 0 === n && (n = 100),
            void 0 === r && (r = [0, 0]),
            void 0 === a && (a = [0, 0]),
            void 0 === o && (o = Number.MAX_VALUE),
            (this.game = t.game),
            (this.world = t),
            (n = t.pxm(n)),
            (r = [t.pxmi(r[0]), t.pxmi(r[1])]),
            (a = [t.pxmi(a[0]), t.pxmi(a[1])]);
            const s = {
              distance: n,
              localAnchorA: r,
              localAnchorB: a,
              maxForce: o,
            };
            p2.DistanceConstraint.call(this, e, i, s);
          }),
          (a.Physics.P2.DistanceConstraint.prototype = Object.create(p2.DistanceConstraint.prototype)),
          (a.Physics.P2.DistanceConstraint.prototype.constructor =
            a.Physics.P2.DistanceConstraint),
          (a.Physics.P2.GearConstraint = function (t, e, i, n, r) {
            void 0 === n && (n = 0),
            void 0 === r && (r = 1),
            (this.game = t.game),
            (this.world = t);
            const a = { angle: n, ratio: r };
            p2.GearConstraint.call(this, e, i, a);
          }),
          (a.Physics.P2.GearConstraint.prototype = Object.create(p2.GearConstraint.prototype)),
          (a.Physics.P2.GearConstraint.prototype.constructor =
            a.Physics.P2.GearConstraint),
          (a.Physics.P2.LockConstraint = function (t, e, i, n, r, a) {
            void 0 === n && (n = [0, 0]),
            void 0 === r && (r = 0),
            void 0 === a && (a = Number.MAX_VALUE),
            (this.game = t.game),
            (this.world = t),
            (n = [t.pxm(n[0]), t.pxm(n[1])]);
            const o = { localOffsetB: n, localAngleB: r, maxForce: a };
            p2.LockConstraint.call(this, e, i, o);
          }),
          (a.Physics.P2.LockConstraint.prototype = Object.create(p2.LockConstraint.prototype)),
          (a.Physics.P2.LockConstraint.prototype.constructor =
            a.Physics.P2.LockConstraint),
          (a.Physics.P2.PrismaticConstraint = function (t, e, i, n, r, a, o, s) {
            void 0 === n && (n = !0),
            void 0 === r && (r = [0, 0]),
            void 0 === a && (a = [0, 0]),
            void 0 === o && (o = [0, 0]),
            void 0 === s && (s = Number.MAX_VALUE),
            (this.game = t.game),
            (this.world = t),
            (r = [t.pxmi(r[0]), t.pxmi(r[1])]),
            (a = [t.pxmi(a[0]), t.pxmi(a[1])]);
            const u = {
              localAnchorA: r,
              localAnchorB: a,
              localAxisA: o,
              maxForce: s,
              disableRotationalLock: !n,
            };
            p2.PrismaticConstraint.call(this, e, i, u);
          }),
          (a.Physics.P2.PrismaticConstraint.prototype = Object.create(p2.PrismaticConstraint.prototype)),
          (a.Physics.P2.PrismaticConstraint.prototype.constructor =
            a.Physics.P2.PrismaticConstraint),
          (a.Physics.P2.RevoluteConstraint = function (t, e, i, n, r, a, o) {
            void 0 === a && (a = Number.MAX_VALUE),
            void 0 === o && (o = null),
            (this.game = t.game),
            (this.world = t),
            (i = [t.pxmi(i[0]), t.pxmi(i[1])]),
            (r = [t.pxmi(r[0]), t.pxmi(r[1])]),
            o && (o = [t.pxmi(o[0]), t.pxmi(o[1])]);
            const s = {
              worldPivot: o,
              localPivotA: i,
              localPivotB: r,
              maxForce: a,
            };
            p2.RevoluteConstraint.call(this, e, n, s);
          }),
          (a.Physics.P2.RevoluteConstraint.prototype = Object.create(p2.RevoluteConstraint.prototype)),
          (a.Physics.P2.RevoluteConstraint.prototype.constructor =
            a.Physics.P2.RevoluteConstraint),
          (a.ImageCollection = function (t, e, i, n, r, a, o) {
            (void 0 === i || i <= 0) && (i = 32),
            (void 0 === n || n <= 0) && (n = 32),
            void 0 === r && (r = 0),
            void 0 === a && (a = 0),
            (this.name = t),
            (this.firstgid = 0 | e),
            (this.imageWidth = 0 | i),
            (this.imageHeight = 0 | n),
            (this.imageMargin = 0 | r),
            (this.imageSpacing = 0 | a),
            (this.properties = o || {}),
            (this.images = []),
            (this.total = 0);
          }),
          (a.ImageCollection.prototype = {
            containsImageIndex(t) {
              return t >= this.firstgid && t < this.firstgid + this.total;
            },
            addImage(t, e) {
              this.images.push({ gid: t, image: e }), this.total++;
            },
          }),
          (a.ImageCollection.prototype.constructor = a.ImageCollection),
          (a.Tile = function (t, e, i, n, r, a) {
            (this.layer = t),
            (this.index = e),
            (this.x = i),
            (this.y = n),
            (this.rotation = 0),
            (this.flipped = !1),
            (this.worldX = i * r),
            (this.worldY = n * a),
            (this.width = r),
            (this.height = a),
            (this.centerX = Math.abs(r / 2)),
            (this.centerY = Math.abs(a / 2)),
            (this.alpha = 1),
            (this.properties = {}),
            (this.scanned = !1),
            (this.faceTop = !1),
            (this.faceBottom = !1),
            (this.faceLeft = !1),
            (this.faceRight = !1),
            (this.collideLeft = !1),
            (this.collideRight = !1),
            (this.collideUp = !1),
            (this.collideDown = !1),
            (this.collisionCallback = null),
            (this.collisionCallbackContext = this);
          }),
          (a.Tile.prototype = {
            containsPoint(t, e) {
              return !(
                t < this.worldX ||
                e < this.worldY ||
                t > this.right ||
                e > this.bottom
              );
            },
            intersects(t, e, i, n) {
              return !(
                i <= this.worldX ||
                n <= this.worldY ||
                t >= this.worldX + this.width ||
                e >= this.worldY + this.height
              );
            },
            setCollisionCallback(t, e) {
              (this.collisionCallback = t), (this.collisionCallbackContext = e);
            },
            destroy() {
              (this.collisionCallback = null),
              (this.collisionCallbackContext = null),
              (this.properties = null);
            },
            setCollision(t, e, i, n) {
              (this.collideLeft = t),
              (this.collideRight = e),
              (this.collideUp = i),
              (this.collideDown = n),
              (this.faceLeft = t),
              (this.faceRight = e),
              (this.faceTop = i),
              (this.faceBottom = n);
            },
            resetCollision() {
              (this.collideLeft = !1),
              (this.collideRight = !1),
              (this.collideUp = !1),
              (this.collideDown = !1),
              (this.faceTop = !1),
              (this.faceBottom = !1),
              (this.faceLeft = !1),
              (this.faceRight = !1);
            },
            isInteresting(t, e) {
              return t && e
                ? this.collideLeft ||
                    this.collideRight ||
                    this.collideUp ||
                    this.collideDown ||
                    this.faceTop ||
                    this.faceBottom ||
                    this.faceLeft ||
                    this.faceRight ||
                    this.collisionCallback
                : t
                  ? this.collideLeft ||
                  this.collideRight ||
                  this.collideUp ||
                  this.collideDown
                  : !!e &&
                  (this.faceTop ||
                    this.faceBottom ||
                    this.faceLeft ||
                    this.faceRight);
            },
            copy(t) {
              (this.index = t.index),
              (this.alpha = t.alpha),
              (this.properties = t.properties),
              (this.collideUp = t.collideUp),
              (this.collideDown = t.collideDown),
              (this.collideLeft = t.collideLeft),
              (this.collideRight = t.collideRight),
              (this.collisionCallback = t.collisionCallback),
              (this.collisionCallbackContext = t.collisionCallbackContext);
            },
          }),
          (a.Tile.prototype.constructor = a.Tile),
          Object.defineProperty(a.Tile.prototype, 'collides', {
            get() {
              return (
                this.collideLeft ||
                this.collideRight ||
                this.collideUp ||
                this.collideDown
              );
            },
          }),
          Object.defineProperty(a.Tile.prototype, 'canCollide', {
            get() {
              return (
                this.collideLeft ||
                this.collideRight ||
                this.collideUp ||
                this.collideDown ||
                this.collisionCallback
              );
            },
          }),
          Object.defineProperty(a.Tile.prototype, 'left', {
            get() {
              return this.worldX;
            },
          }),
          Object.defineProperty(a.Tile.prototype, 'right', {
            get() {
              return this.worldX + this.width;
            },
          }),
          Object.defineProperty(a.Tile.prototype, 'top', {
            get() {
              return this.worldY;
            },
          }),
          Object.defineProperty(a.Tile.prototype, 'bottom', {
            get() {
              return this.worldY + this.height;
            },
          }),
          (a.Tilemap = function (t, e, i, n, r, o) {
            (this.game = t), (this.key = e);
            const s = a.TilemapParser.parse(this.game, e, i, n, r, o);
            s !== null &&
              ((this.width = s.width),
              (this.height = s.height),
              (this.tileWidth = s.tileWidth),
              (this.tileHeight = s.tileHeight),
              (this.orientation = s.orientation),
              (this.format = s.format),
              (this.version = s.version),
              (this.properties = s.properties),
              (this.widthInPixels = s.widthInPixels),
              (this.heightInPixels = s.heightInPixels),
              (this.layers = s.layers),
              (this.tilesets = s.tilesets),
              (this.imagecollections = s.imagecollections),
              (this.tiles = s.tiles),
              (this.objects = s.objects),
              (this.collideIndexes = []),
              (this.collision = s.collision),
              (this.images = s.images),
              (this.currentLayer = 0),
              (this.debugMap = []),
              (this._results = []),
              (this._tempA = 0),
              (this._tempB = 0));
          }),
          (a.Tilemap.CSV = 0),
          (a.Tilemap.TILED_JSON = 1),
          (a.Tilemap.NORTH = 0),
          (a.Tilemap.EAST = 1),
          (a.Tilemap.SOUTH = 2),
          (a.Tilemap.WEST = 3),
          (a.Tilemap.prototype = {
            create(t, e, i, n, r, a) {
              return (
                void 0 === a && (a = this.game.world),
                (this.width = e),
                (this.height = i),
                this.setTileSize(n, r),
                (this.layers.length = 0),
                this.createBlankLayer(t, e, i, n, r, a)
              );
            },
            setTileSize(t, e) {
              (this.tileWidth = t),
              (this.tileHeight = e),
              (this.widthInPixels = this.width * t),
              (this.heightInPixels = this.height * e);
            },
            addTilesetImage(t, e, i, n, r, o, s) {
              if (void 0 === t) return null;
              void 0 === i && (i = this.tileWidth),
              void 0 === n && (n = this.tileHeight),
              void 0 === r && (r = 0),
              void 0 === o && (o = 0),
              void 0 === s && (s = 0),
              i === 0 && (i = 32),
              n === 0 && (n = 32);
              let u = null;
              if (
                ((void 0 !== e && e !== null) || (e = t),
                e instanceof a.BitmapData)
              ) { u = e.canvas; } else {
                if (!this.game.cache.checkImageKey(e)) {
                  return (
                    console.warn(`Phaser.Tilemap.addTilesetImage: Invalid image key given: "${
                      e
                    }"`),
                    null
                  );
                }
                u = this.game.cache.getImage(e);
              }
              const l = this.getTilesetIndex(t);
              if (l === null && this.format === a.Tilemap.TILED_JSON) {
                return (
                  console.warn(`Phaser.Tilemap.addTilesetImage: No data found in the JSON matching the tileset name: "${
                    t
                  }"`),
                  null
                );
              }
              if (this.tilesets[l]) { return this.tilesets[l].setImage(u), this.tilesets[l]; }
              const c = new a.Tileset(t, s, i, n, r, o, {});
              c.setImage(u), this.tilesets.push(c);
              for (
                let h = this.tilesets.length - 1,
                  d = r,
                  f = r,
                  p = 0,
                  g = 0,
                  y = 0,
                  v = s;
                v < s + c.total &&
                ((this.tiles[v] = [d, f, h]), (d += i + o), ++p !== c.total) &&
                (++g !== c.columns ||
                  ((d = r), (f += n + o), (g = 0), ++y !== c.rows));
                v++
              );
              return c;
            },
            createFromObjects(t, e, i, n, r, o, s, u, l) {
              if (
                (void 0 === r && (r = !0),
                void 0 === o && (o = !1),
                void 0 === s && (s = this.game.world),
                void 0 === u && (u = a.Sprite),
                void 0 === l && (l = !0),
                !this.objects[t])
              ) {
                return void console.warn(`Tilemap.createFromObjects: Invalid objectgroup name given: ${
                  t}`);
              }
              for (let c = 0; c < this.objects[t].length; c++) {
                let h = !1,
                  d = this.objects[t][c];
                if (
                  (void 0 !== d.gid && typeof e === 'number' && d.gid === e
                    ? (h = !0)
                    : void 0 !== d.id && typeof e === 'number' && d.id === e
                      ? (h = !0)
                      : void 0 !== d.name &&
                      typeof e === 'string' &&
                      d.name === e &&
                      (h = !0),
                  h)
                ) {
                  const f = new u(
                    this.game,
                    parseFloat(d.x, 10),
                    parseFloat(d.y, 10),
                    i,
                    n,
                  );
                  (f.name = d.name),
                  (f.visible = d.visible),
                  (f.autoCull = o),
                  (f.exists = r),
                  d.width && (f.width = d.width),
                  d.height && (f.height = d.height),
                  d.rotation && (f.angle = d.rotation),
                  l && (f.y -= f.height),
                  s.add(f);
                  for (const p in d.properties) { s.set(f, p, d.properties[p], !1, !1, 0, !0); }
                }
              }
            },
            createFromTiles(t, e, i, n, r, o) {
              typeof t === 'number' && (t = [t]),
              void 0 === e || e === null
                ? (e = [])
                : typeof e === 'number' && (e = [e]),
              (n = this.getLayer(n)),
              void 0 === r && (r = this.game.world),
              void 0 === o && (o = {}),
              void 0 === o.customClass && (o.customClass = a.Sprite),
              void 0 === o.adjustY && (o.adjustY = !0);
              let s = this.layers[n].width,
                u = this.layers[n].height;
              if ((this.copy(0, 0, s, u, n), this._results.length < 2)) { return 0; }
              for (var l, c = 0, h = 1, d = this._results.length; h < d; h++) {
                if (t.indexOf(this._results[h].index) !== -1) {
                  l = new o.customClass(
                    this.game,
                    this._results[h].worldX,
                    this._results[h].worldY,
                    i,
                  );
                  for (const f in o) l[f] = o[f];
                  r.add(l), c++;
                }
              }
              if (e.length === 1) {
                for (h = 0; h < t.length; h++) { this.replace(t[h], e[0], 0, 0, s, u, n); }
              } else if (e.length > 1) {
                for (h = 0; h < t.length; h++) { this.replace(t[h], e[h], 0, 0, s, u, n); }
              }
              return c;
            },
            createLayer(t, e, i, n, r) {
              void 0 === e && (e = this.game.width),
              void 0 === i && (i = this.game.height),
              void 0 === n && (n = this.game.world);
              let o = t;
              return (
                typeof t === 'string' && (o = this.getLayerIndex(t)),
                o === null || o > this.layers.length
                  ? void console.warn(`Tilemap.createLayer: Invalid layer ID given: ${o}`)
                  : r
                    ? n.add(new a.TilemapLayerGL(this.game, this, o, e, i))
                    : n.add(new a.TilemapLayer(this.game, this, o, e, i))
              );
            },
            createBlankLayer(t, e, i, n, r, o) {
              if (
                (void 0 === o && (o = this.game.world),
                this.getLayerIndex(t) !== null)
              ) {
                return void console.warn('Tilemap.createBlankLayer: Layer with matching name already exists');
              }
              for (
                var s,
                  u = {
                    name: t,
                    x: 0,
                    y: 0,
                    width: e,
                    height: i,
                    widthInPixels: e * n,
                    heightInPixels: i * r,
                    alpha: 1,
                    visible: !0,
                    properties: {},
                    indexes: [],
                    callbacks: [],
                    bodies: [],
                    data: null,
                  },
                  l = [],
                  c = 0;
                c < i;
                c++
              ) {
                s = [];
                for (let h = 0; h < e; h++) { s.push(new a.Tile(u, -1, h, c, n, r)); }
                l.push(s);
              }
              (u.data = l),
              this.layers.push(u),
              (this.currentLayer = this.layers.length - 1);
              let d = u.widthInPixels,
                f = u.heightInPixels;
              d > this.game.width && (d = this.game.width),
              f > this.game.height && (f = this.game.height);
              var l = new a.TilemapLayer(
                this.game,
                this,
                this.layers.length - 1,
                d,
                f,
              );
              return (l.name = t), o.add(l);
            },
            getIndex(t, e) {
              for (let i = 0; i < t.length; i++) if (t[i].name === e) return i;
              return null;
            },
            getLayerIndex(t) {
              return this.getIndex(this.layers, t);
            },
            getTilesetIndex(t) {
              return this.getIndex(this.tilesets, t);
            },
            getImageIndex(t) {
              return this.getIndex(this.images, t);
            },
            setTileIndexCallback(t, e, i, n) {
              if (((n = this.getLayer(n)), typeof t === 'number')) {
                this.layers[n].callbacks[t] = {
                  callback: e,
                  callbackContext: i,
                };
              } else {
                for (let r = 0, a = t.length; r < a; r++) {
                  this.layers[n].callbacks[t[r]] = {
                    callback: e,
                    callbackContext: i,
                  };
                }
              }
            },
            setTileLocationCallback(t, e, i, n, r, a, o) {
              if (
                ((o = this.getLayer(o)),
                this.copy(t, e, i, n, o),
                !(this._results.length < 2))
              ) {
                for (let s = 1; s < this._results.length; s++) { this._results[s].setCollisionCallback(r, a); }
              }
            },
            setCollision(t, e, i, n) {
              if (
                (void 0 === e && (e = !0),
                void 0 === n && (n = !0),
                (i = this.getLayer(i)),
                typeof t === 'number')
              ) { return this.setCollisionByIndex(t, e, i, !0); }
              if (Array.isArray(t)) {
                for (let r = 0; r < t.length; r++) { this.setCollisionByIndex(t[r], e, i, !1); }
                n && this.calculateFaces(i);
              }
            },
            setCollisionBetween(t, e, i, n, r) {
              if (
                (void 0 === i && (i = !0),
                void 0 === r && (r = !0),
                (n = this.getLayer(n)),
                !(t > e))
              ) {
                for (let a = t; a <= e; a++) { this.setCollisionByIndex(a, i, n, !1); }
                r && this.calculateFaces(n);
              }
            },
            setCollisionByExclusion(t, e, i, n) {
              void 0 === e && (e = !0),
              void 0 === n && (n = !0),
              (i = this.getLayer(i));
              for (let r = 0, a = this.tiles.length; r < a; r++) { t.indexOf(r) === -1 && this.setCollisionByIndex(r, e, i, !1); }
              n && this.calculateFaces(i);
            },
            setCollisionByIndex(t, e, i, n) {
              if (
                (void 0 === e && (e = !0),
                void 0 === i && (i = this.currentLayer),
                void 0 === n && (n = !0),
                e)
              ) { this.collideIndexes.push(t); } else {
                const r = this.collideIndexes.indexOf(t);
                r > -1 && this.collideIndexes.splice(r, 1);
              }
              for (let a = 0; a < this.layers[i].height; a++) {
                for (let o = 0; o < this.layers[i].width; o++) {
                  const s = this.layers[i].data[a][o];
                  s &&
                    s.index === t &&
                    (e ? s.setCollision(!0, !0, !0, !0) : s.resetCollision(),
                    (s.faceTop = e),
                    (s.faceBottom = e),
                    (s.faceLeft = e),
                    (s.faceRight = e));
                }
              }
              return n && this.calculateFaces(i), i;
            },
            getLayer(t) {
              return (
                void 0 === t
                  ? (t = this.currentLayer)
                  : typeof t === 'string'
                    ? (t = this.getLayerIndex(t))
                    : t instanceof a.TilemapLayer && (t = t.index),
                t
              );
            },
            setPreventRecalculate(t) {
              if (
                (!0 === t &&
                  !0 !== this.preventingRecalculate &&
                  ((this.preventingRecalculate = !0),
                  (this.needToRecalculate = {})),
                !1 === t && !0 === this.preventingRecalculate)
              ) {
                this.preventingRecalculate = !1;
                for (const e in this.needToRecalculate) this.calculateFaces(e);
                this.needToRecalculate = !1;
              }
            },
            calculateFaces(t) {
              if (this.preventingRecalculate) { return void (this.needToRecalculate[t] = !0); }
              for (
                let e = null,
                  i = null,
                  n = null,
                  r = null,
                  a = 0,
                  o = this.layers[t].height;
                a < o;
                a++
              ) {
                for (let s = 0, u = this.layers[t].width; s < u; s++) {
                  const l = this.layers[t].data[a][s];
                  l &&
                    ((e = this.getTileAbove(t, s, a)),
                    (i = this.getTileBelow(t, s, a)),
                    (n = this.getTileLeft(t, s, a)),
                    (r = this.getTileRight(t, s, a)),
                    l.collides &&
                      ((l.faceTop = !0),
                      (l.faceBottom = !0),
                      (l.faceLeft = !0),
                      (l.faceRight = !0)),
                    e && e.collides && (l.faceTop = !1),
                    i && i.collides && (l.faceBottom = !1),
                    n && n.collides && (l.faceLeft = !1),
                    r && r.collides && (l.faceRight = !1));
                }
              }
            },
            getTileAbove(t, e, i) {
              return i > 0 ? this.layers[t].data[i - 1][e] : null;
            },
            getTileBelow(t, e, i) {
              return i < this.layers[t].height - 1
                ? this.layers[t].data[i + 1][e]
                : null;
            },
            getTileLeft(t, e, i) {
              return e > 0 ? this.layers[t].data[i][e - 1] : null;
            },
            getTileRight(t, e, i) {
              return e < this.layers[t].width - 1
                ? this.layers[t].data[i][e + 1]
                : null;
            },
            setLayer(t) {
              (t = this.getLayer(t)), this.layers[t] && (this.currentLayer = t);
            },
            hasTile(t, e, i) {
              return (
                (i = this.getLayer(i)),
                void 0 !== this.layers[i].data[e] &&
                  void 0 !== this.layers[i].data[e][t] &&
                  this.layers[i].data[e][t].index > -1
              );
            },
            removeTile(t, e, i) {
              if (
                ((i = this.getLayer(i)),
                t >= 0 &&
                  t < this.layers[i].width &&
                  e >= 0 &&
                  e < this.layers[i].height &&
                  this.hasTile(t, e, i))
              ) {
                const n = this.layers[i].data[e][t];
                return (
                  (this.layers[i].data[e][t] = new a.Tile(
                    this.layers[i],
                    -1,
                    t,
                    e,
                    this.tileWidth,
                    this.tileHeight,
                  )),
                  (this.layers[i].dirty = !0),
                  this.calculateFaces(i),
                  n
                );
              }
            },
            removeTileWorldXY(t, e, i, n, r) {
              return (
                (r = this.getLayer(r)),
                (t = this.game.math.snapToFloor(t, i) / i),
                (e = this.game.math.snapToFloor(e, n) / n),
                this.removeTile(t, e, r)
              );
            },
            putTile(t, e, i, n) {
              if (t === null) return this.removeTile(e, i, n);
              if (
                ((n = this.getLayer(n)),
                e >= 0 &&
                  e < this.layers[n].width &&
                  i >= 0 &&
                  i < this.layers[n].height)
              ) {
                let r;
                return (
                  t instanceof a.Tile
                    ? ((r = t.index),
                    this.hasTile(e, i, n)
                      ? this.layers[n].data[i][e].copy(t)
                      : (this.layers[n].data[i][e] = new a.Tile(
                        n,
                        r,
                        e,
                        i,
                        t.width,
                        t.height,
                      )))
                    : ((r = t),
                    this.hasTile(e, i, n)
                      ? (this.layers[n].data[i][e].index = r)
                      : (this.layers[n].data[i][e] = new a.Tile(
                        this.layers[n],
                        r,
                        e,
                        i,
                        this.tileWidth,
                        this.tileHeight,
                      ))),
                  this.collideIndexes.indexOf(r) > -1
                    ? this.layers[n].data[i][e].setCollision(!0, !0, !0, !0)
                    : this.layers[n].data[i][e].resetCollision(),
                  (this.layers[n].dirty = !0),
                  this.calculateFaces(n),
                  this.layers[n].data[i][e]
                );
              }
              return null;
            },
            putTileWorldXY(t, e, i, n, r, a) {
              return (
                (a = this.getLayer(a)),
                (e = this.game.math.snapToFloor(e, n) / n),
                (i = this.game.math.snapToFloor(i, r) / r),
                this.putTile(t, e, i, a)
              );
            },
            searchTileIndex(t, e, i, n) {
              void 0 === e && (e = 0),
              void 0 === i && (i = !1),
              (n = this.getLayer(n));
              let r = 0;
              if (i) {
                for (var a = this.layers[n].height - 1; a >= 0; a--) {
                  for (var o = this.layers[n].width - 1; o >= 0; o--) {
                    if (this.layers[n].data[a][o].index === t) {
                      if (r === e) return this.layers[n].data[a][o];
                      r++;
                    }
                  }
                }
              } else {
                for (var a = 0; a < this.layers[n].height; a++) {
                  for (var o = 0; o < this.layers[n].width; o++) {
                    if (this.layers[n].data[a][o].index === t) {
                      if (r === e) return this.layers[n].data[a][o];
                      r++;
                    }
                  }
                }
              }
              return null;
            },
            getTile(t, e, i, n) {
              return (
                void 0 === n && (n = !1),
                (i = this.getLayer(i)),
                t >= 0 &&
                t < this.layers[i].width &&
                e >= 0 &&
                e < this.layers[i].height
                  ? this.layers[i].data[e][t].index === -1
                    ? n
                      ? this.layers[i].data[e][t]
                      : null
                    : this.layers[i].data[e][t]
                  : null
              );
            },
            getTileWorldXY(t, e, i, n, r, a) {
              return (
                void 0 === i && (i = this.tileWidth),
                void 0 === n && (n = this.tileHeight),
                (r = this.getLayer(r)),
                (t = this.game.math.snapToFloor(t, i) / i),
                (e = this.game.math.snapToFloor(e, n) / n),
                this.getTile(t, e, r, a)
              );
            },
            copy(t, e, i, n, r) {
              if (((r = this.getLayer(r)), !this.layers[r])) { return void (this._results.length = 0); }
              void 0 === t && (t = 0),
              void 0 === e && (e = 0),
              void 0 === i && (i = this.layers[r].width),
              void 0 === n && (n = this.layers[r].height),
              t < 0 && (t = 0),
              e < 0 && (e = 0),
              i > this.layers[r].width && (i = this.layers[r].width),
              n > this.layers[r].height && (n = this.layers[r].height),
              (this._results.length = 0),
              this._results.push({
                x: t,
                y: e,
                width: i,
                height: n,
                layer: r,
              });
              for (let a = e; a < e + n; a++) {
                for (let o = t; o < t + i; o++) { this._results.push(this.layers[r].data[a][o]); }
              }
              return this._results;
            },
            paste(t, e, i, n) {
              if (
                (void 0 === t && (t = 0),
                void 0 === e && (e = 0),
                (n = this.getLayer(n)),
                i && !(i.length < 2))
              ) {
                for (
                  let r = t - i[1].x, a = e - i[1].y, o = 1;
                  o < i.length;
                  o++
                ) { this.layers[n].data[a + i[o].y][r + i[o].x].copy(i[o]); }
                (this.layers[n].dirty = !0), this.calculateFaces(n);
              }
            },
            swap(t, e, i, n, r, a, o) {
              (o = this.getLayer(o)),
              this.copy(i, n, r, a, o),
              this._results.length < 2 ||
                  ((this._tempA = t),
                  (this._tempB = e),
                  this._results.forEach(this.swapHandler, this),
                  this.paste(i, n, this._results, o));
            },
            swapHandler(t) {
              t.index === this._tempA
                ? (t.index = this._tempB)
                : t.index === this._tempB && (t.index = this._tempA);
            },
            forEach(t, e, i, n, r, a, o) {
              (o = this.getLayer(o)),
              this.copy(i, n, r, a, o),
              this._results.length < 2 ||
                  (this._results.forEach(t, e),
                  this.paste(i, n, this._results, o));
            },
            replace(t, e, i, n, r, a, o) {
              if (
                ((o = this.getLayer(o)),
                this.copy(i, n, r, a, o),
                !(this._results.length < 2))
              ) {
                for (let s = 1; s < this._results.length; s++) { this._results[s].index === t && (this._results[s].index = e); }
                this.paste(i, n, this._results, o);
              }
            },
            random(t, e, i, n, r) {
              if (
                ((r = this.getLayer(r)),
                this.copy(t, e, i, n, r),
                !(this._results.length < 2))
              ) {
                for (var a = [], o = 1; o < this._results.length; o++) {
                  if (this._results[o].index) {
                    const s = this._results[o].index;
                    a.indexOf(s) === -1 && a.push(s);
                  }
                }
                for (let u = 1; u < this._results.length; u++) { this._results[u].index = this.game.rnd.pick(a); }
                this.paste(t, e, this._results, r);
              }
            },
            shuffle(t, e, i, n, r) {
              if (
                ((r = this.getLayer(r)),
                this.copy(t, e, i, n, r),
                !(this._results.length < 2))
              ) {
                for (var o = [], s = 1; s < this._results.length; s++) { this._results[s].index && o.push(this._results[s].index); }
                a.ArrayUtils.shuffle(o);
                for (let u = 1; u < this._results.length; u++) { this._results[u].index = o[u - 1]; }
                this.paste(t, e, this._results, r);
              }
            },
            fill(t, e, i, n, r, a) {
              if (
                ((a = this.getLayer(a)),
                this.copy(e, i, n, r, a),
                !(this._results.length < 2))
              ) {
                for (let o = 1; o < this._results.length; o++) { this._results[o].index = t; }
                this.paste(e, i, this._results, a);
              }
            },
            removeAllLayers() {
              (this.layers.length = 0), (this.currentLayer = 0);
            },
            dump() {
              for (
                var t = '', e = [''], i = 0;
                i < this.layers[this.currentLayer].height;
                i++
              ) {
                for (let n = 0; n < this.layers[this.currentLayer].width; n++) {
                  (t += '%c  '),
                  this.layers[this.currentLayer].data[i][n] > 1
                    ? this.debugMap[this.layers[this.currentLayer].data[i][n]]
                      ? e.push(`background: ${
                        this.debugMap[
                          this.layers[this.currentLayer].data[i][n]
                        ]}`)
                      : e.push('background: #ffffff')
                    : e.push('background: rgb(0, 0, 0)');
                }
                t += '\n';
              }
              (e[0] = t), console.log(...e);
            },
            destroy() {
              this.removeAllLayers(), (this.data = []), (this.game = null);
            },
          }),
          (a.Tilemap.prototype.constructor = a.Tilemap),
          Object.defineProperty(a.Tilemap.prototype, 'layer', {
            get() {
              return this.layers[this.currentLayer];
            },
            set(t) {
              t !== this.currentLayer && this.setLayer(t);
            },
          }),
          (a.TilemapLayer = function (t, e, i, n, r) {
            (n |= 0),
            (r |= 0),
            a.Sprite.call(this, t, 0, 0),
            (this.map = e),
            (this.index = i),
            (this.layer = e.layers[i]),
            (this.canvas = PIXI.CanvasPool.create(this, n, r)),
            (this.context = this.canvas.getContext('2d')),
            this.setTexture(new PIXI.Texture(new PIXI.BaseTexture(this.canvas))),
            (this.type = a.TILEMAPLAYER),
            (this.physicsType = a.TILEMAPLAYER),
            (this.renderSettings = {
              enableScrollDelta: !1,
              overdrawRatio: 0.2,
              copyCanvas: null,
            }),
            (this.debug = !1),
            (this.exists = !0),
            (this.debugSettings = {
              missingImageFill: 'rgb(255,255,255)',
              debuggedTileOverfill: 'rgba(0,255,0,0.4)',
              forceFullRedraw: !0,
              debugAlpha: 0.5,
              facingEdgeStroke: 'rgba(0,255,0,1)',
              collidingTileOverfill: 'rgba(0,255,0,0.2)',
            }),
            (this.scrollFactorX = 1),
            (this.scrollFactorY = 1),
            (this.dirty = !0),
            (this.rayStepRate = 4),
            (this._wrap = !1),
            (this._mc = {
              scrollX: 0,
              scrollY: 0,
              renderWidth: 0,
              renderHeight: 0,
              tileWidth: e.tileWidth,
              tileHeight: e.tileHeight,
              cw: e.tileWidth,
              ch: e.tileHeight,
              tilesets: [],
            }),
            (this._scrollX = 0),
            (this._scrollY = 0),
            (this._results = []),
            t.device.canvasBitBltShift ||
                (this.renderSettings.copyCanvas = a.TilemapLayer.ensureSharedCopyCanvas()),
            (this.fixedToCamera = !0);
          }),
          (a.TilemapLayer.prototype = Object.create(a.Sprite.prototype)),
          (a.TilemapLayer.prototype.constructor = a.TilemapLayer),
          (a.TilemapLayer.prototype.preUpdateCore = a.Component.Core.preUpdate),
          (a.TilemapLayer.sharedCopyCanvas = null),
          (a.TilemapLayer.ensureSharedCopyCanvas = function () {
            return (
              this.sharedCopyCanvas ||
                (this.sharedCopyCanvas = a.Canvas.create(2, 2)),
              this.sharedCopyCanvas
            );
          }),
          (a.TilemapLayer.prototype.preUpdate = function () {
            return this.preUpdateCore();
          }),
          (a.TilemapLayer.prototype.postUpdate = function () {
            this.fixedToCamera &&
              ((this.position.x =
                (this.game.camera.view.x + this.cameraOffset.x) /
                this.game.camera.scale.x),
              (this.position.y =
                (this.game.camera.view.y + this.cameraOffset.y) /
                this.game.camera.scale.y)),
            (this._scrollX =
                (this.game.camera.view.x * this.scrollFactorX) / this.scale.x),
            (this._scrollY =
                (this.game.camera.view.y * this.scrollFactorY) / this.scale.y);
          }),
          (a.TilemapLayer.prototype._renderCanvas = function (t) {
            this.fixedToCamera &&
              ((this.position.x =
                (this.game.camera.view.x + this.cameraOffset.x) /
                this.game.camera.scale.x),
              (this.position.y =
                (this.game.camera.view.y + this.cameraOffset.y) /
                this.game.camera.scale.y)),
            (this._scrollX =
                (this.game.camera.view.x * this.scrollFactorX) / this.scale.x),
            (this._scrollY =
                (this.game.camera.view.y * this.scrollFactorY) / this.scale.y),
            this.render(),
            PIXI.Sprite.prototype._renderCanvas.call(this, t);
          }),
          (a.TilemapLayer.prototype._renderWebGL = function (t) {
            this.fixedToCamera &&
              ((this.position.x =
                (this.game.camera.view.x + this.cameraOffset.x) /
                this.game.camera.scale.x),
              (this.position.y =
                (this.game.camera.view.y + this.cameraOffset.y) /
                this.game.camera.scale.y)),
            (this._scrollX =
                (this.game.camera.view.x * this.scrollFactorX) / this.scale.x),
            (this._scrollY =
                (this.game.camera.view.y * this.scrollFactorY) / this.scale.y),
            this.render(),
            PIXI.Sprite.prototype._renderWebGL.call(this, t);
          }),
          (a.TilemapLayer.prototype.destroy = function () {
            PIXI.CanvasPool.remove(this),
            a.Component.Destroy.prototype.destroy.call(this);
          }),
          (a.TilemapLayer.prototype.resize = function (t, e) {
            (this.canvas.width = t),
            (this.canvas.height = e),
            this.texture.frame.resize(t, e),
            (this.texture.width = t),
            (this.texture.height = e),
            (this.texture.crop.width = t),
            (this.texture.crop.height = e),
            (this.texture.baseTexture.width = t),
            (this.texture.baseTexture.height = e),
            this.texture.baseTexture.dirty(),
            (this.texture.requiresUpdate = !0),
            this.texture._updateUvs(),
            (this.dirty = !0);
          }),
          (a.TilemapLayer.prototype.resizeWorld = function () {
            this.game.world.setBounds(
              0,
              0,
              this.layer.widthInPixels * this.scale.x,
              this.layer.heightInPixels * this.scale.y,
            );
          }),
          (a.TilemapLayer.prototype._fixX = function (t) {
            return this.scrollFactorX === 1 ||
              (this.scrollFactorX === 0 && this.position.x === 0)
              ? t
              : this.scrollFactorX === 0 && this.position.x !== 0
                ? t - this.position.x
                : this._scrollX + (t - this._scrollX / this.scrollFactorX);
          }),
          (a.TilemapLayer.prototype._unfixX = function (t) {
            return this.scrollFactorX === 1
              ? t
              : this._scrollX / this.scrollFactorX + (t - this._scrollX);
          }),
          (a.TilemapLayer.prototype._fixY = function (t) {
            return this.scrollFactorY === 1 ||
              (this.scrollFactorY === 0 && this.position.y === 0)
              ? t
              : this.scrollFactorY === 0 && this.position.y !== 0
                ? t - this.position.y
                : this._scrollY + (t - this._scrollY / this.scrollFactorY);
          }),
          (a.TilemapLayer.prototype._unfixY = function (t) {
            return this.scrollFactorY === 1
              ? t
              : this._scrollY / this.scrollFactorY + (t - this._scrollY);
          }),
          (a.TilemapLayer.prototype.getTileX = function (t) {
            return Math.floor(this._fixX(t) / this._mc.tileWidth);
          }),
          (a.TilemapLayer.prototype.getTileY = function (t) {
            return Math.floor(this._fixY(t) / this._mc.tileHeight);
          }),
          (a.TilemapLayer.prototype.getTileXY = function (t, e, i) {
            return (i.x = this.getTileX(t)), (i.y = this.getTileY(e)), i;
          }),
          (a.TilemapLayer.prototype.getRayCastTiles = function (t, e, i, n) {
            e || (e = this.rayStepRate),
            void 0 === i && (i = !1),
            void 0 === n && (n = !1);
            const r = this.getTiles(t.x, t.y, t.width, t.height, i, n);
            if (r.length === 0) return [];
            for (
              var a = t.coordinatesOnLine(e), o = [], s = 0;
              s < r.length;
              s++
            ) {
              for (let u = 0; u < a.length; u++) {
                let l = r[s],
                  c = a[u];
                if (l.containsPoint(c[0], c[1])) {
                  o.push(l);
                  break;
                }
              }
            }
            return o;
          }),
          (a.TilemapLayer.prototype.getTiles = function (t, e, i, n, r, a) {
            void 0 === r && (r = !1), void 0 === a && (a = !1);
            const o = !(r || a);
            (t = this._fixX(t)), (e = this._fixY(e));
            for (
              var s = Math.floor(t / (this._mc.cw * this.scale.x)),
                u = Math.floor(e / (this._mc.ch * this.scale.y)),
                l = Math.ceil((t + i) / (this._mc.cw * this.scale.x)) - s,
                c = Math.ceil((e + n) / (this._mc.ch * this.scale.y)) - u;
              this._results.length;

            ) { this._results.pop(); }
            for (let h = u; h < u + c; h++) {
              for (let d = s; d < s + l; d++) {
                const f = this.layer.data[h];
                f &&
                  f[d] &&
                  (o || f[d].isInteresting(r, a)) &&
                  this._results.push(f[d]);
              }
            }
            return this._results.slice();
          }),
          (a.TilemapLayer.prototype.resolveTileset = function (t) {
            const e = this._mc.tilesets;
            if (t < 2e3) for (; e.length < t;) e.push(void 0);
            const i = this.map.tiles[t] && this.map.tiles[t][2];
            if (i != null) {
              const n = this.map.tilesets[i];
              if (n && n.containsTileIndex(t)) return (e[t] = n);
            }
            return (e[t] = null);
          }),
          (a.TilemapLayer.prototype.resetTilesetCache = function () {
            for (let t = this._mc.tilesets; t.length;) t.pop();
          }),
          (a.TilemapLayer.prototype.setScale = function (t, e) {
            (t = t || 1), (e = e || t);
            for (let i = 0; i < this.layer.data.length; i++) {
              for (let n = this.layer.data[i], r = 0; r < n.length; r++) {
                const a = n[r];
                (a.width = this.map.tileWidth * t),
                (a.height = this.map.tileHeight * e),
                (a.worldX = a.x * a.width),
                (a.worldY = a.y * a.height);
              }
            }
            this.scale.setTo(t, e);
          }),
          (a.TilemapLayer.prototype.shiftCanvas = function (t, e, i) {
            let n = t.canvas,
              r = n.width - Math.abs(e),
              a = n.height - Math.abs(i),
              o = 0,
              s = 0,
              u = e,
              l = i;
            e < 0 && ((o = -e), (u = 0)), i < 0 && ((s = -i), (l = 0));
            const c = this.renderSettings.copyCanvas;
            if (c) {
              (c.width < r || c.height < a) && ((c.width = r), (c.height = a));
              const h = c.getContext('2d');
              h.clearRect(0, 0, r, a),
              h.drawImage(n, o, s, r, a, 0, 0, r, a),
              t.clearRect(u, l, r, a),
              t.drawImage(c, 0, 0, r, a, u, l, r, a);
            } else {
              t.save(),
              (t.globalCompositeOperation = 'copy'),
              t.drawImage(n, o, s, r, a, u, l, r, a),
              t.restore();
            }
          }),
          (a.TilemapLayer.prototype.renderRegion = function (t, e, i, n, r, a) {
            let o = this.context,
              s = this.layer.width,
              u = this.layer.height,
              l = this._mc.tileWidth,
              c = this._mc.tileHeight,
              h = this._mc.tilesets,
              d = NaN;
            this._wrap ||
              (i <= r && ((i = Math.max(0, i)), (r = Math.min(s - 1, r))),
              n <= a && ((n = Math.max(0, n)), (a = Math.min(u - 1, a))));
            let f,
              p,
              g,
              y,
              v,
              m,
              b = i * l - t,
              _ = n * c - e,
              w = (i + (1 << 20) * s) % s,
              x = (n + (1 << 20) * u) % u;
            for (
              o.fillStyle = this.tileColor, y = x, m = a - n, p = _;
              m >= 0;
              y++, m--, p += c
            ) {
              y >= u && (y -= u);
              const P = this.layer.data[y];
              for (g = w, v = r - i, f = b; v >= 0; g++, v--, f += l) {
                g >= s && (g -= s);
                const k = P[g];
                if (k && !(k.index < 0)) {
                  let T = k.index,
                    O = h[T];
                  void 0 === O && (O = this.resolveTileset(T)),
                  k.alpha === d ||
                      this.debug ||
                      ((o.globalAlpha = k.alpha), (d = k.alpha)),
                  O
                    ? k.rotation || k.flipped
                      ? (o.save(),
                      o.translate(f + k.centerX, p + k.centerY),
                      o.rotate(k.rotation),
                      k.flipped && o.scale(-1, 1),
                      O.draw(o, -k.centerX, -k.centerY, T),
                      o.restore())
                      : O.draw(o, f, p, T)
                    : this.debugSettings.missingImageFill &&
                        ((o.fillStyle = this.debugSettings.missingImageFill),
                        o.fillRect(f, p, l, c)),
                  k.debug &&
                      this.debugSettings.debuggedTileOverfill &&
                      ((o.fillStyle = this.debugSettings.debuggedTileOverfill),
                      o.fillRect(f, p, l, c));
                }
              }
            }
          }),
          (a.TilemapLayer.prototype.renderDeltaScroll = function (t, e) {
            let i = this._mc.scrollX,
              n = this._mc.scrollY,
              r = this.canvas.width,
              a = this.canvas.height,
              o = this._mc.tileWidth,
              s = this._mc.tileHeight,
              u = 0,
              l = -o,
              c = 0,
              h = -s;
            if (
              (t < 0 ? ((u = r + t), (l = r - 1)) : t > 0 && (l = t),
              e < 0 ? ((c = a + e), (h = a - 1)) : e > 0 && (h = e),
              this.shiftCanvas(this.context, t, e),
              (u = Math.floor((u + i) / o)),
              (l = Math.floor((l + i) / o)),
              (c = Math.floor((c + n) / s)),
              (h = Math.floor((h + n) / s)),
              u <= l)
            ) {
              this.context.clearRect(u * o - i, 0, (l - u + 1) * o, a);
              let d = Math.floor((0 + n) / s),
                f = Math.floor((a - 1 + n) / s);
              this.renderRegion(i, n, u, d, l, f);
            }
            if (c <= h) {
              this.context.clearRect(0, c * s - n, r, (h - c + 1) * s);
              let p = Math.floor((0 + i) / o),
                g = Math.floor((r - 1 + i) / o);
              this.renderRegion(i, n, p, c, g, h);
            }
          }),
          (a.TilemapLayer.prototype.renderFull = function () {
            let t = this._mc.scrollX,
              e = this._mc.scrollY,
              i = this.canvas.width,
              n = this.canvas.height,
              r = this._mc.tileWidth,
              a = this._mc.tileHeight,
              o = Math.floor(t / r),
              s = Math.floor((i - 1 + t) / r),
              u = Math.floor(e / a),
              l = Math.floor((n - 1 + e) / a);
            this.context.clearRect(0, 0, i, n),
            this.renderRegion(t, e, o, u, s, l);
          }),
          (a.TilemapLayer.prototype.render = function () {
            let t = !1;
            if (this.visible) {
              (this.dirty || this.layer.dirty) &&
                ((this.layer.dirty = !1), (t = !0));
              let e = this.canvas.width,
                i = this.canvas.height,
                n = 0 | this._scrollX,
                r = 0 | this._scrollY,
                a = this._mc,
                o = a.scrollX - n,
                s = a.scrollY - r;
              if (
                t ||
                o !== 0 ||
                s !== 0 ||
                a.renderWidth !== e ||
                a.renderHeight !== i
              ) {
                return (
                  this.context.save(),
                  (a.scrollX = n),
                  (a.scrollY = r),
                  (a.renderWidth === e && a.renderHeight === i) ||
                    ((a.renderWidth = e), (a.renderHeight = i)),
                  this.debug &&
                    ((this.context.globalAlpha = this.debugSettings.debugAlpha),
                    this.debugSettings.forceFullRedraw && (t = !0)),
                  !t &&
                  this.renderSettings.enableScrollDelta &&
                  Math.abs(o) + Math.abs(s) < Math.min(e, i)
                    ? this.renderDeltaScroll(o, s)
                    : this.renderFull(),
                  this.debug &&
                    ((this.context.globalAlpha = 1), this.renderDebug()),
                  this.texture.baseTexture.dirty(),
                  (this.dirty = !1),
                  this.context.restore(),
                  !0
                );
              }
            }
          }),
          (a.TilemapLayer.prototype.renderDebug = function () {
            let t,
              e,
              i,
              n,
              r,
              a,
              o = this._mc.scrollX,
              s = this._mc.scrollY,
              u = this.context,
              l = this.canvas.width,
              c = this.canvas.height,
              h = this.layer.width,
              d = this.layer.height,
              f = this._mc.tileWidth,
              p = this._mc.tileHeight,
              g = Math.floor(o / f),
              y = Math.floor((l - 1 + o) / f),
              v = Math.floor(s / p),
              m = Math.floor((c - 1 + s) / p),
              b = g * f - o,
              _ = v * p - s,
              w = (g + (1 << 20) * h) % h,
              x = (v + (1 << 20) * d) % d;
            for (
              u.strokeStyle = this.debugSettings.facingEdgeStroke,
              n = x,
              a = m - v,
              e = _;
              a >= 0;
              n++, a--, e += p
            ) {
              n >= d && (n -= d);
              const P = this.layer.data[n];
              for (i = w, r = y - g, t = b; r >= 0; i++, r--, t += f) {
                i >= h && (i -= h);
                const k = P[i];
                !k ||
                  k.index < 0 ||
                  !k.collides ||
                  (this.debugSettings.collidingTileOverfill &&
                    ((u.fillStyle = this.debugSettings.collidingTileOverfill),
                    u.fillRect(t, e, this._mc.cw, this._mc.ch)),
                  this.debugSettings.facingEdgeStroke &&
                    (u.beginPath(),
                    k.faceTop && (u.moveTo(t, e), u.lineTo(t + this._mc.cw, e)),
                    k.faceBottom &&
                      (u.moveTo(t, e + this._mc.ch),
                      u.lineTo(t + this._mc.cw, e + this._mc.ch)),
                    k.faceLeft &&
                      (u.moveTo(t, e), u.lineTo(t, e + this._mc.ch)),
                    k.faceRight &&
                      (u.moveTo(t + this._mc.cw, e),
                      u.lineTo(t + this._mc.cw, e + this._mc.ch)),
                    u.stroke()));
              }
            }
          }),
          Object.defineProperty(a.TilemapLayer.prototype, 'wrap', {
            get() {
              return this._wrap;
            },
            set(t) {
              (this._wrap = t), (this.dirty = !0);
            },
          }),
          Object.defineProperty(a.TilemapLayer.prototype, 'scrollX', {
            get() {
              return this._scrollX;
            },
            set(t) {
              this._scrollX = t;
            },
          }),
          Object.defineProperty(a.TilemapLayer.prototype, 'scrollY', {
            get() {
              return this._scrollY;
            },
            set(t) {
              this._scrollY = t;
            },
          }),
          Object.defineProperty(a.TilemapLayer.prototype, 'collisionWidth', {
            get() {
              return this._mc.cw;
            },
            set(t) {
              (this._mc.cw = 0 | t), (this.dirty = !0);
            },
          }),
          Object.defineProperty(a.TilemapLayer.prototype, 'collisionHeight', {
            get() {
              return this._mc.ch;
            },
            set(t) {
              (this._mc.ch = 0 | t), (this.dirty = !0);
            },
          }),
          (a.TilemapParser = {
            INSERT_NULL: !1,
            parse(t, e, i, n, r, o) {
              if (
                (void 0 === i && (i = 32),
                void 0 === n && (n = 32),
                void 0 === r && (r = 10),
                void 0 === o && (o = 10),
                void 0 === e)
              ) { return this.getEmptyData(); }
              if (e === null) return this.getEmptyData(i, n, r, o);
              const s = t.cache.getTilemapData(e);
              if (s) {
                if (s.format === a.Tilemap.CSV) { return this.parseCSV(e, s.data, i, n); }
                if (!s.format || s.format === a.Tilemap.TILED_JSON) { return this.parseTiledJSON(s.data); }
              } else {
                console.warn(`Phaser.TilemapParser.parse - No map data found for key ${e}`);
              }
            },
            parseCSV(t, e, i, n) {
              const r = this.getEmptyData();
              e = e.trim();
              for (
                var o = [], s = e.split('\n'), u = s.length, l = 0, c = 0;
                c < s.length;
                c++
              ) {
                o[c] = [];
                for (var h = s[c].split(','), d = 0; d < h.length; d++) {
                  o[c][d] = new a.Tile(
                    r.layers[0],
                    parseInt(h[d], 10),
                    d,
                    c,
                    i,
                    n,
                  );
                }
                l === 0 && (l = h.length);
              }
              return (
                (r.format = a.Tilemap.CSV),
                (r.name = t),
                (r.width = l),
                (r.height = u),
                (r.tileWidth = i),
                (r.tileHeight = n),
                (r.widthInPixels = l * i),
                (r.heightInPixels = u * n),
                (r.layers[0].width = l),
                (r.layers[0].height = u),
                (r.layers[0].widthInPixels = r.widthInPixels),
                (r.layers[0].heightInPixels = r.heightInPixels),
                (r.layers[0].data = o),
                r
              );
            },
            getEmptyData(t, e, i, n) {
              const r = {};
              (r.width = 0),
              (r.height = 0),
              (r.tileWidth = 0),
              (r.tileHeight = 0),
              void 0 !== t && t !== null && (r.tileWidth = t),
              void 0 !== e && e !== null && (r.tileHeight = e),
              void 0 !== i && i !== null && (r.width = i),
              void 0 !== n && n !== null && (r.height = n),
              (r.orientation = 'orthogonal'),
              (r.version = '1'),
              (r.properties = {}),
              (r.widthInPixels = 0),
              (r.heightInPixels = 0);
              let a = [],
                o = {
                  name: 'layer',
                  x: 0,
                  y: 0,
                  width: 0,
                  height: 0,
                  widthInPixels: 0,
                  heightInPixels: 0,
                  alpha: 1,
                  visible: !0,
                  properties: {},
                  indexes: [],
                  callbacks: [],
                  bodies: [],
                  data: [],
                };
              return (
                a.push(o),
                (r.layers = a),
                (r.images = []),
                (r.objects = {}),
                (r.collision = {}),
                (r.tilesets = []),
                (r.tiles = []),
                r
              );
            },
            parseTiledJSON(t) {
              function e(t, e) {
                const i = {};
                for (const n in e) {
                  const r = e[n];
                  void 0 !== t[r] && (i[r] = t[r]);
                }
                return i;
              }
              if (t.orientation !== 'orthogonal') {
                return (
                  console.warn('TilemapParser.parseTiledJSON - Only orthogonal map types are supported in this version of Phaser'),
                  null
                );
              }
              const i = {};
              (i.width = t.width),
              (i.height = t.height),
              (i.tileWidth = t.tilewidth),
              (i.tileHeight = t.tileheight),
              (i.orientation = t.orientation),
              (i.format = a.Tilemap.TILED_JSON),
              (i.version = t.version),
              (i.properties = t.properties),
              (i.widthInPixels = i.width * i.tileWidth),
              (i.heightInPixels = i.height * i.tileHeight);
              for (var n = [], r = 0; r < t.layers.length; r++) {
                if (t.layers[r].type === 'tilelayer') {
                  const o = t.layers[r];
                  if (!o.compression && o.encoding && o.encoding === 'base64') {
                    for (
                      var s = window.atob(o.data),
                        u = s.length,
                        l = new Array(u),
                        c = 0;
                      c < u;
                      c += 4
                    ) {
                      l[c / 4] =
                        (s.charCodeAt(c) |
                          (s.charCodeAt(c + 1) << 8) |
                          (s.charCodeAt(c + 2) << 16) |
                          (s.charCodeAt(c + 3) << 24)) >>>
                        0;
                    }
                    (o.data = l), delete o.encoding;
                  } else if (o.compression) {
                    console.warn(`TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '${
                      o.name
                    }'`);
                    continue;
                  }
                  var h = {
                    name: o.name,
                    x: o.x,
                    y: o.y,
                    width: o.width,
                    height: o.height,
                    widthInPixels: o.width * t.tilewidth,
                    heightInPixels: o.height * t.tileheight,
                    alpha: o.opacity,
                    visible: o.visible,
                    properties: {},
                    indexes: [],
                    callbacks: [],
                    bodies: [],
                  };
                  o.properties && (h.properties = o.properties);
                  for (
                    var d,
                      f,
                      p,
                      g,
                      y = 0,
                      v = [],
                      m = [],
                      b = 0,
                      u = o.data.length;
                    b < u;
                    b++
                  ) {
                    if (((d = 0), (f = !1), (g = o.data[b]) > 536870912)) {
                      switch (
                        ((p = 0),
                        g > 2147483648 && ((g -= 2147483648), (p += 4)),
                        g > 1073741824 && ((g -= 1073741824), (p += 2)),
                        g > 536870912 && ((g -= 536870912), (p += 1)),
                        p)
                      ) {
                        case 5:
                          d = Math.PI / 2;
                          break;
                        case 6:
                          d = Math.PI;
                          break;
                        case 3:
                          d = (3 * Math.PI) / 2;
                          break;
                        case 4:
                          (d = 0), (f = !0);
                          break;
                        case 7:
                          (d = Math.PI / 2), (f = !0);
                          break;
                        case 2:
                          (d = Math.PI), (f = !0);
                          break;
                        case 1:
                          (d = (3 * Math.PI) / 2), (f = !0);
                      }
                    }
                    g > 0
                      ? (v.push(new a.Tile(
                        h,
                        g,
                        y,
                        m.length,
                        t.tilewidth,
                        t.tileheight,
                      )),
                      (v[v.length - 1].rotation = d),
                      (v[v.length - 1].flipped = f))
                      : a.TilemapParser.INSERT_NULL
                        ? v.push(null)
                        : v.push(new a.Tile(
                          h,
                          -1,
                          y,
                          m.length,
                          t.tilewidth,
                          t.tileheight,
                        )),
                    ++y === o.width && (m.push(v), (y = 0), (v = []));
                  }
                  (h.data = m), n.push(h);
                }
              }
              i.layers = n;
              for (var _ = [], r = 0; r < t.layers.length; r++) {
                if (t.layers[r].type === 'imagelayer') {
                  var w = t.layers[r],
                    x = {
                      name: w.name,
                      image: w.image,
                      x: w.x,
                      y: w.y,
                      alpha: w.opacity,
                      visible: w.visible,
                      properties: {},
                    };
                  w.properties && (x.properties = w.properties), _.push(x);
                }
              }
              i.images = _;
              for (var P = [], k = [], r = 0; r < t.tilesets.length; r++) {
                var T = t.tilesets[r];
                if (T.image) {
                  const O = new a.Tileset(
                    T.name,
                    T.firstgid,
                    T.tilewidth,
                    T.tileheight,
                    T.margin,
                    T.spacing,
                    T.properties,
                  );
                  T.tileproperties && (O.tileProperties = T.tileproperties),
                  O.updateTileData(T.imagewidth, T.imageheight),
                  P.push(O);
                } else {
                  const E = new a.ImageCollection(
                    T.name,
                    T.firstgid,
                    T.tilewidth,
                    T.tileheight,
                    T.margin,
                    T.spacing,
                    T.properties,
                  );
                  for (const S in T.tiles) {
                    var x = T.tiles[S].image,
                      g = T.firstgid + parseInt(S, 10);
                    E.addImage(g, x);
                  }
                  k.push(E);
                }
              }
              (i.tilesets = P), (i.imagecollections = k);
              for (var C = {}, I = {}, r = 0; r < t.layers.length; r++) {
                if (t.layers[r].type === 'objectgroup') {
                  const M = t.layers[r];
                  (C[M.name] = []), (I[M.name] = []);
                  for (var A = 0, u = M.objects.length; A < u; A++) {
                    if (M.objects[A].gid) {
                      var R = {
                        gid: M.objects[A].gid,
                        name: M.objects[A].name,
                        type: M.objects[A].hasOwnProperty('type')
                          ? M.objects[A].type
                          : '',
                        x: M.objects[A].x,
                        y: M.objects[A].y,
                        visible: M.objects[A].visible,
                        properties: M.objects[A].properties,
                      };
                      M.objects[A].rotation &&
                        (R.rotation = M.objects[A].rotation),
                      C[M.name].push(R);
                    } else if (M.objects[A].polyline) {
                      var R = {
                        name: M.objects[A].name,
                        type: M.objects[A].type,
                        x: M.objects[A].x,
                        y: M.objects[A].y,
                        width: M.objects[A].width,
                        height: M.objects[A].height,
                        visible: M.objects[A].visible,
                        properties: M.objects[A].properties,
                      };
                      M.objects[A].rotation &&
                        (R.rotation = M.objects[A].rotation),
                      (R.polyline = []);
                      for (var L = 0; L < M.objects[A].polyline.length; L++) { R.polyline.push([
                        M.objects[A].polyline[L].x,
                        M.objects[A].polyline[L].y,
                      ]);
}
                      I[M.name].push(R), C[M.name].push(R);
                    } else if (M.objects[A].polygon) {
                      var R = e(M.objects[A], [
                        'name',
                        'type',
                        'x',
                        'y',
                        'visible',
                        'rotation',
                        'properties',
                      ]);
                      R.polygon = [];
                      for (var L = 0; L < M.objects[A].polygon.length; L++) { R.polygon.push([
                        M.objects[A].polygon[L].x,
                        M.objects[A].polygon[L].y,
                      ]); }
                      C[M.name].push(R);
                    } else if (M.objects[A].ellipse) {
                      var R = e(M.objects[A], [
                        'name',
                        'type',
                        'ellipse',
                        'x',
                        'y',
                        'width',
                        'height',
                        'visible',
                        'rotation',
                        'properties',
                      ]);
                      C[M.name].push(R);
                    } else {
                      var R = e(M.objects[A], [
                        'name',
                        'type',
                        'x',
                        'y',
                        'width',
                        'height',
                        'visible',
                        'rotation',
                        'properties',
                      ]);
                      (R.rectangle = !0), C[M.name].push(R);
                    }
                  }
                }
              }
              (i.objects = C), (i.collision = I), (i.tiles = []);
              for (var r = 0; r < i.tilesets.length; r++) {
                for (
                  var T = i.tilesets[r],
                    y = T.tileMargin,
                    D = T.tileMargin,
                    B = 0,
                    j = 0,
                    F = 0,
                    b = T.firstgid;
                  b < T.firstgid + T.total &&
                  ((i.tiles[b] = [y, D, r]),
                  (y += T.tileWidth + T.tileSpacing),
                  ++B !== T.total) &&
                  (++j !== T.columns ||
                    ((y = T.tileMargin),
                    (D += T.tileHeight + T.tileSpacing),
                    (j = 0),
                    ++F !== T.rows));
                  b++
                );
              }
              for (var h, U, G, T, r = 0; r < i.layers.length; r++) {
                h = i.layers[r];
                for (var c = 0; c < h.data.length; c++) {
                  v = h.data[c];
                  for (let N = 0; N < v.length; N++) {
                    (U = v[N]) === null ||
                      U.index < 0 ||
                      ((G = i.tiles[U.index][2]),
                      (T = i.tilesets[G]),
                      T.tileProperties &&
                        T.tileProperties[U.index - T.firstgid] &&
                        (U.properties = a.Utils.mixin(
                          T.tileProperties[U.index - T.firstgid],
                          U.properties,
                        )));
                  }
                }
              }
              return i;
            },
          }),
          (a.Tileset = function (t, e, i, n, r, a, o) {
            (void 0 === i || i <= 0) && (i = 32),
            (void 0 === n || n <= 0) && (n = 32),
            void 0 === r && (r = 0),
            void 0 === a && (a = 0),
            (this.name = t),
            (this.firstgid = 0 | e),
            (this.tileWidth = 0 | i),
            (this.tileHeight = 0 | n),
            (this.tileMargin = 0 | r),
            (this.tileSpacing = 0 | a),
            (this.properties = o || {}),
            (this.image = null),
            (this.rows = 0),
            (this.columns = 0),
            (this.total = 0),
            (this.drawCoords = []);
          }),
          (a.Tileset.prototype = {
            draw(t, e, i, n) {
              const r = (n - this.firstgid) << 1;
              r >= 0 &&
                r + 1 < this.drawCoords.length &&
                t.drawImage(
                  this.image,
                  this.drawCoords[r],
                  this.drawCoords[r + 1],
                  this.tileWidth,
                  this.tileHeight,
                  e,
                  i,
                  this.tileWidth,
                  this.tileHeight,
                );
            },
            containsTileIndex(t) {
              return t >= this.firstgid && t < this.firstgid + this.total;
            },
            setImage(t) {
              (this.image = t), this.updateTileData(t.width, t.height);
            },
            setSpacing(t, e) {
              (this.tileMargin = 0 | t),
              (this.tileSpacing = 0 | e),
              this.image &&
                  this.updateTileData(this.image.width, this.image.height);
            },
            updateTileData(t, e) {
              let i =
                  (e - 2 * this.tileMargin + this.tileSpacing) /
                  (this.tileHeight + this.tileSpacing),
                n =
                  (t - 2 * this.tileMargin + this.tileSpacing) /
                  (this.tileWidth + this.tileSpacing);
              (i % 1 == 0 && n % 1 == 0) ||
                console.warn(`Phaser.Tileset - ${
                  this.name
                } image tile area is not an even multiple of tile size`),
              (i = Math.floor(i)),
              (n = Math.floor(n)),
              ((this.rows && this.rows !== i) ||
                  (this.columns && this.columns !== n)) &&
                  console.warn('Phaser.Tileset - actual and expected number of tile rows and columns differ'),
              (this.rows = i),
              (this.columns = n),
              (this.total = i * n),
              (this.drawCoords.length = 0);
              for (
                let r = this.tileMargin, a = this.tileMargin, o = 0;
                o < this.rows;
                o++
              ) {
                for (let s = 0; s < this.columns; s++) {
                  this.drawCoords.push(r),
                  this.drawCoords.push(a),
                  (r += this.tileWidth + this.tileSpacing);
                }
                (r = this.tileMargin),
                (a += this.tileHeight + this.tileSpacing);
              }
            },
          }),
          (a.Tileset.prototype.constructor = a.Tileset),
          (a.Particle = function (t, e, i, n, r) {
            a.Sprite.call(this, t, e, i, n, r),
            (this.autoScale = !1),
            (this.scaleData = null),
            (this._s = 0),
            (this.autoAlpha = !1),
            (this.alphaData = null),
            (this._a = 0);
          }),
          (a.Particle.prototype = Object.create(a.Sprite.prototype)),
          (a.Particle.prototype.constructor = a.Particle),
          (a.Particle.prototype.update = function () {
            this.autoScale &&
              (this._s--,
              this._s
                ? this.scale.set(
                  this.scaleData[this._s].x,
                  this.scaleData[this._s].y,
                )
                : (this.autoScale = !1)),
            this.autoAlpha &&
                (this._a--,
                this._a
                  ? (this.alpha = this.alphaData[this._a].v)
                  : (this.autoAlpha = !1));
          }),
          (a.Particle.prototype.onEmit = function () {}),
          (a.Particle.prototype.setAlphaData = function (t) {
            (this.alphaData = t),
            (this._a = t.length - 1),
            (this.alpha = this.alphaData[this._a].v),
            (this.autoAlpha = !0);
          }),
          (a.Particle.prototype.setScaleData = function (t) {
            (this.scaleData = t),
            (this._s = t.length - 1),
            this.scale.set(
              this.scaleData[this._s].x,
              this.scaleData[this._s].y,
            ),
            (this.autoScale = !0);
          }),
          (a.Particle.prototype.reset = function (t, e, i) {
            return (
              a.Component.Reset.prototype.reset.call(this, t, e, i),
              (this.alpha = 1),
              this.scale.set(1),
              (this.autoScale = !1),
              (this.autoAlpha = !1),
              this
            );
          }),
          (a.Particles = function (t) {
            (this.game = t), (this.emitters = {}), (this.ID = 0);
          }),
          (a.Particles.prototype = {
            add(t) {
              return (this.emitters[t.name] = t), t;
            },
            remove(t) {
              delete this.emitters[t.name];
            },
            update() {
              for (const t in this.emitters) { this.emitters[t].exists && this.emitters[t].update(); }
            },
          }),
          (a.Particles.prototype.constructor = a.Particles),
          (a.Particles.Arcade = {}),
          (a.Particles.Arcade.Emitter = function (t, e, i, n) {
            (this.maxParticles = n || 50),
            a.Group.call(this, t),
            (this.name = `emitter${this.game.particles.ID++}`),
            (this.type = a.EMITTER),
            (this.physicsType = a.GROUP),
            (this.area = new a.Rectangle(e, i, 1, 1)),
            (this.minParticleSpeed = new a.Point(-100, -100)),
            (this.maxParticleSpeed = new a.Point(100, 100)),
            (this.minParticleScale = 1),
            (this.maxParticleScale = 1),
            (this.scaleData = null),
            (this.minRotation = -360),
            (this.maxRotation = 360),
            (this.minParticleAlpha = 1),
            (this.maxParticleAlpha = 1),
            (this.alphaData = null),
            (this.gravity = 100),
            (this.particleClass = a.Particle),
            (this.particleDrag = new a.Point()),
            (this.angularDrag = 0),
            (this.frequency = 100),
            (this.lifespan = 2e3),
            (this.bounce = new a.Point()),
            (this.on = !1),
            (this.particleAnchor = new a.Point(0.5, 0.5)),
            (this.blendMode = a.blendModes.NORMAL),
            (this.emitX = e),
            (this.emitY = i),
            (this.autoScale = !1),
            (this.autoAlpha = !1),
            (this.particleBringToTop = !1),
            (this.particleSendToBack = !1),
            (this._minParticleScale = new a.Point(1, 1)),
            (this._maxParticleScale = new a.Point(1, 1)),
            (this._quantity = 0),
            (this._timer = 0),
            (this._counter = 0),
            (this._flowQuantity = 0),
            (this._flowTotal = 0),
            (this._explode = !0),
            (this._frames = null);
          }),
          (a.Particles.Arcade.Emitter.prototype = Object.create(a.Group.prototype)),
          (a.Particles.Arcade.Emitter.prototype.constructor =
            a.Particles.Arcade.Emitter),
          (a.Particles.Arcade.Emitter.prototype.update = function () {
            if (this.on && this.game.time.time >= this._timer) {
              if (
                ((this._timer =
                  this.game.time.time +
                  this.frequency * this.game.time.slowMotion),
                this._flowTotal !== 0)
              ) {
                if (this._flowQuantity > 0) {
                  for (var t = 0; t < this._flowQuantity; t++) {
 if (
                    this.emitParticle() &&
                      (this._counter++,
                      this._flowTotal !== -1 &&
                        this._counter >= this._flowTotal)
                  ) {
                    this.on = !1;
                    break;
                  }
                  }
                } else {
                  this.emitParticle() &&
                    (this._counter++,
                    this._flowTotal !== -1 &&
                      this._counter >= this._flowTotal &&
                      (this.on = !1)); 
}
              } else {
                this.emitParticle() &&
                  (this._counter++,
                  this._quantity > 0 &&
                    this._counter >= this._quantity &&
                    (this.on = !1));
              }
            }
            for (var t = this.children.length; t--;) { this.children[t].exists && this.children[t].update(); }
          }),
          (a.Particles.Arcade.Emitter.prototype.makeParticles = function (
            t,
            e,
            i,
            n,
            r,
          ) {
            void 0 === e && (e = 0),
            void 0 === i && (i = this.maxParticles),
            void 0 === n && (n = !1),
            void 0 === r && (r = !1);
            let a,
              o = 0,
              s = t,
              u = e;
            for (
              this._frames = e,
              i > this.maxParticles && (this.maxParticles = i);
              o < i;

            ) {
              Array.isArray(t) && (s = this.game.rnd.pick(t)),
              Array.isArray(e) && (u = this.game.rnd.pick(e)),
              (a = new this.particleClass(this.game, 0, 0, s, u)),
              this.game.physics.arcade.enable(a, !1),
              n
                ? ((a.body.checkCollision.any = !0),
                (a.body.checkCollision.none = !1))
                : (a.body.checkCollision.none = !0),
              (a.body.collideWorldBounds = r),
              (a.body.skipQuadTree = !0),
              (a.exists = !1),
              (a.visible = !1),
              a.anchor.copyFrom(this.particleAnchor),
              this.add(a),
              o++;
            }
            return this;
          }),
          (a.Particles.Arcade.Emitter.prototype.kill = function () {
            return (this.on = !1), (this.alive = !1), (this.exists = !1), this;
          }),
          (a.Particles.Arcade.Emitter.prototype.revive = function () {
            return (this.alive = !0), (this.exists = !0), this;
          }),
          (a.Particles.Arcade.Emitter.prototype.explode = function (t, e) {
            return (this._flowTotal = 0), this.start(!0, t, 0, e, !1), this;
          }),
          (a.Particles.Arcade.Emitter.prototype.flow = function (t, e, i, n, r) {
            return (
              (void 0 !== i && i !== 0) || (i = 1),
              void 0 === n && (n = -1),
              void 0 === r && (r = !0),
              i > this.maxParticles && (i = this.maxParticles),
              (this._counter = 0),
              (this._flowQuantity = i),
              (this._flowTotal = n),
              r
                ? (this.start(!0, t, e, i),
                (this._counter += i),
                (this.on = !0),
                (this._timer =
                    this.game.time.time + e * this.game.time.slowMotion))
                : this.start(!1, t, e, i),
              this
            );
          }),
          (a.Particles.Arcade.Emitter.prototype.start = function (
            t,
            e,
            i,
            n,
            r,
          ) {
            if (
              (void 0 === t && (t = !0),
              void 0 === e && (e = 0),
              (void 0 !== i && i !== null) || (i = 250),
              void 0 === n && (n = 0),
              void 0 === r && (r = !1),
              n > this.maxParticles && (n = this.maxParticles),
              this.revive(),
              (this.visible = !0),
              (this.lifespan = e),
              (this.frequency = i),
              t || r)
            ) { for (let a = 0; a < n; a++) this.emitParticle(); } else {
              (this.on = !0),
              (this._quantity = n),
              (this._counter = 0),
              (this._timer =
                  this.game.time.time + i * this.game.time.slowMotion);
            }
            return this;
          }),
          (a.Particles.Arcade.Emitter.prototype.emitParticle = function (
            t,
            e,
            i,
            n,
          ) {
            void 0 === t && (t = null), void 0 === e && (e = null);
            const r = this.getFirstExists(!1);
            if (r === null) return !1;
            const a = this.game.rnd;
            void 0 !== i && void 0 !== n
              ? r.loadTexture(i, n)
              : void 0 !== i && r.loadTexture(i);
            let o = this.emitX,
              s = this.emitY;
            t !== null
              ? (o = t)
              : this.width > 1 && (o = a.between(this.left, this.right)),
            e !== null
              ? (s = e)
              : this.height > 1 && (s = a.between(this.top, this.bottom)),
            r.reset(o, s),
            (r.angle = 0),
            (r.lifespan = this.lifespan),
            this.particleBringToTop
              ? this.bringToTop(r)
              : this.particleSendToBack && this.sendToBack(r),
            this.autoScale
              ? r.setScaleData(this.scaleData)
              : this.minParticleScale !== 1 || this.maxParticleScale !== 1
                ? r.scale.set(a.realInRange(this.minParticleScale, this.maxParticleScale))
                : (this._minParticleScale.x === this._maxParticleScale.x &&
                    this._minParticleScale.y === this._maxParticleScale.y) ||
                  r.scale.set(
                    a.realInRange(
                      this._minParticleScale.x,
                      this._maxParticleScale.x,
                    ),
                    a.realInRange(
                      this._minParticleScale.y,
                      this._maxParticleScale.y,
                    ),
                  ),
            void 0 === n &&
                (Array.isArray(this._frames)
                  ? (r.frame = this.game.rnd.pick(this._frames))
                  : (r.frame = this._frames)),
            this.autoAlpha
              ? r.setAlphaData(this.alphaData)
              : (r.alpha = a.realInRange(
                this.minParticleAlpha,
                this.maxParticleAlpha,
              )),
            (r.blendMode = this.blendMode);
            const u = r.body;
            return (
              u.updateBounds(),
              u.bounce.copyFrom(this.bounce),
              u.drag.copyFrom(this.particleDrag),
              (u.velocity.x = a.between(
                this.minParticleSpeed.x,
                this.maxParticleSpeed.x,
              )),
              (u.velocity.y = a.between(
                this.minParticleSpeed.y,
                this.maxParticleSpeed.y,
              )),
              (u.angularVelocity = a.between(
                this.minRotation,
                this.maxRotation,
              )),
              (u.gravity.y = this.gravity),
              (u.angularDrag = this.angularDrag),
              r.onEmit(),
              !0
            );
          }),
          (a.Particles.Arcade.Emitter.prototype.destroy = function () {
            this.game.particles.remove(this),
            a.Group.prototype.destroy.call(this, !0, !1);
          }),
          (a.Particles.Arcade.Emitter.prototype.setSize = function (t, e) {
            return (this.area.width = t), (this.area.height = e), this;
          }),
          (a.Particles.Arcade.Emitter.prototype.setXSpeed = function (t, e) {
            return (
              (t = t || 0),
              (e = e || 0),
              (this.minParticleSpeed.x = t),
              (this.maxParticleSpeed.x = e),
              this
            );
          }),
          (a.Particles.Arcade.Emitter.prototype.setYSpeed = function (t, e) {
            return (
              (t = t || 0),
              (e = e || 0),
              (this.minParticleSpeed.y = t),
              (this.maxParticleSpeed.y = e),
              this
            );
          }),
          (a.Particles.Arcade.Emitter.prototype.setRotation = function (t, e) {
            return (
              (t = t || 0),
              (e = e || 0),
              (this.minRotation = t),
              (this.maxRotation = e),
              this
            );
          }),
          (a.Particles.Arcade.Emitter.prototype.setAlpha = function (
            t,
            e,
            i,
            n,
            r,
          ) {
            if (
              (void 0 === t && (t = 1),
              void 0 === e && (e = 1),
              void 0 === i && (i = 0),
              void 0 === n && (n = a.Easing.Linear.None),
              void 0 === r && (r = !1),
              (this.minParticleAlpha = t),
              (this.maxParticleAlpha = e),
              (this.autoAlpha = !1),
              i > 0 && t !== e)
            ) {
              let o = { v: t },
                s = this.game.make.tween(o).to({ v: e }, i, n);
              s.yoyo(r),
              (this.alphaData = s.generateData(60)),
              this.alphaData.reverse(),
              (this.autoAlpha = !0);
            }
            return this;
          }),
          (a.Particles.Arcade.Emitter.prototype.setScale = function (
            t,
            e,
            i,
            n,
            r,
            o,
            s,
          ) {
            if (
              (void 0 === t && (t = 1),
              void 0 === e && (e = 1),
              void 0 === i && (i = 1),
              void 0 === n && (n = 1),
              void 0 === r && (r = 0),
              void 0 === o && (o = a.Easing.Linear.None),
              void 0 === s && (s = !1),
              (this.minParticleScale = 1),
              (this.maxParticleScale = 1),
              this._minParticleScale.set(t, i),
              this._maxParticleScale.set(e, n),
              (this.autoScale = !1),
              r > 0 && (t !== e || i !== n))
            ) {
              let u = { x: t, y: i },
                l = this.game.make.tween(u).to({ x: e, y: n }, r, o);
              l.yoyo(s),
              (this.scaleData = l.generateData(60)),
              this.scaleData.reverse(),
              (this.autoScale = !0);
            }
            return this;
          }),
          (a.Particles.Arcade.Emitter.prototype.at = function (t) {
            return (
              t.center
                ? ((this.emitX = t.center.x), (this.emitY = t.center.y))
                : ((this.emitX = t.world.x + t.anchor.x * t.width),
                (this.emitY = t.world.y + t.anchor.y * t.height)),
              this
            );
          }),
          Object.defineProperty(a.Particles.Arcade.Emitter.prototype, 'width', {
            get() {
              return this.area.width;
            },
            set(t) {
              this.area.width = t;
            },
          }),
          Object.defineProperty(
            a.Particles.Arcade.Emitter.prototype,
            'height',
            {
              get() {
                return this.area.height;
              },
              set(t) {
                this.area.height = t;
              },
            },
          ),
          Object.defineProperty(a.Particles.Arcade.Emitter.prototype, 'x', {
            get() {
              return this.emitX;
            },
            set(t) {
              this.emitX = t;
            },
          }),
          Object.defineProperty(a.Particles.Arcade.Emitter.prototype, 'y', {
            get() {
              return this.emitY;
            },
            set(t) {
              this.emitY = t;
            },
          }),
          Object.defineProperty(a.Particles.Arcade.Emitter.prototype, 'left', {
            get() {
              return Math.floor(this.x - this.area.width / 2);
            },
          }),
          Object.defineProperty(a.Particles.Arcade.Emitter.prototype, 'right', {
            get() {
              return Math.floor(this.x + this.area.width / 2);
            },
          }),
          Object.defineProperty(a.Particles.Arcade.Emitter.prototype, 'top', {
            get() {
              return Math.floor(this.y - this.area.height / 2);
            },
          }),
          Object.defineProperty(
            a.Particles.Arcade.Emitter.prototype,
            'bottom',
            {
              get() {
                return Math.floor(this.y + this.area.height / 2);
              },
            },
          ),
          (a.Weapon = function (t, e) {
            a.Plugin.call(this, t, e),
            (this.bullets = null),
            (this.autoExpandBulletsGroup = !1),
            (this.autofire = !1),
            (this.shots = 0),
            (this.fireLimit = 0),
            (this.fireRate = 100),
            (this.fireRateVariance = 0),
            (this.fireFrom = new a.Rectangle(0, 0, 1, 1)),
            (this.fireAngle = a.ANGLE_UP),
            (this.bulletInheritSpriteSpeed = !1),
            (this.bulletAnimation = ''),
            (this.bulletFrameRandom = !1),
            (this.bulletFrameCycle = !1),
            (this.bulletWorldWrap = !1),
            (this.bulletWorldWrapPadding = 0),
            (this.bulletAngleOffset = 0),
            (this.bulletAngleVariance = 0),
            (this.bulletSpeed = 200),
            (this.bulletSpeedVariance = 0),
            (this.bulletLifespan = 0),
            (this.bulletKillDistance = 0),
            (this.bulletGravity = new a.Point(0, 0)),
            (this.bulletRotateToVelocity = !1),
            (this.bulletKey = ''),
            (this.bulletFrame = ''),
            (this._bulletClass = a.Bullet),
            (this._bulletCollideWorldBounds = !1),
            (this._bulletKillType = a.Weapon.KILL_WORLD_BOUNDS),
            (this._data = {
              customBody: !1,
              width: 0,
              height: 0,
              offsetX: 0,
              offsetY: 0,
            }),
            (this.bounds = new a.Rectangle()),
            (this.bulletBounds = t.world.bounds),
            (this.bulletFrames = []),
            (this.bulletFrameIndex = 0),
            (this.anims = {}),
            (this.onFire = new a.Signal()),
            (this.onKill = new a.Signal()),
            (this.onFireLimit = new a.Signal()),
            (this.trackedSprite = null),
            (this.trackedPointer = null),
            (this.trackRotation = !1),
            (this.trackOffset = new a.Point()),
            (this._nextFire = 0);
          }),
          (a.Weapon.prototype = Object.create(a.Plugin.prototype)),
          (a.Weapon.prototype.constructor = a.Weapon),
          (a.Weapon.KILL_NEVER = 0),
          (a.Weapon.KILL_LIFESPAN = 1),
          (a.Weapon.KILL_DISTANCE = 2),
          (a.Weapon.KILL_WEAPON_BOUNDS = 3),
          (a.Weapon.KILL_CAMERA_BOUNDS = 4),
          (a.Weapon.KILL_WORLD_BOUNDS = 5),
          (a.Weapon.KILL_STATIC_BOUNDS = 6),
          (a.Weapon.prototype.createBullets = function (t, e, i, n) {
            return (
              void 0 === t && (t = 1),
              void 0 === n && (n = this.game.world),
              this.bullets ||
                ((this.bullets = this.game.add.physicsGroup(
                  a.Physics.ARCADE,
                  n,
                )),
                (this.bullets.classType = this._bulletClass)),
              t !== 0 &&
                (t === -1 && ((this.autoExpandBulletsGroup = !0), (t = 1)),
                this.bullets.createMultiple(t, e, i),
                this.bullets.setAll('data.bulletManager', this),
                (this.bulletKey = e),
                (this.bulletFrame = i)),
              this
            );
          }),
          (a.Weapon.prototype.forEach = function (t, e) {
            return this.bullets.forEachExists(t, e, arguments), this;
          }),
          (a.Weapon.prototype.pauseAll = function () {
            return this.bullets.setAll('body.enable', !1), this;
          }),
          (a.Weapon.prototype.resumeAll = function () {
            return this.bullets.setAll('body.enable', !0), this;
          }),
          (a.Weapon.prototype.killAll = function () {
            return (
              this.bullets.callAllExists('kill', !0),
              this.bullets.setAll('body.enable', !0),
              this
            );
          }),
          (a.Weapon.prototype.resetShots = function (t) {
            return (this.shots = 0), void 0 !== t && (this.fireLimit = t), this;
          }),
          (a.Weapon.prototype.destroy = function () {
            this.parent.remove(this, !1),
            this.bullets.destroy(),
            (this.game = null),
            (this.parent = null),
            (this.active = !1),
            (this.visible = !1);
          }),
          (a.Weapon.prototype.update = function () {
            this._bulletKillType === a.Weapon.KILL_WEAPON_BOUNDS &&
              (this.trackedSprite
                ? (this.trackedSprite.updateTransform(),
                this.bounds.centerOn(
                  this.trackedSprite.worldPosition.x,
                  this.trackedSprite.worldPosition.y,
                ))
                : this.trackedPointer &&
                  this.bounds.centerOn(
                    this.trackedPointer.worldX,
                    this.trackedPointer.worldY,
                  )),
            this.autofire &&
                this.game.time.now < this._nextFire &&
                this.fire();
          }),
          (a.Weapon.prototype.trackSprite = function (t, e, i, n) {
            return (
              void 0 === e && (e = 0),
              void 0 === i && (i = 0),
              void 0 === n && (n = !1),
              (this.trackedPointer = null),
              (this.trackedSprite = t),
              (this.trackRotation = n),
              this.trackOffset.set(e, i),
              this
            );
          }),
          (a.Weapon.prototype.trackPointer = function (t, e, i) {
            return (
              void 0 === t && (t = this.game.input.activePointer),
              void 0 === e && (e = 0),
              void 0 === i && (i = 0),
              (this.trackedPointer = t),
              (this.trackedSprite = null),
              (this.trackRotation = !1),
              this.trackOffset.set(e, i),
              this
            );
          }),
          (a.Weapon.prototype.fire = function (t, e, i) {
            if (
              this.game.time.now < this._nextFire ||
              (this.fireLimit > 0 && this.shots === this.fireLimit)
            ) { return !1; }
            let n = this.bulletSpeed;
            this.bulletSpeedVariance !== 0 &&
              (n += a.Math.between(
                -this.bulletSpeedVariance,
                this.bulletSpeedVariance,
              )),
            t
              ? this.fireFrom.width > 1
                ? this.fireFrom.centerOn(t.x, t.y)
                : ((this.fireFrom.x = t.x), (this.fireFrom.y = t.y))
              : this.trackedSprite
                ? (this.fireFrom.width > 1
                  ? this.fireFrom.centerOn(
                    this.trackedSprite.world.x + this.trackOffset.x,
                    this.trackedSprite.world.y + this.trackOffset.y,
                  )
                  : ((this.fireFrom.x =
                        this.trackedSprite.world.x + this.trackOffset.x),
                  (this.fireFrom.y =
                        this.trackedSprite.world.y + this.trackOffset.y)),
                this.bulletInheritSpriteSpeed &&
                    (n += this.trackedSprite.body.speed))
                : this.trackedPointer &&
                  (this.fireFrom.width > 1
                    ? this.fireFrom.centerOn(
                      this.trackedPointer.world.x + this.trackOffset.x,
                      this.trackedPointer.world.y + this.trackOffset.y,
                    )
                    : ((this.fireFrom.x =
                        this.trackedPointer.world.x + this.trackOffset.x),
                    (this.fireFrom.y =
                        this.trackedPointer.world.y + this.trackOffset.y)));
            let r =
                this.fireFrom.width > 1
                  ? this.fireFrom.randomX
                  : this.fireFrom.x,
              o =
                this.fireFrom.height > 1
                  ? this.fireFrom.randomY
                  : this.fireFrom.y,
              s = this.trackRotation
                ? this.trackedSprite.angle
                : this.fireAngle;
            void 0 !== e &&
              void 0 !== i &&
              (s = this.game.math.radToDeg(Math.atan2(i - o, e - r))),
            this.bulletAngleVariance !== 0 &&
                (s += a.Math.between(
                  -this.bulletAngleVariance,
                  this.bulletAngleVariance,
                ));
            let u = 0,
              l = 0;
            s === 0 || s === 180
              ? (u = Math.cos(this.game.math.degToRad(s)) * n)
              : s === 90 || s === 270
                ? (l = Math.sin(this.game.math.degToRad(s)) * n)
                : ((u = Math.cos(this.game.math.degToRad(s)) * n),
                (l = Math.sin(this.game.math.degToRad(s)) * n));
            let c = null;
            if (
              (this.autoExpandBulletsGroup
                ? ((c = this.bullets.getFirstExists(
                  !1,
                  !0,
                  r,
                  o,
                  this.bulletKey,
                  this.bulletFrame,
                )),
                (c.data.bulletManager = this))
                : (c = this.bullets.getFirstExists(!1)),
              c)
            ) {
              if (
                (c.reset(r, o),
                (c.data.fromX = r),
                (c.data.fromY = o),
                (c.data.killType = this.bulletKillType),
                (c.data.killDistance = this.bulletKillDistance),
                (c.data.rotateToVelocity = this.bulletRotateToVelocity),
                this.bulletKillType === a.Weapon.KILL_LIFESPAN &&
                  (c.lifespan = this.bulletLifespan),
                (c.angle = s + this.bulletAngleOffset),
                this.bulletAnimation !== '')
              ) {
                if (c.animations.getAnimation(this.bulletAnimation) === null) {
                  const h = this.anims[this.bulletAnimation];
                  c.animations.add(
                    h.name,
                    h.frames,
                    h.frameRate,
                    h.loop,
                    h.useNumericIndex,
                  );
                }
                c.animations.play(this.bulletAnimation);
              } else {
                this.bulletFrameCycle
                  ? ((c.frame = this.bulletFrames[this.bulletFrameIndex]),
                  ++this.bulletFrameIndex >= this.bulletFrames.length &&
                      (this.bulletFrameIndex = 0))
                  : this.bulletFrameRandom &&
                    (c.frame = this.bulletFrames[
                      Math.floor(Math.random() * this.bulletFrames.length)
                    ]);
              }
              c.data.bodyDirty &&
                (this._data.customBody &&
                  c.body.setSize(
                    this._data.width,
                    this._data.height,
                    this._data.offsetX,
                    this._data.offsetY,
                  ),
                (c.body.collideWorldBounds = this.bulletCollideWorldBounds),
                (c.data.bodyDirty = !1)),
              c.body.velocity.set(u, l),
              c.body.gravity.set(this.bulletGravity.x, this.bulletGravity.y),
              (this._nextFire = this.game.time.now + this.fireRate),
              this.shots++,
              this.onFire.dispatch(c, this, n),
              this.fireLimit > 0 &&
                  this.shots === this.fireLimit &&
                  this.onFireLimit.dispatch(this, this.fireLimit);
            }
          }),
          (a.Weapon.prototype.fireAtPointer = function (t) {
            return (
              void 0 === t && (t = this.game.input.activePointer),
              this.fire(null, t.worldX, t.worldY)
            );
          }),
          (a.Weapon.prototype.fireAtSprite = function (t) {
            return this.fire(null, t.world.x, t.world.y);
          }),
          (a.Weapon.prototype.fireAtXY = function (t, e) {
            return this.fire(null, t, e);
          }),
          (a.Weapon.prototype.setBulletBodyOffset = function (t, e, i, n) {
            return (
              void 0 === i && (i = 0),
              void 0 === n && (n = 0),
              (this._data.customBody = !0),
              (this._data.width = t),
              (this._data.height = e),
              (this._data.offsetX = i),
              (this._data.offsetY = n),
              this.bullets.callAll('body.setSize', 'body', t, e, i, n),
              this.bullets.setAll('data.bodyDirty', !1),
              this
            );
          }),
          (a.Weapon.prototype.setBulletFrames = function (t, e, i, n) {
            return (
              void 0 === i && (i = !0),
              void 0 === n && (n = !1),
              (this.bulletFrames = a.ArrayUtils.numberArray(t, e)),
              (this.bulletFrameIndex = 0),
              (this.bulletFrameCycle = i),
              (this.bulletFrameRandom = n),
              this
            );
          }),
          (a.Weapon.prototype.addBulletAnimation = function (t, e, i, n, r) {
            return (
              (this.anims[t] = {
                name: t,
                frames: e,
                frameRate: i,
                loop: n,
                useNumericIndex: r,
              }),
              this.bullets.callAll(
                'animations.add',
                'animations',
                t,
                e,
                i,
                n,
                r,
              ),
              (this.bulletAnimation = t),
              this
            );
          }),
          (a.Weapon.prototype.debug = function (t, e, i) {
            void 0 === t && (t = 16),
            void 0 === e && (e = 32),
            void 0 === i && (i = !1),
            this.game.debug.text('Weapon Plugin', t, e),
            this.game.debug.text(
              `Bullets Alive: ${
                this.bullets.total
              } - Total: ${
                this.bullets.length}`,
              t,
              e + 24,
            ),
            i &&
                this.bullets.forEachExists(
                  this.game.debug.body,
                  this.game.debug,
                  'rgba(255, 0, 255, 0.8)',
                );
          }),
          Object.defineProperty(a.Weapon.prototype, 'bulletClass', {
            get() {
              return this._bulletClass;
            },
            set(t) {
              (this._bulletClass = t),
              (this.bullets.classType = this._bulletClass);
            },
          }),
          Object.defineProperty(a.Weapon.prototype, 'bulletKillType', {
            get() {
              return this._bulletKillType;
            },
            set(t) {
              switch (t) {
                case a.Weapon.KILL_STATIC_BOUNDS:
                case a.Weapon.KILL_WEAPON_BOUNDS:
                  this.bulletBounds = this.bounds;
                  break;
                case a.Weapon.KILL_CAMERA_BOUNDS:
                  this.bulletBounds = this.game.camera.view;
                  break;
                case a.Weapon.KILL_WORLD_BOUNDS:
                  this.bulletBounds = this.game.world.bounds;
              }
              this._bulletKillType = t;
            },
          }),
          Object.defineProperty(
            a.Weapon.prototype,
            'bulletCollideWorldBounds',
            {
              get() {
                return this._bulletCollideWorldBounds;
              },
              set(t) {
                (this._bulletCollideWorldBounds = t),
                this.bullets.setAll('body.collideWorldBounds', t),
                this.bullets.setAll('data.bodyDirty', !1);
              },
            },
          ),
          Object.defineProperty(a.Weapon.prototype, 'x', {
            get() {
              return this.fireFrom.x;
            },
            set(t) {
              this.fireFrom.x = t;
            },
          }),
          Object.defineProperty(a.Weapon.prototype, 'y', {
            get() {
              return this.fireFrom.y;
            },
            set(t) {
              this.fireFrom.y = t;
            },
          }),
          (a.Bullet = function (t, e, i, n, r) {
            a.Sprite.call(this, t, e, i, n, r),
            this.anchor.set(0.5),
            (this.data = {
              bulletManager: null,
              fromX: 0,
              fromY: 0,
              bodyDirty: !0,
              rotateToVelocity: !1,
              killType: 0,
              killDistance: 0,
            });
          }),
          (a.Bullet.prototype = Object.create(a.Sprite.prototype)),
          (a.Bullet.prototype.constructor = a.Bullet),
          (a.Bullet.prototype.kill = function () {
            return (
              (this.alive = !1),
              (this.exists = !1),
              (this.visible = !1),
              this.data.bulletManager.onKill.dispatch(this),
              this
            );
          }),
          (a.Bullet.prototype.update = function () {
            this.exists &&
              (this.data.killType > a.Weapon.KILL_LIFESPAN &&
                (this.data.killType === a.Weapon.KILL_DISTANCE
                  ? this.game.physics.arcade.distanceToXY(
                    this,
                    this.data.fromX,
                    this.data.fromY,
                    !0,
                  ) > this.data.killDistance && this.kill()
                  : this.data.bulletManager.bulletBounds.intersects(this) ||
                    this.kill()),
              this.data.rotateToVelocity &&
                (this.rotation = Math.atan2(
                  this.body.velocity.y,
                  this.body.velocity.x,
                )),
              this.data.bulletManager.bulletWorldWrap &&
                this.game.world.wrap(
                  this,
                  this.data.bulletManager.bulletWorldWrapPadding,
                ));
          }),
          (a.Video = function (t, e, i) {
            if (
              (void 0 === e && (e = null),
              void 0 === i && (i = null),
              (this.game = t),
              (this.key = e),
              (this.width = 0),
              (this.height = 0),
              (this.type = a.VIDEO),
              (this.disableTextureUpload = !1),
              (this.touchLocked = !1),
              (this.onPlay = new a.Signal()),
              (this.onChangeSource = new a.Signal()),
              (this.onComplete = new a.Signal()),
              (this.onAccess = new a.Signal()),
              (this.onError = new a.Signal()),
              (this.onTimeout = new a.Signal()),
              (this.timeout = 15e3),
              (this._timeOutID = null),
              (this.video = null),
              (this.videoStream = null),
              (this.isStreaming = !1),
              (this.retryLimit = 20),
              (this.retry = 0),
              (this.retryInterval = 500),
              (this._retryID = null),
              (this._codeMuted = !1),
              (this._muted = !1),
              (this._codePaused = !1),
              (this._paused = !1),
              (this._pending = !1),
              (this._autoplay = !1),
              (this._endCallback = null),
              (this._playCallback = null),
              e && this.game.cache.checkVideoKey(e))
            ) {
              var n = this.game.cache.getVideo(e);
              n.isBlob
                ? this.createVideoFromBlob(n.data)
                : (this.video = n.data),
              (this.width = this.video.videoWidth),
              (this.height = this.video.videoHeight);
            } else i && this.createVideoFromURL(i, !1);
            this.video && !i
              ? ((this.baseTexture = new PIXI.BaseTexture(this.video)),
              this.baseTexture.forceLoaded(this.width, this.height))
              : ((this.baseTexture = new PIXI.BaseTexture(PIXI.TextureCache.__default.baseTexture.source)),
              this.baseTexture.forceLoaded(this.width, this.height)),
            (this.texture = new PIXI.Texture(this.baseTexture)),
            (this.textureFrame = new a.Frame(
              0,
              0,
              0,
              this.width,
              this.height,
              'video',
            )),
            this.texture.setFrame(this.textureFrame),
            (this.texture.valid = !1),
            e !== null &&
                this.video &&
                (this.texture.valid = this.video.canplay),
            (this.snapshot = null),
            a.BitmapData &&
                (this.snapshot = new a.BitmapData(
                  this.game,
                  '',
                  this.width,
                  this.height,
                )),
            (!this.game.device.cocoonJS &&
                (this.game.device.iOS || this.game.device.android)) ||
              (window.PhaserGlobal && window.PhaserGlobal.fakeiOSTouchLock)
              ? this.setTouchLock()
              : n && (n.locked = !1);
          }),
          (a.Video.prototype = {
            connectToMediaStream(t, e) {
              return (
                t &&
                  e &&
                  ((this.video = t),
                  (this.videoStream = e),
                  (this.isStreaming = !0),
                  (this.baseTexture.source = this.video),
                  this.updateTexture(
                    null,
                    this.video.videoWidth,
                    this.video.videoHeight,
                  ),
                  this.onAccess.dispatch(this)),
                this
              );
            },
            startMediaStream(t, e, i) {
              if (
                (void 0 === t && (t = !1),
                void 0 === e && (e = null),
                void 0 === i && (i = null),
                !this.game.device.getUserMedia)
              ) { return this.onError.dispatch(this, 'No getUserMedia'), !1; }
              this.videoStream !== null &&
                (this.videoStream.active
                  ? (this.videoStream.active = !1)
                  : this.videoStream.stop()),
              this.removeVideoElement(),
              (this.video = document.createElement('video')),
              this.video.setAttribute('autoplay', 'autoplay'),
              e !== null && (this.video.width = e),
              i !== null && (this.video.height = i),
              (this._timeOutID = window.setTimeout(
                this.getUserMediaTimeout.bind(this),
                this.timeout,
              ));
              try {
                navigator.getUserMedia(
                  { audio: t, video: !0 },
                  this.getUserMediaSuccess.bind(this),
                  this.getUserMediaError.bind(this),
                );
              } catch (t) {
                this.getUserMediaError(t);
              }
              return this;
            },
            getUserMediaTimeout() {
              clearTimeout(this._timeOutID), this.onTimeout.dispatch(this);
            },
            getUserMediaError(t) {
              clearTimeout(this._timeOutID), this.onError.dispatch(this, t);
            },
            getUserMediaSuccess(t) {
              clearTimeout(this._timeOutID),
              (this.videoStream = t),
              void 0 !== this.video.mozSrcObject
                ? (this.video.mozSrcObject = t)
                : (this.video.src =
                      (window.URL && window.URL.createObjectURL(t)) || t);
              const e = this;
              this.video.onloadeddata = function () {
                function t() {
                  if (i > 0) {
                    if (e.video.videoWidth > 0) {
                      let n = e.video.videoWidth,
                        r = e.video.videoHeight;
                      isNaN(e.video.videoHeight) && (r = n / (4 / 3)),
                      e.video.play(),
                      (e.isStreaming = !0),
                      (e.baseTexture.source = e.video),
                      e.updateTexture(null, n, r),
                      e.onAccess.dispatch(e);
                    } else window.setTimeout(t, 500);
                  } else {
                    console.warn('Unable to connect to video stream. Webcam error?');
                  }
                  i--;
                }
                var i = 10;
                t();
              };
            },
            createVideoFromBlob(t) {
              const e = this;
              return (
                (this.video = document.createElement('video')),
                (this.video.controls = !1),
                this.video.setAttribute('autoplay', 'autoplay'),
                this.video.addEventListener(
                  'loadeddata',
                  (t) => {
                    e.updateTexture(t);
                  },
                  !0,
                ),
                (this.video.src = window.URL.createObjectURL(t)),
                (this.video.canplay = !0),
                this
              );
            },
            createVideoFromURL(t, e) {
              return (
                void 0 === e && (e = !1),
                this.texture && (this.texture.valid = !1),
                (this.video = document.createElement('video')),
                (this.video.controls = !1),
                e && this.video.setAttribute('autoplay', 'autoplay'),
                (this.video.src = t),
                (this.video.canplay = !0),
                this.video.load(),
                (this.retry = this.retryLimit),
                (this._retryID = window.setTimeout(
                  this.checkVideoProgress.bind(this),
                  this.retryInterval,
                )),
                (this.key = t),
                this
              );
            },
            updateTexture(t, e, i) {
              let n = !1;
              (void 0 !== e && e !== null) ||
                ((e = this.video.videoWidth), (n = !0)),
              (void 0 !== i && i !== null) || (i = this.video.videoHeight),
              (this.width = e),
              (this.height = i),
              this.baseTexture.source !== this.video &&
                  (this.baseTexture.source = this.video),
              this.baseTexture.forceLoaded(e, i),
              this.texture.frame.resize(e, i),
              (this.texture.width = e),
              (this.texture.height = i),
              (this.texture.valid = !0),
              this.snapshot && this.snapshot.resize(e, i),
              n &&
                  this.key !== null &&
                  (this.onChangeSource.dispatch(this, e, i),
                  this._autoplay &&
                    (this.video.play(),
                    this.onPlay.dispatch(this, this.loop, this.playbackRate)));
            },
            complete() {
              this.onComplete.dispatch(this);
            },
            play(t, e) {
              return (
                void 0 === t && (t = !1),
                void 0 === e && (e = 1),
                this.game.sound.onMute &&
                  (this.game.sound.onMute.add(this.setMute, this),
                  this.game.sound.onUnMute.add(this.unsetMute, this),
                  this.game.sound.mute && this.setMute()),
                this.game.onPause.add(this.setPause, this),
                this.game.onResume.add(this.setResume, this),
                (this._endCallback = this.complete.bind(this)),
                this.video.addEventListener('ended', this._endCallback, !0),
                this.video.addEventListener(
                  'webkitendfullscreen',
                  this._endCallback,
                  !0,
                ),
                (this.video.loop = t ? 'loop' : ''),
                (this.video.playbackRate = e),
                this.touchLocked
                  ? (this._pending = !0)
                  : ((this._pending = !1),
                  this.key !== null &&
                      (this.video.readyState !== 4
                        ? ((this.retry = this.retryLimit),
                        (this._retryID = window.setTimeout(
                          this.checkVideoProgress.bind(this),
                          this.retryInterval,
                        )))
                        : ((this._playCallback = this.playHandler.bind(this)),
                        this.video.addEventListener(
                          'playing',
                          this._playCallback,
                          !0,
                        ))),
                  this.video.play(),
                  this.onPlay.dispatch(this, t, e)),
                this
              );
            },
            playHandler() {
              this.video.removeEventListener('playing', this._playCallback, !0),
              this.updateTexture();
            },
            stop() {
              return (
                this.game.sound.onMute &&
                  (this.game.sound.onMute.remove(this.setMute, this),
                  this.game.sound.onUnMute.remove(this.unsetMute, this)),
                this.game.onPause.remove(this.setPause, this),
                this.game.onResume.remove(this.setResume, this),
                this.isStreaming
                  ? (this.video.mozSrcObject
                    ? (this.video.mozSrcObject.stop(),
                    (this.video.src = null))
                    : ((this.video.src = ''),
                    this.videoStream.active
                      ? (this.videoStream.active = !1)
                      : this.videoStream.getTracks
                        ? this.videoStream.getTracks().forEach((t) => {
                          t.stop();
                        })
                        : this.videoStream.stop()),
                  (this.videoStream = null),
                  (this.isStreaming = !1))
                  : (this.video.removeEventListener(
                    'ended',
                    this._endCallback,
                    !0,
                  ),
                  this.video.removeEventListener(
                    'webkitendfullscreen',
                    this._endCallback,
                    !0,
                  ),
                  this.video.removeEventListener(
                    'playing',
                    this._playCallback,
                    !0,
                  ),
                  this.touchLocked
                    ? (this._pending = !1)
                    : this.video.pause()),
                this
              );
            },
            add(t) {
              if (Array.isArray(t)) {
                for (let e = 0; e < t.length; e++) { t[e].loadTexture && t[e].loadTexture(this); }
              } else t.loadTexture(this);
              return this;
            },
            addToWorld(t, e, i, n, r, a) {
              (r = r || 1), (a = a || 1);
              const o = this.game.add.image(t, e, this);
              return o.anchor.set(i, n), o.scale.set(r, a), o;
            },
            render() {
              !this.disableTextureUpload &&
                this.playing &&
                this.baseTexture.dirty();
            },
            setMute() {
              this._muted || ((this._muted = !0), (this.video.muted = !0));
            },
            unsetMute() {
              this._muted &&
                !this._codeMuted &&
                ((this._muted = !1), (this.video.muted = !1));
            },
            setPause() {
              this._paused ||
                this.touchLocked ||
                ((this._paused = !0), this.video.pause());
            },
            setResume() {
              !this._paused ||
                this._codePaused ||
                this.touchLocked ||
                ((this._paused = !1), this.video.ended || this.video.play());
            },
            changeSource(t, e) {
              return (
                void 0 === e && (e = !0),
                (this.texture.valid = !1),
                this.video.pause(),
                (this.retry = this.retryLimit),
                (this._retryID = window.setTimeout(
                  this.checkVideoProgress.bind(this),
                  this.retryInterval,
                )),
                (this.video.src = t),
                this.video.load(),
                (this._autoplay = e),
                e || (this.paused = !0),
                this
              );
            },
            checkVideoProgress() {
              this.video.readyState === 4
                ? this.updateTexture()
                : (this.retry--,
                this.retry > 0
                  ? (this._retryID = window.setTimeout(
                    this.checkVideoProgress.bind(this),
                    this.retryInterval,
                  ))
                  : console.warn(
                    'Phaser.Video: Unable to start downloading video in time',
                    this.isStreaming,
                  ));
            },
            setTouchLock() {
              this.game.input.touch.addTouchLockCallback(this.unlock, this),
              (this.touchLocked = !0);
            },
            unlock() {
              if (
                ((this.touchLocked = !1),
                this.video.play(),
                this.onPlay.dispatch(this, this.loop, this.playbackRate),
                this.key)
              ) {
                const t = this.game.cache.getVideo(this.key);
                t && !t.isBlob && (t.locked = !1);
              }
              return !0;
            },
            grab(t, e, i) {
              return (
                void 0 === t && (t = !1),
                void 0 === e && (e = 1),
                void 0 === i && (i = null),
                this.snapshot === null
                  ? void console.warn('Video.grab cannot run because Phaser.BitmapData is unavailable')
                  : (t && this.snapshot.cls(),
                  this.snapshot.copy(
                    this.video,
                    0,
                    0,
                    this.width,
                    this.height,
                    0,
                    0,
                    this.width,
                    this.height,
                    0,
                    0,
                    0,
                    1,
                    1,
                    e,
                    i,
                  ),
                  this.snapshot)
              );
            },
            removeVideoElement() {
              if (this.video) {
                for (
                  this.video.parentNode &&
                  this.video.parentNode.removeChild(this.video);
                  this.video.hasChildNodes();

                ) { this.video.removeChild(this.video.firstChild); }
                this.video.removeAttribute('autoplay'),
                this.video.removeAttribute('src'),
                (this.video = null);
              }
            },
            destroy() {
              this.stop(),
              this.removeVideoElement(),
              this.touchLocked &&
                  this.game.input.touch.removeTouchLockCallback(
                    this.unlock,
                    this,
                  ),
              this._retryID && window.clearTimeout(this._retryID);
            },
          }),
          Object.defineProperty(a.Video.prototype, 'currentTime', {
            get() {
              return this.video ? this.video.currentTime : 0;
            },
            set(t) {
              this.video.currentTime = t;
            },
          }),
          Object.defineProperty(a.Video.prototype, 'duration', {
            get() {
              return this.video ? this.video.duration : 0;
            },
          }),
          Object.defineProperty(a.Video.prototype, 'progress', {
            get() {
              return this.video
                ? this.video.currentTime / this.video.duration
                : 0;
            },
          }),
          Object.defineProperty(a.Video.prototype, 'mute', {
            get() {
              return this._muted;
            },
            set(t) {
              if ((t = t || null)) {
                if (this._muted) return;
                (this._codeMuted = !0), this.setMute();
              } else {
                if (!this._muted) return;
                (this._codeMuted = !1), this.unsetMute();
              }
            },
          }),
          Object.defineProperty(a.Video.prototype, 'paused', {
            get() {
              return this._paused;
            },
            set(t) {
              if (((t = t || null), !this.touchLocked)) {
                if (t) {
                  if (this._paused) return;
                  (this._codePaused = !0), this.setPause();
                } else {
                  if (!this._paused) return;
                  (this._codePaused = !1), this.setResume();
                }
              }
            },
          }),
          Object.defineProperty(a.Video.prototype, 'volume', {
            get() {
              return this.video ? this.video.volume : 1;
            },
            set(t) {
              t < 0 ? (t = 0) : t > 1 && (t = 1),
              this.video && (this.video.volume = t);
            },
          }),
          Object.defineProperty(a.Video.prototype, 'playbackRate', {
            get() {
              return this.video ? this.video.playbackRate : 1;
            },
            set(t) {
              this.video && (this.video.playbackRate = t);
            },
          }),
          Object.defineProperty(a.Video.prototype, 'loop', {
            get() {
              return !!this.video && this.video.loop;
            },
            set(t) {
              t && this.video
                ? (this.video.loop = 'loop')
                : this.video && (this.video.loop = '');
            },
          }),
          Object.defineProperty(a.Video.prototype, 'playing', {
            get() {
              return !(this.video.paused && this.video.ended);
            },
          }),
          (a.Video.prototype.constructor = a.Video),
          void 0 === PIXI.blendModes && (PIXI.blendModes = a.blendModes),
          void 0 === PIXI.scaleModes && (PIXI.scaleModes = a.scaleModes),
          void 0 === PIXI.Texture.emptyTexture &&
            (PIXI.Texture.emptyTexture = new PIXI.Texture(new PIXI.BaseTexture())),
          void 0 === PIXI.DisplayObject._tempMatrix &&
            (PIXI.DisplayObject._tempMatrix = new PIXI.Matrix()),
          void 0 === PIXI.RenderTexture.tempMatrix &&
            (PIXI.RenderTexture.tempMatrix = new PIXI.Matrix()),
          PIXI.Graphics &&
            void 0 === PIXI.Graphics.POLY &&
            ((PIXI.Graphics.POLY = a.POLYGON),
            (PIXI.Graphics.RECT = a.RECTANGLE),
            (PIXI.Graphics.CIRC = a.CIRCLE),
            (PIXI.Graphics.ELIP = a.ELLIPSE),
            (PIXI.Graphics.RREC = a.ROUNDEDRECTANGLE)),
          (PIXI.TextureSilentFail = !0),
          void 0 !== t && t.exports && (e = t.exports = a),
          (e.Phaser = a),
          a
        );
      }.call(void 0));
    }.call(e, i(421)));
  },
  function (t, e, i) {
    (function () {
      var i = i || {};
      return (
        (i.game = null),
        (i.WEBGL_RENDERER = 0),
        (i.CANVAS_RENDERER = 1),
        (i.VERSION = 'v2.2.9'),
        (i._UID = 0),
        typeof Float32Array !== 'undefined'
          ? ((i.Float32Array = Float32Array),
          (i.Uint16Array = Uint16Array),
          (i.Uint32Array = Uint32Array),
          (i.ArrayBuffer = ArrayBuffer))
          : ((i.Float32Array = Array), (i.Uint16Array = Array)),
        (i.PI_2 = 2 * Math.PI),
        (i.RAD_TO_DEG = 180 / Math.PI),
        (i.DEG_TO_RAD = Math.PI / 180),
        (i.RETINA_PREFIX = '@2x'),
        (i.DisplayObject = function () {
          (this.position = new i.Point(0, 0)),
          (this.scale = new i.Point(1, 1)),
          (this.pivot = new i.Point(0, 0)),
          (this.rotation = 0),
          (this.alpha = 1),
          (this.visible = !0),
          (this.hitArea = null),
          (this.renderable = !1),
          (this.parent = null),
          (this.stage = null),
          (this.worldAlpha = 1),
          (this.worldTransform = new i.Matrix()),
          (this.worldPosition = new i.Point(0, 0)),
          (this.worldScale = new i.Point(1, 1)),
          (this.worldRotation = 0),
          (this._sr = 0),
          (this._cr = 1),
          (this.filterArea = null),
          (this._bounds = new i.Rectangle(0, 0, 1, 1)),
          (this._currentBounds = null),
          (this._mask = null),
          (this._cacheAsBitmap = !1),
          (this._cacheIsDirty = !1);
        }),
        (i.DisplayObject.prototype.constructor = i.DisplayObject),
        (i.DisplayObject.prototype.destroy = function () {
          if (this.children) {
            for (let t = this.children.length; t--;) { this.children[t].destroy(); }
            this.children = [];
          }
          (this.hitArea = null),
          (this.parent = null),
          (this.stage = null),
          (this.worldTransform = null),
          (this.filterArea = null),
          (this._bounds = null),
          (this._currentBounds = null),
          (this._mask = null),
          (this.renderable = !1),
          this._destroyCachedSprite();
        }),
        Object.defineProperty(i.DisplayObject.prototype, 'worldVisible', {
          get() {
            let t = this;
            do {
              if (!t.visible) return !1;
              t = t.parent;
            } while (t);
            return !0;
          },
        }),
        Object.defineProperty(i.DisplayObject.prototype, 'mask', {
          get() {
            return this._mask;
          },
          set(t) {
            this._mask && (this._mask.isMask = !1),
            (this._mask = t),
            this._mask && (this._mask.isMask = !0);
          },
        }),
        Object.defineProperty(i.DisplayObject.prototype, 'filters', {
          get() {
            return this._filters;
          },
          set(t) {
            if (t) {
              for (var e = [], n = 0; n < t.length; n++) {
                for (let r = t[n].passes, a = 0; a < r.length; a++) { e.push(r[a]); }
              }
              this._filterBlock = { target: this, filterPasses: e };
            }
            (this._filters = t),
            this.blendMode &&
                this.blendMode === i.blendModes.MULTIPLY &&
                (this.blendMode = i.blendModes.NORMAL);
          },
        }),
        Object.defineProperty(i.DisplayObject.prototype, 'cacheAsBitmap', {
          get() {
            return this._cacheAsBitmap;
          },
          set(t) {
            this._cacheAsBitmap !== t &&
              (t ? this._generateCachedSprite() : this._destroyCachedSprite(),
              (this._cacheAsBitmap = t));
          },
        }),
        (i.DisplayObject.prototype.updateTransform = function (t) {
          if (t || this.parent || this.game) {
            let e = this.parent;
            t ? (e = t) : this.parent || (e = this.game.world);
            let n,
              r,
              a,
              o,
              s,
              u,
              l = e.worldTransform,
              c = this.worldTransform;
            this.rotation % i.PI_2
              ? (this.rotation !== this.rotationCache &&
                  ((this.rotationCache = this.rotation),
                  (this._sr = Math.sin(this.rotation)),
                  (this._cr = Math.cos(this.rotation))),
              (n = this._cr * this.scale.x),
              (r = this._sr * this.scale.x),
              (a = -this._sr * this.scale.y),
              (o = this._cr * this.scale.y),
              (s = this.position.x),
              (u = this.position.y),
              (this.pivot.x || this.pivot.y) &&
                  ((s -= this.pivot.x * n + this.pivot.y * a),
                  (u -= this.pivot.x * r + this.pivot.y * o)),
              (c.a = n * l.a + r * l.c),
              (c.b = n * l.b + r * l.d),
              (c.c = a * l.a + o * l.c),
              (c.d = a * l.b + o * l.d),
              (c.tx = s * l.a + u * l.c + l.tx),
              (c.ty = s * l.b + u * l.d + l.ty))
              : ((n = this.scale.x),
              (o = this.scale.y),
              (s = this.position.x - this.pivot.x * n),
              (u = this.position.y - this.pivot.y * o),
              (c.a = n * l.a),
              (c.b = n * l.b),
              (c.c = o * l.c),
              (c.d = o * l.d),
              (c.tx = s * l.a + u * l.c + l.tx),
              (c.ty = s * l.b + u * l.d + l.ty)),
            (this.worldAlpha = this.alpha * e.worldAlpha),
            this.worldPosition.set(c.tx, c.ty),
            this.worldScale.set(
              this.scale.x * Math.sqrt(c.a * c.a + c.c * c.c),
              this.scale.y * Math.sqrt(c.b * c.b + c.d * c.d),
            ),
            (this.worldRotation = Math.atan2(-c.c, c.d)),
            (this._currentBounds = null),
            this.transformCallback &&
                this.transformCallback.call(
                  this.transformCallbackContext,
                  c,
                  l,
                );
          }
        }),
        (i.DisplayObject.prototype.displayObjectUpdateTransform =
          i.DisplayObject.prototype.updateTransform),
        (i.DisplayObject.prototype.getBounds = function (t) {
          return (t = t), i.EmptyRectangle;
        }),
        (i.DisplayObject.prototype.getLocalBounds = function () {
          return this.getBounds(i.identityMatrix);
        }),
        (i.DisplayObject.prototype.setStageReference = function (t) {
          this.stage = t;
        }),
        (i.DisplayObject.prototype.preUpdate = function () {}),
        (i.DisplayObject.prototype.generateTexture = function (t, e, n) {
          let r = this.getLocalBounds(),
            a = new i.RenderTexture(0 | r.width, 0 | r.height, n, e, t);
          return (
            (i.DisplayObject._tempMatrix.tx = -r.x),
            (i.DisplayObject._tempMatrix.ty = -r.y),
            a.render(this, i.DisplayObject._tempMatrix),
            a
          );
        }),
        (i.DisplayObject.prototype.updateCache = function () {
          this._generateCachedSprite();
        }),
        (i.DisplayObject.prototype.toGlobal = function (t) {
          return (
            this.displayObjectUpdateTransform(), this.worldTransform.apply(t)
          );
        }),
        (i.DisplayObject.prototype.toLocal = function (t, e) {
          return (
            e && (t = e.toGlobal(t)),
            this.displayObjectUpdateTransform(),
            this.worldTransform.applyInverse(t)
          );
        }),
        (i.DisplayObject.prototype._renderCachedSprite = function (t) {
          (this._cachedSprite.worldAlpha = this.worldAlpha),
          t.gl
            ? i.Sprite.prototype._renderWebGL.call(this._cachedSprite, t)
            : i.Sprite.prototype._renderCanvas.call(this._cachedSprite, t);
        }),
        (i.DisplayObject.prototype._generateCachedSprite = function () {
          this._cacheAsBitmap = !1;
          const t = this.getLocalBounds();
          if (
            ((t.width = Math.max(1, Math.ceil(t.width))),
            (t.height = Math.max(1, Math.ceil(t.height))),
            this.updateTransform(),
            this._cachedSprite)
          ) { this._cachedSprite.texture.resize(t.width, t.height); } else {
            const e = new i.RenderTexture(t.width, t.height);
            (this._cachedSprite = new i.Sprite(e)),
            (this._cachedSprite.worldTransform = this.worldTransform);
          }
          const n = this._filters;
          (this._filters = null),
          (this._cachedSprite.filters = n),
          (i.DisplayObject._tempMatrix.tx = -t.x),
          (i.DisplayObject._tempMatrix.ty = -t.y),
          this._cachedSprite.texture.render(
            this,
            i.DisplayObject._tempMatrix,
            !0,
          ),
          (this._cachedSprite.anchor.x = -t.x / t.width),
          (this._cachedSprite.anchor.y = -t.y / t.height),
          (this._filters = n),
          (this._cacheAsBitmap = !0);
        }),
        (i.DisplayObject.prototype._destroyCachedSprite = function () {
          this._cachedSprite &&
            (this._cachedSprite.texture.destroy(!0),
            (this._cachedSprite = null));
        }),
        (i.DisplayObject.prototype._renderWebGL = function (t) {
          t = t;
        }),
        (i.DisplayObject.prototype._renderCanvas = function (t) {
          t = t;
        }),
        Object.defineProperty(i.DisplayObject.prototype, 'x', {
          get() {
            return this.position.x;
          },
          set(t) {
            this.position.x = t;
          },
        }),
        Object.defineProperty(i.DisplayObject.prototype, 'y', {
          get() {
            return this.position.y;
          },
          set(t) {
            this.position.y = t;
          },
        }),
        (i.DisplayObjectContainer = function () {
          i.DisplayObject.call(this),
          (this.children = []),
          (this.ignoreChildInput = !1);
        }),
        (i.DisplayObjectContainer.prototype = Object.create(i.DisplayObject.prototype)),
        (i.DisplayObjectContainer.prototype.constructor =
          i.DisplayObjectContainer),
        Object.defineProperty(i.DisplayObjectContainer.prototype, 'width', {
          get() {
            return this.scale.x * this.getLocalBounds().width;
          },
          set(t) {
            const e = this.getLocalBounds().width;
            (this.scale.x = e !== 0 ? t / e : 1), (this._width = t);
          },
        }),
        Object.defineProperty(i.DisplayObjectContainer.prototype, 'height', {
          get() {
            return this.scale.y * this.getLocalBounds().height;
          },
          set(t) {
            const e = this.getLocalBounds().height;
            (this.scale.y = e !== 0 ? t / e : 1), (this._height = t);
          },
        }),
        (i.DisplayObjectContainer.prototype.addChild = function (t) {
          return this.addChildAt(t, this.children.length);
        }),
        (i.DisplayObjectContainer.prototype.addChildAt = function (t, e) {
          if (e >= 0 && e <= this.children.length) {
            return (
              t.parent && t.parent.removeChild(t),
              (t.parent = this),
              this.children.splice(e, 0, t),
              this.stage && t.setStageReference(this.stage),
              t
            );
          }
          throw new Error(`${t
          }addChildAt: The index ${
            e
          } supplied is out of bounds ${
            this.children.length}`);
        }),
        (i.DisplayObjectContainer.prototype.swapChildren = function (t, e) {
          if (t !== e) {
            let i = this.getChildIndex(t),
              n = this.getChildIndex(e);
            if (i < 0 || n < 0) {
              throw new Error('swapChildren: Both the supplied DisplayObjects must be a child of the caller.');
            }
            (this.children[i] = e), (this.children[n] = t);
          }
        }),
        (i.DisplayObjectContainer.prototype.getChildIndex = function (t) {
          const e = this.children.indexOf(t);
          if (e === -1) {
            throw new Error('The supplied DisplayObject must be a child of the caller');
          }
          return e;
        }),
        (i.DisplayObjectContainer.prototype.setChildIndex = function (t, e) {
          if (e < 0 || e >= this.children.length) { throw new Error('The supplied index is out of bounds'); }
          const i = this.getChildIndex(t);
          this.children.splice(i, 1), this.children.splice(e, 0, t);
        }),
        (i.DisplayObjectContainer.prototype.getChildAt = function (t) {
          if (t < 0 || t >= this.children.length) {
            throw new Error(`getChildAt: Supplied index ${
              t
            } does not exist in the child list, or the supplied DisplayObject must be a child of the caller`);
          }
          return this.children[t];
        }),
        (i.DisplayObjectContainer.prototype.removeChild = function (t) {
          const e = this.children.indexOf(t);
          if (e !== -1) return this.removeChildAt(e);
        }),
        (i.DisplayObjectContainer.prototype.removeChildAt = function (t) {
          const e = this.getChildAt(t);
          return (
            this.stage && e.removeStageReference(),
            (e.parent = void 0),
            this.children.splice(t, 1),
            e
          );
        }),
        (i.DisplayObjectContainer.prototype.removeChildren = function (t, e) {
          let i = t || 0,
            n = typeof e === 'number' ? e : this.children.length,
            r = n - i;
          if (r > 0 && r <= n) {
            for (var a = this.children.splice(i, r), o = 0; o < a.length; o++) {
              const s = a[o];
              this.stage && s.removeStageReference(), (s.parent = void 0);
            }
            return a;
          }
          if (r === 0 && this.children.length === 0) return [];
          throw new Error('removeChildren: Range Error, numeric values are outside the acceptable range');
        }),
        (i.DisplayObjectContainer.prototype.updateTransform = function () {
          if (
            this.visible &&
            (this.displayObjectUpdateTransform(), !this._cacheAsBitmap)
          ) {
            for (let t = 0; t < this.children.length; t++) { this.children[t].updateTransform(); }
          }
        }),
        (i.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform =
          i.DisplayObjectContainer.prototype.updateTransform),
        (i.DisplayObjectContainer.prototype.getBounds = function () {
          if (this.children.length === 0) return i.EmptyRectangle;
          for (
            var t,
              e,
              n,
              r = 1 / 0,
              a = 1 / 0,
              o = -1 / 0,
              s = -1 / 0,
              u = !1,
              l = 0;
            l < this.children.length;
            l++
          ) {
            this.children[l].visible &&
              ((u = !0),
              (t = this.children[l].getBounds()),
              (r = r < t.x ? r : t.x),
              (a = a < t.y ? a : t.y),
              (e = t.width + t.x),
              (n = t.height + t.y),
              (o = o > e ? o : e),
              (s = s > n ? s : n));
          }
          if (!u) return i.EmptyRectangle;
          const c = this._bounds;
          return (c.x = r), (c.y = a), (c.width = o - r), (c.height = s - a), c;
        }),
        (i.DisplayObjectContainer.prototype.getLocalBounds = function () {
          const t = this.worldTransform;
          this.worldTransform = i.identityMatrix;
          for (var e = 0; e < this.children.length; e++) { this.children[e].updateTransform(); }
          const n = this.getBounds();
          for (this.worldTransform = t, e = 0; e < this.children.length; e++) { this.children[e].updateTransform(); }
          return n;
        }),
        (i.DisplayObjectContainer.prototype.setStageReference = function (t) {
          this.stage = t;
          for (let e = 0; e < this.children.length; e++) { this.children[e].setStageReference(t); }
        }),
        (i.DisplayObjectContainer.prototype.removeStageReference = function () {
          for (let t = 0; t < this.children.length; t++) { this.children[t].removeStageReference(); }
          this.stage = null;
        }),
        (i.DisplayObjectContainer.prototype._renderWebGL = function (t) {
          if (this.visible && !(this.alpha <= 0)) {
            if (this._cacheAsBitmap) return void this._renderCachedSprite(t);
            let e;
            if (this._mask || this._filters) {
              for (
                this._filters &&
                  (t.spriteBatch.flush(),
                  t.filterManager.pushFilter(this._filterBlock)),
                this._mask &&
                    (t.spriteBatch.stop(),
                    t.maskManager.pushMask(this.mask, t),
                    t.spriteBatch.start()),
                e = 0;
                e < this.children.length;
                e++
              ) { this.children[e]._renderWebGL(t); }
              t.spriteBatch.stop(),
              this._mask && t.maskManager.popMask(this._mask, t),
              this._filters && t.filterManager.popFilter(),
              t.spriteBatch.start();
            } else {
              for (e = 0; e < this.children.length; e++) { this.children[e]._renderWebGL(t); }
            }
          }
        }),
        (i.DisplayObjectContainer.prototype._renderCanvas = function (t) {
          if (!1 !== this.visible && this.alpha !== 0) {
            if (this._cacheAsBitmap) return void this._renderCachedSprite(t);
            this._mask && t.maskManager.pushMask(this._mask, t);
            for (let e = 0; e < this.children.length; e++) { this.children[e]._renderCanvas(t); }
            this._mask && t.maskManager.popMask(t);
          }
        }),
        (i.Sprite = function (t) {
          i.DisplayObjectContainer.call(this),
          (this.anchor = new i.Point()),
          (this.texture = t || i.Texture.emptyTexture),
          (this._width = 0),
          (this._height = 0),
          (this.tint = 16777215),
          (this.cachedTint = -1),
          (this.tintedTexture = null),
          (this.blendMode = i.blendModes.NORMAL),
          (this.shader = null),
          (this.exists = !0),
          this.texture.baseTexture.hasLoaded && this.onTextureUpdate(),
          (this.renderable = !0);
        }),
        (i.Sprite.prototype = Object.create(i.DisplayObjectContainer.prototype)),
        (i.Sprite.prototype.constructor = i.Sprite),
        Object.defineProperty(i.Sprite.prototype, 'width', {
          get() {
            return this.scale.x * this.texture.frame.width;
          },
          set(t) {
            (this.scale.x = t / this.texture.frame.width), (this._width = t);
          },
        }),
        Object.defineProperty(i.Sprite.prototype, 'height', {
          get() {
            return this.scale.y * this.texture.frame.height;
          },
          set(t) {
            (this.scale.y = t / this.texture.frame.height), (this._height = t);
          },
        }),
        (i.Sprite.prototype.setTexture = function (t, e) {
          void 0 !== e && this.texture.baseTexture.destroy(),
          (this.texture.baseTexture.skipRender = !1),
          (this.texture = t),
          (this.texture.valid = !0),
          (this.cachedTint = -1);
        }),
        (i.Sprite.prototype.onTextureUpdate = function () {
          this._width &&
            (this.scale.x = this._width / this.texture.frame.width),
          this._height &&
              (this.scale.y = this._height / this.texture.frame.height);
        }),
        (i.Sprite.prototype.getBounds = function (t) {
          let e = this.texture.frame.width,
            i = this.texture.frame.height,
            n = e * (1 - this.anchor.x),
            r = e * -this.anchor.x,
            a = i * (1 - this.anchor.y),
            o = i * -this.anchor.y,
            s = t || this.worldTransform,
            u = s.a,
            l = s.b,
            c = s.c,
            h = s.d,
            d = s.tx,
            f = s.ty,
            p = -1 / 0,
            g = -1 / 0,
            y = 1 / 0,
            v = 1 / 0;
          if (l === 0 && c === 0) {
            if (u < 0) {
              u *= -1;
              var m = n;
              (n = -r), (r = -m);
            }
            if (h < 0) {
              h *= -1;
              var m = a;
              (a = -o), (o = -m);
            }
            (y = u * r + d), (p = u * n + d), (v = h * o + f), (g = h * a + f);
          } else {
            let b = u * r + c * o + d,
              _ = h * o + l * r + f,
              w = u * n + c * o + d,
              x = h * o + l * n + f,
              P = u * n + c * a + d,
              k = h * a + l * n + f,
              T = u * r + c * a + d,
              O = h * a + l * r + f;
            (y = b < y ? b : y),
            (y = w < y ? w : y),
            (y = P < y ? P : y),
            (y = T < y ? T : y),
            (v = _ < v ? _ : v),
            (v = x < v ? x : v),
            (v = k < v ? k : v),
            (v = O < v ? O : v),
            (p = b > p ? b : p),
            (p = w > p ? w : p),
            (p = P > p ? P : p),
            (p = T > p ? T : p),
            (g = _ > g ? _ : g),
            (g = x > g ? x : g),
            (g = k > g ? k : g),
            (g = O > g ? O : g);
          }
          const E = this._bounds;
          return (
            (E.x = y),
            (E.width = p - y),
            (E.y = v),
            (E.height = g - v),
            (this._currentBounds = E),
            E
          );
        }),
        (i.Sprite.prototype._renderWebGL = function (t, e) {
          if (this.visible && !(this.alpha <= 0) && this.renderable) {
            let i = this.worldTransform;
            if ((e && (i = e), this._mask || this._filters)) {
              const n = t.spriteBatch;
              this._filters &&
                (n.flush(), t.filterManager.pushFilter(this._filterBlock)),
              this._mask &&
                  (n.stop(), t.maskManager.pushMask(this.mask, t), n.start()),
              n.render(this);
              for (var r = 0; r < this.children.length; r++) { this.children[r]._renderWebGL(t); }
              n.stop(),
              this._mask && t.maskManager.popMask(this._mask, t),
              this._filters && t.filterManager.popFilter(),
              n.start();
            } else {
              t.spriteBatch.render(this);
              for (var r = 0; r < this.children.length; r++) { this.children[r]._renderWebGL(t, i); }
            }
          }
        }),
        (i.Sprite.prototype._renderCanvas = function (t, e) {
          if (
            !(
              !this.visible ||
              this.alpha === 0 ||
              !this.renderable ||
              this.texture.crop.width <= 0 ||
              this.texture.crop.height <= 0
            )
          ) {
            let n = this.worldTransform;
            if (
              (e && (n = e),
              this.blendMode !== t.currentBlendMode &&
                ((t.currentBlendMode = this.blendMode),
                (t.context.globalCompositeOperation =
                  i.blendModesCanvas[t.currentBlendMode])),
              this._mask && t.maskManager.pushMask(this._mask, t),
              this.texture.valid)
            ) {
              const r = this.texture.baseTexture.resolution / t.resolution;
              (t.context.globalAlpha = this.worldAlpha),
              t.smoothProperty &&
                  t.scaleMode !== this.texture.baseTexture.scaleMode &&
                  ((t.scaleMode = this.texture.baseTexture.scaleMode),
                  (t.context[t.smoothProperty] =
                    t.scaleMode === i.scaleModes.LINEAR));
              let a = this.texture.trim
                  ? this.texture.trim.x -
                    this.anchor.x * this.texture.trim.width
                  : this.anchor.x * -this.texture.frame.width,
                o = this.texture.trim
                  ? this.texture.trim.y -
                    this.anchor.y * this.texture.trim.height
                  : this.anchor.y * -this.texture.frame.height,
                s = n.tx * t.resolution + t.shakeX,
                u = n.ty * t.resolution + t.shakeY;
              t.roundPixels
                ? (t.context.setTransform(n.a, n.b, n.c, n.d, 0 | s, 0 | u),
                (a |= 0),
                (o |= 0))
                : t.context.setTransform(n.a, n.b, n.c, n.d, s, u);
              let l = this.texture.crop.width,
                c = this.texture.crop.height;
              if (((a /= r), (o /= r), this.tint !== 16777215)) {
                (this.texture.requiresReTint ||
                  this.cachedTint !== this.tint) &&
                  ((this.tintedTexture = i.CanvasTinter.getTintedTexture(
                    this,
                    this.tint,
                  )),
                  (this.cachedTint = this.tint),
                  (this.texture.requiresReTint = !1)),
                t.context.drawImage(
                  this.tintedTexture,
                  0,
                  0,
                  l,
                  c,
                  a,
                  o,
                  l / r,
                  c / r,
                );
              } else {
                let h = this.texture.crop.x,
                  d = this.texture.crop.y;
                t.context.drawImage(
                  this.texture.baseTexture.source,
                  h,
                  d,
                  l,
                  c,
                  a,
                  o,
                  l / r,
                  c / r,
                );
              }
            }
            for (let f = 0; f < this.children.length; f++) { this.children[f]._renderCanvas(t); }
            this._mask && t.maskManager.popMask(t);
          }
        }),
        (i.Sprite.fromFrame = function (t) {
          const e = i.TextureCache[t];
          if (!e) {
            throw new Error(`The frameId "${
              t
            }" does not exist in the texture cache${
              this}`);
          }
          return new i.Sprite(e);
        }),
        (i.Sprite.fromImage = function (t, e, n) {
          const r = i.Texture.fromImage(t, e, n);
          return new i.Sprite(r);
        }),
        (i.SpriteBatch = function (t) {
          i.DisplayObjectContainer.call(this),
          (this.textureThing = t),
          (this.ready = !1);
        }),
        (i.SpriteBatch.prototype = Object.create(i.DisplayObjectContainer.prototype)),
        (i.SpriteBatch.prototype.constructor = i.SpriteBatch),
        (i.SpriteBatch.prototype.initWebGL = function (t) {
          (this.fastSpriteBatch = new i.WebGLFastSpriteBatch(t)),
          (this.ready = !0);
        }),
        (i.SpriteBatch.prototype.updateTransform = function () {
          this.displayObjectUpdateTransform();
        }),
        (i.SpriteBatch.prototype._renderWebGL = function (t) {
          !this.visible ||
            this.alpha <= 0 ||
            !this.children.length ||
            (this.ready || this.initWebGL(t.gl),
            this.fastSpriteBatch.gl !== t.gl &&
              this.fastSpriteBatch.setContext(t.gl),
            t.spriteBatch.stop(),
            t.shaderManager.setShader(t.shaderManager.fastShader),
            this.fastSpriteBatch.begin(this, t),
            this.fastSpriteBatch.render(this),
            t.spriteBatch.start());
        }),
        (i.SpriteBatch.prototype._renderCanvas = function (t) {
          if (this.visible && !(this.alpha <= 0) && this.children.length) {
            const e = t.context;
            (e.globalAlpha = this.worldAlpha),
            this.displayObjectUpdateTransform();
            for (
              let i = this.worldTransform, n = !0, r = 0;
              r < this.children.length;
              r++
            ) {
              const a = this.children[r];
              if (a.visible) {
                let o = a.texture,
                  s = o.frame;
                if (
                  ((e.globalAlpha = this.worldAlpha * a.alpha),
                  a.rotation % (2 * Math.PI) == 0)
                ) {
                  n &&
                    (e.setTransform(i.a, i.b, i.c, i.d, i.tx, i.ty), (n = !1)),
                  e.drawImage(
                    o.baseTexture.source,
                    s.x,
                    s.y,
                    s.width,
                    s.height,
                    (a.anchor.x * (-s.width * a.scale.x) +
                        a.position.x +
                        0.5 +
                        t.shakeX) |
                        0,
                    (a.anchor.y * (-s.height * a.scale.y) +
                        a.position.y +
                        0.5 +
                        t.shakeY) |
                        0,
                    s.width * a.scale.x,
                    s.height * a.scale.y,
                  );
                } else {
                  n || (n = !0), a.displayObjectUpdateTransform();
                  let u = a.worldTransform,
                    l = u.tx * t.resolution + t.shakeX,
                    c = u.ty * t.resolution + t.shakeY;
                  t.roundPixels
                    ? e.setTransform(u.a, u.b, u.c, u.d, 0 | l, 0 | c)
                    : e.setTransform(u.a, u.b, u.c, u.d, l, c),
                  e.drawImage(
                    o.baseTexture.source,
                    s.x,
                    s.y,
                    s.width,
                    s.height,
                    (a.anchor.x * -s.width + 0.5) | 0,
                    (a.anchor.y * -s.height + 0.5) | 0,
                    s.width,
                    s.height,
                  );
                }
              }
            }
          }
        }),
        (i.hex2rgb = function (t) {
          return [
            ((t >> 16) & 255) / 255,
            ((t >> 8) & 255) / 255,
            (255 & t) / 255,
          ];
        }),
        (i.rgb2hex = function (t) {
          return ((255 * t[0]) << 16) + ((255 * t[1]) << 8) + 255 * t[2];
        }),
        (i.canUseNewCanvasBlendModes = function () {
          if (void 0 === document) return !1;
          let t =
              'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/',
            e = 'AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==',
            n = new Image();
          n.src = `${t}AP804Oa6${e}`;
          const r = new Image();
          r.src = `${t}/wCKxvRF${e}`;
          let a = i.CanvasPool.create(this, 6, 1),
            o = a.getContext('2d');
          if (
            ((o.globalCompositeOperation = 'multiply'),
            o.drawImage(n, 0, 0),
            o.drawImage(r, 2, 0),
            !o.getImageData(2, 0, 1, 1))
          ) { return !1; }
          const s = o.getImageData(2, 0, 1, 1).data;
          return (
            i.CanvasPool.remove(this), s[0] === 255 && s[1] === 0 && s[2] === 0
          );
        }),
        (i.getNextPowerOfTwo = function (t) {
          if (t > 0 && (t & (t - 1)) == 0) return t;
          for (var e = 1; e < t;) e <<= 1;
          return e;
        }),
        (i.isPowerOfTwo = function (t, e) {
          return t > 0 && (t & (t - 1)) == 0 && e > 0 && (e & (e - 1)) == 0;
        }),
        (i.CanvasPool = {
          create(t, e, n) {
            let r,
              a = i.CanvasPool.getFirst();
            if (a === -1) {
              const o = { parent: t, canvas: document.createElement('canvas') };
              i.CanvasPool.pool.push(o), (r = o.canvas);
            } else {
              (i.CanvasPool.pool[a].parent = t),
              (r = i.CanvasPool.pool[a].canvas);
            }
            return void 0 !== e && ((r.width = e), (r.height = n)), r;
          },
          getFirst() {
            for (let t = i.CanvasPool.pool, e = 0; e < t.length; e++) { if (t[e].parent === null) return e; }
            return -1;
          },
          remove(t) {
            for (let e = i.CanvasPool.pool, n = 0; n < e.length; n++) { e[n].parent === t && (e[n].parent = null); }
          },
          removeByCanvas(t) {
            for (let e = i.CanvasPool.pool, n = 0; n < e.length; n++) { e[n].canvas === t && (e[n].parent = null); }
          },
          getTotal() {
            for (var t = i.CanvasPool.pool, e = 0, n = 0; n < t.length; n++) { t[n].parent !== null && e++; }
            return e;
          },
          getFree() {
            for (var t = i.CanvasPool.pool, e = 0, n = 0; n < t.length; n++) { t[n].parent === null && e++; }
            return e;
          },
        }),
        (i.CanvasPool.pool = []),
        (i.initDefaultShaders = function () {}),
        (i.CompileVertexShader = function (t, e) {
          return i._CompileShader(t, e, t.VERTEX_SHADER);
        }),
        (i.CompileFragmentShader = function (t, e) {
          return i._CompileShader(t, e, t.FRAGMENT_SHADER);
        }),
        (i._CompileShader = function (t, e, i) {
          let n = e;
          Array.isArray(e) && (n = e.join('\n'));
          const r = t.createShader(i);
          return (
            t.shaderSource(r, n),
            t.compileShader(r),
            t.getShaderParameter(r, t.COMPILE_STATUS)
              ? r
              : (window.console.log(t.getShaderInfoLog(r)), null)
          );
        }),
        (i.compileProgram = function (t, e, n) {
          let r = i.CompileFragmentShader(t, n),
            a = i.CompileVertexShader(t, e),
            o = t.createProgram();
          return (
            t.attachShader(o, a),
            t.attachShader(o, r),
            t.linkProgram(o),
            t.getProgramParameter(o, t.LINK_STATUS) ||
              (window.console.log(t.getProgramInfoLog(o)),
              window.console.log('Could not initialise shaders')),
            o
          );
        }),
        (i.PixiShader = function (t) {
          (this._UID = i._UID++),
          (this.gl = t),
          (this.program = null),
          (this.fragmentSrc = [
            'precision lowp float;',
            'varying vec2 vTextureCoord;',
            'varying vec4 vColor;',
            'uniform sampler2D uSampler;',
            'void main(void) {',
            '   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;',
            '}',
          ]),
          (this.textureCount = 0),
          (this.firstRun = !0),
          (this.dirty = !0),
          (this.attributes = []),
          this.init();
        }),
        (i.PixiShader.prototype.constructor = i.PixiShader),
        (i.PixiShader.prototype.init = function () {
          let t = this.gl,
            e = i.compileProgram(
              t,
              this.vertexSrc || i.PixiShader.defaultVertexSrc,
              this.fragmentSrc,
            );
          t.useProgram(e),
          (this.uSampler = t.getUniformLocation(e, 'uSampler')),
          (this.projectionVector = t.getUniformLocation(
            e,
            'projectionVector',
          )),
          (this.offsetVector = t.getUniformLocation(e, 'offsetVector')),
          (this.dimensions = t.getUniformLocation(e, 'dimensions')),
          (this.aVertexPosition = t.getAttribLocation(e, 'aVertexPosition')),
          (this.aTextureCoord = t.getAttribLocation(e, 'aTextureCoord')),
          (this.colorAttribute = t.getAttribLocation(e, 'aColor')),
          this.colorAttribute === -1 && (this.colorAttribute = 2),
          (this.attributes = [
            this.aVertexPosition,
            this.aTextureCoord,
            this.colorAttribute,
          ]);
          for (const n in this.uniforms) { this.uniforms[n].uniformLocation = t.getUniformLocation(e, n); }
          this.initUniforms(), (this.program = e);
        }),
        (i.PixiShader.prototype.initUniforms = function () {
          this.textureCount = 1;
          let t,
            e = this.gl;
          for (const i in this.uniforms) {
            t = this.uniforms[i];
            const n = t.type;
            n === 'sampler2D'
              ? ((t._init = !1), t.value !== null && this.initSampler2D(t))
              : n === 'mat2' || n === 'mat3' || n === 'mat4'
                ? ((t.glMatrix = !0),
                (t.glValueLength = 1),
                n === 'mat2'
                  ? (t.glFunc = e.uniformMatrix2fv)
                  : n === 'mat3'
                    ? (t.glFunc = e.uniformMatrix3fv)
                    : n === 'mat4' && (t.glFunc = e.uniformMatrix4fv))
                : ((t.glFunc = e[`uniform${n}`]),
                (t.glValueLength =
                  n === '2f' || n === '2i'
                    ? 2
                    : n === '3f' || n === '3i'
                      ? 3
                      : n === '4f' || n === '4i'
                        ? 4
                        : 1));
          }
        }),
        (i.PixiShader.prototype.initSampler2D = function (t) {
          if (t.value && t.value.baseTexture && t.value.baseTexture.hasLoaded) {
            const e = this.gl;
            if (
              (e.activeTexture(e[`TEXTURE${this.textureCount}`]),
              e.bindTexture(
                e.TEXTURE_2D,
                t.value.baseTexture._glTextures[e.id],
              ),
              t.textureData)
            ) {
              let i = t.textureData,
                n = i.magFilter ? i.magFilter : e.LINEAR,
                r = i.minFilter ? i.minFilter : e.LINEAR,
                a = i.wrapS ? i.wrapS : e.CLAMP_TO_EDGE,
                o = i.wrapT ? i.wrapT : e.CLAMP_TO_EDGE,
                s = i.luminance ? e.LUMINANCE : e.RGBA;
              if (
                (i.repeat && ((a = e.REPEAT), (o = e.REPEAT)),
                e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, !!i.flipY),
                i.width)
              ) {
                let u = i.width ? i.width : 512,
                  l = i.height ? i.height : 2,
                  c = i.border ? i.border : 0;
                e.texImage2D(
                  e.TEXTURE_2D,
                  0,
                  s,
                  u,
                  l,
                  c,
                  s,
                  e.UNSIGNED_BYTE,
                  null,
                );
              } else {
                e.texImage2D(
                  e.TEXTURE_2D,
                  0,
                  s,
                  e.RGBA,
                  e.UNSIGNED_BYTE,
                  t.value.baseTexture.source,
                );
              }
              e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, n),
              e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, r),
              e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, a),
              e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, o);
            }
            e.uniform1i(t.uniformLocation, this.textureCount),
            (t._init = !0),
            this.textureCount++;
          }
        }),
        (i.PixiShader.prototype.syncUniforms = function () {
          this.textureCount = 1;
          let t,
            e = this.gl;
          for (const n in this.uniforms) {
            (t = this.uniforms[n]),
            t.glValueLength === 1
              ? !0 === t.glMatrix
                ? t.glFunc.call(e, t.uniformLocation, t.transpose, t.value)
                : t.glFunc.call(e, t.uniformLocation, t.value)
              : t.glValueLength === 2
                ? t.glFunc.call(e, t.uniformLocation, t.value.x, t.value.y)
                : t.glValueLength === 3
                  ? t.glFunc.call(
                    e,
                    t.uniformLocation,
                    t.value.x,
                    t.value.y,
                    t.value.z,
                  )
                  : t.glValueLength === 4
                    ? t.glFunc.call(
                      e,
                      t.uniformLocation,
                      t.value.x,
                      t.value.y,
                      t.value.z,
                      t.value.w,
                    )
                    : t.type === 'sampler2D' &&
                  (t._init
                    ? (e.activeTexture(e[`TEXTURE${this.textureCount}`]),
                    t.value.baseTexture._dirty[e.id]
                      ? i.instances[e.id].updateTexture(t.value.baseTexture)
                      : e.bindTexture(
                        e.TEXTURE_2D,
                        t.value.baseTexture._glTextures[e.id],
                      ),
                    e.uniform1i(t.uniformLocation, this.textureCount),
                    this.textureCount++)
                    : this.initSampler2D(t));
          }
        }),
        (i.PixiShader.prototype.destroy = function () {
          this.gl.deleteProgram(this.program),
          (this.uniforms = null),
          (this.gl = null),
          (this.attributes = null);
        }),
        (i.PixiShader.defaultVertexSrc = [
          'attribute vec2 aVertexPosition;',
          'attribute vec2 aTextureCoord;',
          'attribute vec4 aColor;',
          'uniform vec2 projectionVector;',
          'uniform vec2 offsetVector;',
          'varying vec2 vTextureCoord;',
          'varying vec4 vColor;',
          'const vec2 center = vec2(-1.0, 1.0);',
          'void main(void) {',
          '   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);',
          '   vTextureCoord = aTextureCoord;',
          '   vColor = vec4(aColor.rgb * aColor.a, aColor.a);',
          '}',
        ]),
        (i.PixiFastShader = function (t) {
          (this._UID = i._UID++),
          (this.gl = t),
          (this.program = null),
          (this.fragmentSrc = [
            'precision lowp float;',
            'varying vec2 vTextureCoord;',
            'varying float vColor;',
            'uniform sampler2D uSampler;',
            'void main(void) {',
            '   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;',
            '}',
          ]),
          (this.vertexSrc = [
            'attribute vec2 aVertexPosition;',
            'attribute vec2 aPositionCoord;',
            'attribute vec2 aScale;',
            'attribute float aRotation;',
            'attribute vec2 aTextureCoord;',
            'attribute float aColor;',
            'uniform vec2 projectionVector;',
            'uniform vec2 offsetVector;',
            'uniform mat3 uMatrix;',
            'varying vec2 vTextureCoord;',
            'varying float vColor;',
            'const vec2 center = vec2(-1.0, 1.0);',
            'void main(void) {',
            '   vec2 v;',
            '   vec2 sv = aVertexPosition * aScale;',
            '   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);',
            '   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);',
            '   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;',
            '   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);',
            '   vTextureCoord = aTextureCoord;',
            '   vColor = aColor;',
            '}',
          ]),
          (this.textureCount = 0),
          this.init();
        }),
        (i.PixiFastShader.prototype.constructor = i.PixiFastShader),
        (i.PixiFastShader.prototype.init = function () {
          let t = this.gl,
            e = i.compileProgram(t, this.vertexSrc, this.fragmentSrc);
          t.useProgram(e),
          (this.uSampler = t.getUniformLocation(e, 'uSampler')),
          (this.projectionVector = t.getUniformLocation(
            e,
            'projectionVector',
          )),
          (this.offsetVector = t.getUniformLocation(e, 'offsetVector')),
          (this.dimensions = t.getUniformLocation(e, 'dimensions')),
          (this.uMatrix = t.getUniformLocation(e, 'uMatrix')),
          (this.aVertexPosition = t.getAttribLocation(e, 'aVertexPosition')),
          (this.aPositionCoord = t.getAttribLocation(e, 'aPositionCoord')),
          (this.aScale = t.getAttribLocation(e, 'aScale')),
          (this.aRotation = t.getAttribLocation(e, 'aRotation')),
          (this.aTextureCoord = t.getAttribLocation(e, 'aTextureCoord')),
          (this.colorAttribute = t.getAttribLocation(e, 'aColor')),
          this.colorAttribute === -1 && (this.colorAttribute = 2),
          (this.attributes = [
            this.aVertexPosition,
            this.aPositionCoord,
            this.aScale,
            this.aRotation,
            this.aTextureCoord,
            this.colorAttribute,
          ]),
          (this.program = e);
        }),
        (i.PixiFastShader.prototype.destroy = function () {
          this.gl.deleteProgram(this.program),
          (this.uniforms = null),
          (this.gl = null),
          (this.attributes = null);
        }),
        (i.StripShader = function (t) {
          (this._UID = i._UID++),
          (this.gl = t),
          (this.program = null),
          (this.fragmentSrc = [
            'precision mediump float;',
            'varying vec2 vTextureCoord;',
            'uniform float alpha;',
            'uniform sampler2D uSampler;',
            'void main(void) {',
            '   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * alpha;',
            '}',
          ]),
          (this.vertexSrc = [
            'attribute vec2 aVertexPosition;',
            'attribute vec2 aTextureCoord;',
            'uniform mat3 translationMatrix;',
            'uniform vec2 projectionVector;',
            'uniform vec2 offsetVector;',
            'varying vec2 vTextureCoord;',
            'void main(void) {',
            '   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);',
            '   v -= offsetVector.xyx;',
            '   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);',
            '   vTextureCoord = aTextureCoord;',
            '}',
          ]),
          this.init();
        }),
        (i.StripShader.prototype.constructor = i.StripShader),
        (i.StripShader.prototype.init = function () {
          let t = this.gl,
            e = i.compileProgram(t, this.vertexSrc, this.fragmentSrc);
          t.useProgram(e),
          (this.uSampler = t.getUniformLocation(e, 'uSampler')),
          (this.projectionVector = t.getUniformLocation(
            e,
            'projectionVector',
          )),
          (this.offsetVector = t.getUniformLocation(e, 'offsetVector')),
          (this.colorAttribute = t.getAttribLocation(e, 'aColor')),
          (this.aVertexPosition = t.getAttribLocation(e, 'aVertexPosition')),
          (this.aTextureCoord = t.getAttribLocation(e, 'aTextureCoord')),
          (this.attributes = [this.aVertexPosition, this.aTextureCoord]),
          (this.translationMatrix = t.getUniformLocation(
            e,
            'translationMatrix',
          )),
          (this.alpha = t.getUniformLocation(e, 'alpha')),
          (this.program = e);
        }),
        (i.StripShader.prototype.destroy = function () {
          this.gl.deleteProgram(this.program),
          (this.uniforms = null),
          (this.gl = null),
          (this.attribute = null);
        }),
        (i.PrimitiveShader = function (t) {
          (this._UID = i._UID++),
          (this.gl = t),
          (this.program = null),
          (this.fragmentSrc = [
            'precision mediump float;',
            'varying vec4 vColor;',
            'void main(void) {',
            '   gl_FragColor = vColor;',
            '}',
          ]),
          (this.vertexSrc = [
            'attribute vec2 aVertexPosition;',
            'attribute vec4 aColor;',
            'uniform mat3 translationMatrix;',
            'uniform vec2 projectionVector;',
            'uniform vec2 offsetVector;',
            'uniform float alpha;',
            'uniform float flipY;',
            'uniform vec3 tint;',
            'varying vec4 vColor;',
            'void main(void) {',
            '   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);',
            '   v -= offsetVector.xyx;',
            '   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);',
            '   vColor = aColor * vec4(tint * alpha, alpha);',
            '}',
          ]),
          this.init();
        }),
        (i.PrimitiveShader.prototype.constructor = i.PrimitiveShader),
        (i.PrimitiveShader.prototype.init = function () {
          let t = this.gl,
            e = i.compileProgram(t, this.vertexSrc, this.fragmentSrc);
          t.useProgram(e),
          (this.projectionVector = t.getUniformLocation(
            e,
            'projectionVector',
          )),
          (this.offsetVector = t.getUniformLocation(e, 'offsetVector')),
          (this.tintColor = t.getUniformLocation(e, 'tint')),
          (this.flipY = t.getUniformLocation(e, 'flipY')),
          (this.aVertexPosition = t.getAttribLocation(e, 'aVertexPosition')),
          (this.colorAttribute = t.getAttribLocation(e, 'aColor')),
          (this.attributes = [this.aVertexPosition, this.colorAttribute]),
          (this.translationMatrix = t.getUniformLocation(
            e,
            'translationMatrix',
          )),
          (this.alpha = t.getUniformLocation(e, 'alpha')),
          (this.program = e);
        }),
        (i.PrimitiveShader.prototype.destroy = function () {
          this.gl.deleteProgram(this.program),
          (this.uniforms = null),
          (this.gl = null),
          (this.attributes = null);
        }),
        (i.ComplexPrimitiveShader = function (t) {
          (this._UID = i._UID++),
          (this.gl = t),
          (this.program = null),
          (this.fragmentSrc = [
            'precision mediump float;',
            'varying vec4 vColor;',
            'void main(void) {',
            '   gl_FragColor = vColor;',
            '}',
          ]),
          (this.vertexSrc = [
            'attribute vec2 aVertexPosition;',
            'uniform mat3 translationMatrix;',
            'uniform vec2 projectionVector;',
            'uniform vec2 offsetVector;',
            'uniform vec3 tint;',
            'uniform float alpha;',
            'uniform vec3 color;',
            'uniform float flipY;',
            'varying vec4 vColor;',
            'void main(void) {',
            '   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);',
            '   v -= offsetVector.xyx;',
            '   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);',
            '   vColor = vec4(color * alpha * tint, alpha);',
            '}',
          ]),
          this.init();
        }),
        (i.ComplexPrimitiveShader.prototype.constructor =
          i.ComplexPrimitiveShader),
        (i.ComplexPrimitiveShader.prototype.init = function () {
          let t = this.gl,
            e = i.compileProgram(t, this.vertexSrc, this.fragmentSrc);
          t.useProgram(e),
          (this.projectionVector = t.getUniformLocation(
            e,
            'projectionVector',
          )),
          (this.offsetVector = t.getUniformLocation(e, 'offsetVector')),
          (this.tintColor = t.getUniformLocation(e, 'tint')),
          (this.color = t.getUniformLocation(e, 'color')),
          (this.flipY = t.getUniformLocation(e, 'flipY')),
          (this.aVertexPosition = t.getAttribLocation(e, 'aVertexPosition')),
          (this.attributes = [this.aVertexPosition, this.colorAttribute]),
          (this.translationMatrix = t.getUniformLocation(
            e,
            'translationMatrix',
          )),
          (this.alpha = t.getUniformLocation(e, 'alpha')),
          (this.program = e);
        }),
        (i.ComplexPrimitiveShader.prototype.destroy = function () {
          this.gl.deleteProgram(this.program),
          (this.uniforms = null),
          (this.gl = null),
          (this.attribute = null);
        }),
        (i.glContexts = []),
        (i.instances = []),
        (i.WebGLRenderer = function (t) {
          (this.game = t),
          i.defaultRenderer || (i.defaultRenderer = this),
          (this.type = i.WEBGL_RENDERER),
          (this.resolution = t.resolution),
          (this.transparent = t.transparent),
          (this.autoResize = !1),
          (this.preserveDrawingBuffer = t.preserveDrawingBuffer),
          (this.clearBeforeRender = t.clearBeforeRender),
          (this.width = t.width),
          (this.height = t.height),
          (this.view = t.canvas),
          (this._contextOptions = {
            alpha: this.transparent,
            antialias: t.antialias,
            premultipliedAlpha:
                this.transparent && this.transparent !== 'notMultiplied',
            stencil: !0,
            preserveDrawingBuffer: this.preserveDrawingBuffer,
          }),
          (this.projection = new i.Point()),
          (this.offset = new i.Point()),
          (this.shaderManager = new i.WebGLShaderManager()),
          (this.spriteBatch = new i.WebGLSpriteBatch()),
          (this.maskManager = new i.WebGLMaskManager()),
          (this.filterManager = new i.WebGLFilterManager()),
          (this.stencilManager = new i.WebGLStencilManager()),
          (this.blendModeManager = new i.WebGLBlendModeManager()),
          (this.renderSession = {}),
          (this.renderSession.game = this.game),
          (this.renderSession.gl = this.gl),
          (this.renderSession.drawCount = 0),
          (this.renderSession.shaderManager = this.shaderManager),
          (this.renderSession.maskManager = this.maskManager),
          (this.renderSession.filterManager = this.filterManager),
          (this.renderSession.blendModeManager = this.blendModeManager),
          (this.renderSession.spriteBatch = this.spriteBatch),
          (this.renderSession.stencilManager = this.stencilManager),
          (this.renderSession.renderer = this),
          (this.renderSession.resolution = this.resolution),
          this.initContext(),
          this.mapBlendModes();
        }),
        (i.WebGLRenderer.prototype.constructor = i.WebGLRenderer),
        (i.WebGLRenderer.prototype.initContext = function () {
          const t =
            this.view.getContext('webgl', this._contextOptions) ||
            this.view.getContext('experimental-webgl', this._contextOptions);
          if (((this.gl = t), !t)) { throw new Error('This browser does not support webGL. Try using the canvas renderer'); }
          (this.glContextId = t.id = i.WebGLRenderer.glContextId++),
          (i.glContexts[this.glContextId] = t),
          (i.instances[this.glContextId] = this),
          t.disable(t.DEPTH_TEST),
          t.disable(t.CULL_FACE),
          t.enable(t.BLEND),
          this.shaderManager.setContext(t),
          this.spriteBatch.setContext(t),
          this.maskManager.setContext(t),
          this.filterManager.setContext(t),
          this.blendModeManager.setContext(t),
          this.stencilManager.setContext(t),
          (this.renderSession.gl = this.gl),
          this.resize(this.width, this.height);
        }),
        (i.WebGLRenderer.prototype.render = function (t) {
          if (!this.contextLost) {
            const e = this.gl;
            e.viewport(0, 0, this.width, this.height),
            e.bindFramebuffer(e.FRAMEBUFFER, null),
            this.game.clearBeforeRender &&
                (e.clearColor(
                  t._bgColor.r,
                  t._bgColor.g,
                  t._bgColor.b,
                  t._bgColor.a,
                ),
                e.clear(e.COLOR_BUFFER_BIT)),
            (this.offset.x = this.game.camera._shake.x),
            (this.offset.y = this.game.camera._shake.y),
            this.renderDisplayObject(t, this.projection);
          }
        }),
        (i.WebGLRenderer.prototype.renderDisplayObject = function (t, e, n, r) {
          this.renderSession.blendModeManager.setBlendMode(i.blendModes.NORMAL),
          (this.renderSession.drawCount = 0),
          (this.renderSession.flipY = n ? -1 : 1),
          (this.renderSession.projection = e),
          (this.renderSession.offset = this.offset),
          this.spriteBatch.begin(this.renderSession),
          this.filterManager.begin(this.renderSession, n),
          t._renderWebGL(this.renderSession, r),
          this.spriteBatch.end();
        }),
        (i.WebGLRenderer.prototype.resize = function (t, e) {
          (this.width = t * this.resolution),
          (this.height = e * this.resolution),
          (this.view.width = this.width),
          (this.view.height = this.height),
          this.autoResize &&
              ((this.view.style.width = `${this.width / this.resolution}px`),
              (this.view.style.height = `${this.height / this.resolution}px`)),
          this.gl.viewport(0, 0, this.width, this.height),
          (this.projection.x = this.width / 2 / this.resolution),
          (this.projection.y = -this.height / 2 / this.resolution);
        }),
        (i.WebGLRenderer.prototype.updateTexture = function (t) {
          if (!t.hasLoaded) return !1;
          const e = this.gl;
          return (
            t._glTextures[e.id] || (t._glTextures[e.id] = e.createTexture()),
            e.bindTexture(e.TEXTURE_2D, t._glTextures[e.id]),
            e.pixelStorei(
              e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
              t.premultipliedAlpha,
            ),
            e.texImage2D(
              e.TEXTURE_2D,
              0,
              e.RGBA,
              e.RGBA,
              e.UNSIGNED_BYTE,
              t.source,
            ),
            e.texParameteri(
              e.TEXTURE_2D,
              e.TEXTURE_MAG_FILTER,
              t.scaleMode === i.scaleModes.LINEAR ? e.LINEAR : e.NEAREST,
            ),
            t.mipmap && i.isPowerOfTwo(t.width, t.height)
              ? (e.texParameteri(
                e.TEXTURE_2D,
                e.TEXTURE_MIN_FILTER,
                t.scaleMode === i.scaleModes.LINEAR
                  ? e.LINEAR_MIPMAP_LINEAR
                  : e.NEAREST_MIPMAP_NEAREST,
              ),
              e.generateMipmap(e.TEXTURE_2D))
              : e.texParameteri(
                e.TEXTURE_2D,
                e.TEXTURE_MIN_FILTER,
                t.scaleMode === i.scaleModes.LINEAR ? e.LINEAR : e.NEAREST,
              ),
            t._powerOf2
              ? (e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.REPEAT),
              e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.REPEAT))
              : (e.texParameteri(
                e.TEXTURE_2D,
                e.TEXTURE_WRAP_S,
                e.CLAMP_TO_EDGE,
              ),
              e.texParameteri(
                e.TEXTURE_2D,
                e.TEXTURE_WRAP_T,
                e.CLAMP_TO_EDGE,
              )),
            (t._dirty[e.id] = !1),
            !0
          );
        }),
        (i.WebGLRenderer.prototype.destroy = function () {
          (i.glContexts[this.glContextId] = null),
          (this.projection = null),
          (this.offset = null),
          this.shaderManager.destroy(),
          this.spriteBatch.destroy(),
          this.maskManager.destroy(),
          this.filterManager.destroy(),
          (this.shaderManager = null),
          (this.spriteBatch = null),
          (this.maskManager = null),
          (this.filterManager = null),
          (this.gl = null),
          (this.renderSession = null),
          i.CanvasPool.remove(this),
          (i.instances[this.glContextId] = null),
          i.WebGLRenderer.glContextId--;
        }),
        (i.WebGLRenderer.prototype.mapBlendModes = function () {
          const t = this.gl;
          if (!i.blendModesWebGL) {
            let e = [],
              n = i.blendModes;
            (e[n.NORMAL] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.ADD] = [t.SRC_ALPHA, t.DST_ALPHA]),
            (e[n.MULTIPLY] = [t.DST_COLOR, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.SCREEN] = [t.SRC_ALPHA, t.ONE]),
            (e[n.OVERLAY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.DARKEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.LIGHTEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.COLOR_DODGE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.COLOR_BURN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.HARD_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.SOFT_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.DIFFERENCE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.EXCLUSION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.HUE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.SATURATION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.COLOR] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (e[n.LUMINOSITY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA]),
            (i.blendModesWebGL = e);
          }
        }),
        (i.WebGLRenderer.glContextId = 0),
        (i.WebGLBlendModeManager = function () {
          this.currentBlendMode = 99999;
        }),
        (i.WebGLBlendModeManager.prototype.constructor =
          i.WebGLBlendModeManager),
        (i.WebGLBlendModeManager.prototype.setContext = function (t) {
          this.gl = t;
        }),
        (i.WebGLBlendModeManager.prototype.setBlendMode = function (t) {
          if (this.currentBlendMode === t) return !1;
          this.currentBlendMode = t;
          const e = i.blendModesWebGL[this.currentBlendMode];
          return e && this.gl.blendFunc(e[0], e[1]), !0;
        }),
        (i.WebGLBlendModeManager.prototype.destroy = function () {
          this.gl = null;
        }),
        (i.WebGLMaskManager = function () {}),
        (i.WebGLMaskManager.prototype.constructor = i.WebGLMaskManager),
        (i.WebGLMaskManager.prototype.setContext = function (t) {
          this.gl = t;
        }),
        (i.WebGLMaskManager.prototype.pushMask = function (t, e) {
          const n = e.gl;
          t.dirty && i.WebGLGraphics.updateGraphics(t, n),
          void 0 !== t._webGL[n.id] &&
              void 0 !== t._webGL[n.id].data &&
              t._webGL[n.id].data.length !== 0 &&
              e.stencilManager.pushStencil(t, t._webGL[n.id].data[0], e);
        }),
        (i.WebGLMaskManager.prototype.popMask = function (t, e) {
          const i = this.gl;
          void 0 !== t._webGL[i.id] &&
            void 0 !== t._webGL[i.id].data &&
            t._webGL[i.id].data.length !== 0 &&
            e.stencilManager.popStencil(t, t._webGL[i.id].data[0], e);
        }),
        (i.WebGLMaskManager.prototype.destroy = function () {
          this.gl = null;
        }),
        (i.WebGLStencilManager = function () {
          (this.stencilStack = []), (this.reverse = !0), (this.count = 0);
        }),
        (i.WebGLStencilManager.prototype.setContext = function (t) {
          this.gl = t;
        }),
        (i.WebGLStencilManager.prototype.pushStencil = function (t, e, i) {
          const n = this.gl;
          this.bindGraphics(t, e, i),
          this.stencilStack.length === 0 &&
              (n.enable(n.STENCIL_TEST),
              n.clear(n.STENCIL_BUFFER_BIT),
              (this.reverse = !0),
              (this.count = 0)),
          this.stencilStack.push(e);
          const r = this.count;
          n.colorMask(!1, !1, !1, !1),
          n.stencilFunc(n.ALWAYS, 0, 255),
          n.stencilOp(n.KEEP, n.KEEP, n.INVERT),
          e.mode === 1
            ? (n.drawElements(
              n.TRIANGLE_FAN,
              e.indices.length - 4,
              n.UNSIGNED_SHORT,
              0,
            ),
            this.reverse
              ? (n.stencilFunc(n.EQUAL, 255 - r, 255),
              n.stencilOp(n.KEEP, n.KEEP, n.DECR))
              : (n.stencilFunc(n.EQUAL, r, 255),
              n.stencilOp(n.KEEP, n.KEEP, n.INCR)),
            n.drawElements(
              n.TRIANGLE_FAN,
              4,
              n.UNSIGNED_SHORT,
              2 * (e.indices.length - 4),
            ),
            this.reverse
              ? n.stencilFunc(n.EQUAL, 255 - (r + 1), 255)
              : n.stencilFunc(n.EQUAL, r + 1, 255),
            (this.reverse = !this.reverse))
            : (this.reverse
              ? (n.stencilFunc(n.EQUAL, r, 255),
              n.stencilOp(n.KEEP, n.KEEP, n.INCR))
              : (n.stencilFunc(n.EQUAL, 255 - r, 255),
              n.stencilOp(n.KEEP, n.KEEP, n.DECR)),
            n.drawElements(
              n.TRIANGLE_STRIP,
              e.indices.length,
              n.UNSIGNED_SHORT,
              0,
            ),
            this.reverse
              ? n.stencilFunc(n.EQUAL, r + 1, 255)
              : n.stencilFunc(n.EQUAL, 255 - (r + 1), 255)),
          n.colorMask(!0, !0, !0, !0),
          n.stencilOp(n.KEEP, n.KEEP, n.KEEP),
          this.count++;
        }),
        (i.WebGLStencilManager.prototype.bindGraphics = function (t, e, n) {
          this._currentGraphics = t;
          let r,
            a = this.gl,
            o = n.projection,
            s = n.offset;
          e.mode === 1
            ? ((r = n.shaderManager.complexPrimitiveShader),
            n.shaderManager.setShader(r),
            a.uniform1f(r.flipY, n.flipY),
            a.uniformMatrix3fv(
              r.translationMatrix,
              !1,
              t.worldTransform.toArray(!0),
            ),
            a.uniform2f(r.projectionVector, o.x, -o.y),
            a.uniform2f(r.offsetVector, -s.x, -s.y),
            a.uniform3fv(r.tintColor, i.hex2rgb(t.tint)),
            a.uniform3fv(r.color, e.color),
            a.uniform1f(r.alpha, t.worldAlpha * e.alpha),
            a.bindBuffer(a.ARRAY_BUFFER, e.buffer),
            a.vertexAttribPointer(r.aVertexPosition, 2, a.FLOAT, !1, 8, 0),
            a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, e.indexBuffer))
            : ((r = n.shaderManager.primitiveShader),
            n.shaderManager.setShader(r),
            a.uniformMatrix3fv(
              r.translationMatrix,
              !1,
              t.worldTransform.toArray(!0),
            ),
            a.uniform1f(r.flipY, n.flipY),
            a.uniform2f(r.projectionVector, o.x, -o.y),
            a.uniform2f(r.offsetVector, -s.x, -s.y),
            a.uniform3fv(r.tintColor, i.hex2rgb(t.tint)),
            a.uniform1f(r.alpha, t.worldAlpha),
            a.bindBuffer(a.ARRAY_BUFFER, e.buffer),
            a.vertexAttribPointer(r.aVertexPosition, 2, a.FLOAT, !1, 24, 0),
            a.vertexAttribPointer(r.colorAttribute, 4, a.FLOAT, !1, 24, 8),
            a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, e.indexBuffer));
        }),
        (i.WebGLStencilManager.prototype.popStencil = function (t, e, i) {
          const n = this.gl;
          if (
            (this.stencilStack.pop(),
            this.count--,
            this.stencilStack.length === 0)
          ) { n.disable(n.STENCIL_TEST); } else {
            const r = this.count;
            this.bindGraphics(t, e, i),
            n.colorMask(!1, !1, !1, !1),
            e.mode === 1
              ? ((this.reverse = !this.reverse),
              this.reverse
                ? (n.stencilFunc(n.EQUAL, 255 - (r + 1), 255),
                n.stencilOp(n.KEEP, n.KEEP, n.INCR))
                : (n.stencilFunc(n.EQUAL, r + 1, 255),
                n.stencilOp(n.KEEP, n.KEEP, n.DECR)),
              n.drawElements(
                n.TRIANGLE_FAN,
                4,
                n.UNSIGNED_SHORT,
                2 * (e.indices.length - 4),
              ),
              n.stencilFunc(n.ALWAYS, 0, 255),
              n.stencilOp(n.KEEP, n.KEEP, n.INVERT),
              n.drawElements(
                n.TRIANGLE_FAN,
                e.indices.length - 4,
                n.UNSIGNED_SHORT,
                0,
              ),
              this.reverse
                ? n.stencilFunc(n.EQUAL, r, 255)
                : n.stencilFunc(n.EQUAL, 255 - r, 255))
              : (this.reverse
                ? (n.stencilFunc(n.EQUAL, r + 1, 255),
                n.stencilOp(n.KEEP, n.KEEP, n.DECR))
                : (n.stencilFunc(n.EQUAL, 255 - (r + 1), 255),
                n.stencilOp(n.KEEP, n.KEEP, n.INCR)),
              n.drawElements(
                n.TRIANGLE_STRIP,
                e.indices.length,
                n.UNSIGNED_SHORT,
                0,
              ),
              this.reverse
                ? n.stencilFunc(n.EQUAL, r, 255)
                : n.stencilFunc(n.EQUAL, 255 - r, 255)),
            n.colorMask(!0, !0, !0, !0),
            n.stencilOp(n.KEEP, n.KEEP, n.KEEP);
          }
        }),
        (i.WebGLStencilManager.prototype.destroy = function () {
          (this.stencilStack = null), (this.gl = null);
        }),
        (i.WebGLShaderManager = function () {
          (this.maxAttibs = 10),
          (this.attribState = []),
          (this.tempAttribState = []);
          for (let t = 0; t < this.maxAttibs; t++) this.attribState[t] = !1;
          this.stack = [];
        }),
        (i.WebGLShaderManager.prototype.constructor = i.WebGLShaderManager),
        (i.WebGLShaderManager.prototype.setContext = function (t) {
          (this.gl = t),
          (this.primitiveShader = new i.PrimitiveShader(t)),
          (this.complexPrimitiveShader = new i.ComplexPrimitiveShader(t)),
          (this.defaultShader = new i.PixiShader(t)),
          (this.fastShader = new i.PixiFastShader(t)),
          (this.stripShader = new i.StripShader(t)),
          this.setShader(this.defaultShader);
        }),
        (i.WebGLShaderManager.prototype.setAttribs = function (t) {
          let e;
          for (e = 0; e < this.tempAttribState.length; e++) { this.tempAttribState[e] = !1; }
          for (e = 0; e < t.length; e++) {
            const i = t[e];
            this.tempAttribState[i] = !0;
          }
          const n = this.gl;
          for (e = 0; e < this.attribState.length; e++) {
            this.attribState[e] !== this.tempAttribState[e] &&
              ((this.attribState[e] = this.tempAttribState[e]),
              this.tempAttribState[e]
                ? n.enableVertexAttribArray(e)
                : n.disableVertexAttribArray(e));
          }
        }),
        (i.WebGLShaderManager.prototype.setShader = function (t) {
          return (
            this._currentId !== t._UID &&
            ((this._currentId = t._UID),
            (this.currentShader = t),
            this.gl.useProgram(t.program),
            this.setAttribs(t.attributes),
            !0)
          );
        }),
        (i.WebGLShaderManager.prototype.destroy = function () {
          (this.attribState = null),
          (this.tempAttribState = null),
          this.primitiveShader.destroy(),
          this.complexPrimitiveShader.destroy(),
          this.defaultShader.destroy(),
          this.fastShader.destroy(),
          this.stripShader.destroy(),
          (this.gl = null);
        }),
        (i.WebGLSpriteBatch = function () {
          (this.vertSize = 5), (this.size = 2e3);
          let t = 4 * this.size * 4 * this.vertSize,
            e = 6 * this.size;
          (this.vertices = new i.ArrayBuffer(t)),
          (this.positions = new i.Float32Array(this.vertices)),
          (this.colors = new i.Uint32Array(this.vertices)),
          (this.indices = new i.Uint16Array(e)),
          (this.lastIndexCount = 0);
          for (let n = 0, r = 0; n < e; n += 6, r += 4) {
            (this.indices[n + 0] = r + 0),
            (this.indices[n + 1] = r + 1),
            (this.indices[n + 2] = r + 2),
            (this.indices[n + 3] = r + 0),
            (this.indices[n + 4] = r + 2),
            (this.indices[n + 5] = r + 3);
          }
          (this.drawing = !1),
          (this.currentBatchSize = 0),
          (this.currentBaseTexture = null),
          (this.dirty = !0),
          (this.textures = []),
          (this.blendModes = []),
          (this.shaders = []),
          (this.sprites = []),
          (this.defaultShader = new i.AbstractFilter([
            'precision lowp float;',
            'varying vec2 vTextureCoord;',
            'varying vec4 vColor;',
            'uniform sampler2D uSampler;',
            'void main(void) {',
            '   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;',
            '}',
          ]));
        }),
        (i.WebGLSpriteBatch.prototype.setContext = function (t) {
          (this.gl = t),
          (this.vertexBuffer = t.createBuffer()),
          (this.indexBuffer = t.createBuffer()),
          t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer),
          t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.indices, t.STATIC_DRAW),
          t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer),
          t.bufferData(t.ARRAY_BUFFER, this.vertices, t.DYNAMIC_DRAW),
          (this.currentBlendMode = 99999);
          const e = new i.PixiShader(t);
          (e.fragmentSrc = this.defaultShader.fragmentSrc),
          (e.uniforms = {}),
          e.init(),
          (this.defaultShader.shaders[t.id] = e);
        }),
        (i.WebGLSpriteBatch.prototype.begin = function (t) {
          (this.renderSession = t),
          (this.shader = this.renderSession.shaderManager.defaultShader),
          this.start();
        }),
        (i.WebGLSpriteBatch.prototype.end = function () {
          this.flush();
        }),
        (i.WebGLSpriteBatch.prototype.render = function (t, e) {
          let i = t.texture,
            n = t.worldTransform;
          e && (n = e),
          this.currentBatchSize >= this.size &&
              (this.flush(), (this.currentBaseTexture = i.baseTexture));
          const r = i._uvs;
          if (r) {
            let a,
              o,
              s,
              u,
              l = t.anchor.x,
              c = t.anchor.y;
            if (i.trim) {
              const h = i.trim;
              (o = h.x - l * h.width),
              (a = o + i.crop.width),
              (u = h.y - c * h.height),
              (s = u + i.crop.height);
            } else {
              (a = i.frame.width * (1 - l)),
              (o = i.frame.width * -l),
              (s = i.frame.height * (1 - c)),
              (u = i.frame.height * -c);
            }
            let d = 4 * this.currentBatchSize * this.vertSize,
              f = i.baseTexture.resolution,
              p = n.a / f,
              g = n.b / f,
              y = n.c / f,
              v = n.d / f,
              m = n.tx,
              b = n.ty,
              _ = this.colors,
              w = this.positions;
            this.renderSession.roundPixels
              ? ((w[d] = (p * o + y * u + m) | 0),
              (w[d + 1] = (v * u + g * o + b) | 0),
              (w[d + 5] = (p * a + y * u + m) | 0),
              (w[d + 6] = (v * u + g * a + b) | 0),
              (w[d + 10] = (p * a + y * s + m) | 0),
              (w[d + 11] = (v * s + g * a + b) | 0),
              (w[d + 15] = (p * o + y * s + m) | 0),
              (w[d + 16] = (v * s + g * o + b) | 0))
              : ((w[d] = p * o + y * u + m),
              (w[d + 1] = v * u + g * o + b),
              (w[d + 5] = p * a + y * u + m),
              (w[d + 6] = v * u + g * a + b),
              (w[d + 10] = p * a + y * s + m),
              (w[d + 11] = v * s + g * a + b),
              (w[d + 15] = p * o + y * s + m),
              (w[d + 16] = v * s + g * o + b)),
            (w[d + 2] = r.x0),
            (w[d + 3] = r.y0),
            (w[d + 7] = r.x1),
            (w[d + 8] = r.y1),
            (w[d + 12] = r.x2),
            (w[d + 13] = r.y2),
            (w[d + 17] = r.x3),
            (w[d + 18] = r.y3);
            const x = t.tint;
            (_[d + 4] = _[d + 9] = _[d + 14] = _[d + 19] =
              (x >> 16) +
              (65280 & x) +
              ((255 & x) << 16) +
              ((255 * t.worldAlpha) << 24)),
            (this.sprites[this.currentBatchSize++] = t);
          }
        }),
        (i.WebGLSpriteBatch.prototype.renderTilingSprite = function (t) {
          const e = t.tilingTexture;
          this.currentBatchSize >= this.size &&
            (this.flush(), (this.currentBaseTexture = e.baseTexture)),
          t._uvs || (t._uvs = new i.TextureUvs());
          let n = t._uvs,
            r = e.baseTexture.width,
            a = e.baseTexture.height;
          (t.tilePosition.x %= r * t.tileScaleOffset.x),
          (t.tilePosition.y %= a * t.tileScaleOffset.y);
          let o = t.tilePosition.x / (r * t.tileScaleOffset.x),
            s = t.tilePosition.y / (a * t.tileScaleOffset.y),
            u = t.width / r / (t.tileScale.x * t.tileScaleOffset.x),
            l = t.height / a / (t.tileScale.y * t.tileScaleOffset.y);
          (n.x0 = 0 - o),
          (n.y0 = 0 - s),
          (n.x1 = 1 * u - o),
          (n.y1 = 0 - s),
          (n.x2 = 1 * u - o),
          (n.y2 = 1 * l - s),
          (n.x3 = 0 - o),
          (n.y3 = 1 * l - s);
          let c = t.tint,
            h =
              (c >> 16) +
              (65280 & c) +
              ((255 & c) << 16) +
              ((255 * t.worldAlpha) << 24),
            d = this.positions,
            f = this.colors,
            p = t.width,
            g = t.height,
            y = t.anchor.x,
            v = t.anchor.y,
            m = p * (1 - y),
            b = p * -y,
            _ = g * (1 - v),
            w = g * -v,
            x = 4 * this.currentBatchSize * this.vertSize,
            P = e.baseTexture.resolution,
            k = t.worldTransform,
            T = k.a / P,
            O = k.b / P,
            E = k.c / P,
            S = k.d / P,
            C = k.tx,
            I = k.ty;
          (d[x++] = T * b + E * w + C),
          (d[x++] = S * w + O * b + I),
          (d[x++] = n.x0),
          (d[x++] = n.y0),
          (f[x++] = h),
          (d[x++] = T * m + E * w + C),
          (d[x++] = S * w + O * m + I),
          (d[x++] = n.x1),
          (d[x++] = n.y1),
          (f[x++] = h),
          (d[x++] = T * m + E * _ + C),
          (d[x++] = S * _ + O * m + I),
          (d[x++] = n.x2),
          (d[x++] = n.y2),
          (f[x++] = h),
          (d[x++] = T * b + E * _ + C),
          (d[x++] = S * _ + O * b + I),
          (d[x++] = n.x3),
          (d[x++] = n.y3),
          (f[x++] = h),
          (this.sprites[this.currentBatchSize++] = t);
        }),
        (i.WebGLSpriteBatch.prototype.flush = function () {
          if (this.currentBatchSize !== 0) {
            let t,
              e = this.gl;
            if (this.dirty) {
              (this.dirty = !1),
              e.activeTexture(e.TEXTURE0),
              e.bindBuffer(e.ARRAY_BUFFER, this.vertexBuffer),
              e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, this.indexBuffer),
              (t = this.defaultShader.shaders[e.id]);
              const n = 4 * this.vertSize;
              e.vertexAttribPointer(t.aVertexPosition, 2, e.FLOAT, !1, n, 0),
              e.vertexAttribPointer(t.aTextureCoord, 2, e.FLOAT, !1, n, 8),
              e.vertexAttribPointer(
                t.colorAttribute,
                4,
                e.UNSIGNED_BYTE,
                !0,
                n,
                16,
              );
            }
            if (this.currentBatchSize > 0.5 * this.size) { e.bufferSubData(e.ARRAY_BUFFER, 0, this.vertices); } else {
              const r = this.positions.subarray(
                0,
                4 * this.currentBatchSize * this.vertSize,
              );
              e.bufferSubData(e.ARRAY_BUFFER, 0, r);
            }
            for (
              var a,
                o,
                s,
                u,
                l = 0,
                c = 0,
                h = null,
                d = this.renderSession.blendModeManager.currentBlendMode,
                f = null,
                p = !1,
                g = !1,
                y = 0,
                v = this.currentBatchSize;
              y < v;
              y++
            ) {
              (u = this.sprites[y]),
              (a = u.tilingTexture
                ? u.tilingTexture.baseTexture
                : u.texture.baseTexture),
              (o = u.blendMode),
              (s = u.shader || this.defaultShader),
              (p = d !== o),
              (g = f !== s);
              let m = a.skipRender;
              if (
                (m && u.children.length > 0 && (m = !1),
                ((h !== a && !m) || p || g) &&
                  (this.renderBatch(h, l, c),
                  (c = y),
                  (l = 0),
                  (h = a),
                  p &&
                    ((d = o),
                    this.renderSession.blendModeManager.setBlendMode(d)),
                  g))
              ) {
                (f = s),
                (t = f.shaders[e.id]),
                t ||
                    ((t = new i.PixiShader(e)),
                    (t.fragmentSrc = f.fragmentSrc),
                    (t.uniforms = f.uniforms),
                    t.init(),
                    (f.shaders[e.id] = t)),
                this.renderSession.shaderManager.setShader(t),
                t.dirty && t.syncUniforms();
                const b = this.renderSession.projection;
                e.uniform2f(t.projectionVector, b.x, b.y);
                const _ = this.renderSession.offset;
                e.uniform2f(t.offsetVector, _.x, _.y);
              }
              l++;
            }
            this.renderBatch(h, l, c), (this.currentBatchSize = 0);
          }
        }),
        (i.WebGLSpriteBatch.prototype.renderBatch = function (t, e, i) {
          if (e !== 0) {
            const n = this.gl;
            if (t._dirty[n.id]) {
              if (!this.renderSession.renderer.updateTexture(t)) return;
            } else n.bindTexture(n.TEXTURE_2D, t._glTextures[n.id]);
            n.drawElements(n.TRIANGLES, 6 * e, n.UNSIGNED_SHORT, 6 * i * 2),
            this.renderSession.drawCount++;
          }
        }),
        (i.WebGLSpriteBatch.prototype.stop = function () {
          this.flush(), (this.dirty = !0);
        }),
        (i.WebGLSpriteBatch.prototype.start = function () {
          this.dirty = !0;
        }),
        (i.WebGLSpriteBatch.prototype.destroy = function () {
          (this.vertices = null),
          (this.indices = null),
          this.gl.deleteBuffer(this.vertexBuffer),
          this.gl.deleteBuffer(this.indexBuffer),
          (this.currentBaseTexture = null),
          (this.gl = null);
        }),
        (i.WebGLFastSpriteBatch = function (t) {
          (this.vertSize = 10),
          (this.maxSize = 6e3),
          (this.size = this.maxSize);
          let e = 4 * this.size * this.vertSize,
            n = 6 * this.maxSize;
          (this.vertices = new i.Float32Array(e)),
          (this.indices = new i.Uint16Array(n)),
          (this.vertexBuffer = null),
          (this.indexBuffer = null),
          (this.lastIndexCount = 0);
          for (let r = 0, a = 0; r < n; r += 6, a += 4) {
            (this.indices[r + 0] = a + 0),
            (this.indices[r + 1] = a + 1),
            (this.indices[r + 2] = a + 2),
            (this.indices[r + 3] = a + 0),
            (this.indices[r + 4] = a + 2),
            (this.indices[r + 5] = a + 3);
          }
          (this.drawing = !1),
          (this.currentBatchSize = 0),
          (this.currentBaseTexture = null),
          (this.currentBlendMode = 0),
          (this.renderSession = null),
          (this.shader = null),
          (this.matrix = null),
          this.setContext(t);
        }),
        (i.WebGLFastSpriteBatch.prototype.constructor = i.WebGLFastSpriteBatch),
        (i.WebGLFastSpriteBatch.prototype.setContext = function (t) {
          (this.gl = t),
          (this.vertexBuffer = t.createBuffer()),
          (this.indexBuffer = t.createBuffer()),
          t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer),
          t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.indices, t.STATIC_DRAW),
          t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer),
          t.bufferData(t.ARRAY_BUFFER, this.vertices, t.DYNAMIC_DRAW);
        }),
        (i.WebGLFastSpriteBatch.prototype.begin = function (t, e) {
          (this.renderSession = e),
          (this.shader = this.renderSession.shaderManager.fastShader),
          (this.matrix = t.worldTransform.toArray(!0)),
          this.start();
        }),
        (i.WebGLFastSpriteBatch.prototype.end = function () {
          this.flush();
        }),
        (i.WebGLFastSpriteBatch.prototype.render = function (t) {
          let e = t.children,
            i = e[0];
          if (i.texture._uvs) {
            (this.currentBaseTexture = i.texture.baseTexture),
            i.blendMode !==
                this.renderSession.blendModeManager.currentBlendMode &&
                (this.flush(),
                this.renderSession.blendModeManager.setBlendMode(i.blendMode));
            for (let n = 0, r = e.length; n < r; n++) this.renderSprite(e[n]);
            this.flush();
          }
        }),
        (i.WebGLFastSpriteBatch.prototype.renderSprite = function (t) {
          if (
            t.visible &&
            (t.texture.baseTexture === this.currentBaseTexture ||
              t.texture.baseTexture.skipRender ||
              (this.flush(),
              (this.currentBaseTexture = t.texture.baseTexture),
              t.texture._uvs))
          ) {
            let e,
              i,
              n,
              r,
              a,
              o,
              s = this.vertices;
            if (
              ((e = t.texture._uvs),
              t.texture.frame.width,
              t.texture.frame.height,
              t.texture.trim)
            ) {
              const u = t.texture.trim;
              (n = u.x - t.anchor.x * u.width),
              (i = n + t.texture.crop.width),
              (a = u.y - t.anchor.y * u.height),
              (r = a + t.texture.crop.height);
            } else {
              (i = t.texture.frame.width * (1 - t.anchor.x)),
              (n = t.texture.frame.width * -t.anchor.x),
              (r = t.texture.frame.height * (1 - t.anchor.y)),
              (a = t.texture.frame.height * -t.anchor.y);
            }
            (o = 4 * this.currentBatchSize * this.vertSize),
            (s[o++] = n),
            (s[o++] = a),
            (s[o++] = t.position.x),
            (s[o++] = t.position.y),
            (s[o++] = t.scale.x),
            (s[o++] = t.scale.y),
            (s[o++] = t.rotation),
            (s[o++] = e.x0),
            (s[o++] = e.y1),
            (s[o++] = t.alpha),
            (s[o++] = i),
            (s[o++] = a),
            (s[o++] = t.position.x),
            (s[o++] = t.position.y),
            (s[o++] = t.scale.x),
            (s[o++] = t.scale.y),
            (s[o++] = t.rotation),
            (s[o++] = e.x1),
            (s[o++] = e.y1),
            (s[o++] = t.alpha),
            (s[o++] = i),
            (s[o++] = r),
            (s[o++] = t.position.x),
            (s[o++] = t.position.y),
            (s[o++] = t.scale.x),
            (s[o++] = t.scale.y),
            (s[o++] = t.rotation),
            (s[o++] = e.x2),
            (s[o++] = e.y2),
            (s[o++] = t.alpha),
            (s[o++] = n),
            (s[o++] = r),
            (s[o++] = t.position.x),
            (s[o++] = t.position.y),
            (s[o++] = t.scale.x),
            (s[o++] = t.scale.y),
            (s[o++] = t.rotation),
            (s[o++] = e.x3),
            (s[o++] = e.y3),
            (s[o++] = t.alpha),
            ++this.currentBatchSize >= this.size && this.flush();
          }
        }),
        (i.WebGLFastSpriteBatch.prototype.flush = function () {
          if (this.currentBatchSize !== 0) {
            const t = this.gl;
            if (
              (this.currentBaseTexture._glTextures[t.id] ||
                this.renderSession.renderer.updateTexture(
                  this.currentBaseTexture,
                  t,
                ),
              t.bindTexture(
                t.TEXTURE_2D,
                this.currentBaseTexture._glTextures[t.id],
              ),
              this.currentBatchSize > 0.5 * this.size)
            ) { t.bufferSubData(t.ARRAY_BUFFER, 0, this.vertices); } else {
              const e = this.vertices.subarray(
                0,
                4 * this.currentBatchSize * this.vertSize,
              );
              t.bufferSubData(t.ARRAY_BUFFER, 0, e);
            }
            t.drawElements(
              t.TRIANGLES,
              6 * this.currentBatchSize,
              t.UNSIGNED_SHORT,
              0,
            ),
            (this.currentBatchSize = 0),
            this.renderSession.drawCount++;
          }
        }),
        (i.WebGLFastSpriteBatch.prototype.stop = function () {
          this.flush();
        }),
        (i.WebGLFastSpriteBatch.prototype.start = function () {
          const t = this.gl;
          t.activeTexture(t.TEXTURE0),
          t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer),
          t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
          const e = this.renderSession.projection;
          t.uniform2f(this.shader.projectionVector, e.x, e.y),
          t.uniformMatrix3fv(this.shader.uMatrix, !1, this.matrix);
          const i = 4 * this.vertSize;
          t.vertexAttribPointer(
            this.shader.aVertexPosition,
            2,
            t.FLOAT,
            !1,
            i,
            0,
          ),
          t.vertexAttribPointer(
            this.shader.aPositionCoord,
            2,
            t.FLOAT,
            !1,
            i,
            8,
          ),
          t.vertexAttribPointer(this.shader.aScale, 2, t.FLOAT, !1, i, 16),
          t.vertexAttribPointer(this.shader.aRotation, 1, t.FLOAT, !1, i, 24),
          t.vertexAttribPointer(
            this.shader.aTextureCoord,
            2,
            t.FLOAT,
            !1,
            i,
            28,
          ),
          t.vertexAttribPointer(
            this.shader.colorAttribute,
            1,
            t.FLOAT,
            !1,
            i,
            36,
          );
        }),
        (i.WebGLFilterManager = function () {
          (this.filterStack = []), (this.offsetX = 0), (this.offsetY = 0);
        }),
        (i.WebGLFilterManager.prototype.constructor = i.WebGLFilterManager),
        (i.WebGLFilterManager.prototype.setContext = function (t) {
          (this.gl = t), (this.texturePool = []), this.initShaderBuffers();
        }),
        (i.WebGLFilterManager.prototype.begin = function (t, e) {
          (this.renderSession = t),
          (this.defaultShader = t.shaderManager.defaultShader);
          const i = this.renderSession.projection;
          (this.width = 2 * i.x), (this.height = 2 * -i.y), (this.buffer = e);
        }),
        (i.WebGLFilterManager.prototype.pushFilter = function (t) {
          let e = this.gl,
            n = this.renderSession.projection,
            r = this.renderSession.offset;
          (t._filterArea = t.target.filterArea || t.target.getBounds()),
          (t._previous_stencil_mgr = this.renderSession.stencilManager),
          (this.renderSession.stencilManager = new i.WebGLStencilManager()),
          this.renderSession.stencilManager.setContext(e),
          e.disable(e.STENCIL_TEST),
          this.filterStack.push(t);
          const a = t.filterPasses[0];
          (this.offsetX += t._filterArea.x), (this.offsetY += t._filterArea.y);
          let o = this.texturePool.pop();
          o
            ? o.resize(
              this.width * this.renderSession.resolution,
              this.height * this.renderSession.resolution,
            )
            : (o = new i.FilterTexture(
              this.gl,
              this.width * this.renderSession.resolution,
              this.height * this.renderSession.resolution,
            )),
          e.bindTexture(e.TEXTURE_2D, o.texture);
          let s = t._filterArea,
            u = a.padding;
          (s.x -= u),
          (s.y -= u),
          (s.width += 2 * u),
          (s.height += 2 * u),
          s.x < 0 && (s.x = 0),
          s.width > this.width && (s.width = this.width),
          s.y < 0 && (s.y = 0),
          s.height > this.height && (s.height = this.height),
          e.bindFramebuffer(e.FRAMEBUFFER, o.frameBuffer),
          e.viewport(
            0,
            0,
            s.width * this.renderSession.resolution,
            s.height * this.renderSession.resolution,
          ),
          (n.x = s.width / 2),
          (n.y = -s.height / 2),
          (r.x = -s.x),
          (r.y = -s.y),
          e.colorMask(!0, !0, !0, !0),
          e.clearColor(0, 0, 0, 0),
          e.clear(e.COLOR_BUFFER_BIT),
          (t._glFilterTexture = o);
        }),
        (i.WebGLFilterManager.prototype.popFilter = function () {
          let t = this.gl,
            e = this.filterStack.pop(),
            n = e._filterArea,
            r = e._glFilterTexture,
            a = this.renderSession.projection,
            o = this.renderSession.offset;
          if (e.filterPasses.length > 1) {
            t.viewport(
              0,
              0,
              n.width * this.renderSession.resolution,
              n.height * this.renderSession.resolution,
            ),
            t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer),
            (this.vertexArray[0] = 0),
            (this.vertexArray[1] = n.height),
            (this.vertexArray[2] = n.width),
            (this.vertexArray[3] = n.height),
            (this.vertexArray[4] = 0),
            (this.vertexArray[5] = 0),
            (this.vertexArray[6] = n.width),
            (this.vertexArray[7] = 0),
            t.bufferSubData(t.ARRAY_BUFFER, 0, this.vertexArray),
            t.bindBuffer(t.ARRAY_BUFFER, this.uvBuffer),
            (this.uvArray[2] = n.width / this.width),
            (this.uvArray[5] = n.height / this.height),
            (this.uvArray[6] = n.width / this.width),
            (this.uvArray[7] = n.height / this.height),
            t.bufferSubData(t.ARRAY_BUFFER, 0, this.uvArray);
            let s = r,
              u = this.texturePool.pop();
            u ||
              (u = new i.FilterTexture(
                this.gl,
                this.width * this.renderSession.resolution,
                this.height * this.renderSession.resolution,
              )),
            u.resize(
              this.width * this.renderSession.resolution,
              this.height * this.renderSession.resolution,
            ),
            t.bindFramebuffer(t.FRAMEBUFFER, u.frameBuffer),
            t.clear(t.COLOR_BUFFER_BIT),
            t.disable(t.BLEND);
            for (let l = 0; l < e.filterPasses.length - 1; l++) {
              const c = e.filterPasses[l];
              t.bindFramebuffer(t.FRAMEBUFFER, u.frameBuffer),
              t.activeTexture(t.TEXTURE0),
              t.bindTexture(t.TEXTURE_2D, s.texture),
              this.applyFilterPass(c, n, n.width, n.height);
              const h = s;
              (s = u), (u = h);
            }
            t.enable(t.BLEND), (r = s), this.texturePool.push(u);
          }
          const d = e.filterPasses[e.filterPasses.length - 1];
          (this.offsetX -= n.x), (this.offsetY -= n.y);
          let f = this.width,
            p = this.height,
            g = 0,
            y = 0,
            v = this.buffer;
          if (this.filterStack.length === 0) t.colorMask(!0, !0, !0, !0);
          else {
            const m = this.filterStack[this.filterStack.length - 1];
            (n = m._filterArea),
            (f = n.width),
            (p = n.height),
            (g = n.x),
            (y = n.y),
            (v = m._glFilterTexture.frameBuffer);
          }
          (a.x = f / 2),
          (a.y = -p / 2),
          (o.x = g),
          (o.y = y),
          (n = e._filterArea);
          let b = n.x - g,
            _ = n.y - y;
          t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer),
          (this.vertexArray[0] = b),
          (this.vertexArray[1] = _ + n.height),
          (this.vertexArray[2] = b + n.width),
          (this.vertexArray[3] = _ + n.height),
          (this.vertexArray[4] = b),
          (this.vertexArray[5] = _),
          (this.vertexArray[6] = b + n.width),
          (this.vertexArray[7] = _),
          t.bufferSubData(t.ARRAY_BUFFER, 0, this.vertexArray),
          t.bindBuffer(t.ARRAY_BUFFER, this.uvBuffer),
          (this.uvArray[2] = n.width / this.width),
          (this.uvArray[5] = n.height / this.height),
          (this.uvArray[6] = n.width / this.width),
          (this.uvArray[7] = n.height / this.height),
          t.bufferSubData(t.ARRAY_BUFFER, 0, this.uvArray),
          t.viewport(
            0,
            0,
            f * this.renderSession.resolution,
            p * this.renderSession.resolution,
          ),
          t.bindFramebuffer(t.FRAMEBUFFER, v),
          t.activeTexture(t.TEXTURE0),
          t.bindTexture(t.TEXTURE_2D, r.texture),
          this.renderSession.stencilManager &&
              this.renderSession.stencilManager.destroy(),
          (this.renderSession.stencilManager = e._previous_stencil_mgr),
          (e._previous_stencil_mgr = null),
          this.renderSession.stencilManager.count > 0
            ? t.enable(t.STENCIL_TEST)
            : t.disable(t.STENCIL_TEST),
          this.applyFilterPass(d, n, f, p),
          this.texturePool.push(r),
          (e._glFilterTexture = null);
        }),
        (i.WebGLFilterManager.prototype.applyFilterPass = function (t, e, n, r) {
          let a = this.gl,
            o = t.shaders[a.id];
          o ||
            ((o = new i.PixiShader(a)),
            (o.fragmentSrc = t.fragmentSrc),
            (o.uniforms = t.uniforms),
            o.init(),
            (t.shaders[a.id] = o)),
          this.renderSession.shaderManager.setShader(o),
          a.uniform2f(o.projectionVector, n / 2, -r / 2),
          a.uniform2f(o.offsetVector, 0, 0),
          t.uniforms.dimensions &&
              ((t.uniforms.dimensions.value[0] = this.width),
              (t.uniforms.dimensions.value[1] = this.height),
              (t.uniforms.dimensions.value[2] = this.vertexArray[0]),
              (t.uniforms.dimensions.value[3] = this.vertexArray[5])),
          o.syncUniforms(),
          a.bindBuffer(a.ARRAY_BUFFER, this.vertexBuffer),
          a.vertexAttribPointer(o.aVertexPosition, 2, a.FLOAT, !1, 0, 0),
          a.bindBuffer(a.ARRAY_BUFFER, this.uvBuffer),
          a.vertexAttribPointer(o.aTextureCoord, 2, a.FLOAT, !1, 0, 0),
          a.bindBuffer(a.ARRAY_BUFFER, this.colorBuffer),
          a.vertexAttribPointer(o.colorAttribute, 2, a.FLOAT, !1, 0, 0),
          a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.indexBuffer),
          a.drawElements(a.TRIANGLES, 6, a.UNSIGNED_SHORT, 0),
          this.renderSession.drawCount++;
        }),
        (i.WebGLFilterManager.prototype.initShaderBuffers = function () {
          const t = this.gl;
          (this.vertexBuffer = t.createBuffer()),
          (this.uvBuffer = t.createBuffer()),
          (this.colorBuffer = t.createBuffer()),
          (this.indexBuffer = t.createBuffer()),
          (this.vertexArray = new i.Float32Array([0, 0, 1, 0, 0, 1, 1, 1])),
          t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer),
          t.bufferData(t.ARRAY_BUFFER, this.vertexArray, t.STATIC_DRAW),
          (this.uvArray = new i.Float32Array([0, 0, 1, 0, 0, 1, 1, 1])),
          t.bindBuffer(t.ARRAY_BUFFER, this.uvBuffer),
          t.bufferData(t.ARRAY_BUFFER, this.uvArray, t.STATIC_DRAW),
          (this.colorArray = new i.Float32Array([
            1,
            16777215,
            1,
            16777215,
            1,
            16777215,
            1,
            16777215,
          ])),
          t.bindBuffer(t.ARRAY_BUFFER, this.colorBuffer),
          t.bufferData(t.ARRAY_BUFFER, this.colorArray, t.STATIC_DRAW),
          t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer),
          t.bufferData(
            t.ELEMENT_ARRAY_BUFFER,
            new Uint16Array([0, 1, 2, 1, 3, 2]),
            t.STATIC_DRAW,
          );
        }),
        (i.WebGLFilterManager.prototype.destroy = function () {
          const t = this.gl;
          (this.filterStack = null), (this.offsetX = 0), (this.offsetY = 0);
          for (let e = 0; e < this.texturePool.length; e++) { this.texturePool[e].destroy(); }
          (this.texturePool = null),
          t.deleteBuffer(this.vertexBuffer),
          t.deleteBuffer(this.uvBuffer),
          t.deleteBuffer(this.colorBuffer),
          t.deleteBuffer(this.indexBuffer);
        }),
        (i.FilterTexture = function (t, e, n, r) {
          (this.gl = t),
          (this.frameBuffer = t.createFramebuffer()),
          (this.texture = t.createTexture()),
          (r = r || i.scaleModes.DEFAULT),
          t.bindTexture(t.TEXTURE_2D, this.texture),
          t.texParameteri(
            t.TEXTURE_2D,
            t.TEXTURE_MAG_FILTER,
            r === i.scaleModes.LINEAR ? t.LINEAR : t.NEAREST,
          ),
          t.texParameteri(
            t.TEXTURE_2D,
            t.TEXTURE_MIN_FILTER,
            r === i.scaleModes.LINEAR ? t.LINEAR : t.NEAREST,
          ),
          t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE),
          t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE),
          t.bindFramebuffer(t.FRAMEBUFFER, this.frameBuffer),
          t.bindFramebuffer(t.FRAMEBUFFER, this.frameBuffer),
          t.framebufferTexture2D(
            t.FRAMEBUFFER,
            t.COLOR_ATTACHMENT0,
            t.TEXTURE_2D,
            this.texture,
            0,
          ),
          (this.renderBuffer = t.createRenderbuffer()),
          t.bindRenderbuffer(t.RENDERBUFFER, this.renderBuffer),
          t.framebufferRenderbuffer(
            t.FRAMEBUFFER,
            t.DEPTH_STENCIL_ATTACHMENT,
            t.RENDERBUFFER,
            this.renderBuffer,
          ),
          this.resize(e, n);
        }),
        (i.FilterTexture.prototype.constructor = i.FilterTexture),
        (i.FilterTexture.prototype.clear = function () {
          const t = this.gl;
          t.clearColor(0, 0, 0, 0), t.clear(t.COLOR_BUFFER_BIT);
        }),
        (i.FilterTexture.prototype.resize = function (t, e) {
          if (this.width !== t || this.height !== e) {
            (this.width = t), (this.height = e);
            const i = this.gl;
            i.bindTexture(i.TEXTURE_2D, this.texture),
            i.texImage2D(
              i.TEXTURE_2D,
              0,
              i.RGBA,
              t,
              e,
              0,
              i.RGBA,
              i.UNSIGNED_BYTE,
              null,
            ),
            i.bindRenderbuffer(i.RENDERBUFFER, this.renderBuffer),
            i.renderbufferStorage(i.RENDERBUFFER, i.DEPTH_STENCIL, t, e);
          }
        }),
        (i.FilterTexture.prototype.destroy = function () {
          const t = this.gl;
          t.deleteFramebuffer(this.frameBuffer),
          t.deleteTexture(this.texture),
          (this.frameBuffer = null),
          (this.texture = null);
        }),
        (i.CanvasBuffer = function (t, e) {
          (this.width = t),
          (this.height = e),
          (this.canvas = i.CanvasPool.create(this, this.width, this.height)),
          (this.context = this.canvas.getContext('2d')),
          (this.canvas.width = t),
          (this.canvas.height = e);
        }),
        (i.CanvasBuffer.prototype.constructor = i.CanvasBuffer),
        (i.CanvasBuffer.prototype.clear = function () {
          this.context.setTransform(1, 0, 0, 1, 0, 0),
          this.context.clearRect(0, 0, this.width, this.height);
        }),
        (i.CanvasBuffer.prototype.resize = function (t, e) {
          (this.width = this.canvas.width = t),
          (this.height = this.canvas.height = e);
        }),
        (i.CanvasBuffer.prototype.destroy = function () {
          i.CanvasPool.remove(this);
        }),
        (i.CanvasMaskManager = function () {}),
        (i.CanvasMaskManager.prototype.constructor = i.CanvasMaskManager),
        (i.CanvasMaskManager.prototype.pushMask = function (t, e) {
          const n = e.context;
          n.save();
          let r = t.alpha,
            a = t.worldTransform,
            o = e.resolution;
          n.setTransform(
            a.a * o,
            a.b * o,
            a.c * o,
            a.d * o,
            a.tx * o,
            a.ty * o,
          ),
          i.CanvasGraphics.renderGraphicsMask(t, n),
          n.clip(),
          (t.worldAlpha = r);
        }),
        (i.CanvasMaskManager.prototype.popMask = function (t) {
          t.context.restore();
        }),
        (i.CanvasTinter = function () {}),
        (i.CanvasTinter.getTintedTexture = function (t, e) {
          const n = t.tintedTexture || i.CanvasPool.create(this);
          return i.CanvasTinter.tintMethod(t.texture, e, n), n;
        }),
        (i.CanvasTinter.tintWithMultiply = function (t, e, i) {
          let n = i.getContext('2d'),
            r = t.crop;
          (i.width === r.width && i.height === r.height) ||
            ((i.width = r.width), (i.height = r.height)),
          n.clearRect(0, 0, r.width, r.height),
          (n.fillStyle = `#${(`00000${(0 | e).toString(16)}`).substr(-6)}`),
          n.fillRect(0, 0, r.width, r.height),
          (n.globalCompositeOperation = 'multiply'),
          n.drawImage(
            t.baseTexture.source,
            r.x,
            r.y,
            r.width,
            r.height,
            0,
            0,
            r.width,
            r.height,
          ),
          (n.globalCompositeOperation = 'destination-atop'),
          n.drawImage(
            t.baseTexture.source,
            r.x,
            r.y,
            r.width,
            r.height,
            0,
            0,
            r.width,
            r.height,
          );
        }),
        (i.CanvasTinter.tintWithPerPixel = function (t, e, n) {
          let r = n.getContext('2d'),
            a = t.crop;
          (n.width = a.width),
          (n.height = a.height),
          (r.globalCompositeOperation = 'copy'),
          r.drawImage(
            t.baseTexture.source,
            a.x,
            a.y,
            a.width,
            a.height,
            0,
            0,
            a.width,
            a.height,
          );
          for (
            var o = i.hex2rgb(e),
              s = o[0],
              u = o[1],
              l = o[2],
              c = r.getImageData(0, 0, a.width, a.height),
              h = c.data,
              d = 0;
            d < h.length;
            d += 4
          ) {
            if (
              ((h[d + 0] *= s),
              (h[d + 1] *= u),
              (h[d + 2] *= l),
              !i.CanvasTinter.canHandleAlpha)
            ) {
              const f = h[d + 3];
              (h[d + 0] /= 255 / f),
              (h[d + 1] /= 255 / f),
              (h[d + 2] /= 255 / f);
            }
          }
          r.putImageData(c, 0, 0);
        }),
        (i.CanvasTinter.checkInverseAlpha = function () {
          const t = new i.CanvasBuffer(2, 1);
          (t.context.fillStyle = 'rgba(10, 20, 30, 0.5)'),
          t.context.fillRect(0, 0, 1, 1);
          const e = t.context.getImageData(0, 0, 1, 1);
          if (e === null) return !1;
          t.context.putImageData(e, 1, 0);
          const n = t.context.getImageData(1, 0, 1, 1);
          return (
            n.data[0] === e.data[0] &&
            n.data[1] === e.data[1] &&
            n.data[2] === e.data[2] &&
            n.data[3] === e.data[3]
          );
        }),
        (i.CanvasTinter.canHandleAlpha = i.CanvasTinter.checkInverseAlpha()),
        (i.CanvasTinter.canUseMultiply = i.canUseNewCanvasBlendModes()),
        (i.CanvasTinter.tintMethod = i.CanvasTinter.canUseMultiply
          ? i.CanvasTinter.tintWithMultiply
          : i.CanvasTinter.tintWithPerPixel),
        (i.CanvasRenderer = function (t) {
          (this.game = t),
          i.defaultRenderer || (i.defaultRenderer = this),
          (this.type = i.CANVAS_RENDERER),
          (this.resolution = t.resolution),
          (this.clearBeforeRender = t.clearBeforeRender),
          (this.transparent = t.transparent),
          (this.autoResize = !1),
          (this.width = t.width * this.resolution),
          (this.height = t.height * this.resolution),
          (this.view = t.canvas),
          (this.context = this.view.getContext('2d', {
            alpha: this.transparent,
          })),
          (this.refresh = !0),
          (this.count = 0),
          (this.maskManager = new i.CanvasMaskManager()),
          (this.renderSession = {
            context: this.context,
            maskManager: this.maskManager,
            scaleMode: null,
            smoothProperty: Phaser.Canvas.getSmoothingPrefix(this.context),
            roundPixels: !1,
          }),
          this.mapBlendModes(),
          this.resize(this.width, this.height);
        }),
        (i.CanvasRenderer.prototype.constructor = i.CanvasRenderer),
        (i.CanvasRenderer.prototype.render = function (t) {
          this.context.setTransform(1, 0, 0, 1, 0, 0),
          (this.context.globalAlpha = 1),
          (this.renderSession.currentBlendMode = 0),
          (this.renderSession.shakeX = this.game.camera._shake.x),
          (this.renderSession.shakeY = this.game.camera._shake.y),
          (this.context.globalCompositeOperation = 'source-over'),
          navigator.isCocoonJS &&
              this.view.screencanvas &&
              ((this.context.fillStyle = 'black'), this.context.clear()),
          this.clearBeforeRender &&
              (this.transparent
                ? this.context.clearRect(0, 0, this.width, this.height)
                : ((this.context.fillStyle = t._bgColor.rgba),
                this.context.fillRect(0, 0, this.width, this.height))),
          this.renderDisplayObject(t);
        }),
        (i.CanvasRenderer.prototype.destroy = function (t) {
          void 0 === t && (t = !0),
          t && this.view.parent && this.view.parent.removeChild(this.view),
          (this.view = null),
          (this.context = null),
          (this.maskManager = null),
          (this.renderSession = null);
        }),
        (i.CanvasRenderer.prototype.resize = function (t, e) {
          (this.width = t * this.resolution),
          (this.height = e * this.resolution),
          (this.view.width = this.width),
          (this.view.height = this.height),
          this.autoResize &&
              ((this.view.style.width = `${this.width / this.resolution}px`),
              (this.view.style.height = `${this.height / this.resolution}px`)),
          this.renderSession.smoothProperty &&
              (this.context[this.renderSession.smoothProperty] =
                this.renderSession.scaleMode === i.scaleModes.LINEAR);
        }),
        (i.CanvasRenderer.prototype.renderDisplayObject = function (t, e, i) {
          (this.renderSession.context = e || this.context),
          (this.renderSession.resolution = this.resolution),
          t._renderCanvas(this.renderSession, i);
        }),
        (i.CanvasRenderer.prototype.mapBlendModes = function () {
          if (!i.blendModesCanvas) {
            let t = [],
              e = i.blendModes,
              n = i.canUseNewCanvasBlendModes();
            (t[e.NORMAL] = 'source-over'),
            (t[e.ADD] = 'lighter'),
            (t[e.MULTIPLY] = n ? 'multiply' : 'source-over'),
            (t[e.SCREEN] = n ? 'screen' : 'source-over'),
            (t[e.OVERLAY] = n ? 'overlay' : 'source-over'),
            (t[e.DARKEN] = n ? 'darken' : 'source-over'),
            (t[e.LIGHTEN] = n ? 'lighten' : 'source-over'),
            (t[e.COLOR_DODGE] = n ? 'color-dodge' : 'source-over'),
            (t[e.COLOR_BURN] = n ? 'color-burn' : 'source-over'),
            (t[e.HARD_LIGHT] = n ? 'hard-light' : 'source-over'),
            (t[e.SOFT_LIGHT] = n ? 'soft-light' : 'source-over'),
            (t[e.DIFFERENCE] = n ? 'difference' : 'source-over'),
            (t[e.EXCLUSION] = n ? 'exclusion' : 'source-over'),
            (t[e.HUE] = n ? 'hue' : 'source-over'),
            (t[e.SATURATION] = n ? 'saturation' : 'source-over'),
            (t[e.COLOR] = n ? 'color' : 'source-over'),
            (t[e.LUMINOSITY] = n ? 'luminosity' : 'source-over'),
            (i.blendModesCanvas = t);
          }
        }),
        (i.BaseTextureCache = {}),
        (i.BaseTextureCacheIdGenerator = 0),
        (i.BaseTexture = function (t, e) {
          (this.resolution = 1),
          (this.width = 100),
          (this.height = 100),
          (this.scaleMode = e || i.scaleModes.DEFAULT),
          (this.hasLoaded = !1),
          (this.source = t),
          (this._UID = i._UID++),
          (this.premultipliedAlpha = !0),
          (this._glTextures = []),
          (this.mipmap = !1),
          (this._dirty = [!0, !0, !0, !0]),
          t &&
              ((this.source.complete || this.source.getContext) &&
                this.source.width &&
                this.source.height &&
                ((this.hasLoaded = !0),
                (this.width = this.source.naturalWidth || this.source.width),
                (this.height = this.source.naturalHeight || this.source.height),
                this.dirty()),
              (this.skipRender = !1),
              (this.imageUrl = null),
              (this._powerOf2 = !1));
        }),
        (i.BaseTexture.prototype.constructor = i.BaseTexture),
        (i.BaseTexture.prototype.forceLoaded = function (t, e) {
          (this.hasLoaded = !0),
          (this.width = t),
          (this.height = e),
          this.dirty();
        }),
        (i.BaseTexture.prototype.destroy = function () {
          this.imageUrl
            ? (delete i.BaseTextureCache[this.imageUrl],
            delete i.TextureCache[this.imageUrl],
            (this.imageUrl = null),
            navigator.isCocoonJS || (this.source.src = ''))
            : this.source &&
              (i.CanvasPool.removeByCanvas(this.source),
              this.source._pixiId &&
                delete i.BaseTextureCache[this.source._pixiId]),
          (this.source = null),
          this.unloadFromGPU();
        }),
        (i.BaseTexture.prototype.updateSourceImage = function (t) {
          (this.hasLoaded = !1),
          (this.source.src = null),
          (this.source.src = t);
        }),
        (i.BaseTexture.prototype.dirty = function () {
          for (let t = 0; t < this._glTextures.length; t++) this._dirty[t] = !0;
        }),
        (i.BaseTexture.prototype.unloadFromGPU = function () {
          this.dirty();
          for (let t = this._glTextures.length - 1; t >= 0; t--) {
            let e = this._glTextures[t],
              n = i.glContexts[t];
            n && e && n.deleteTexture(e);
          }
          (this._glTextures.length = 0), this.dirty();
        }),
        (i.BaseTexture.fromImage = function (t, e, n) {
          let r = i.BaseTextureCache[t];
          if ((void 0 === e && t.indexOf('data:') === -1 && (e = !0), !r)) {
            const a = new Image();
            e && (a.crossOrigin = ''),
            (a.src = t),
            (r = new i.BaseTexture(a, n)),
            (r.imageUrl = t),
            (i.BaseTextureCache[t] = r),
            t.indexOf(`${i.RETINA_PREFIX}.`) !== -1 && (r.resolution = 2);
          }
          return r;
        }),
        (i.BaseTexture.fromCanvas = function (t, e) {
          t._pixiId || (t._pixiId = `canvas_${i.TextureCacheIdGenerator++}`),
          t.width === 0 && (t.width = 1),
          t.height === 0 && (t.height = 1);
          let n = i.BaseTextureCache[t._pixiId];
          return (
            n ||
              ((n = new i.BaseTexture(t, e)),
              (i.BaseTextureCache[t._pixiId] = n)),
            n
          );
        }),
        (i.TextureCache = {}),
        (i.FrameCache = {}),
        (i.TextureSilentFail = !1),
        (i.TextureCacheIdGenerator = 0),
        (i.Texture = function (t, e, n, r) {
          (this.noFrame = !1),
          e || ((this.noFrame = !0), (e = new i.Rectangle(0, 0, 1, 1))),
          t instanceof i.Texture && (t = t.baseTexture),
          (this.baseTexture = t),
          (this.frame = e),
          (this.trim = r),
          (this.valid = !1),
          (this.isTiling = !1),
          (this.requiresUpdate = !1),
          (this.requiresReTint = !1),
          (this._uvs = null),
          (this.width = 0),
          (this.height = 0),
          (this.crop = n || new i.Rectangle(0, 0, 1, 1)),
          t.hasLoaded &&
              (this.noFrame && (e = new i.Rectangle(0, 0, t.width, t.height)),
              this.setFrame(e));
        }),
        (i.Texture.prototype.constructor = i.Texture),
        (i.Texture.prototype.onBaseTextureLoaded = function () {
          const t = this.baseTexture;
          this.noFrame &&
            (this.frame = new i.Rectangle(0, 0, t.width, t.height)),
          this.setFrame(this.frame);
        }),
        (i.Texture.prototype.destroy = function (t) {
          t && this.baseTexture.destroy(), (this.valid = !1);
        }),
        (i.Texture.prototype.setFrame = function (t) {
          if (
            ((this.noFrame = !1),
            (this.frame = t),
            (this.width = t.width),
            (this.height = t.height),
            (this.crop.x = t.x),
            (this.crop.y = t.y),
            (this.crop.width = t.width),
            (this.crop.height = t.height),
            !this.trim &&
              (t.x + t.width > this.baseTexture.width ||
                t.y + t.height > this.baseTexture.height))
          ) {
            if (!i.TextureSilentFail) {
              throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions ${
                this}`);
            }
            return void (this.valid = !1);
          }
          (this.valid =
            t &&
            t.width &&
            t.height &&
            this.baseTexture.source &&
            this.baseTexture.hasLoaded),
          this.trim &&
              ((this.width = this.trim.width),
              (this.height = this.trim.height),
              (this.frame.width = this.trim.width),
              (this.frame.height = this.trim.height)),
          this.valid && this._updateUvs();
        }),
        (i.Texture.prototype._updateUvs = function () {
          this._uvs || (this._uvs = new i.TextureUvs());
          let t = this.crop,
            e = this.baseTexture.width,
            n = this.baseTexture.height;
          (this._uvs.x0 = t.x / e),
          (this._uvs.y0 = t.y / n),
          (this._uvs.x1 = (t.x + t.width) / e),
          (this._uvs.y1 = t.y / n),
          (this._uvs.x2 = (t.x + t.width) / e),
          (this._uvs.y2 = (t.y + t.height) / n),
          (this._uvs.x3 = t.x / e),
          (this._uvs.y3 = (t.y + t.height) / n);
        }),
        (i.Texture.fromImage = function (t, e, n) {
          let r = i.TextureCache[t];
          return (
            r ||
              ((r = new i.Texture(i.BaseTexture.fromImage(t, e, n))),
              (i.TextureCache[t] = r)),
            r
          );
        }),
        (i.Texture.fromFrame = function (t) {
          const e = i.TextureCache[t];
          if (!e) { throw new Error(`The frameId "${t}" does not exist in the texture cache `); }
          return e;
        }),
        (i.Texture.fromCanvas = function (t, e) {
          const n = i.BaseTexture.fromCanvas(t, e);
          return new i.Texture(n);
        }),
        (i.Texture.addTextureToCache = function (t, e) {
          i.TextureCache[e] = t;
        }),
        (i.Texture.removeTextureFromCache = function (t) {
          const e = i.TextureCache[t];
          return delete i.TextureCache[t], delete i.BaseTextureCache[t], e;
        }),
        (i.TextureUvs = function () {
          (this.x0 = 0),
          (this.y0 = 0),
          (this.x1 = 0),
          (this.y1 = 0),
          (this.x2 = 0),
          (this.y2 = 0),
          (this.x3 = 0),
          (this.y3 = 0);
        }),
        (i.RenderTexture = function (t, e, n, r, a) {
          if (
            ((this.width = t || 100),
            (this.height = e || 100),
            (this.resolution = a || 1),
            (this.frame = new i.Rectangle(
              0,
              0,
              this.width * this.resolution,
              this.height * this.resolution,
            )),
            (this.crop = new i.Rectangle(
              0,
              0,
              this.width * this.resolution,
              this.height * this.resolution,
            )),
            (this.baseTexture = new i.BaseTexture()),
            (this.baseTexture.width = this.width * this.resolution),
            (this.baseTexture.height = this.height * this.resolution),
            (this.baseTexture._glTextures = []),
            (this.baseTexture.resolution = this.resolution),
            (this.baseTexture.scaleMode = r || i.scaleModes.DEFAULT),
            (this.baseTexture.hasLoaded = !0),
            i.Texture.call(
              this,
              this.baseTexture,
              new i.Rectangle(
                0,
                0,
                this.width * this.resolution,
                this.height * this.resolution,
              ),
            ),
            (this.renderer = n || i.defaultRenderer),
            this.renderer.type === i.WEBGL_RENDERER)
          ) {
            const o = this.renderer.gl;
            (this.baseTexture._dirty[o.id] = !1),
            (this.textureBuffer = new i.FilterTexture(
              o,
              this.width,
              this.height,
              this.baseTexture.scaleMode,
            )),
            (this.baseTexture._glTextures[o.id] = this.textureBuffer.texture),
            (this.render = this.renderWebGL),
            (this.projection = new i.Point(
              0.5 * this.width,
              0.5 * -this.height,
            ));
          } else {
            (this.render = this.renderCanvas),
            (this.textureBuffer = new i.CanvasBuffer(
              this.width * this.resolution,
              this.height * this.resolution,
            )),
            (this.baseTexture.source = this.textureBuffer.canvas);
          }
          (this.valid = !0),
          (this.tempMatrix = new Phaser.Matrix()),
          this._updateUvs();
        }),
        (i.RenderTexture.prototype = Object.create(i.Texture.prototype)),
        (i.RenderTexture.prototype.constructor = i.RenderTexture),
        (i.RenderTexture.prototype.resize = function (t, e, n) {
          (t === this.width && e === this.height) ||
            ((this.valid = t > 0 && e > 0),
            (this.width = t),
            (this.height = e),
            (this.frame.width = this.crop.width = t * this.resolution),
            (this.frame.height = this.crop.height = e * this.resolution),
            n &&
              ((this.baseTexture.width = this.width * this.resolution),
              (this.baseTexture.height = this.height * this.resolution)),
            this.renderer.type === i.WEBGL_RENDERER &&
              ((this.projection.x = this.width / 2),
              (this.projection.y = -this.height / 2)),
            this.valid && this.textureBuffer.resize(this.width, this.height));
        }),
        (i.RenderTexture.prototype.clear = function () {
          this.valid &&
            (this.renderer.type === i.WEBGL_RENDERER &&
              this.renderer.gl.bindFramebuffer(
                this.renderer.gl.FRAMEBUFFER,
                this.textureBuffer.frameBuffer,
              ),
            this.textureBuffer.clear());
        }),
        (i.RenderTexture.prototype.renderWebGL = function (t, e, i) {
          if (this.valid && t.alpha !== 0) {
            const n = t.worldTransform;
            n.identity(),
            n.translate(0, 2 * this.projection.y),
            e && n.append(e),
            n.scale(1, -1);
            for (let r = 0; r < t.children.length; r++) { t.children[r].updateTransform(); }
            const a = this.renderer.gl;
            a.viewport(
              0,
              0,
              this.width * this.resolution,
              this.height * this.resolution,
            ),
            a.bindFramebuffer(a.FRAMEBUFFER, this.textureBuffer.frameBuffer),
            i && this.textureBuffer.clear(),
            (this.renderer.spriteBatch.dirty = !0),
            this.renderer.renderDisplayObject(
              t,
              this.projection,
              this.textureBuffer.frameBuffer,
              e,
            ),
            (this.renderer.spriteBatch.dirty = !0);
          }
        }),
        (i.RenderTexture.prototype.renderCanvas = function (t, e, i) {
          if (this.valid && t.alpha !== 0) {
            const n = t.worldTransform;
            n.identity(), e && n.append(e);
            for (let r = 0; r < t.children.length; r++) { t.children[r].updateTransform(); }
            i && this.textureBuffer.clear();
            const a = this.renderer.resolution;
            (this.renderer.resolution = this.resolution),
            this.renderer.renderDisplayObject(
              t,
              this.textureBuffer.context,
              e,
            ),
            (this.renderer.resolution = a);
          }
        }),
        (i.RenderTexture.prototype.getImage = function () {
          const t = new Image();
          return (t.src = this.getBase64()), t;
        }),
        (i.RenderTexture.prototype.getBase64 = function () {
          return this.getCanvas().toDataURL();
        }),
        (i.RenderTexture.prototype.getCanvas = function () {
          if (this.renderer.type === i.WEBGL_RENDERER) {
            let t = this.renderer.gl,
              e = this.textureBuffer.width,
              n = this.textureBuffer.height,
              r = new Uint8Array(4 * e * n);
            t.bindFramebuffer(t.FRAMEBUFFER, this.textureBuffer.frameBuffer),
            t.readPixels(0, 0, e, n, t.RGBA, t.UNSIGNED_BYTE, r),
            t.bindFramebuffer(t.FRAMEBUFFER, null);
            let a = new i.CanvasBuffer(e, n),
              o = a.context.getImageData(0, 0, e, n);
            return o.data.set(r), a.context.putImageData(o, 0, 0), a.canvas;
          }
          return this.textureBuffer.canvas;
        }),
        (i.AbstractFilter = function (t, e) {
          (this.passes = [this]),
          (this.shaders = []),
          (this.dirty = !0),
          (this.padding = 0),
          (this.uniforms = e || {}),
          (this.fragmentSrc = t || []);
        }),
        (i.AbstractFilter.prototype.constructor = i.AbstractFilter),
        (i.AbstractFilter.prototype.syncUniforms = function () {
          for (let t = 0, e = this.shaders.length; t < e; t++) { this.shaders[t].dirty = !0; }
        }),
        (i.Strip = function (t) {
          i.DisplayObjectContainer.call(this),
          (this.texture = t),
          (this.uvs = new i.Float32Array([0, 1, 1, 1, 1, 0, 0, 1])),
          (this.vertices = new i.Float32Array([
            0,
            0,
            100,
            0,
            100,
            100,
            0,
            100,
          ])),
          (this.colors = new i.Float32Array([1, 1, 1, 1])),
          (this.indices = new i.Uint16Array([0, 1, 2, 3])),
          (this.dirty = !0),
          (this.blendMode = i.blendModes.NORMAL),
          (this.canvasPadding = 0),
          (this.drawMode = i.Strip.DrawModes.TRIANGLE_STRIP);
        }),
        (i.Strip.prototype = Object.create(i.DisplayObjectContainer.prototype)),
        (i.Strip.prototype.constructor = i.Strip),
        (i.Strip.prototype._renderWebGL = function (t) {
          !this.visible ||
            this.alpha <= 0 ||
            (t.spriteBatch.stop(),
            this._vertexBuffer || this._initWebGL(t),
            t.shaderManager.setShader(t.shaderManager.stripShader),
            this._renderStrip(t),
            t.spriteBatch.start());
        }),
        (i.Strip.prototype._initWebGL = function (t) {
          const e = t.gl;
          (this._vertexBuffer = e.createBuffer()),
          (this._indexBuffer = e.createBuffer()),
          (this._uvBuffer = e.createBuffer()),
          (this._colorBuffer = e.createBuffer()),
          e.bindBuffer(e.ARRAY_BUFFER, this._vertexBuffer),
          e.bufferData(e.ARRAY_BUFFER, this.vertices, e.DYNAMIC_DRAW),
          e.bindBuffer(e.ARRAY_BUFFER, this._uvBuffer),
          e.bufferData(e.ARRAY_BUFFER, this.uvs, e.STATIC_DRAW),
          e.bindBuffer(e.ARRAY_BUFFER, this._colorBuffer),
          e.bufferData(e.ARRAY_BUFFER, this.colors, e.STATIC_DRAW),
          e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, this._indexBuffer),
          e.bufferData(e.ELEMENT_ARRAY_BUFFER, this.indices, e.STATIC_DRAW);
        }),
        (i.Strip.prototype._renderStrip = function (t) {
          let e = t.gl,
            n = t.projection,
            r = t.offset,
            a = t.shaderManager.stripShader,
            o =
              this.drawMode === i.Strip.DrawModes.TRIANGLE_STRIP
                ? e.TRIANGLE_STRIP
                : e.TRIANGLES;
          t.blendModeManager.setBlendMode(this.blendMode),
          e.uniformMatrix3fv(
            a.translationMatrix,
            !1,
            this.worldTransform.toArray(!0),
          ),
          e.uniform2f(a.projectionVector, n.x, -n.y),
          e.uniform2f(a.offsetVector, -r.x, -r.y),
          e.uniform1f(a.alpha, this.worldAlpha),
          this.dirty
            ? ((this.dirty = !1),
            e.bindBuffer(e.ARRAY_BUFFER, this._vertexBuffer),
            e.bufferData(e.ARRAY_BUFFER, this.vertices, e.STATIC_DRAW),
            e.vertexAttribPointer(a.aVertexPosition, 2, e.FLOAT, !1, 0, 0),
            e.bindBuffer(e.ARRAY_BUFFER, this._uvBuffer),
            e.bufferData(e.ARRAY_BUFFER, this.uvs, e.STATIC_DRAW),
            e.vertexAttribPointer(a.aTextureCoord, 2, e.FLOAT, !1, 0, 0),
            e.activeTexture(e.TEXTURE0),
            this.texture.baseTexture._dirty[e.id]
              ? t.renderer.updateTexture(this.texture.baseTexture)
              : e.bindTexture(
                e.TEXTURE_2D,
                this.texture.baseTexture._glTextures[e.id],
              ),
            e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, this._indexBuffer),
            e.bufferData(
              e.ELEMENT_ARRAY_BUFFER,
              this.indices,
              e.STATIC_DRAW,
            ))
            : (e.bindBuffer(e.ARRAY_BUFFER, this._vertexBuffer),
            e.bufferSubData(e.ARRAY_BUFFER, 0, this.vertices),
            e.vertexAttribPointer(a.aVertexPosition, 2, e.FLOAT, !1, 0, 0),
            e.bindBuffer(e.ARRAY_BUFFER, this._uvBuffer),
            e.vertexAttribPointer(a.aTextureCoord, 2, e.FLOAT, !1, 0, 0),
            e.activeTexture(e.TEXTURE0),
            this.texture.baseTexture._dirty[e.id]
              ? t.renderer.updateTexture(this.texture.baseTexture)
              : e.bindTexture(
                e.TEXTURE_2D,
                this.texture.baseTexture._glTextures[e.id],
              ),
            e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, this._indexBuffer)),
          e.drawElements(o, this.indices.length, e.UNSIGNED_SHORT, 0);
        }),
        (i.Strip.prototype._renderCanvas = function (t) {
          let e = t.context,
            n = this.worldTransform,
            r = n.tx * t.resolution + t.shakeX,
            a = n.ty * t.resolution + t.shakeY;
          t.roundPixels
            ? e.setTransform(n.a, n.b, n.c, n.d, 0 | r, 0 | a)
            : e.setTransform(n.a, n.b, n.c, n.d, r, a),
          this.drawMode === i.Strip.DrawModes.TRIANGLE_STRIP
            ? this._renderCanvasTriangleStrip(e)
            : this._renderCanvasTriangles(e);
        }),
        (i.Strip.prototype._renderCanvasTriangleStrip = function (t) {
          let e = this.vertices,
            i = this.uvs,
            n = e.length / 2;
          this.count++;
          for (let r = 0; r < n - 2; r++) {
            const a = 2 * r;
            this._renderCanvasDrawTriangle(t, e, i, a, a + 2, a + 4);
          }
        }),
        (i.Strip.prototype._renderCanvasTriangles = function (t) {
          let e = this.vertices,
            i = this.uvs,
            n = this.indices,
            r = n.length;
          this.count++;
          for (let a = 0; a < r; a += 3) {
            let o = 2 * n[a],
              s = 2 * n[a + 1],
              u = 2 * n[a + 2];
            this._renderCanvasDrawTriangle(t, e, i, o, s, u);
          }
        }),
        (i.Strip.prototype._renderCanvasDrawTriangle = function (
          t,
          e,
          i,
          n,
          r,
          a,
        ) {
          let o = this.texture.baseTexture.source,
            s = this.texture.width,
            u = this.texture.height,
            l = e[n],
            c = e[r],
            h = e[a],
            d = e[n + 1],
            f = e[r + 1],
            p = e[a + 1],
            g = i[n] * s,
            y = i[r] * s,
            v = i[a] * s,
            m = i[n + 1] * u,
            b = i[r + 1] * u,
            _ = i[a + 1] * u;
          if (this.canvasPadding > 0) {
            let w = this.canvasPadding / this.worldTransform.a,
              x = this.canvasPadding / this.worldTransform.d,
              P = (l + c + h) / 3,
              k = (d + f + p) / 3,
              T = l - P,
              O = d - k,
              E = Math.sqrt(T * T + O * O);
            (l = P + (T / E) * (E + w)),
            (d = k + (O / E) * (E + x)),
            (T = c - P),
            (O = f - k),
            (E = Math.sqrt(T * T + O * O)),
            (c = P + (T / E) * (E + w)),
            (f = k + (O / E) * (E + x)),
            (T = h - P),
            (O = p - k),
            (E = Math.sqrt(T * T + O * O)),
            (h = P + (T / E) * (E + w)),
            (p = k + (O / E) * (E + x));
          }
          t.save(),
          t.beginPath(),
          t.moveTo(l, d),
          t.lineTo(c, f),
          t.lineTo(h, p),
          t.closePath(),
          t.clip();
          let S = g * b + m * v + y * _ - b * v - m * y - g * _,
            C = l * b + m * h + c * _ - b * h - m * c - l * _,
            I = g * c + l * v + y * h - c * v - l * y - g * h,
            M =
              g * b * h +
              m * c * v +
              l * y * _ -
              l * b * v -
              m * y * h -
              g * c * _,
            A = d * b + m * p + f * _ - b * p - m * f - d * _,
            R = g * f + d * v + y * p - f * v - d * y - g * p,
            L =
              g * b * p +
              m * f * v +
              d * y * _ -
              d * b * v -
              m * y * p -
              g * f * _;
          t.transform(C / S, A / S, I / S, R / S, M / S, L / S),
          t.drawImage(o, 0, 0),
          t.restore();
        }),
        (i.Strip.prototype.renderStripFlat = function (t) {
          let e = this.context,
            i = t.vertices,
            n = i.length / 2;
          this.count++, e.beginPath();
          for (let r = 1; r < n - 2; r++) {
            let a = 2 * r,
              o = i[a],
              s = i[a + 2],
              u = i[a + 4],
              l = i[a + 1],
              c = i[a + 3],
              h = i[a + 5];
            e.moveTo(o, l), e.lineTo(s, c), e.lineTo(u, h);
          }
          (e.fillStyle = '#FF0000'), e.fill(), e.closePath();
        }),
        (i.Strip.prototype.onTextureUpdate = function () {
          this.updateFrame = !0;
        }),
        (i.Strip.prototype.getBounds = function (t) {
          for (
            var e = t || this.worldTransform,
              n = e.a,
              r = e.b,
              a = e.c,
              o = e.d,
              s = e.tx,
              u = e.ty,
              l = -1 / 0,
              c = -1 / 0,
              h = 1 / 0,
              d = 1 / 0,
              f = this.vertices,
              p = 0,
              g = f.length;
            p < g;
            p += 2
          ) {
            let y = f[p],
              v = f[p + 1],
              m = n * y + a * v + s,
              b = o * v + r * y + u;
            (h = m < h ? m : h),
            (d = b < d ? b : d),
            (l = m > l ? m : l),
            (c = b > c ? b : c);
          }
          if (h === -1 / 0 || c === 1 / 0) return i.EmptyRectangle;
          const _ = this._bounds;
          return (
            (_.x = h),
            (_.width = l - h),
            (_.y = d),
            (_.height = c - d),
            (this._currentBounds = _),
            _
          );
        }),
        (i.Strip.DrawModes = { TRIANGLE_STRIP: 0, TRIANGLES: 1 }),
        (i.Rope = function (t, e) {
          i.Strip.call(this, t),
          (this.points = e),
          (this.vertices = new i.Float32Array(4 * e.length)),
          (this.uvs = new i.Float32Array(4 * e.length)),
          (this.colors = new i.Float32Array(2 * e.length)),
          (this.indices = new i.Uint16Array(2 * e.length)),
          this.refresh();
        }),
        (i.Rope.prototype = Object.create(i.Strip.prototype)),
        (i.Rope.prototype.constructor = i.Rope),
        (i.Rope.prototype.refresh = function () {
          const t = this.points;
          if (!(t.length < 1)) {
            let e = this.uvs,
              i = (t[0], this.indices),
              n = this.colors;
            (this.count -= 0.2),
            (e[0] = 0),
            (e[1] = 0),
            (e[2] = 0),
            (e[3] = 1),
            (n[0] = 1),
            (n[1] = 1),
            (i[0] = 0),
            (i[1] = 1);
            for (var r, a, o = t.length, s = 1; s < o; s++) {
              t[s],
              (r = 4 * s),
              (a = s / (o - 1)),
              (e[r] = a),
              (e[r + 1] = 0),
              (e[r + 2] = a),
              (e[r + 3] = 1),
              (r = 2 * s),
              (n[r] = 1),
              (n[r + 1] = 1),
              (r = 2 * s),
              (i[r] = r),
              (i[r + 1] = r + 1);
            }
          }
        }),
        (i.Rope.prototype.updateTransform = function () {
          const t = this.points;
          if (!(t.length < 1)) {
            let e,
              n = t[0],
              r = { x: 0, y: 0 };
            this.count -= 0.2;
            for (
              var a, o, s, u, l, c = this.vertices, h = t.length, d = 0;
              d < h;
              d++
            ) {
              (a = t[d]),
              (o = 4 * d),
              (e = d < t.length - 1 ? t[d + 1] : a),
              (r.y = -(e.x - n.x)),
              (r.x = e.y - n.y),
              (s = 10 * (1 - d / (h - 1))),
              s > 1 && (s = 1),
              (u = Math.sqrt(r.x * r.x + r.y * r.y)),
              (l = this.texture.height / 2),
              (r.x /= u),
              (r.y /= u),
              (r.x *= l),
              (r.y *= l),
              (c[o] = a.x + r.x),
              (c[o + 1] = a.y + r.y),
              (c[o + 2] = a.x - r.x),
              (c[o + 3] = a.y - r.y),
              (n = a);
            }
            i.DisplayObjectContainer.prototype.updateTransform.call(this);
          }
        }),
        (i.Rope.prototype.setTexture = function (t) {
          this.texture = t;
        }),
        (i.TilingSprite = function (t, e, n) {
          i.Sprite.call(this, t),
          (this._width = e || 128),
          (this._height = n || 128),
          (this.tileScale = new i.Point(1, 1)),
          (this.tileScaleOffset = new i.Point(1, 1)),
          (this.tilePosition = new i.Point()),
          (this.renderable = !0),
          (this.tint = 16777215),
          (this.textureDebug = !1),
          (this.blendMode = i.blendModes.NORMAL),
          (this.canvasBuffer = null),
          (this.tilingTexture = null),
          (this.tilePattern = null),
          (this.refreshTexture = !0),
          (this.frameWidth = 0),
          (this.frameHeight = 0);
        }),
        (i.TilingSprite.prototype = Object.create(i.Sprite.prototype)),
        (i.TilingSprite.prototype.constructor = i.TilingSprite),
        (i.TilingSprite.prototype.setTexture = function (t) {
          this.texture !== t &&
            ((this.texture = t),
            (this.refreshTexture = !0),
            (this.cachedTint = 16777215));
        }),
        (i.TilingSprite.prototype._renderWebGL = function (t) {
          if (this.visible && this.renderable && this.alpha !== 0) {
            if (
              (this._mask &&
                (t.spriteBatch.stop(),
                t.maskManager.pushMask(this.mask, t),
                t.spriteBatch.start()),
              this._filters &&
                (t.spriteBatch.flush(),
                t.filterManager.pushFilter(this._filterBlock)),
              this.refreshTexture)
            ) {
              if ((this.generateTilingTexture(!0, t), !this.tilingTexture)) { return; }
              this.tilingTexture.needsUpdate &&
                (t.renderer.updateTexture(this.tilingTexture.baseTexture),
                (this.tilingTexture.needsUpdate = !1));
            }
            t.spriteBatch.renderTilingSprite(this);
            for (let e = 0; e < this.children.length; e++) { this.children[e]._renderWebGL(t); }
            t.spriteBatch.stop(),
            this._filters && t.filterManager.popFilter(),
            this._mask && t.maskManager.popMask(this._mask, t),
            t.spriteBatch.start();
          }
        }),
        (i.TilingSprite.prototype._renderCanvas = function (t) {
          if (this.visible && this.renderable && this.alpha !== 0) {
            const e = t.context;
            this._mask && t.maskManager.pushMask(this._mask, t),
            (e.globalAlpha = this.worldAlpha);
            var n = this.worldTransform,
              r = t.resolution,
              a = n.tx * r + t.shakeX,
              o = n.ty * r + t.shakeY;
            if (
              (e.setTransform(n.a * r, n.b * r, n.c * r, n.d * r, a, o),
              this.refreshTexture)
            ) {
              if ((this.generateTilingTexture(!1, t), !this.tilingTexture)) { return; }
              this.tilePattern = e.createPattern(
                this.tilingTexture.baseTexture.source,
                'repeat',
              );
            }
            const s = t.currentBlendMode;
            this.blendMode !== t.currentBlendMode &&
              ((t.currentBlendMode = this.blendMode),
              (e.globalCompositeOperation =
                i.blendModesCanvas[t.currentBlendMode]));
            let u = this.tilePosition,
              l = this.tileScale;
            (u.x %= this.tilingTexture.baseTexture.width),
            (u.y %= this.tilingTexture.baseTexture.height),
            e.scale(l.x, l.y),
            e.translate(
              u.x + this.anchor.x * -this._width,
              u.y + this.anchor.y * -this._height,
            ),
            (e.fillStyle = this.tilePattern);
            var a = -u.x,
              o = -u.y,
              c = this._width / l.x,
              h = this._height / l.y;
            t.roundPixels && ((a |= 0), (o |= 0), (c |= 0), (h |= 0)),
            e.fillRect(a, o, c, h),
            e.scale(1 / l.x, 1 / l.y),
            e.translate(
              -u.x + this.anchor.x * this._width,
              -u.y + this.anchor.y * this._height,
            ),
            this._mask && t.maskManager.popMask(t);
            for (let d = 0; d < this.children.length; d++) { this.children[d]._renderCanvas(t); }
            s !== this.blendMode &&
              ((t.currentBlendMode = s),
              (e.globalCompositeOperation = i.blendModesCanvas[s]));
          }
        }),
        (i.TilingSprite.prototype.onTextureUpdate = function () {}),
        (i.TilingSprite.prototype.generateTilingTexture = function (t, e) {
          if (this.texture.baseTexture.hasLoaded) {
            let n = this.texture,
              r = n.frame,
              a = this._frame.sourceSizeW || this._frame.width,
              o = this._frame.sourceSizeH || this._frame.height,
              s = 0,
              u = 0;
            this._frame.trimmed &&
              ((s = this._frame.spriteSourceSizeX),
              (u = this._frame.spriteSourceSizeY)),
            t && ((a = i.getNextPowerOfTwo(a)), (o = i.getNextPowerOfTwo(o))),
            this.canvasBuffer
              ? (this.canvasBuffer.resize(a, o),
              (this.tilingTexture.baseTexture.width = a),
              (this.tilingTexture.baseTexture.height = o),
              (this.tilingTexture.needsUpdate = !0))
              : ((this.canvasBuffer = new i.CanvasBuffer(a, o)),
              (this.tilingTexture = i.Texture.fromCanvas(this.canvasBuffer.canvas)),
              (this.tilingTexture.isTiling = !0),
              (this.tilingTexture.needsUpdate = !0)),
            this.textureDebug &&
                ((this.canvasBuffer.context.strokeStyle = '#00ff00'),
                this.canvasBuffer.context.strokeRect(0, 0, a, o));
            let l = n.crop.width,
              c = n.crop.height;
            (l === a && c === o) || ((l = a), (c = o)),
            this.canvasBuffer.context.drawImage(
              n.baseTexture.source,
              n.crop.x,
              n.crop.y,
              n.crop.width,
              n.crop.height,
              s,
              u,
              l,
              c,
            ),
            (this.tileScaleOffset.x = r.width / a),
            (this.tileScaleOffset.y = r.height / o),
            (this.refreshTexture = !1),
            (this.tilingTexture.baseTexture._powerOf2 = !0);
          }
        }),
        (i.TilingSprite.prototype.getBounds = function () {
          let t = this._width,
            e = this._height,
            i = t * (1 - this.anchor.x),
            n = t * -this.anchor.x,
            r = e * (1 - this.anchor.y),
            a = e * -this.anchor.y,
            o = this.worldTransform,
            s = o.a,
            u = o.b,
            l = o.c,
            c = o.d,
            h = o.tx,
            d = o.ty,
            f = s * n + l * a + h,
            p = c * a + u * n + d,
            g = s * i + l * a + h,
            y = c * a + u * i + d,
            v = s * i + l * r + h,
            m = c * r + u * i + d,
            b = s * n + l * r + h,
            _ = c * r + u * n + d,
            w = -1 / 0,
            x = -1 / 0,
            P = 1 / 0,
            k = 1 / 0;
          (P = f < P ? f : P),
          (P = g < P ? g : P),
          (P = v < P ? v : P),
          (P = b < P ? b : P),
          (k = p < k ? p : k),
          (k = y < k ? y : k),
          (k = m < k ? m : k),
          (k = _ < k ? _ : k),
          (w = f > w ? f : w),
          (w = g > w ? g : w),
          (w = v > w ? v : w),
          (w = b > w ? b : w),
          (x = p > x ? p : x),
          (x = y > x ? y : x),
          (x = m > x ? m : x),
          (x = _ > x ? _ : x);
          const T = this._bounds;
          return (
            (T.x = P),
            (T.width = w - P),
            (T.y = k),
            (T.height = x - k),
            (this._currentBounds = T),
            T
          );
        }),
        (i.TilingSprite.prototype.destroy = function () {
          i.Sprite.prototype.destroy.call(this),
          this.canvasBuffer &&
              (this.canvasBuffer.destroy(), (this.canvasBuffer = null)),
          (this.tileScale = null),
          (this.tileScaleOffset = null),
          (this.tilePosition = null),
          this.tilingTexture &&
              (this.tilingTexture.destroy(!0), (this.tilingTexture = null));
        }),
        Object.defineProperty(i.TilingSprite.prototype, 'width', {
          get() {
            return this._width;
          },
          set(t) {
            this._width = t;
          },
        }),
        Object.defineProperty(i.TilingSprite.prototype, 'height', {
          get() {
            return this._height;
          },
          set(t) {
            this._height = t;
          },
        }),
        void 0 !== t && t.exports && (e = t.exports = i),
        (e.PIXI = i),
        i
      );
    }.call(void 0));
  },
  function (t, e, i) {
    function n() {
      throw new Error('setTimeout has not been defined');
    }
    function r() {
      throw new Error('clearTimeout has not been defined');
    }
    function a(t) {
      if (h === setTimeout) return setTimeout(t, 0);
      if ((h === n || !h) && setTimeout) { return (h = setTimeout), setTimeout(t, 0); }
      try {
        return h(t, 0);
      } catch (e) {
        try {
          return h.call(null, t, 0);
        } catch (e) {
          return h.call(this, t, 0);
        }
      }
    }
    function o(t) {
      if (d === clearTimeout) return clearTimeout(t);
      if ((d === r || !d) && clearTimeout) { return (d = clearTimeout), clearTimeout(t); }
      try {
        return d(t);
      } catch (e) {
        try {
          return d.call(null, t);
        } catch (e) {
          return d.call(this, t);
        }
      }
    }
    function s() {
      y &&
        p &&
        ((y = !1), p.length ? (g = p.concat(g)) : (v = -1), g.length && u());
    }
    function u() {
      if (!y) {
        const t = a(s);
        y = !0;
        for (let e = g.length; e;) {
          for (p = g, g = []; ++v < e;) p && p[v].run();
          (v = -1), (e = g.length);
        }
        (p = null), (y = !1), o(t);
      }
    }
    function l(t, e) {
      (this.fun = t), (this.array = e);
    }
    function c() {}
    let h,
      d,
      f = (t.exports = {});
    !(function () {
      try {
        h = typeof setTimeout === 'function' ? setTimeout : n;
      } catch (t) {
        h = n;
      }
      try {
        d = typeof clearTimeout === 'function' ? clearTimeout : r;
      } catch (t) {
        d = r;
      }
    }());
    var p,
      g = [],
      y = !1,
      v = -1;
    (f.nextTick = function (t) {
      const e = new Array(arguments.length - 1);
      if (arguments.length > 1) { for (let i = 1; i < arguments.length; i++) e[i - 1] = arguments[i]; }
      g.push(new l(t, e)), g.length !== 1 || y || a(u);
    }),
    (l.prototype.run = function () {
      this.fun.apply(null, this.array);
    }),
    (f.title = 'browser'),
    (f.browser = !0),
    (f.env = {}),
    (f.argv = []),
    (f.version = ''),
    (f.versions = {}),
    (f.on = c),
    (f.addListener = c),
    (f.once = c),
    (f.off = c),
    (f.removeListener = c),
    (f.removeAllListeners = c),
    (f.emit = c),
    (f.prependListener = c),
    (f.prependOnceListener = c),
    (f.listeners = function (t) {
      return [];
    }),
    (f.binding = function (t) {
      throw new Error('process.binding is not supported');
    }),
    (f.cwd = function () {
      return '/';
    }),
    (f.chdir = function (t) {
      throw new Error('process.chdir is not supported');
    }),
    (f.umask = function () {
      return 0;
    });
  },
  function (t, e, i) {
    t.exports = function (t) {
      const e = typeof window !== 'undefined' && window.location;
      if (!e) throw new Error('fixUrls requires window.location');
      if (!t || typeof t !== 'string') return t;
      let i = `${e.protocol}//${e.host}`,
        n = i + e.pathname.replace(/\/[^\/]*$/, '/');
      return t.replace(
        /url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,
        (t, e) => {
          const r = e
            .trim()
            .replace(/^"(.*)"$/, (t, e) => e)
            .replace(/^'(.*)'$/, (t, e) => e);
          if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r)) return t;
          let a;
          return (
            (a =
              r.indexOf('//') === 0
                ? r
                : r.indexOf('/') === 0
                  ? i + r
                  : n + r.replace(/^\.\//, '')),
            `url(${JSON.stringify(a)})`
          );
        },
      );
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t) {
      let e = t.width,
        i = t.height,
        n = t.canvasElmId,
        r = t.skipScenes,
        a = t.unlockMissions;
      (j.window = {
        width: e || d.DEFAULT_CANVAS_WIDTH,
        height: i || d.DEFAULT_CANVAS_HEIGHT,
        canvasElmId: n,
      }),
      (j.window.halfWidth = j.window.width / 2),
      (j.window.halfHeight = j.window.height / 2),
      (j.skipScenes = r),
      (j.unlockMissions = a);
    }
    function u() {
      j.version = '0.79.1';
    }
    function l(t) {
      let e = t.width,
        i = t.height,
        n = t.canvasElmId;
      F = new Phaser.Game(
        e || d.DEFAULT_CANVAS_WIDTH,
        i || d.DEFAULT_CANVAS_HEIGHT,
        Phaser.AUTO,
        n,
      );
    }
    function c() {
      F.state.add('boot', y.default),
      F.state.add('intro', m.default),
      F.state.add('menu-preloader', _.default),
      F.state.add('mainmenu', x.default),
      F.state.add('game-prologue', I.default),
      F.state.add('game-preloader', k.default),
      F.state.add('game-premission', O.default),
      F.state.add('game-briefing', S.default),
      F.state.add('game', B.default),
      F.state.add('game-summary', L.default),
      F.state.add('game-epilogue', A.default);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    const h = (function () {
      function t(t, e) {
        for (let i = 0; i < e.length; i++) {
          const n = e[i];
          (n.enumerable = n.enumerable || !1),
          (n.configurable = !0),
          'value' in n && (n.writable = !0),
          Object.defineProperty(t, n.key, n);
        }
      }
      return function (e, i, n) {
        return i && t(e.prototype, i), n && t(e, n), e;
      };
    }());
    i(738), i(723), i(533);
    var d = i(2),
      f = i(3),
      p = n(f),
      g = i(653),
      y = n(g),
      v = i(666),
      m = n(v),
      b = i(668),
      _ = n(b),
      w = i(667),
      x = n(w),
      P = i(657),
      k = n(P),
      T = i(658),
      O = n(T),
      E = i(655),
      S = n(E),
      C = i(659),
      I = n(C),
      M = i(656),
      A = n(M),
      R = i(660),
      L = n(R),
      D = i(654),
      B = n(D),
      j = window.fivenations,
      F = void 0,
      U = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return s(t), u(), l(t), c(), i;
        }
        return (
          o(e, t),
          h(e, [
            {
              key: 'start',
              value() {
                F.state.start('boot');
              },
            },
          ]),
          e
        );
      }(p.default.EventDispatcher));
    e.default = U;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      return !t.bot.deactivate || !t.bot.deactivate.includes(e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(425),
      u = n(s),
      l = i(428),
      c = n(l),
      h = i(430),
      d = n(h),
      f = i(427),
      p = n(f),
      g = i(426),
      y = n(g),
      v = i(429),
      m = n(v),
      b = i(432),
      _ = n(b),
      w = (function () {
        function t(e, i, n) {
          r(this, t),
          (this.config = e),
          (this.playerId = i),
          (this.eventDispatcher = n);
        }
        return (
          o(t, [
            {
              key: 'createAI',
              value(t) {
                const e = {
                  active: a(this.config, t),
                  player: this.config.player,
                  playerId: this.playerId,
                  eventDispatcher: this.eventDispatcher,
                  playerConfig: this.config,
                };
                switch (t) {
                  case 'AttackerAI':
                    return new u.default(e);
                  case 'DefenderAI':
                    return new c.default(e);
                  case 'ProducerAI':
                    return new d.default(e);
                  case 'BuilderAI':
                    return new p.default(e);
                  case 'BuildOrderAI':
                    return new y.default(e);
                  case 'MinerAI':
                    return new m.default(e);
                  case 'SpecialAbilityAI':
                    return new _.default(e);
                  default:
                    return console.warn(`Invalid AI component: ${t}`), null;
                }
              },
            },
          ]),
          t
        );
      }());
    e.default = w;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      c = i(65),
      h = n(c),
      d = i(433),
      f = n(d),
      p = i(3),
      g = n(p),
      y = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'reset',
              value() {
                l(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'reset',
                  this,
                ).call(this),
                (this.maxMilitaryCount = 10),
                (this.attackRoute = new f.default()),
                (this.waveCount = 1),
                this.timers.push(this.game.time.events.loop(
                  1e4,
                  this.createAttackWave,
                  this,
                )),
                this.timers.push(this.game.time.events.loop(6e3, this.sendIdleForces, this));
              },
            },
            {
              key: 'createAttackWave',
              value() {
                let t = this,
                  e = this.getMainBase();
                if (e) {
                  const i = this.gatherAttackers(e);
                  if (!(i.length < this.maxMilitaryCount)) {
                    const n = this.findTarget();
                    if (n) {
                      if (
                        i.every(t => t.hasFlyOverObstacles())
                      ) {
                        const r = this.attackRoute.createLinear(
                          e.getSprite(),
                          n.getSprite(),
                          !0,
                        );
                        return void this.sendOnRoute(i, r, n);
                      }
                      this.attackRoute.createPathfinding(
                        this.game.map
                          .getCollisionMap()
                          .getNextEmptyTileAroundEntity(e),
                        this.game.map
                          .getCollisionMap()
                          .getNextEmptyTileAroundEntity(n),
                        (e) => {
                          e && t.sendOnRoute(i, e, n);
                        },
                      );
                    }
                  }
                }
              },
            },
            {
              key: 'sendOnRoute',
              value(t, e, i) {
                const n = this;
                t.forEach((t) => {
                  t.attackWave = { target: i, waveCount: n.waveCount };
                }),
                (this.waveCount += 1),
                e.reduce((e, i) => e.then(() => n.rallyEntitiesAtLocation(t, i)), Promise.resolve());
              },
            },
            {
              key: 'sendIdleForces',
              value() {
                const t = this.findTarget();
                if (t) {
                  const e = this.gatherIdleForces();
                  e.length !== 0 &&
                    (e.forEach((t) => {
                      t.attackWave = void 0;
                    }),
                    this.eventEmitter.synced
                      .entities(e)
                      .patrol({
                        x: t.getSprite().x,
                        y: t.getSprite().y,
                        terminateAtDestination: !0,
                        resetActivityQueue: !0,
                      }));
                }
              },
            },
            {
              key: 'rallyEntitiesAtLocation',
              value(t, e) {
                const i = this;
                t || t.length || Promise.reject(),
                this.eventEmitter.synced
                  .entities(t)
                  .patrol(s({}, e.getCenter(), {
                    terminateAtDestination: !0,
                    resetActivityQueue: !0,
                  }));
                let n = new Promise(((n) => {
                    var r = setInterval(() => {
                      let a = t.filter(t => (
                          !t.isHibernated() &&
                            !t.isAttacking() &&
                            !t.isIdling()
                        )),
                        o = i.locationManager.getEntitiesInLocation(e);
                      (a.length === 0 ||
                        a.every(t => o.indexOf(t) !== -1)) &&
                        (clearInterval(r), n());
                    }, 5e3);
                    i.game.timers.push(r);
                  })),
                  r = new Promise((t => setTimeout(t, 15e4)));
                return Promise.race([n, r]);
              },
            },
            {
              key: 'findTarget',
              value() {
                const t = this.entityManager
                  .entities(`:player(${this.enemyPlayerId})`)
                  .filter(t => t.getDataObject().isBuilding());
                return (
                  t.find(t => t.getDataObject().getType() === 'mainbase') || t.shift()
                );
              },
            },
            {
              key: 'gatherAttackers',
              value(t) {
                const e = this;
                return this.entityManager
                  .getEntitiesInRange(t, 1e3)
                  .filter(t => !(
                    t.getPlayer() !== e.player ||
                      t.isHibernated() ||
                      t.getDataObject().isWorker() ||
                      t.canAttach() ||
                      !t.isIdling() ||
                      t.getDataObject().isBuilding() ||
                      t.attackWave
                  ))
                  .slice(0, 20);
              },
            },
            {
              key: 'gatherIdleForces',
              value() {
                const t = this;
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .filter((e) => {
                    if (e.getPlayer() !== t.player) return !1;
                    if (e.isHibernated()) return !1;
                    if (e.getDataObject().isWorker()) return !1;
                    if (e.canAttach()) return !1;
                    if (e.getDataObject().isBuilding()) return !1;
                    if (
                      e.attackWave &&
                      e.attackWave.target &&
                      !e.attackWave.target.isDeleted()
                    ) { return !1; }
                    if (!e.isIdling()) return !1;
                    const i = t.getMainBase();
                    return !i || g.default.distanceBetween(i, e) > 1e3;
                  });
              },
            },
            {
              key: 'getMainBase',
              value() {
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .find(t => (
                    !t.isHibernated() &&
                      t.getDataObject().getType() === 'mainbase'
                  ));
              },
            },
          ]),
          e
        );
      }(h.default));
    e.default = y;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(65),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = window.fivenations,
      h = { federation: 'engineershuttle', sylon: 'labor', athrael: 'drone' },
      d = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'reset',
              value() {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'reset',
                  this,
                ).call(this),
                (this.minerLimit = 40),
                (this.buildOrder = c.game.cache.getJSON(this.buildOrderName || 'fedBuildOrder')),
                this.buildOrder.forEach((t) => {
                  t.done = !1;
                }),
                this.timers.push(this.game.time.events.loop(
                  1e3,
                  this.updateBuildOrder,
                  this,
                )),
                this.eventEmitter.local.addEventListener(
                  'entities/bot-removed',
                  this.onRemove.bind(this),
                ),
                (this.rebuildList = {});
              },
            },
            {
              key: 'onRemove',
              value(t) {
                if (t && t.getPlayer() === this.player && !t.canMine()) {
                  let e = t.getDataObject(),
                    i = e.getType() === 'building' ? 'construct' : 'produce';
                  if (i === 'produce') {
                    if (!this.rebuildList[e.getId()]) return;
                    const n = this.getEntityCount(e.getId());
                    if (this.rebuildList[e.getId()] <= n - 1) return;
                  }
                  this.eventDispatcher.dispatch(i, e.getId());
                }
              },
            },
            {
              key: 'updateBuildOrder',
              value() {
                this.buildMiners(), this.followBuildOrder();
              },
            },
            {
              key: 'buildMiners',
              value() {
                if (!(this.getMinerCount() >= this.minerLimit)) {
                  const t = this.getMainBase();
                  if (t) {
                    const e = h[this.race];
                    !t.isProducing() &&
                      this.resourceChecker.hasSufficientResources(
                        this.player,
                        e,
                      ) &&
                      this.eventDispatcher.dispatch('produce', e);
                  }
                }
              },
            },
            {
              key: 'followBuildOrder',
              value() {
                let t = this,
                  e = {};
                this.buildOrder.forEach((i) => {
                  if (!(i.economy > t.getEconomyLevel())) {
                    let n = i.amount || 1,
                      r = i.build;
                    e[r] = (e[r] || 0) + n;
                    const a = t.game.cache.getJSON(r);
                    if (!(i.done || (i.economy !== 0 && a.miningStation))) {
                      for (
                        let o = a.type === 'building' ? 'construct' : 'produce',
                          s = 0;
                        s < n;
                        s += 1
                      ) {
                        if (
                          (i.rebuild &&
                            (t.rebuildList[r] = (t.rebuildList[r] || 0) + 1),
                          t.getEntityCount(r) + s >= e[r])
                        ) { return void (i.done = !0); }
                        t.eventDispatcher.dispatch(o, r);
                      }
                      i.done = !0;
                    }
                  }
                });
              },
            },
            {
              key: 'getMainBase',
              value() {
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .find(t => (
                    !t.isHibernated() &&
                      t.getDataObject().getType() === 'mainbase'
                  ));
              },
            },
            {
              key: 'getEconomyLevel',
              value() {
                return this.getMinerCount();
              },
            },
            {
              key: 'getMinerCount',
              value() {
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .filter(t => t.canMine()).length;
              },
            },
            {
              key: 'getEntityCount',
              value(t) {
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .filter((e) => {
                    const i = e.getDataObject().getId();
                    return (
                      (t === 'icarus' && i === 'icarusloaded') ||
                      (t === 'hauler' && i === 'haulerloaded') ||
                      (t === 'harvester' && i === 'harvesterloaded') ||
                      t === i
                    );
                  }).length;
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = d;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      c = i(65),
      h = n(c),
      d = i(434),
      f = n(d),
      p = i(2),
      g = window.fivenations,
      y = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'reset',
              value() {
                l(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'reset',
                  this,
                ).call(this),
                (this.constructionLayout = new f.default(
                  g.game.cache.getJSON(this.layout || 'fedLayout'),
                  this.layoutRotation,
                )),
                (this.blockedCoords = []),
                (this.constructionCandidates = []),
                this.timers.push(this.game.time.events.loop(
                  1e4,
                  this.resetBlockedCoords,
                  this,
                )),
                this.timers.push(this.game.time.events.loop(
                  1e4,
                  this.checkBlockedResources,
                  this,
                )),
                this.timers.push(this.game.time.events.loop(5e3, this.reassignWorkers, this)),
                this.timers.push(this.game.time.events.loop(
                  1e3,
                  this.updateConstructionCandidates,
                  this,
                )),
                this.on(
                  'construct',
                  this.addConstructionCandidate.bind(this),
                );
              },
            },
            {
              key: 'addConstructionCandidate',
              value(t) {
                this.constructionCandidates.push(t);
              },
            },
            {
              key: 'updateConstructionCandidates',
              value() {
                for (let t = 0; t < this.constructionCandidates.length; t += 1) {
                  if (this.constructEntity(this.constructionCandidates[t])) { return void this.constructionCandidates.splice(t, 1); }
                }
              },
            },
            {
              key: 'resetBlockedCoords',
              value() {
                this.blockedCoords = [];
              },
            },
            {
              key: 'checkBlockedResources',
              value() {
                const t = this;
                this.player.getBlockedResources().forEach((e) => {
                  if (e.builderGuid) {
                    const i = t.entityManager
                      .entities(`:player(${t.playerId})`)
                      .find(t => e.builderGuid === t.getGUID());
                    (!i ||
                      i.isIdling() ||
                      i.getActivityManager().isActiveMining()) &&
                      (t.player.removeBlockedResource(e.builderGuid),
                      t.constructEntity(e.entityToBuild));
                  }
                });
              },
            },
            {
              key: 'reassignWorkers',
              value() {
                const t = this.getAbondonedConstructions().shift();
                if (t) {
                  const e = this.getConstructorEntities().shift();
                  e &&
                    this.eventEmitter.synced
                      .entities(e)
                      .construct({ targetEntity: t });
                }
              },
            },
            {
              key: 'constructEntity',
              value(t) {
                const e = this.getConstructorEntities().shift();
                if (!e) return !1;
                if (
                  !this.resourceChecker.hasSufficientResources(this.player, t)
                ) { return !1; }
                const i = this.getPlacementCoords(e, t);
                return (
                  !!i &&
                  (this.blockedCoords.push(i),
                  this.eventEmitter.synced
                    .entities(e)
                    .createConstructionSite({
                      placementCoords: i,
                      entityId: t,
                      resetActivityQueue: !0,
                    }),
                  this.player.addBlockedResource(s({}, this.game.techManager.getRequiredResources(t), {
                    builderGuid: e.getGUID(),
                    entityToBuild: t,
                  })),
                  !0)
                );
              },
            },
            {
              key: 'getPlacementCoords',
              value(t, e) {
                let i = this,
                  n = this.getMainBase();
                if (!n) return null;
                const r = n.getSprite();
                return this.constructionLayout
                  .getPositionList(e)
                  .map(t => ({
                    x: r.x + t[0] * p.TILE_WIDTH,
                    y: r.y + t[1] * p.TILE_HEIGHT,
                  }))
                  .find((n) => {
                    let r = i.entityManager.getTileDimensions(e),
                      a = r.width,
                      o = r.height;
                    return (
                      a % 2 == 1 && (n.x += p.TILE_WIDTH / 2),
                      o % 2 == 1 && (n.y += p.TILE_HEIGHT / 2),
                      !i.blockedCoords.some(t => t.x === n.x && t.y === n.y) &&
                        i.entityManager.canEntityBePlacedAt(s({}, n, { id: e, entity: t, team: i.playerId }))
                    );
                  });
              },
            },
            {
              key: 'getRandomCoords',
              value(t, e) {
                return {
                  x: Math.max(
                    t.x + Math.floor(Math.random() * e * 2 - e) * p.TILE_WIDTH,
                    0,
                  ),
                  y: Math.max(
                    t.y + Math.floor(Math.random() * e * 2 - e) * p.TILE_HEIGHT,
                    0,
                  ),
                };
              },
            },
            {
              key: 'getMainBase',
              value() {
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .filter(t => (
                    !t.isHibernated() &&
                      t.getDataObject().getType() === 'mainbase'
                  ))
                  .shift();
              },
            },
            {
              key: 'getConstructorEntities',
              value() {
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .filter(t => (
                    !(
                      !t.getConstruction() || t.getConstruction().length === 0
                    ) &&
                      !t.isHibernated() &&
                      (t.isIdling() || t.getActivityManager().isActiveMining())
                  ))
                  .sort((t, e) => t.getCargoSum() - e.getCargoSum());
              },
            },
            {
              key: 'getAbondonedConstructions',
              value() {
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .filter((t) => {
                    if (!t.isInConstruction()) return !1;
                    const e = t.getActivityManager().getCurrentActivity();
                    return e && e.getBuilders && e.getBuilders().length === 0;
                  });
              },
            },
          ]),
          e
        );
      }(h.default));
    e.default = y;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      c = i(65),
      h = n(c),
      d = i(3),
      f = n(d),
      p = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'reset',
              value() {
                l(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'reset',
                  this,
                ).call(this),
                (this.defenders = []),
                this.eventEmitter.local.addEventListener(
                  'entities/bot-under-attack',
                  this.defend.bind(this),
                ),
                this.timers.push(this.game.time.events.loop(
                  5e3,
                  this.callBackDefenders,
                  this,
                ));
              },
            },
            {
              key: 'defend',
              value(t) {
                let e = t.entityToDefend,
                  i = t.attackerEntity;
                if (e && e.getPlayer() === this.player && i) {
                  const n = this.getMainBase();
                  if (n && !(f.default.distanceBetween(n, e) > 1e3)) {
                    const r = this.gatherDefenders(n);
                    r.length !== 0 &&
                      this.sendToDefend(r, {
                        x: i.getSprite().x,
                        y: i.getSprite().y,
                      });
                  }
                }
              },
            },
            {
              key: 'callBackDefenders',
              value() {
                let t = this,
                  e = this.getMainBase();
                e &&
                  (this.defenders = this.defenders.filter(i => (
                    f.default.distanceBetween(e, i) < 1e3 ||
                      (f.default.distanceBetween(e, i) < 1200 &&
                        !i.isIdling()) ||
                      (t.eventEmitter.synced
                        .entities(i)
                        .move({
                          x: e.getSprite().x,
                          y: e.getSprite().y,
                          resetActivityQueue: !0,
                        }),
                      !1)
                  )));
              },
            },
            {
              key: 'gatherDefenders',
              value(t) {
                const e = this.player;
                return this.entityManager
                  .getEntitiesInRange(t, 1e3)
                  .filter(t => !(
                    t.getPlayer() !== e ||
                      t.isHibernated() ||
                      t.getDataObject().isWorker() ||
                      t.canAttach() ||
                      !t.isIdling() ||
                      t.getDataObject().isBuilding() ||
                      t.attackWave
                  ));
              },
            },
            {
              key: 'sendToDefend',
              value(t, e) {
                (this.defenders = this.defenders.concat(t)),
                this.eventEmitter.synced
                  .entities(t)
                  .patrol(s({}, e, {
                    terminateAtDestination: !0,
                    resetActivityQueue: !0,
                  }));
              },
            },
            {
              key: 'getMainBase',
              value() {
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .find(t => (
                    !t.isHibernated() &&
                      t.getDataObject().getType() === 'mainbase'
                  ));
              },
            },
          ]),
          e
        );
      }(h.default));
    e.default = p;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(65),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'reset',
              value() {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'reset',
                  this,
                ).call(this),
                this.timers.push(this.game.time.events.loop(1e3, this.updateMiners, this)),
                this.timers.push(this.game.time.events.loop(2e3, this.updateCargos, this));
              },
            },
            {
              key: 'updateMiners',
              value() {
                let t = this,
                  e = this.getMiningStations().shift();
                if (e) {
                  const i = this.getAsteroids(e).shift();
                  i &&
                    this.getMinerEntities().forEach((e) => {
                      t.eventEmitter.synced
                        .entities(e)
                        .mine({ targetEntity: i });
                    });
                }
              },
            },
            {
              key: 'updateCargos',
              value() {
                let t = this,
                  e = this.getClassicMiningStations()
                    .filter(t => t.isAttachable())
                    .shift();
                e &&
                  this.getUnassignedCargos().forEach((i) => {
                    t.eventEmitter.synced
                      .entities(i)
                      .attach({ targetEntity: e });
                  });
              },
            },
            {
              key: 'getMinerEntities',
              value() {
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .filter(t => !t.isHibernated() && !!t.isIdling() && t.canMine());
              },
            },
            {
              key: 'getMiningStations',
              value() {
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .filter(t => (
                    !t.isHibernated() && t.getDataObject().isMiningStation()
                  ));
              },
            },
            {
              key: 'getClassicMiningStations',
              value() {
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .filter(t => (
                    !t.isHibernated() &&
                      t.getDataObject().isClassicMiningStation()
                  ));
              },
            },
            {
              key: 'getUnassignedCargos',
              value() {
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .filter(t => (
                    !t.isHibernated() && !!t.canAttach() && !t.isAttached()
                  ));
              },
            },
            {
              key: 'getAsteroids',
              value(t) {
                return this.entityManager
                  .getEntitiesInRange(t, 500, !0)
                  .filter((t) => {
                    if (t.isHibernated()) return !1;
                    if (!t.isMinable()) return !1;
                    const e = t.getActivityManager().getCurrentActivity();
                    return !(e && e.getMiners && e.getMiners().length >= 2);
                  })
                  .sort((t, e) => (
                    t.getDataObject().getResourceType() -
                      e.getDataObject().getResourceType()
                  ));
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(65),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'reset',
              value() {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'reset',
                  this,
                ).call(this),
                this.on('produce', this.addProductionCandidate.bind(this)),
                this.timers.push(this.game.time.events.loop(
                  100,
                  this.updateProductionCandidates,
                  this,
                )),
                (this.productionCandidates = []);
              },
            },
            {
              key: 'addProductionCandidate',
              value(t) {
                this.productionCandidates.push(t);
              },
            },
            {
              key: 'updateProductionCandidates',
              value() {
                for (let t = 0; t < this.productionCandidates.length; t += 1) {
                  if (this.produceEntity(this.productionCandidates[t])) { return void this.productionCandidates.splice(t, 1); }
                }
              },
            },
            {
              key: 'produceEntity',
              value(t) {
                const e = this.getProductionEntity(t);
                return (
                  !!e &&
                  !!this.resourceChecker.hasSufficientResources(
                    this.player,
                    t,
                  ) &&
                  (this.eventEmitter.synced
                    .entities(e)
                    .addProduction({ targetId: t }),
                  !0)
                );
              },
            },
            {
              key: 'getProductionEntity',
              value(t) {
                return this.entityManager
                  .entities(`:player(${this.playerId})`)
                  .filter(e => (
                    !e.isHibernated() &&
                      e.getProduction().length !== 0 &&
                      !!e.getProductionManager() &&
                      !e.isInConstruction() &&
                      !(e.getProductionManager().getAllSlots().length > 0) &&
                      e.getProduction().includes(t)
                  ))
                  .shift();
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(3),
      s = n(o),
      u = i(424),
      l = n(u),
      c = (function () {
        function t(e) {
          r(this, t),
          (this.playerId = e.idx),
          (this.eventDispatcher = new s.default.EventDispatcher());
          const i = new l.default(e, this.playerId, this.eventDispatcher);
          this.aiComponents = [
            i.createAI('AttackerAI'),
            i.createAI('BuilderAI'),
            i.createAI('BuildOrderAI'),
            i.createAI('DefenderAI'),
            i.createAI('MinerAI'),
            i.createAI('ProducerAI'),
            i.createAI('SpecialAbilityAI'),
          ];
        }
        return (
          a(t, [
            {
              key: 'reset',
              value() {
                this.aiComponents
                  .filter(t => t.isActive())
                  .forEach(t => t.reset());
              },
            },
            {
              key: 'update',
              value() {
                this.aiComponents
                  .filter(t => t.isActive())
                  .forEach(t => t.update());
              },
            },
          ]),
          t
        );
      }());
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(65),
      c = n(l),
      h = i(435),
      d = n(h),
      f = i(436),
      p = n(f),
      g = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'reset',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'reset',
                  this,
                ).call(this),
                this.eventEmitter.local.addEventListener(
                  'entities/bot-added',
                  this.onAdd.bind(this),
                );
              },
            },
            {
              key: 'onAdd',
              value(t) {
                if (t && t.getPlayer() === this.player) {
                  return t.isDockable()
                    ? void t.addLogic(new d.default(t))
                    : void (
                      t.getAbilityManager().canDeploy() &&
                        t.addLogic(new p.default(t))
                    );
                }
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = g;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(3),
      s = n(o),
      u = i(199),
      l = n(u),
      c = i(2),
      h = 400,
      d = 300,
      f = window.fivenations,
      p = (function () {
        function t() {
          r(this, t), (this.maxSectionLength = h), (this.gatherRange = d);
        }
        return (
          a(t, [
            {
              key: 'createLinear',
              value(t, e) {
                for (
                  var i =
                      arguments.length > 2 &&
                      void 0 !== arguments[2] &&
                      arguments[2],
                    n = s.default.distanceBetweenSprites(t, e),
                    r = Math.ceil(n / this.maxSectionLength),
                    a = [],
                    o = (e.x - t.x) / r,
                    u = (e.y - t.y) / r,
                    c = i
                      ? Math.random() * this.gatherRange - this.gatherRange / 2
                      : 0,
                    h = i
                      ? Math.random() * this.gatherRange - this.gatherRange / 2
                      : 0,
                    d = 1;
                  d <= r;
                  d += 1
                ) {
                  a.push(new l.default({
                    x: t.x + o * d - this.gatherRange + c,
                    y: t.y + u * d - this.gatherRange + h,
                    width: 2 * this.gatherRange,
                    height: 2 * this.gatherRange,
                  }));
                }
                return a;
              },
            },
            {
              key: 'createPathfinding',
              value(t, e, i) {
                const n = this;
                f.game.map
                  .getCollisionMap()
                  .calculatePath(t, e)
                  .then((t) => {
                    if (!t || t.length <= 1) return void i(null);
                    for (
                      var e = Math.floor(n.maxSectionLength / c.TILE_WIDTH),
                        r = Math.ceil(t.length / e),
                        a = [],
                        o = 1;
                      o <= r;
                      o += 1
                    ) {
                      const s = Math.min(o * e, t.length - 1);
                      a.push(new l.default({
                        x: t[s].x * c.TILE_WIDTH - n.gatherRange,
                        y: t[s].y * c.TILE_HEIGHT - n.gatherRange,
                        width: 2 * n.gatherRange,
                        height: 2 * n.gatherRange,
                      }));
                    }
                    i(a);
                  });
              },
            },
          ]),
          t
        );
      }());
    e.default = p;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      switch (e) {
        case o:
          return [t[1], -t[0]];
        case s:
          return [-t[0], -t[1]];
        case u:
          return [-t[1], t[0]];
        default:
          return [t[0], t[1]];
      }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = (e.ROTATE_90 = 90),
      s = (e.ROTATE_180 = 180),
      u = (e.ROTATE_270 = 270),
      l = (function () {
        function t(e, i) {
          if ((n(this, t), (this.layout = e), i)) {
            const a = {};
            Object.keys(e).forEach((t) => {
              (a[t] = []),
              e[t].forEach((e) => {
                a[t].push(r(e, i));
              });
            }),
            (this.layout = a);
          }
        }
        return (
          a(t, [
            {
              key: 'getPositionList',
              value(t) {
                return (this.layout[t] || []).concat(this.layout.others || []);
              },
            },
          ]),
          t
        );
      }());
    e.default = l;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(3),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = window.fivenations,
      u = (function () {
        function t(e) {
          n(this, t),
          (this.carrierEntity = e),
          (this.eventEmitter = s.game.eventEmitter);
        }
        return (
          r(t, [
            {
              key: 'update',
              value() {
                const t = this;
                if (!this.carrierEntity.isHangarFullUp()) {
                  const e = this.carrierEntity
                    .getClosestAllyEntitiesInRange()
                    .filter(e => (
                      t.carrierEntity.getPlayer().getTeam() ===
                          e.getPlayer().getTeam() &&
                        !!e.canDock() &&
                        !e.getDockerEntity() &&
                        o.default.distanceBetween(t.carrierEntity, e) <= 1e3
                    ));
                  e.length !== 0 &&
                    this.eventEmitter.synced
                      .entities(e)
                      .getToDock({
                        targetEntity: this.carrierEntity,
                        resetActivityQueue: !0,
                        addAsLast: !1,
                      });
                }
              },
            },
          ]),
          t
        );
      }());
    e.default = u;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = window.fivenations,
      o = (function () {
        function t(e) {
          n(this, t),
          (this.deployEntity = e),
          (this.eventEmitter = a.game.eventEmitter);
        }
        return (
          r(t, [
            {
              key: 'update',
              value() {
                if (!this.deployEntity.getInTransform()) {
                  const t = this.deployEntity.getClosestHostileEntityInRange();
                  if (this.deployEntity.canMove()) {
                    if (!t || t.isTargetableByEntity(this.deployEntity)) return;
                    return void this.deploy();
                  }
                  (t && t.isTargetableByEntity(this.deployEntity)) ||
                    this.deploy();
                }
              },
            },
            {
              key: 'deploy',
              value() {
                this.deployEntity.setInTransform(!0),
                this.eventEmitter.synced
                  .entities(this.deployEntity)
                  .transform({ addAsLast: !1, resetActivityQueue: !1 });
              },
            },
          ]),
          t
        );
      }());
    e.default = o;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = (function () {
        function t(e, i) {
          const r =
            arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
          n(this, t),
          (this.game = e),
          (this.sprites = []),
          (this.currentChannelIdx = 0),
          this.loadAudioSprite(i, r);
        }
        return (
          r(t, [
            {
              key: 'loadAudioSprite',
              value(t, e) {
                for (
                  var i = this,
                    n = this.game.cache.getJSON(t),
                    r = Object.keys(n.spritemap),
                    a = 0;
                  a < e;
                  a += 1
                ) {
                  !(function (e) {
                    const a = i.game.add.audio(t);
                    (a.allowMultiple = !0),
                    r.forEach((t) => {
                      let e = n.spritemap[t],
                        i = e.end - e.start;
                      a.addMarker(t, e.start, i, e.volume || 1, e.loop);
                    }),
                    i.sprites.push(a);
                  }());
                }
              },
            },
            {
              key: 'play',
              value() {
                let t,
                  e = (t = this.sprites[this.currentChannelIdx]).play.apply(
                    t,
                    arguments,
                  );
                return (
                  (this.currentChannelIdx += 1),
                  this.currentChannelIdx === this.sprites.length &&
                    (this.currentChannelIdx = 0),
                  e
                );
              },
            },
            {
              key: 'stop',
              value() {
                this.sprites.forEach(t => t.stop());
              },
            },
          ]),
          t
        );
      }());
    e.default = a;
  },
  function (t, e, i) {
    function n(t) {
      let e = t.sprite,
        i = t.marker,
        n = t.delay;
      return {
        sprite: e,
        marker: i,
        test() {
          return !s[i];
        },
        callback() {
          setTimeout(() => {
            s[i] = !1;
          }, n || 5e3),
          (s[i] = !0);
        },
      };
    }
    function r(t) {
      return t
        .sort((t, e) => (
          e.getDataObject().getTitanium() - t.getDataObject().getTitanium()
        ))
        .shift();
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var a = i(182),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = {},
      u = {
        'ingame/button/click': { sprite: 'sfx', marker: 'HUD_click' },
        'ingame/popup/open': { sprite: 'sfx', marker: 'HUD_panel_slide_in' },
        'ingame/popup/close': { sprite: 'sfx', marker: 'HUD_panel_close' },
        'attack/invalid-target': { sprite: 'sfx', marker: 'HUD_click_error' },
        'mine/no-target-station': { sprite: 'sfx', marker: 'HUD_click_error' },
        'resources/unsufficient/titanium': n({
          sprite: 'sfx',
          marker: 'fed_advisor_warn_00',
          delay: 2e3,
        }),
        'resources/unsufficient/silicium': n({
          sprite: 'sfx',
          marker: 'fed_advisor_warn_01',
          delay: 2e3,
        }),
        'resources/unsufficient/energy': n({
          sprite: 'sfx',
          marker: 'fed_advisor_warn_02',
          delay: 2e3,
        }),
        'resources/unsufficient/uranium': n({
          sprite: 'sfx',
          marker: 'fed_advisor_warn_03',
          delay: 2e3,
        }),
        'resources/unsufficient/space': n({
          sprite: 'sfx',
          marker: 'fed_advisor_warn_04',
          delay: 2e3,
        }),
        'resources/unsufficient/maxspace': n({
          sprite: 'sfx',
          marker: 'HUD_click_error',
          delay: 2e3,
        }),
        'building/placement/occupied': n({
          sprite: 'sfx',
          marker: 'fed_advisor_warn_05',
          delay: 2e3,
        }),
        'entities/entity-under-attack': n({
          sprite: 'sfx',
          marker: 'fed_advisor_alert_00',
        }),
        'entities/building-under-attack': n({
          sprite: 'sfx',
          marker: 'fed_advisor_alert_01',
        }),
        'research/completed': n({
          sprite: 'sfx',
          marker: 'fed_advisor_research_00',
        }),
        'user/entity/select': {
          callback(t) {
            return o.default.playSelectionQuote(r(t));
          },
        },
        'user/entity/command': {
          callback(t) {
            return o.default.playConfirmQuote(r(t));
          },
        },
        'user/entity/attack': {
          callback(t) {
            return o.default.playAttackQuote(r(t));
          },
        },
        'user/entity/complete': {
          callback(t) {
            return o.default.playReadyQuote(t);
          },
        },
        'user/entity/alert': {
          callback(t) {
            return o.default.playAlertQuote(t);
          },
        },
      };
    e.default = u;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = {
        sfx: {
          mining_01: 0.2,
          mining_02: 0.2,
          mining_03: 0.2,
          mining_04: 0.2,
          putbuilding: 0.25,
        },
      },
      o = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'getMasterVolume',
              value(t) {
                let e = t.sprite,
                  i = t.marker;
                return a[e] && a[e][i] ? a[e][i] : 1;
              },
            },
          ]),
          t
        );
      }()),
      s = new o();
    e.default = s;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = {},
      o = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'add',
              value(t, e) {
                a[t] = e;
              },
            },
            {
              key: 'run',
              value(t) {
                if (!a[t]) return !1;
                for (
                  var e = arguments.length, i = Array(e > 1 ? e - 1 : 0), n = 1;
                  n < e;
                  n++
                ) { i[n - 1] = arguments[n]; }
                return a[t].apply(null, i);
              },
            },
            {
              key: 'has',
              value(t) {
                return !!a[t];
              },
            },
          ]),
          t
        );
      }());
    e.default = o;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(415),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'webfont',
              value(t, e) {
                return this.addToFileList('webfont', t, e), this;
              },
            },
            {
              key: 'loadFile',
              value(t) {
                if (
                  (s(
                    e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                    'loadFile',
                    this,
                  ).call(this, t),
                  t.type === 'webfont')
                ) {
                  const i = this;
                  new l.default(t.url).load(null, 5e3).then(
                    () => {
                      i.asyncComplete(t);
                    },
                    () => {
                      i.asyncComplete(t, `Error loading font ${t.url}`);
                    },
                  );
                }
              },
            },
          ]),
          e
        );
      }(Phaser.Loader));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      let i = o.game.game,
        n = i.add
          .tween(i.stage)
          .to({ x: 0 }, 1e3, Phaser.Easing.Linear.None, !0);
      return n.onComplete.addOnce(t, e), n;
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = window.fivenations,
      s = (function () {
        function t() {
          n(this, t),
          (this.onTick = new Phaser.Signal()),
          (this.onFinish = new Phaser.Signal());
        }
        return (
          a(t, [
            {
              key: 'countdown',
              value(t) {
                let e = t.duration;
                (this.elapsed = 0),
                (this.timer = r(function t() {
                  (this.elapsed += 1),
                  (e -= 1),
                  this.onTick.dispatch(e),
                  e <= 0
                    ? (this.onFinish.dispatch(), this.reset())
                    : (this.timer = r(t, this));
                }, this));
              },
            },
            {
              key: 'start',
              value() {
                (this.elapsed = 0),
                (this.timer = r(function t() {
                  (this.elapsed += 1), (this.timer = r(t, this));
                }, this));
              },
            },
            {
              key: 'pause',
              value() {
                this.timer && this.timer.pause();
              },
            },
            {
              key: 'resume',
              value() {
                this.timer && this.timer.resume();
              },
            },
            {
              key: 'stop',
              value() {
                this.timer || this.timer.stop(), this.reset();
              },
            },
            {
              key: 'reset',
              value() {
                (this.timer = null),
                this.onFinish.removeAll(),
                this.onTick.removeAll();
              },
            },
            {
              key: 'getElapsedSeconds',
              value() {
                return this.elapsed;
              },
            },
          ]),
          t
        );
      }());
    e.default = s;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r() {
      return new Promise(((t, e) => {
        const i = document.getElementById('selectFile');
        i.click(),
        (i.onchange = function (i) {
          const n = i.target.files[0];
          n || e();
          const r = new FileReader();
          (r.onload = function (e) {
            const i = JSON.parse(e.target.result);
            t(i);
          }),
          r.readAsText(n);
        });
      }));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = (function () {
        function t(e) {
          n(this, t), this.import(e);
        }
        return (
          o(t, [
            {
              key: 'getMap',
              value() {
                return this.map;
              },
            },
            {
              key: 'getSpaceObjects',
              value() {
                return this.spaceObjects || [];
              },
            },
            {
              key: 'getEntities',
              value() {
                return this.entities || [];
              },
            },
            {
              key: 'getEffects',
              value() {
                return this.effects || [];
              },
            },
            {
              key: 'getPlayers',
              value() {
                return this.players || {};
              },
            },
            {
              key: 'getLocations',
              value() {
                return this.locations || [];
              },
            },
            {
              key: 'import',
              value(t) {
                const e = this;
                Object.keys(t).forEach((i) => {
                  e[i] = t[i];
                });
              },
            },
          ]),
          t
        );
      }()),
      u = (function () {
        function t() {
          n(this, t);
        }
        return (
          o(t, [
            {
              key: 'load',
              value(t, e) {
                let i = new s(e),
                  n = i.getMap(),
                  r = i.getPlayers();
                return (
                  t.entityManager.reset(),
                  t.playerManager.reset(),
                  t.map.new(n),
                  this.generatePlayers(t, r)
                    .then(this.generateEntities.bind(this, i, t))
                    .then(this.generateEffects.bind(this, i, t))
                    .then(this.generateSpaceObjects.bind(this, i, t))
                    .then(this.generateLocations.bind(this, i, t))
                    .then(this.scrollToPlayerLocation.bind(this, t))
                    .then(this.grantInitialResoures.bind(this, t, r))
                );
              },
            },
            {
              key: 'generatePlayers',
              value(t, e) {
                const i = [];
                return (
                  Object.keys(e)
                    .map(t => e[t])
                    .sort(t => (t.user ? -1 : 1))
                    .forEach((e) => {
                      let n = e.user,
                        r = e.active,
                        o = e.idx;
                      if (r) {
                        const s = t.eventEmitter.synced.players.add(a({ authorised: !!n, guid: o }, e));
                        i.push(s);
                      }
                    }),
                  Promise.all(i)
                );
              },
            },
            {
              key: 'generateEntities',
              value(t, e) {
                const i = [];
                return (
                  t.getEntities().forEach((t) => {
                    const n = e.eventEmitter.synced.entities.add(t);
                    i.push(n);
                  }),
                  Promise.all(i)
                );
              },
            },
            {
              key: 'generateEffects',
              value(t, e) {
                const i = [];
                return (
                  t.getEffects().forEach((t) => {
                    const n = e.eventEmitter.synced.effects.add(t);
                    i.push(n);
                  }),
                  Promise.all(i)
                );
              },
            },
            {
              key: 'generateSpaceObjects',
              value(t, e) {
                t.getSpaceObjects().forEach((t) => {
                  e.map
                    .getStarfield()
                    .getDeepSpaceLayer()
                    .add(t);
                });
              },
            },
            {
              key: 'generateLocations',
              value(t, e) {
                t.getLocations().forEach((t) => {
                  e.locationManager.add(t);
                });
              },
            },
            {
              key: 'scrollToPlayerLocation',
              value(t) {
                let e = t.playerManager.getUser(),
                  i = e.getStartLocation();
                i && t.map.centerTo(i.x, i.y);
              },
            },
            {
              key: 'grantInitialResoures',
              value(t, e) {
                Object.keys(e)
                  .map(t => e[t])
                  .forEach((e) => {
                    let i = e.active,
                      n = e.idx;
                    if (i) {
                      let r = t.playerManager,
                        o = r.getPlayerByGUID(n);
                      (void 0 !== e.energy && e.energy !== 0) ||
                        (e.energy = o.getMaxEnergyStorage()),
                      t.eventEmitter.synced
                        .players(o)
                        .alter(a({}, e, {
                          overwrite: !0,
                          grantInitialResoures: !0,
                        }));
                    }
                  });
              },
            },
          ]),
          t
        );
      }());
    (e.loadJSON = r), (e.default = new u());
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = window.fivenations,
      s = (function () {
        function t(e) {
          n(this, t),
          (this.player = e),
          (this.name = e.getName()),
          (this.race = e.getRace()),
          (this.user = e.isControlledByUser()),
          (this.independent = e.isIndependent()),
          (this.hotKeysPressed = 0),
          (this.actionTriggered = 0),
          (this.titanium = 0),
          (this.silicium = 0),
          (this.uranium = 0),
          (this.energy = 0),
          (this.spent = 0),
          (this.unitsProduced = {}),
          (this.buildingsConstructed = 0),
          (this.unitsKilled = 0),
          (this.buildingsDestroyed = 0),
          (this.firstMilitaryConflictTime = 0),
          (this.killingHistory = {});
        }
        return (
          a(t, [
            {
              key: 'setGameSummaryCollector',
              value(t) {
                this.gameSummaryCollector = t;
              },
            },
            {
              key: 'setMapExplored',
              value(t) {
                if (!this.player.isControlledByUser()) { return void (this.mapExplored = 0); }
                let e = t.getMatrix(),
                  i = e.length * e[0].length,
                  n = e.reduce((t, e) => (
                    t +
                      e.filter(t => t !== 0).length
                  ), 0);
                this.mapExplored = Math.round((n / i) * 100);
              },
            },
            {
              key: 'setAsVictorious',
              value() {
                this.winner = !0;
              },
            },
            {
              key: 'setAsDefeated',
              value() {
                this.winner = !1;
              },
            },
            {
              key: 'addTitanium',
              value(t) {
                this.titanium += t || 0;
              },
            },
            {
              key: 'addSilicium',
              value(t) {
                this.silicium += t || 0;
              },
            },
            {
              key: 'addUranium',
              value(t) {
                this.uranium += t || 0;
              },
            },
            {
              key: 'addEnergy',
              value(t) {
                this.energy += t || 0;
              },
            },
            {
              key: 'addSpent',
              value(t) {
                this.spent += t || 0;
              },
            },
            {
              key: 'unitProduced',
              value(t, e) {
                if (
                  (this.unitsProduced[t] || (this.unitsProduced[t] = 0),
                  !this.getFirstMilitaryUnitInfo &&
                    e.getWeaponManager().hasOffensiveWeapon())
                ) {
                  let i = o.game,
                    n = i.missionTimer.getElapsedSeconds();
                  this.getFirstMilitaryUnitInfo = { id: t, time: n };
                }
                this.unitsProduced[t] += 1;
              },
            },
            {
              key: 'buildingConstructed',
              value() {
                this.buildingsConstructed += 1;
              },
            },
            {
              key: 'entityKilled',
              value(t, e) {
                let i = e.getGUID(),
                  n = e.getDataObject().getId();
                t.getDataObject().isBuilding()
                  ? (this.buildingsDestroyed += 1)
                  : (this.unitsKilled += 1),
                this.killingHistory[i]
                  ? (this.killingHistory[i].count += 1)
                  : (this.killingHistory[i] = { id: n, count: 1 });
              },
            },
            {
              key: 'setFirstMilitaryConflict',
              value() {
                if (!this.firstMilitaryConflictTime) {
                  const t = o.game;
                  this.firstMilitaryConflictTime = t.missionTimer.getElapsedSeconds();
                }
              },
            },
            {
              key: 'userHotKeyPressed',
              value() {
                this.hotKeysPressed += 1;
              },
            },
            {
              key: 'userActionTriggered',
              value() {
                this.actionTriggered += 1;
              },
            },
            {
              key: 'getName',
              value() {
                return this.name;
              },
            },
            {
              key: 'getRace',
              value() {
                return this.race;
              },
            },
            {
              key: 'getMapExplored',
              value() {
                return this.mapExplored;
              },
            },
            {
              key: 'getHotKeysPressed',
              value() {
                return this.hotKeysPressed;
              },
            },
            {
              key: 'getAPM',
              value() {
                let t = o.game,
                  e = this.gameSummaryCollector.getMissionTime(),
                  i = t.missionTimer.getElapsedSeconds(),
                  n = e || i;
                return Math.round((this.actionTriggered / n) * 60);
              },
            },
            {
              key: 'getTotalEconomy',
              value() {
                return (
                  this.getTitanium() +
                  this.getSilicium() +
                  this.getEnergy() +
                  this.getUranium() +
                  this.getSpent()
                );
              },
            },
            {
              key: 'getTotalMilitary',
              value() {
                let t = 10 * this.getUnitsKilled();
                return (
                  (t += 10 * this.getBuildingsDestroyed()),
                  (t += 10 * this.getUnitsProduced()),
                  (t += 10 * this.getBuildingsConstructed()),
                  (t += 20 * this.getUnitsKilled()),
                  (t += 20 * this.getBuildingsDestroyed())
                );
              },
            },
            {
              key: 'getTitanium',
              value() {
                return this.titanium;
              },
            },
            {
              key: 'getSilicium',
              value() {
                return this.silicium;
              },
            },
            {
              key: 'getUranium',
              value() {
                return this.uranium;
              },
            },
            {
              key: 'getEnergy',
              value() {
                return this.energy;
              },
            },
            {
              key: 'getSpent',
              value() {
                return -this.spent;
              },
            },
            {
              key: 'getUnitsProduced',
              value() {
                const t = this;
                return Object.keys(this.unitsProduced)
                  .map(e => t.unitsProduced[e])
                  .reduce((t, e) => t + e, 0);
              },
            },
            {
              key: 'getBuildingsConstructed',
              value() {
                return this.buildingsConstructed;
              },
            },
            {
              key: 'getUnitsKilled',
              value() {
                return this.unitsKilled;
              },
            },
            {
              key: 'getBuildingsDestroyed',
              value() {
                return this.buildingsDestroyed;
              },
            },
            {
              key: 'getFavouriteUnitInfo',
              value() {
                let t = this,
                  e = Object.keys(this.unitsProduced)
                    .filter(e => t.unitsProduced[e] > 0)
                    .map(e => [t.unitsProduced[e], e])
                    .sort((t, e) => e[0] - t[0])
                    .shift();
                if (!e) return {};
                const i = r(e, 2);
                return { count: i[0], id: i[1] };
              },
            },
            {
              key: 'getFirstMilitaryUnitInfo',
              value() {
                return this.getFirstMilitaryUnitInfo;
              },
            },
            {
              key: 'getFirstMilitaryConflict',
              value() {
                return this.firstMilitaryConflictTime;
              },
            },
            {
              key: 'getMostSuccessfulMilitaryUnitInfo',
              value() {
                let t = this,
                  e = Object.keys(this.killingHistory)
                    .map(e => [
                      t.killingHistory[e].count,
                      t.killingHistory[e].id,
                    ])
                    .sort((t, e) => e[0] - t[0])
                    .shift();
                if (!e) return {};
                const i = r(e, 2);
                return { count: i[0], id: i[1] };
              },
            },
            {
              key: 'getSuperWeaponTime',
              value() {
                return 0;
              },
            },
            {
              key: 'isVictorious',
              value() {
                return this.winner;
              },
            },
            {
              key: 'isUser',
              value() {
                return this.user;
              },
            },
            {
              key: 'isIndependent',
              value() {
                return this.independent;
              },
            },
          ]),
          t
        );
      }());
    e.default = s;
  },
  function (t, e, i) {
    function n(t, e, i, n) {
      (this.maxObjects = e || 10),
      (this.maxLevels = i || 4),
      (this.level = n || 0),
      (this.bounds = t),
      (this.objects = []),
      (this.nodes = []);
    }
    Object.defineProperty(e, '__esModule', { value: !0 }),
    (n.prototype.split = function () {
      let t = this.level + 1,
        e = Math.round(this.bounds.width / 2),
        i = Math.round(this.bounds.height / 2),
        r = Math.round(this.bounds.x),
        a = Math.round(this.bounds.y);
      (this.nodes[0] = new n(
        {
          x: r + e, y: a, width: e, height: i,
        },
        this.maxObjects,
        this.maxLevels,
        t,
      )),
      (this.nodes[1] = new n(
        {
          x: r, y: a, width: e, height: i,
        },
        this.maxObjects,
        this.maxLevels,
        t,
      )),
      (this.nodes[2] = new n(
        {
          x: r, y: a + i, width: e, height: i,
        },
        this.maxObjects,
        this.maxLevels,
        t,
      )),
      (this.nodes[3] = new n(
        {
          x: r + e, y: a + i, width: e, height: i,
        },
        this.maxObjects,
        this.maxLevels,
        t,
      ));
    }),
    (n.prototype.getIndex = function (t) {
      let e = -1,
        i = this.bounds.x + this.bounds.width / 2,
        n = this.bounds.y + this.bounds.height / 2,
        r = t.y < n && t.y + t.height < n,
        a = t.y > n;
      return (
        t.x < i && t.x + t.width < i
          ? r
            ? (e = 1)
            : a && (e = 2)
          : t.x > i && (r ? (e = 0) : a && (e = 3)),
        e
      );
    }),
    (n.prototype.insert = function (t) {
      let e = 0,
        i = void 0;
      if (void 0 !== this.nodes[0] && (i = this.getIndex(t)) !== -1) { return void this.nodes[i].insert(t); }
      if (
        (this.objects.push(t),
        this.objects.length > this.maxObjects && this.level < this.maxLevels)
      ) {
        for (
          void 0 === this.nodes[0] && this.split();
          e < this.objects.length;

        ) {
          (i = this.getIndex(this.objects[e])),
          i !== -1
            ? this.nodes[i].insert(this.objects.splice(e, 1)[0])
            : (e += 1);
        }
      }
    }),
    (n.prototype.retrieve = function (t) {
      let e = this.getIndex(t),
        i = this.objects;
      if (void 0 !== this.nodes[0]) {
        if (e !== -1) i = i.concat(this.nodes[e].retrieve(t));
        else {
          for (let n = 0; n < this.nodes.length; n += 1) { i = i.concat(this.nodes[n].retrieve(t)); }
        }
      }
      return i;
    }),
    (n.prototype.clear = function () {
      this.objects = [];
      for (let t = 0; t < this.nodes.length; t += 1) { void 0 !== this.nodes[t] && this.nodes[t].clear(); }
      this.nodes = [];
    }),
    (e.default = n);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      e.onComplete.add(() => {
        t.getManager().remove(t);
      });
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          },
      s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(3),
      l = n(u),
      c = i(188),
      h = n(c),
      d = i(137),
      f = n(d),
      p = i(2),
      g = (function () {
        function t(e) {
          r(this, t),
          this.initHelpers(),
          this.setGUID(e),
          this.setManager(e),
          this.setDataObject(e),
          this.setEmitter(e),
          this.setSprite(e),
          this.setAnimations(e),
          this.setTTL(e),
          this.setShouldBeRemovedIfOutOfRange(e),
          this.setTargetFiring(e),
          this.startAnimation();
        }
        return (
          s(t, [
            {
              key: 'initHelpers',
              value() {
                this.damagedTargets = [];
              },
            },
            {
              key: 'setGUID',
              value(t) {
                this.guid = t.guid;
              },
            },
            {
              key: 'setManager',
              value(t) {
                this.manager = t.manager;
              },
            },
            {
              key: 'setDataObject',
              value(t) {
                (this.dataObject = t.dataObject),
                (this.trails = this.dataObject.getTrails()),
                t.idleDisabled ||
                    (this.idle = this.dataObject.getEvent('idle'));
              },
            },
            {
              key: 'setEmitter',
              value(e) {
                if (
                  e.emitter &&
                  ((this.emitter = e.emitter),
                  this.emitter instanceof t ||
                    this.emitter instanceof f.default)
                ) {
                  if (
                    (this.emitter instanceof f.default &&
                      (this.emitterIsWeapon = !0),
                    e.targetEntity
                      ? (this.targetEntity = e.targetEntity)
                      : (this.targetEntity = this.emitter.getTargetEntity()),
                    !this.targetEntity)
                  ) { return; }
                  (this.onTargetEntityRemove = this.removeTargetEntity.bind(this)),
                  this.targetEntity.on('remove', this.onTargetEntityRemove);
                }
              },
            },
            {
              key: 'setSprite',
              value(t) {
                let e = t.manager.getGame(),
                  i = t.dataObject,
                  n = i.getWidth(),
                  r = i.getHeight();
                (this.sprite = t.sprite),
                this.sprite.anchor.setTo(0.5, 0.5),
                (this.sprite.x = 0),
                (this.sprite.y = 0),
                e.physics.enable(this.sprite, Phaser.Physics.ARCADE),
                (this.sprite.hitArea = new Phaser.Rectangle(
                  n / -2,
                  r / -2,
                  n,
                  r,
                )),
                this.sprite.body.setSize(
                  n,
                  r,
                  this.sprite.width / 2 - n / 2,
                  this.sprite.height / 2 - r / 2,
                );
                const a = i.getVariances();
                a.length &&
                  (this.sprite.frame = a[l.default.rnd(0, a.length - 1)]);
                const o = t.customFrame || i.getCustomFrame();
                if (
                  (void 0 !== o && (this.sprite.frame = o),
                  i.doesPersistOrienationFromEmitter() &&
                    this.emitter instanceof h.default)
                ) {
                  let s = this.emitter
                      .getMotionManager()
                      .getCurrentAngleInDeg(),
                    u = i.getFrames(),
                    c = u.length,
                    d = s / 360,
                    f = Math.round(c * d);
                  this.sprite.frame = u[f];
                }
                this.sprite._effect = this;
              },
            },
            {
              key: 'setAnimations',
              value(t) {
                let e = this,
                  i = t.dataObject,
                  n = i.getAnimations();
                n &&
                  (void 0 === n ? 'undefined' : o(n)) === 'object' &&
                  Object.keys(n).forEach((t) => {
                    let i = n[t],
                      r = e.sprite.animations.add(
                        t,
                        i.frames,
                        i.rate,
                        i.loopable,
                      );
                    i.oncomplete === 'remove' && a(e, r),
                    i.oncomplete === 'keepLastFrame' &&
                        r.onComplete.add(() => {
                          e.sprite.frame = i.frames[i.frames.length - 1];
                        });
                  });
              },
            },
            {
              key: 'setTTL',
              value(t) {
                const e = t.ttl;
                (this.ttlDisabled = t.ttlDisabled),
                (this.ttl = e || t.dataObject.getTTL());
              },
            },
            {
              key: 'setShouldBeRemovedIfOutOfRange',
              value(t) {
                this.shouldBeRemovedIfOutOfRange = t.dataObject.shouldBeRemovedIfOutOfRange();
              },
            },
            {
              key: 'setTargetFiring',
              value(t) {
                this.targetFiring = t.targetFiring;
              },
            },
            {
              key: 'setDamagedTargets',
              value(t) {
                this.damagedTargets.push(t);
              },
            },
            {
              key: 'startAnimation',
              value() {
                const t = this;
                this.playCreateAnimation().then(() => t.playIdleAnimation());
              },
            },
            {
              key: 'playCreateAnimation',
              value() {
                const t = this;
                return new Promise(((e) => {
                  const i = t.sprite.animations.getAnimation('create');
                  if (!i) return void e();
                  i.onComplete.addOnce(e), i.play();
                }));
              },
            },
            {
              key: 'playIdleAnimation',
              value() {
                const t = this.sprite.animations.getAnimation('idle');
                t && t.play();
              },
            },
            {
              key: 'isDamagedTargets',
              value(t) {
                return this.damagedTargets.indexOf(t) !== -1;
              },
            },
            {
              key: 'isCloud',
              value() {
                return this.dataObject.isCloud();
              },
            },
            {
              key: 'disableTTL',
              value() {
                this.ttlDisabled = !0;
              },
            },
            {
              key: 'attachToEntity',
              value(t) {
                const e = t.getSprite();
                this.sprite.update = function () {
                  (this.x = e.x), (this.y = e.y);
                };
              },
            },
            {
              key: 'remove',
              value() {
                this.targetEntity &&
                  this.targetEntity.off('remove', this.onTargetEntityRemove),
                this.sprite._group.remove(this.sprite),
                this.sprite.destroy(),
                this.manager.explode(this);
              },
            },
            {
              key: 'removeTargetEntity',
              value() {
                this.targetEntity = null;
              },
            },
            {
              key: 'getId',
              value() {
                return this.id;
              },
            },
            {
              key: 'getGUID',
              value() {
                return this.guid;
              },
            },
            {
              key: 'getSprite',
              value() {
                return this.sprite;
              },
            },
            {
              key: 'getEmitter',
              value() {
                return this.emitter;
              },
            },
            {
              key: 'getTargetEntity',
              value() {
                return this.targetEntity;
              },
            },
            {
              key: 'getDataObject',
              value() {
                return this.dataObject;
              },
            },
            {
              key: 'willFollowTarget',
              value() {
                return this.dataObject.getFollowTarget();
              },
            },
            {
              key: 'hasTrails',
              value() {
                return !!this.trails;
              },
            },
            {
              key: 'hasReleasedThroughTargetFiring',
              value() {
                return this.targetFiring;
              },
            },
            {
              key: 'getTrailsRate',
              value() {
                return this.trails.rate;
              },
            },
            {
              key: 'getTrailsEffect',
              value() {
                return this.trails.effect;
              },
            },
            {
              key: 'hasIdle',
              value() {
                return !!this.idle;
              },
            },
            {
              key: 'getIdleEffects',
              value() {
                return this.idle.effects;
              },
            },
            {
              key: 'shouldBeRemovedIfOutOfRange',
              value() {
                return this.shouldBeRemovedIfOutOfRange;
              },
            },
            {
              key: 'shouldIdleEffectsGetRandomized',
              value() {
                return this.idle.randomExecution;
              },
            },
            {
              key: 'getIdleRandomRate',
              value() {
                return this.idle.randomRate;
              },
            },
            {
              key: 'getIdleEffectOffset',
              value() {
                let t = this,
                  e = {};
                return (
                  ['offsetX', 'offsetY'].forEach((i) => {
                    t.idle[i] &&
                      (t.idle[i].length
                        ? (e[i] = l.default.rnd(t.idle[i][0], 2 * t.idle[i][1]))
                        : (e[i] = t.idle[i]));
                  }),
                  { x: e.offsetX, y: e.offsetY }
                );
              },
            },
            {
              key: 'getTile',
              value() {
                return [
                  Math.floor(this.sprite.x / p.TILE_WIDTH),
                  Math.floor(this.sprite.y / p.TILE_WIDTH),
                ];
              },
            },
            {
              key: 'getManager',
              value() {
                return this.manager;
              },
            },
          ]),
          t
        );
      }());
    e.default = g;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = (function () {
        function t(e) {
          n(this, t), this.init(e), this.testAbilities();
        }
        return (
          a(t, [
            {
              key: 'init',
              value(t) {
                const e = r(Phaser.GAMES, 1);
                (this.game = e[0]),
                (this.entity = t),
                (this.dataObject = t.getDataObject()),
                (this.weaponManager = t.getWeaponManager()),
                (this.abilities = []);
              },
            },
            {
              key: 'testAbilities',
              value() {
                this.canMove() &&
                  (this.abilities = this.abilities.concat([
                    'move',
                    'stop',
                    'follow',
                    'patrol',
                    'hold',
                  ])),
                this.canAttack() &&
                    (this.abilities.push('attack'),
                    this.abilities.push('stop')),
                this.canDock() && this.abilities.push('dock'),
                this.isDockable() && this.abilities.push('undock'),
                this.canAttach() && this.abilities.push('attach'),
                this.canMine() && this.abilities.push('mining'),
                this.canProduce() &&
                    ((this.abilities = this.abilities.concat(this.getProducableEntitesAsAbilities())),
                    this.isBuilding() && this.abilities.push('setRallyPoint')),
                this.canResearch() &&
                    (this.abilities = this.abilities.concat(this.getResearchesAsAbilities())),
                this.canConstruct() &&
                    this.abilities.push('constructionPage'),
                this.canDeploy() && this.abilities.push('deploy'),
                this.canDeployMVC() && this.abilities.push('establishBase'),
                this.canUpgrade() && this.abilities.push('upgrade'),
                this.addAbilitiesByWeapons(),
                this.removeDuplicates();
              },
            },
            {
              key: 'addAbilitiesByWeapons',
              value() {
                let t = this,
                  e = this.game.cache.getJSON('spells');
                Object.keys(e).forEach((i) => {
                  const n = e[i].weapons;
                  t.hasWeapon(n) && t.abilities.push(`spell|${i}`);
                });
              },
            },
            {
              key: 'removeDuplicates',
              value() {
                this.abilities = this.abilities.reduce((t, e) => t.indexOf(e) === -1 && t.push(e), t, []);
              },
            },
            {
              key: 'canMove',
              value() {
                return this.entity.canMove();
              },
            },
            {
              key: 'canAttack',
              value() {
                return (
                  !!this.weaponManager.hasOffensiveWeapon() ||
                  !!this.entity.isDockable()
                );
              },
            },
            {
              key: 'canDock',
              value() {
                return this.entity.canDock();
              },
            },
            {
              key: 'isDockable',
              value() {
                return this.entity.isDockable();
              },
            },
            {
              key: 'canMine',
              value() {
                return this.entity.canMine();
              },
            },
            {
              key: 'canProduce',
              value() {
                const t = this.entity.getProduction();
                return t && t.length;
              },
            },
            {
              key: 'canResearch',
              value() {
                const t = this.entity.getResearch();
                return t && t.length;
              },
            },
            {
              key: 'canConstruct',
              value() {
                return (
                  this.entity.getConstruction() &&
                  this.entity.getConstruction().length
                );
              },
            },
            {
              key: 'canForceDelivery',
              value() {
                const t = this.entity.getDataObject().getId();
                return ['icarus'].some(e => e === t);
              },
            },
            {
              key: 'hasWeapon',
              value(t) {
                const e = this;
                return [].concat(t).some(t => e.weaponManager.hasWeapon(t));
              },
            },
            {
              key: 'getProducableEntitesAsAbilities',
              value() {
                return this.entity.getProduction().map(t => `production|${t}`);
              },
            },
            {
              key: 'getResearchesAsAbilities',
              value() {
                return this.entity.getResearch().map(t => `research|${t}`);
              },
            },
            {
              key: 'isProducing',
              value() {
                return this.entity.isProducing();
              },
            },
            {
              key: 'isBuilding',
              value() {
                return this.dataObject.isBuilding();
              },
            },
            {
              key: 'isAttached',
              value() {
                return this.entity.isAttached();
              },
            },
            {
              key: 'canAttach',
              value() {
                return this.entity.canAttach();
              },
            },
            {
              key: 'isAttachable',
              value() {
                return this.entity.isAttachable();
              },
            },
            {
              key: 'canDeploy',
              value() {
                return !!this.dataObject.getDeployTo();
              },
            },
            {
              key: 'canDeployMVC',
              value() {
                return !!this.dataObject.getDeployMCVTo();
              },
            },
            {
              key: 'canUpgrade',
              value() {
                return !!this.dataObject.getUpgrades();
              },
            },
            {
              key: 'canEstablishBase',
              value() {
                return this.entity.getWeaponManager().hasWeapon(12);
              },
            },
            {
              key: 'canRepair',
              value() {
                const t = this;
                return [13, 14].some(e => t.entity.getWeaponManager().hasWeapon(e));
              },
            },
            {
              key: 'getAbilities',
              value() {
                return this.entity.hasNoUserControl() ||
                  this.entity.getInTransform()
                  ? []
                  : this.abilities;
              },
            },
          ]),
          t
        );
      }());
    e.default = o;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      let e = [],
        i = !1,
        n = !1;
      return {
        add(i, n) {
          if (!t.isNeutralised()) {
            let r = e.length,
              a = r - 1;
            !(i instanceof v.default) &&
              r > 0 &&
              e[a] instanceof v.default &&
              this.removeByIndex(a),
            n ? e.unshift(i) : e.push(i),
            i.setManager(this),
            (!n || (n && e.length === 1)) && i.activate();
          }
        },
        remove(t) {
          for (let i = 0; i < e.length; i += 1) {
            if (e[i] === t) {
              this.removeByIndex(i);
              break;
            }
          }
        },
        removeByIndex(t) {
          let n = void 0;
          e[t] &&
            (e[t].deactivate(),
            e.splice(t, 1),
            !i && e.length > 0 && ((n = e[e.length - 1]), n.activate()));
        },
        removeAll() {
          for (i = !0; e[0];) e[0].kill();
          i = !1;
        },
        update() {
          pt.debugMode && this.debug();
          const i = e.length;
          if (i === 0) { return n && (this.add(new v.default(t)), (n = !1)), void (n = !0); }
          n = !1;
          const r = i - 1;
          e[r].update && e[r].update();
        },
        isIdling() {
          const t = e.length;
          return e[t - 1] instanceof v.default;
        },
        isAttacking() {
          const t = e.length;
          return e[t - 1] instanceof T.default;
        },
        isPatrolling() {
          return e.some(t => t instanceof h.default);
        },
        isHoldingPosition() {
          return e.some(t => t instanceof l.default);
        },
        isInConstruction() {
          const t = e.length;
          return e[t - 1] instanceof D.default;
        },
        isInUpgrade() {
          const t = e.length;
          return e[t - 1] instanceof at.default;
        },
        isInMine() {
          const t = e.length;
          return e[t - 1] instanceof j.default;
        },
        isInWither() {
          const t = e.length;
          return e[t - 1] instanceof st.default;
        },
        isInSprout() {
          const t = e.length;
          return e[t - 1] instanceof lt.default;
        },
        isMining() {
          const t = e.length;
          return e[t - 1] instanceof E.default;
        },
        isDelivering() {
          const t = e.length;
          return e[t - 1] instanceof R.default;
        },
        inCreateConstructionSite() {
          const t = e.length;
          return e[t - 1] instanceof N.default;
        },
        isActiveMining() {
          return e.some(t => t instanceof E.default);
        },
        isHatching() {
          const t = e.length;
          return e[t - 1] instanceof et.default;
        },
        isCastingASpell() {
          const t = e.length;
          return e[t - 1] instanceof ht.default;
        },
        isMoving() {
          const t = e.length;
          return e[t - 1] instanceof s.default;
        },
        debug() {
          const i = pt.game.game;
          e.forEach((e, n) => {
            i.debug.text(
              e.constructor.name,
              t.getSprite().x - pt.game.camera.x,
              t.getSprite().y - pt.game.camera.y + 16 * n,
              '#ffff00',
            );
          });
        },
        getCurrentActivity() {
          const t = e.length;
          return e[t - 1];
        },
        mayAttack() {
          return !this.isMoving() || this.isPatrolling();
        },
      };
    }
    function a(t) {
      return r[t];
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var o = i(83),
      s = n(o),
      u = i(462),
      l = n(u),
      c = i(467),
      h = n(c),
      d = i(458),
      f = n(d),
      p = i(472),
      g = n(p),
      y = i(463),
      v = n(y),
      m = i(457),
      b = n(m),
      _ = i(189),
      w = n(_),
      x = i(460),
      P = n(x),
      k = i(450),
      T = n(k),
      O = i(466),
      E = n(O),
      S = i(470),
      C = n(S),
      I = i(469),
      M = n(I),
      A = i(455),
      R = n(A),
      L = i(190),
      D = n(L),
      B = i(465),
      j = n(B),
      F = i(474),
      U = n(F),
      G = i(453),
      N = n(G),
      W = i(452),
      H = n(W),
      X = i(454),
      V = n(X),
      z = i(464),
      Y = n(z),
      q = i(449),
      K = n(q),
      Q = i(456),
      J = n(Q),
      Z = i(473),
      $ = n(Z),
      tt = i(461),
      et = n(tt),
      it = i(468),
      nt = n(it),
      rt = i(475),
      at = n(rt),
      ot = i(476),
      st = n(ot),
      ut = i(471),
      lt = n(ut),
      ct = i(451),
      ht = n(ct),
      dt = i(459),
      ft = n(dt),
      pt = window.fivenations;
    (r.Move = s.default),
    (r.Stop = g.default),
    (r.HoldPosition = l.default),
    (r.Patrol = h.default),
    (r.Follow = f.default),
    (r.Fire = b.default),
    (r.GetInRange = w.default),
    (r.GetToDock = P.default),
    (r.Attack = T.default),
    (r.Mine = E.default),
    (r.InMine = j.default),
    (r.RotateToTarget = C.default),
    (r.RotateToCoords = M.default),
    (r.Deliver = R.default),
    (r.Construct = H.default),
    (r.InConstruction = D.default),
    (r.CreateConstructionSite = N.default),
    (r.CreateDeploymentSite = V.default),
    (r.InDeployment = Y.default),
    (r.getActivityByString = a),
    (r.Attach = K.default),
    (r.Detach = J.default),
    (r.Transform = $.default),
    (r.TransportResource = U.default),
    (r.Hatch = et.default),
    (r.Produce = nt.default),
    (r.Upgrade = at.default),
    (r.Wither = st.default),
    (r.Sprout = lt.default),
    (r.CastSpell = ht.default),
    (r.GetInGivenRange = ft.default),
    (e.default = r);
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(15),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'activate',
              value() {
                const t = this;
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                this.target &&
                    this.target.isAttachable() &&
                    ((this.entity.homeStation = this.target),
                    (this.target.deliverer = this.entity),
                    this.target.on('remove', () => {
                      t.entity.homeStation = null;
                    }),
                    this.entity.on('remove', () => {
                      t.target.deliverer = null;
                    }),
                    this.entity.moveToEntity(this.target));
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(15),
      c = n(l),
      h = i(4),
      d = n(h),
      f = i(1),
      p = n(f),
      g = i(187),
      y = n(g),
      v = i(3),
      m = n(v),
      b = i(2),
      _ = window.fivenations,
      w = 1.5,
      x = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          (i.entity = t),
          (i.motionManager = t.getMotionManager()),
          (i._firstExecution = !0),
          (i._dogFight = i.entity.getDataObject().isFighter()),
          (i._distance = 0),
          (i._minRange = i.entity.getWeaponManager().getMinRange());
          let n = i.entity.getWeaponManager().getMaxRange();
          return (
            void 0 !== i.entity.getDockerEntity() && (n *= 2),
            (i._rangeTooFar = n * w),
            (i.onTargetEntityRemove = function () {
              return i.kill();
            }),
            t.getDockerEntity() && (i.carrierEntity = t.getDockerEntity()),
            (i.onCarrierEntityRemove = function () {
              i.carrierEntity = null;
            }),
            (i.syncedRandom = y.default.getInstance()),
            i.setCarrierEntity(),
            i
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'activate',
              value() {
                if (this.entity.isInConstruction()) return void this.kill();
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                this.entity.getWeaponManager().setTargetEntity(this.target),
                this.calculateDistance(),
                this._firstExecution &&
                    this.isTargetInMinRange() &&
                    ((this._firstExecution = !1),
                    void 0 !== this.entity.getDockerEntity() &&
                      this.entity.stop()),
                this.releaseDockedEntities();
              },
            },
            {
              key: 'calculateDistance',
              value() {
                this._distance = m.default.distanceBetween(
                  this.entity,
                  this.target,
                );
              },
            },
            {
              key: 'update',
              value() {
                if (!this.target.isTargetableByEntity(this.entity)) {
                  return (
                    this.shouldNotifyUserAboutInvalidTarget() &&
                      p.default
                        .getInstance()
                        .local.dispatch('attack/invalid-target'),
                    this.entity.updateClosestEntities(),
                    void this.kill()
                  );
                }
                if (
                  ((this.hasBeenTargetable = !0),
                  this.releaseDockedEntities(),
                  this.hasCarrierEntity())
                ) {
                  if (this.isCarrierEntityOutOfRange()) return void this.kill();
                  this.mirrorCarrierEntityTarget();
                }
                if (
                  (this.calculateDistance(),
                  !this.isTargetInMinRange() &&
                    !this.isWeaponReadyToFireTarget())
                ) {
                  return void (this.hasTargetGottenToFar() ||
                  !this.entity.canMove()
                    ? (this.entity.stop(), this.kill())
                    : this.entity.isHoldingPosition() ||
                      this.entity.getInRange(
                        this.target,
                        this._hasBeenInRangeOnce,
                      ));
                }
                if (((this._hasBeenInRangeOnce = !0), this.isDogFightEnabled())) {
                  this._dogFightCoords
                    ? this.shouldMoveToNextDogFightCoordinate() &&
                      this.moveToNextDogFightCoordinate()
                    : this.moveToNextDogFightCoordinate();
                } else {
                  if (this.motionManager.isMoving()) {
                    return void (
                      void 0 === this.entity.getDockerEntity() &&
                      this.entity.stop()
                    );
                  }
                  this.isEntityFacingTarget() ||
                    this.entity.rotateToTarget(this.target);
                }
              },
            },
            {
              key: 'mirrorCarrierEntityTarget',
              value() {
                const t = this.carrierEntity.getWeaponManager().getTargetEntity();
                t && this.target !== t && this.setTarget(t);
              },
            },
            {
              key: 'moveTo',
              value(t) {
                (this.coords = t), this.entity.getMotionManager().moveTo(this);
              },
            },
            {
              key: 'kill',
              value() {
                this.entity.getWeaponManager().clearTargetEntity(),
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this);
              },
            },
            {
              key: 'setTarget',
              value(t) {
                (this._dogFightCoords = null),
                this.target &&
                    this.target.off('remove', this.onTargetEntityRemove),
                (this.target = t),
                this.target.on('remove', this.onTargetEntityRemove);
              },
            },
            {
              key: 'setCarrierEntity',
              value() {
                const t = this.entity.getDockerEntity();
                t &&
                  (this.carrierEntity &&
                    this.carrierEntity.off(
                      'remove',
                      this.onCarrierEntityRemove,
                    ),
                  (this.carrierEntity = t),
                  this.carrierEntity.on('remove', this.onCarrierEntityRemove));
              },
            },
            {
              key: 'setTriggeredByUser',
              value(t) {
                this.triggeredByUser = t;
              },
            },
            {
              key: 'isTargetInMinRange',
              value() {
                return this._distance <= this._minRange;
              },
            },
            {
              key: 'isEntityFacingTarget',
              value() {
                return this.motionManager.isEntityFacingTargetEntity(this.target);
              },
            },
            {
              key: 'isDogFightEnabled',
              value() {
                return this._dogFight;
              },
            },
            {
              key: 'hasTargetGottenToFar',
              value() {
                return (
                  !!this._hasBeenInRangeOnce &&
                  this._distance >= this._rangeTooFar
                );
              },
            },
            {
              key: 'shouldMoveToNextDogFightCoordinate',
              value() {
                return (
                  !this.motionManager.isMoving() ||
                  m.default.distanceBetweenEntityAndCoords(
                    this.entity,
                    this._dogFightCoords,
                  ) < 50
                );
              },
            },
            {
              key: 'moveToNextDogFightCoordinate',
              value() {
                (this._dogFightCoords = this.getNextDogFightCoordinate()),
                this.entity.getMotionManager().moveTo(this);
              },
            },
            {
              key: 'getNextDogFightCoordinate',
              value() {
                let t = this.target.getSprite(),
                  e = t.x,
                  i = t.y,
                  n = t.hitArea,
                  r = Math.max(n.width, this._minRange),
                  a = 2 * b.TILE_WIDTH,
                  o = 2 * b.TILE_HEIGHT,
                  s = _.game.map.getHeight() * o - o,
                  u = _.game.map.getWidth() * a - a,
                  l = e - r + this.syncedRandom.get() * r * 2,
                  c = i - r + this.syncedRandom.get() * r * 2,
                  h = void 0,
                  d = void 0;
                return (
                  (h = l < a ? a : l > u ? u : l),
                  (d = c < o ? o : c > s ? s : c),
                  { x: h, y: d }
                );
              },
            },
            {
              key: 'releaseDockedEntities',
              value() {
                let t = this,
                  e = this.entity.getDockedEntities(),
                  i = this.entity.getDockedFighters(),
                  n = d.default.getInstance().isUserAuthorised(),
                  r = p.default.getInstance().synced.entities,
                  a = this.entity.hasRepairHangar();
                if (
                  n &&
                  !this._entitiesWillBeReleased &&
                  i &&
                  i.length &&
                  this.isTargetInMinRange()
                ) {
                  const o = [];
                  if (
                    (i.forEach((t) => {
                      (e && e.length && e.indexOf(t) !== -1) || o.push(t);
                    }),
                    e && e.length)
                  ) {
                    const s = [];
                    e.forEach((e) => {
                      let i = e.weaponManager.getWeapons(),
                        n = i.some(e => e.canAttackTarget(t.target));
                      i.length > 0 && n && s.push(e);
                    }),
                    s.forEach(() => {
                      r(t.entity)
                        .undock({ onlyRepaired: a })
                        .then(() => {
                          t._entitiesWillBeReleased = !1;
                        });
                    });
                  }
                  if (o.length && this.triggeredByUser) {
                    let u = [],
                      l = [];
                    o.forEach((e) => {
                      let i = e.weaponManager.getWeapons(),
                        n = i.some(e => e.canAttackTarget(t.target));
                      i.length > 0 && n ? u.push(e) : l.push(e);
                    }),
                    u.forEach((e) => {
                      e.getActivityManager().removeAll(),
                      r(e).attack({
                        targetEntity: t.target,
                        addAsLast: !0,
                        carrierEntity: t.entity,
                        targetFiring: t.entity.isTargetFiring(),
                      }),
                      (t._entitiesWillBeReleased = !1);
                    }),
                    l.forEach((e) => {
                      e.getActivityManager().removeAll(),
                      e.getToDock(t.entity),
                      (t._entitiesWillBeReleased = !1);
                    });
                  }
                  this._entitiesWillBeReleased = !0;
                }
              },
            },
            {
              key: 'hasCarrierEntity',
              value() {
                return this.carrierEntity;
              },
            },
            {
              key: 'isCarrierEntityOutOfRange',
              value() {
                return (
                  m.default.distanceBetween(this.entity, this.carrierEntity) >
                  this.carrierEntity.getWeaponManager().getMinRange()
                );
              },
            },
            {
              key: 'getCurrentDogFightCoords',
              value() {
                return this._dogFightCoords;
              },
            },
            {
              key: 'getCoords',
              value() {
                return this._dogFightCoords;
              },
            },
            {
              key: 'getTile',
              value() {
                return {
                  x: Math.floor(this._dogFightCoords.x / b.TILE_WIDTH),
                  y: Math.floor(this._dogFightCoords.y / b.TILE_HEIGHT),
                };
              },
            },
            {
              key: 'isWeaponReadyToFireTarget',
              value() {
                return this.entity
                  .getWeaponManager()
                  .isWeaponReadyToFireTarget();
              },
            },
            {
              key: 'shouldNotifyUserAboutInvalidTarget',
              value() {
                const t = this;
                if (!this.triggeredByUser || this.hasBeenTargetable) return !1;
                let e = this.entity.entityManager,
                  i = e.entities(':user:selected');
                return (
                  i.length === 1 ||
                  !i.some(e => t.target.isTargetableByEntity(e))
                );
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = x;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function o(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function s(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let u = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      h = i(15),
      d = n(h),
      f = i(8),
      p = n(f),
      g = i(10),
      y = n(g),
      v = i(28),
      m = n(v),
      b = i(1),
      _ = n(b),
      w = i(4),
      x = n(w),
      P = i(103),
      k = n(P),
      T = i(3),
      O = n(T),
      E = window.fivenations,
      S = (function (t) {
        function e(t, i) {
          a(this, e);
          const n = o(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return n.initHelpers(), n.initStates(), n.initConfig(i), n;
        }
        return (
          s(e, t),
          l(e, [
            {
              key: 'initHelpers',
              value() {
                const t = u(Phaser.GAMES, 1);
                (this.game = t[0]),
                (this.motionManager = this.entity.getMotionManager()),
                (this.effectManager = m.default.getInstance()),
                (this.audioManager = p.default.getInstance()),
                (this.emitter = _.default.getInstance()),
                (this.callbackCollection = y.default.getInstance());
              },
            },
            {
              key: 'initStates',
              value() {
                let t;
                (this.state = 1),
                (this.states =
                    ((t = {}),
                    r(t, 1, this.getInSpellRange.bind(this)),
                    r(t, 3, this.rotateToTarget.bind(this)),
                    r(t, 2, this.deductEnergy.bind(this)),
                    r(t, 4, this.startCast.bind(this)),
                    r(t, 5, this.waitForCastTime.bind(this)),
                    r(t, 6, this.emitSpell.bind(this)),
                    r(t, 7, this.postEmitSpell.bind(this)),
                    t));
              },
            },
            {
              key: 'initConfig',
              value(t) {
                let e = t.targetEntity,
                  i = t.targetCoords,
                  n = t.spellId,
                  r = k.default.getInstance();
                (this.targetEntity = e),
                (this.targetCoords = i),
                (this.spellId = n),
                (this.spellDO = r.getSpellDataById(this.spellId)),
                this.spellDO.selectionType === 'self' &&
                    (this.targetEntity = this.entity);
                let a = u(this.spellDO.weapons, 1),
                  o = a[0];
                (this.weapon = this.entity.getWeaponManager().getWeaponById(o)),
                (this.range = this.weapon.getRange());
              },
            },
            {
              key: 'kill',
              value() {
                c(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this);
              },
            },
            {
              key: 'getInSpellRange',
              value() {
                if (!this.targetEntity && !this.targetCoords) { return void this.setState(2); }
                if (this.isEntityInRange()) { this.isEntityMoving() ? this.entity.stop() : this.setState(3); } else {
                  let t = this.targetCoords || this.targetEntity.getSprite(),
                    e = t.x,
                    i = t.y,
                    n = this.range;
                  this.entity.getInGivenRange({ x: e, y: i, range: n });
                }
              },
            },
            {
              key: 'rotateToTarget',
              value() {
                if (this.targetEntity) {
                  if (
                    !this.motionManager.isEntityFacingTargetEntity(this.targetEntity)
                  ) { return void this.entity.rotateToTarget(this.targetEntity); }
                } else if (
                  this.targetCoords &&
                  !this.motionManager.isEntityFacingCoords(this.targetCoords)
                ) { return void this.entity.rotateToCoords(this.targetCoords); }
                this.setState(2);
              },
            },
            {
              key: 'deductEnergy',
              value() {
                if (!this.hasRequiredPower()) {
                  return (
                    this.emitter.local.dispatch('resources/unsufficient/power'),
                    void this.kill()
                  );
                }
                const t = this.spellDO.power;
                this.entity.getDataObject().usePower(t), this.setState(4);
              },
            },
            {
              key: 'startCast',
              value() {
                let t = this,
                  e = 60 * this.spellDO.castTime;
                this.entity.animate('castaspell').then(() => {
                  t.entity.animate('idle');
                }),
                (this.castTime = E.game.turn + e),
                this.setState(5);
              },
            },
            {
              key: 'waitForCastTime',
              value() {
                E.game.turn >= this.castTime && this.setState(6);
              },
            },
            {
              key: 'emitSpell',
              value() {
                x.default.getInstance().isUserAuthorised() &&
                  this.createEffectsOnCast(),
                this.setState(7);
              },
            },
            {
              key: 'createEffectsOnCast',
              value() {
                let t = this.spellDO,
                  e = t.events,
                  i = t.fireWithWeapon;
                if (e && e.cast) {
                  const n = e.cast;
                  n.self &&
                    (this.createEffectsAtEmitter(n.self.effects),
                    this.playabackAudio(n.self.audio)),
                  n.target &&
                      (this.createEffectsAtTarget(n.target.effects),
                      this.playabackAudio(n.target.audio)),
                  i &&
                      this.weapon.fireAt(this.targetEntity || this.targetCoords),
                  this.executeCallback(n.callbackCollectionId);
                }
              },
            },
            {
              key: 'createEffectsAtEmitter',
              value(t) {
                let e = this,
                  i = this.entity.getProjectileOffsetByHeading(),
                  n = i.x || 0,
                  r = i.y || 0,
                  a = this.entity.getSprite();
                t.forEach(t => e.emitter.synced.effects.add({
                  id: t,
                  emitter: e.entity,
                  x: a.x + n,
                  y: a.y + r,
                }));
              },
            },
            {
              key: 'createEffectsAtTarget',
              value(t) {
                let e = this,
                  i =
                    this.targetCoords ||
                    (this.targetEntity && this.targetEntity.getSprite()),
                  n = i.x,
                  r = i.y;
                t.forEach((t) => {
                  let i = 60 * e.spellDO.duration,
                    a = t === e.spellDO.durationTargetEffect && i;
                  e.emitter.synced.effects.add({
                    id: t,
                    emitter: e.entity,
                    x: n,
                    y: r,
                    ttl: a,
                  });
                });
              },
            },
            {
              key: 'executeCallback',
              value(t) {
                if (t) {
                  const e = {
                    entity: this.entity,
                    targetEntity: this.targetEntity,
                    targetCoords: this.targetCoords,
                    spellId: this.spellId,
                    spellDO: this.spellDO,
                  };
                  this.callbackCollection.run(t, e);
                }
              },
            },
            {
              key: 'playabackAudio',
              value(t) {
                if (t) {
                  let e = this.entity.getSprite(),
                    i = this.audioManager.calculateVolumeByCamera(e);
                  this.audioManager.playAudioSpriteByConfig({
                    marker: t,
                    volume: i,
                  });
                }
              },
            },
            {
              key: 'postEmitSpell',
              value() {
                this.kill();
              },
            },
            {
              key: 'update',
              value() {
                this.states[this.state] && this.states[this.state]();
              },
            },
            {
              key: 'setState',
              value(t) {
                this.state = t;
              },
            },
            {
              key: 'hasRequiredPower',
              value() {
                const t = this.spellDO.power;
                return !(t > 0) || this.entity.getDataObject().getPower() >= t;
              },
            },
            {
              key: 'getDistanceToTarget',
              value() {
                let t = 0;
                return (
                  this.targetEntity
                    ? (t = O.default.distanceBetween(
                      this.entity,
                      this.targetEntity,
                    ))
                    : this.targetCoords &&
                      (t = O.default.distanceBetweenEntityAndCoords(
                        this.entity,
                        this.targetCoords,
                      )),
                  t
                );
              },
            },
            {
              key: 'isEntityInRange',
              value() {
                return this.getDistanceToTarget() <= this.range;
              },
            },
            {
              key: 'isEntityMoving',
              value() {
                return this.motionManager.isMoving();
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = S;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function o(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function s(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      c = i(15),
      h = n(c),
      d = i(8),
      f = n(d),
      p = i(4),
      g = n(p),
      y = i(28),
      v = n(y),
      m = i(1),
      b = n(m),
      _ = i(3),
      w = n(_),
      x = window.fivenations,
      P = 1,
      k = 2,
      T = 3,
      O = 4,
      E = 5,
      S = 6,
      C = 7,
      I = 8,
      M = ['mining_01', 'mining_02', 'mining_03', 'mining_04'],
      A = (function (t) {
        function e(t) {
          let i;
          a(this, e);
          const n = o(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            (n.audioManager = f.default.getInstance()),
            (n.motionManager = t.getMotionManager()),
            (n.effectManager = v.default.getInstance()),
            (n.playerManager = g.default.getInstance()),
            (n.eventEmitter = b.default.getInstance()),
            (n._minRange = 50),
            (n.onTargetEntityRemove = n.removeTarget.bind(n)),
            (n.state = P),
            (n.states =
              ((i = {}),
              r(i, P, n.goToConstruction.bind(n)),
              r(i, k, n.addBuilderToConstruction.bind(n)),
              r(i, T, n.moveToRandomPosition.bind(n)),
              r(i, O, n.rotateToConstruction.bind(n)),
              r(i, E, n.weldingStarted.bind(n)),
              r(i, S, n.weldingAnimation.bind(n)),
              r(i, C, n.weldingFinished.bind(n)),
              r(i, I, n.goToBuilding.bind(n)),
              i)),
            n
          );
        }
        return (
          s(e, t),
          u(e, [
            {
              key: 'activate',
              value() {
                l(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                (this.target && this.target.isInConstruction()) ||
                    this.kill();
              },
            },
            {
              key: 'kill',
              value() {
                this.target &&
                  this.target.isInConstruction() &&
                  this.getInConstructionActivity().removeBuilder(this.entity),
                this.entity.stopAnimation(),
                l(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this);
              },
            },
            {
              key: 'removeTarget',
              value() {
                (this.target = null), this.kill();
              },
            },
            {
              key: 'goToConstruction',
              value() {
                if (!this.isConstructionInMinRange()) {
                  let t = this.target.sprite,
                    e = t.x,
                    i = t.y;
                  this.entity.moveTo(e, i);
                }
                this.motionManager.isMoving() && this.entity.stop(),
                this.setState(k);
              },
            },
            {
              key: 'addBuilderToConstruction',
              value() {
                if (this.isConstructionInMinRange()) {
                  const t = this.getInConstructionActivity();
                  t.isFull()
                    ? this.setState(I)
                    : (t.addBuilder(this.entity), this.setState(T));
                }
              },
            },
            {
              key: 'moveToRandomPosition',
              value() {
                this.moveToRandomPositionNextToTarget(), this.setState(O);
              },
            },
            {
              key: 'rotateToConstruction',
              value() {
                this.isEntityFacingTarget() ||
                  this.entity.rotateToTarget(this.target),
                this.setState(E);
              },
            },
            {
              key: 'weldingStarted',
              value() {
                this.motionManager.isMoving() && this.entity.stop();
                const t = x.game.game.time.time;
                (this.weldingAnimationSwapDueAt = t + 3e3),
                this.entity.animate('mining'),
                this.setState(S);
              },
            },
            {
              key: 'weldingAnimation',
              value() {
                x.game.game.time.time >= this.weldingAnimationSwapDueAt
                  ? (this.entity.stopAnimation(), this.setState(T))
                  : this.emitMiningEffects();
              },
            },
            {
              key: 'weldingFinished',
              value() {
                this.entity.stopAnimation(), this.setState(I);
              },
            },
            {
              key: 'goToBuilding',
              value() {
                this.moveToRandomPositionNextToTarget(2, !0), this.kill();
              },
            },
            {
              key: 'emitMiningEffects',
              value() {
                Math.random() < 0.025 &&
                  (this.effectManager.add({
                    id: 'muzzleflash-electric',
                    x: this.entity.getSprite().x + w.default.rnd(0, 10) - 5,
                    y: this.entity.getSprite().y + w.default.rnd(0, 10) - 5,
                  }),
                  this.playAudioEffects()),
                Math.random() < 0.025 &&
                    this.effectManager.add({
                      id: 'construction',
                      x: this.target.getSprite().x + w.default.rnd(0, 50) - 25,
                      y: this.target.getSprite().y + w.default.rnd(0, 50) - 25,
                    });
              },
            },
            {
              key: 'playAudioEffects',
              value() {
                let t = this,
                  e = M;
                if (
                  this.audioManager.calculateVolumeByCamera(this.entity.getSprite()) ===
                    1 &&
                  !this.audioBeingPlayed
                ) {
                  const i = this.audioManager.playAudioSpriteByConfig(e);
                  if (!i) return;
                  i.onStop.addOnce(() => {
                    t.audioBeingPlayed = !1;
                  }),
                  (this.audioBeingPlayed = !0);
                }
              },
            },
            {
              key: 'moveToRandomPositionNextToTarget',
              value() {
                let t =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : 1,
                  e =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  i = this.target.getDataObject(),
                  n = i.getWidth() * t,
                  r = i.getHeight() * t,
                  a = this.target.sprite,
                  o = a.x,
                  s = a.y;
                if (
                  ((o += w.default.rnd(0, n) - n / 2),
                  (s += w.default.rnd(0, r) - r / 2),
                  e)
                ) {
                  let u = this.target.sprite.x - n / 2,
                    l = this.target.sprite.x + n / 2,
                    c = this.target.sprite.y - r / 2,
                    h = this.target.sprite.y + r / 2;
                  o > u &&
                    o < l &&
                    s > c &&
                    s < h &&
                    (o = Math.abs(o - u) > Math.abs(o - l) ? u : l);
                }
                this.entity.moveTo(o, s);
              },
            },
            {
              key: 'update',
              value() {
                this.target || this.kill(),
                this.target.isInConstruction() ||
                    (this.state !== I && this.setState(C)),
                this.states[this.state]();
              },
            },
            {
              key: 'setState',
              value(t) {
                this.state = t;
              },
            },
            {
              key: 'setTarget',
              value(t) {
                if (!t) return void this.kill();
                (this.target = t),
                this.target.on('remove', this.onTargetEntityRemove);
              },
            },
            {
              key: 'getInConstructionActivity',
              value() {
                return this.target.getActivityManager().getCurrentActivity();
              },
            },
            {
              key: 'isConstructionInMinRange',
              value() {
                return (
                  w.default.distanceBetween(this.entity, this.target) <=
                  this._minRange
                );
              },
            },
            {
              key: 'isEntityFacingTarget',
              value() {
                return this.motionManager.isEntityFacingTargetEntity(this.target);
              },
            },
          ]),
          e
        );
      }(h.default));
    e.default = A;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function o(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function s(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let u =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      h = i(15),
      d = n(h),
      f = i(8),
      p = n(f),
      g = i(4),
      y = n(g),
      v = i(28),
      m = n(v),
      b = i(1),
      _ = n(b),
      w = i(11),
      x = n(w),
      P = i(3),
      k = n(P),
      T = window.fivenations,
      O = 1,
      E = 2,
      S = 3,
      C = 4,
      I = (function (t) {
        function e(t, i) {
          let n;
          a(this, e);
          const s = o(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            (s.otherEntities = i),
            (s.motionManager = t.getMotionManager()),
            (s.effectManager = m.default.getInstance()),
            (s.entityManager = x.default.getInstance()),
            (s.emitter = _.default.getInstance()),
            (s._minRange = 50),
            (s._isConstructionTypeHatch = t
              .getDataObject()
              .isConstructionTypeHatch()),
            (s.state = O),
            (s.states =
              ((n = {}),
              r(n, O, s.goToConstructionSite.bind(s)),
              r(n, E, s.enterConstructionSite.bind(s)),
              r(n, S, s.createConstructionSite.bind(s)),
              r(n, C, s.hatchIntoConstruction.bind(s)),
              n)),
            s
          );
        }
        return (
          s(e, t),
          l(e, [
            {
              key: 'activate',
              value() {
                c(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this);
              },
            },
            {
              key: 'goToConstructionSite',
              value() {
                if (!this.isConstructionSiteInMinRange()) {
                  let t = this.placementCoords,
                    e = t.x,
                    i = t.y;
                  this.entity.moveTo(e, i);
                }
                this.motionManager.isMoving() && this.entity.stop(),
                this.setState(E);
              },
            },
            {
              key: 'enterConstructionSite',
              value() {
                if (!this.isConstructionSiteInMinRange()) { return void this.setState(O); }
                this.entity.stop(),
                this.hasPlayerSufficientResources(this.entity.getGUID()) &&
                  !this.isConstructionSiteBlocked()
                  ? this._isConstructionTypeHatch
                    ? this.setState(C)
                    : this.setState(S)
                  : this.kill();
              },
            },
            {
              key: 'createConstructionSite',
              value() {
                let t = this,
                  e = y.default.getInstance(),
                  i = p.default.getInstance();
                e.isUserAuthorised() &&
                  (this.otherEntities &&
                    this.otherEntities
                      .filter(t => t)
                      .forEach((t) => {
                        t.getActivityManager().removeAll();
                      }),
                  this.createEntity()
                    .then(e => t.entityManager.entities(e))
                    .then(this.emitConstruct.bind(this)),
                  this.deductResources()),
                i.playAudioSprite({
                  sprite: 'sfx',
                  marker: 'putbuilding',
                  volume: i.calculateVolumeByCamera(this.entity.getSprite()),
                }),
                this.kill();
              },
            },
            {
              key: 'hatchIntoConstruction',
              value() {
                let t = y.default.getInstance(),
                  e = p.default.getInstance();
                t.isUserAuthorised() &&
                  (this.emitter.synced
                    .entities(this.entity)
                    .sprout({ entityId: this.entityId }),
                  this.deductResources()),
                e.playAudioSprite({
                  sprite: 'sfx',
                  marker: 'putbuilding',
                  volume: e.calculateVolumeByCamera(this.entity.getSprite()),
                }),
                this.kill();
              },
            },
            {
              key: 'createEntity',
              value() {
                let t = this.entity.getDataObject().getTeam(),
                  e = this.placementCoords,
                  i = e.x,
                  n = e.y;
                return this.emitter.synced.entities.add({
                  id: this.entityId,
                  inConstruction: !0,
                  team: t,
                  x: i,
                  y: n,
                });
              },
            },
            {
              key: 'emitConstruct',
              value(t) {
                const e = this;
                this.emitter.synced
                  .entities(this.entity)
                  .construct({ targetEntity: t }),
                this.otherEntities &&
                    this.otherEntities
                      .filter(t => t)
                      .forEach((i) => {
                        e.emitter.synced
                          .entities(i)
                          .construct({ targetEntity: t });
                      });
              },
            },
            {
              key: 'deductResources',
              value() {
                let t = this.entity.getPlayer(),
                  e = this.entityManager.getRequiredResources(this.entityId);
                Object.keys(e).forEach((t) => {
                  e[t] *= -1;
                }),
                this.emitter.synced
                  .players(t)
                  .alter(u({}, e, { builderGuid: this.entity.getGUID() }));
              },
            },
            {
              key: 'hasPlayerSufficientResources',
              value(t) {
                if (T.debug.unlimitedResource) return !0;
                for (
                  let e = this.entity.getPlayer(),
                    i = y.default.getInstance().getUser(),
                    n = e === i,
                    r = _.default.getInstance(),
                    a = this.entityManager.getRequiredResources(this.entityId),
                    o = e.getAvailableResources(t),
                    s = Object.keys(a),
                    u = 0;
                  u < s.length;
                  u += 1
                ) {
                  const l = s[u];
                  if (a[l] > o[l]) {
                    return (
                      n && r.local.dispatch(`resources/unsufficient/${l}`), !1
                    );
                  }
                }
                return !0;
              },
            },
            {
              key: 'update',
              value() {
                this.states[this.state]();
              },
            },
            {
              key: 'setState',
              value(t) {
                this.state = t;
              },
            },
            {
              key: 'setEntityId',
              value(t) {
                this.entityId = t;
              },
            },
            {
              key: 'setConstructionSiteCoords',
              value(t) {
                this.placementCoords = t;
              },
            },
            {
              key: 'isConstructionSiteInMinRange',
              value() {
                return (
                  k.default.distanceBetweenEntityAndCoords(
                    this.entity,
                    this.placementCoords,
                  ) <= this._minRange
                );
              },
            },
            {
              key: 'isConstructionSiteBlocked',
              value() {
                const t = {
                  x: this.placementCoords.x,
                  y: this.placementCoords.y,
                  id: this.entityId,
                  team: this.entity.getPlayer().getTeam(),
                  entity: this.entity,
                };
                return !this.entityManager.canEntityBePlacedAt(t);
              },
            },
            {
              key: 'getCoords',
              value() {
                return this.placementCoords;
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = I;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function o(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function s(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      c = i(15),
      h = n(c),
      d = i(4),
      f = n(d),
      p = i(28),
      g = n(p),
      y = i(1),
      v = n(y),
      m = i(11),
      b = n(m),
      _ = i(3),
      w = n(_),
      x = window.fivenations,
      P = 1,
      k = 2,
      T = 3,
      O = (function (t) {
        function e(t) {
          let i;
          a(this, e);
          const n = o(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            (n.motionManager = t.getMotionManager()),
            (n.effectManager = g.default.getInstance()),
            (n.entityManager = b.default.getInstance()),
            (n.emitter = v.default.getInstance()),
            (n._minRange = 50),
            (n.state = P),
            (n.states =
              ((i = {}),
              r(i, P, n.goToDeploymentSite.bind(n)),
              r(i, k, n.enterDeploymentSite.bind(n)),
              r(i, T, n.createDeploymentSite.bind(n)),
              i)),
            n
          );
        }
        return (
          s(e, t),
          u(e, [
            {
              key: 'activate',
              value() {
                l(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this);
              },
            },
            {
              key: 'goToDeploymentSite',
              value() {
                if (!this.isDeploymentSiteInMinRange()) {
                  let t = this.placementCoords,
                    e = t.x,
                    i = t.y;
                  this.entity.moveTo(e, i);
                }
                this.motionManager.isMoving() && this.entity.stop(),
                this.setState(k);
              },
            },
            {
              key: 'enterDeploymentSite',
              value() {
                if (this.isDeploymentSiteInMinRange()) {
                  return (
                    this.entity.stop(),
                    this.motionManager.isMoving()
                      ? void this.entity.stop()
                      : this.isEntityHeadedProperly()
                        ? void this.setState(T)
                        : void this.entity.rotateToCoords({
                          x: this.entity.sprite.x - 100,
                          y: this.entity.sprite.y,
                        })
                  );
                }
              },
            },
            {
              key: 'createDeploymentSite',
              value() {
                if (f.default.getInstance().isUserAuthorised()) {
                  let t = this.entity.getDataObject().getDeployMCVTo(),
                    e = t[0];
                  this.removeCurrentEntity(),
                  this.createNewEntity(e),
                  this.addEnergy(e);
                }
                this.kill();
              },
            },
            {
              key: 'removeCurrentEntity',
              value() {
                this.emitter.synced
                  .entities(this.entity)
                  .remove({ silent: !0 });
              },
            },
            {
              key: 'createNewEntity',
              value(t) {
                let e = this.entity.getDataObject().getTeam(),
                  i = this.entity.getDataObject(),
                  n = this.entity.isSelected(),
                  r = this.placementCoords,
                  a = r.x,
                  o = r.y;
                return this.emitter.synced.entities.add({
                  inDeployment: !0,
                  id: t,
                  team: e,
                  x: a,
                  y: o,
                  oldData: i,
                  isSelected: n,
                });
              },
            },
            {
              key: 'addEnergy',
              value(t) {
                let e = x.game.game.cache.getJSON(t),
                  i = this.entity.getPlayer();
                this.emitter.synced
                  .players(i)
                  .alter({ energy: e.energyStorage });
              },
            },
            {
              key: 'update',
              value() {
                this.states[this.state]();
              },
            },
            {
              key: 'setState',
              value(t) {
                this.state = t;
              },
            },
            {
              key: 'setEntityId',
              value(t) {
                this.entityId = t;
              },
            },
            {
              key: 'setDeploymentSiteCoords',
              value(t) {
                this.placementCoords = t;
              },
            },
            {
              key: 'isDeploymentSiteInMinRange',
              value() {
                return (
                  w.default.distanceBetweenEntityAndCoords(
                    this.entity,
                    this.placementCoords,
                  ) <= this._minRange
                );
              },
            },
            {
              key: 'isEntityAtDeploymentSite',
              value() {
                return (
                  !!this.preciseMoveToExecuted ||
                  ((this.preciseMoveToExecuted = !0), !1)
                );
              },
            },
            {
              key: 'isEntityHeadedProperly',
              value() {
                return (
                  this.entity.getMotionManager().getCurrentAngleCode() === 8 ||
                  this.entity.getMotionManager().getMaxAngleCount() === 1
                );
              },
            },
            {
              key: 'getCoords',
              value() {
                return this.placementCoords;
              },
            },
          ]),
          e
        );
      }(h.default));
    e.default = O;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function o(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function s(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let u =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      h = i(15),
      d = n(h),
      f = i(4),
      p = n(f),
      g = i(1),
      y = n(g),
      v = i(11),
      m = n(v),
      b = i(3),
      _ = n(b),
      w = i(2),
      x = 1,
      P = 2,
      k = 3,
      T = 4,
      O = 5,
      E = {
        icarus: 'icarusloaded',
        icarusloaded: 'icarus',
        harvester: 'harvesterloaded',
        harvesterloaded: 'harvester',
        hauler: 'haulerloaded',
        haulerloaded: 'hauler',
      },
      S = [
        { key: 'titanium', id: w.RESOURCE_TYPE_TITANIUM },
        { key: 'silicium', id: w.RESOURCE_TYPE_SILICIUM },
        { key: 'uranium', id: w.RESOURCE_TYPE_URANIUM },
      ],
      C = (function (t) {
        function e(t) {
          let i;
          a(this, e);
          const n = o(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            (n.motionManager = t.getMotionManager()),
            (n._capacity = n.entity.getDataObject().getCargoCapacity()),
            (n.state = x),
            (n.states =
              ((i = {}),
              r(i, x, n.goToPickUpPoint.bind(n)),
              r(i, P, n.waitForCargo.bind(n)),
              r(i, k, n.cargoIsReadyToBeDelivered.bind(n)),
              r(i, T, n.goToDeliveryPoint.bind(n)),
              r(i, O, n.deliveryFinished.bind(n)),
              i)),
            (n.onPickUpPointRemove = n.releaseDeliverer.bind(n)),
            (n.onDeliveryPointRemove = n.setClosestDeliveryPoint.bind(n)),
            n
          );
        }
        return (
          s(e, t),
          l(e, [
            {
              key: 'activate',
              value() {
                if (
                  (c(
                    e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                    'activate',
                    this,
                  ).call(this),
                  !this._capacity)
                ) { return void this.kill(); }
                if (
                  ((this.pickUpPoint = this.entity.getHomeStation()),
                  this.pickUpPoint)
                ) {
                  (this.pickUpPoint._alterCargoInProgress = !1),
                  this.pickUpPoint.on('remove', this.onPickUpPointRemove),
                  (this._pickUpPointRange = this.pickUpPoint
                    .getDataObject()
                    .getWidth());
                } else if (!this.hasDelivererCargo()) return void this.kill();
                this.setClosestDeliveryPoint();
              },
            },
            {
              key: 'kill',
              value() {
                this.pickUpPoint &&
                  this.pickUpPoint.off('remove', this.onPickUpPointRemove),
                this.dropOffPoint &&
                    this.dropOffPoint.off('remove', this.onDeliveryPointRemove),
                c(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this);
              },
            },
            {
              key: 'goToPickUpPoint',
              value() {
                if (!this.pickUpPoint) return void this.kill();
                this.isPickUpPointInMinRange() ||
                  this.entity.moveToEntity(this.pickUpPoint),
                this.motionManager.isMoving() && this.entity.stop(),
                this.setState(P);
              },
            },
            {
              key: 'waitForCargo',
              value() {
                this.hasPickUpPointCargo() &&
                  !this.pickUpPoint._alterCargoInProgress &&
                  (this.pickUpCargo(), this.setState(k));
              },
            },
            {
              key: 'cargoIsReadyToBeDelivered',
              value() {
                this.setClosestDeliveryPoint(),
                this.dropOffPoint && this.setState(T);
              },
            },
            {
              key: 'goToDeliveryPoint',
              value() {
                return this.dropOffPoint
                  ? this.isDeliveryPointInMinRange()
                    ? (this.motionManager.isMoving() && this.entity.stop(),
                    void this.setState(O))
                    : void this.entity.moveToEntity(this.dropOffPoint)
                  : void this.kill();
              },
            },
            {
              key: 'deliveryFinished',
              value() {
                this.dropOffCargo(), this.setState(x);
              },
            },
            {
              key: 'dropOffCargo',
              value() {
                if (p.default.getInstance().isUserAuthorised()) {
                  let t = y.default.getInstance(),
                    e = this.entity.getDataObject(),
                    i = e.getCargo(),
                    n = this.dropOffPoint.getPlayer();
                  this.entity.dispatch('droppedOffCargo'),
                  (i.titanium > 0 || i.silicium > 0 || i.uranium > 0) &&
                      this.changeCargoSprite(),
                  t.synced
                    .entities(this.entity)
                    .alterCargo({
                      titanium: 0,
                      silicium: 0,
                      uranium: 0,
                      overwrite: !0,
                    }),
                  t.synced
                    .players(n)
                    .alter({
                      titanium: i.titanium,
                      silicium: i.silicium,
                      uranium: i.uranium,
                    });
                }
              },
            },
            {
              key: 'hasPickUpPointEnoughCargo',
              value() {
                return this.getSumCargoAtPickUpPoint() >= this._capacity;
              },
            },
            {
              key: 'hasPickUpPointCargo',
              value() {
                return this.getSumCargoAtPickUpPoint() > 0;
              },
            },
            {
              key: 'hasDelivererCargo',
              value() {
                return this.getSumCargo(this.entity);
              },
            },
            {
              key: 'findClosestDeliveryPoint',
              value() {
                let t = m.default.getInstance(),
                  e = this.entity.getSprite(),
                  i = this.entity.getTeam();
                return t
                  .entities(`:player(${i})`)
                  .filter((t) => {
                    const e = t.getDataObject();
                    return (
                      !t.isHibernated() &&
                      !t.isInConstruction() &&
                      e.getType() === 'mainbase'
                    );
                  })
                  .sort((t, i) => (
                    _.default.distanceBetweenSprites(e, t.getSprite()) -
                      _.default.distanceBetweenSprites(e, i.getSprite())
                  ))
                  .shift();
              },
            },
            {
              key: 'pickUpCargo',
              value() {
                const t = this;
                if (p.default.getInstance().isUserAuthorised()) {
                  let e = y.default.getInstance(),
                    i = this.pickUpPoint.getDataObject(),
                    n = i.getCargo(),
                    r = this.entity.getDataObject().getCargoCapacity(),
                    a = {},
                    o = Math.max(
                      0,
                      r - this.entity.getDataObject().getCargoSum(),
                    ),
                    s = this.entity.getDataObject(),
                    l = s.getCargo();
                  l.titanium === 0 &&
                    l.silicium === 0 &&
                    l.uranium === 0 &&
                    this.changeCargoSprite(),
                  S.sort(e => (t.entity.getResourcePriority() === e.id ? -1 : 1))
                    .map(t => t.key)
                    .forEach((t) => {
                      if (n[t] > 0 && o > 0) {
                        const e = Math.min(n[t], o);
                        (n[t] = -e), (a[t] = e), (o -= e);
                      } else n[t] = 0;
                    }),
                  (this.pickUpPoint._alterCargoInProgress = !0),
                  e.synced
                    .entities(this.pickUpPoint)
                    .alterCargo(n)
                    .then(() => {
                      t.pickUpPoint._alterCargoInProgress = !1;
                    }),
                  e.synced.entities(this.entity).alterCargo(u({}, a));
                }
              },
            },
            {
              key: 'releaseDeliverer',
              value() {
                this.entity.setNoUserControl(!1);
              },
            },
            {
              key: 'update',
              value() {
                this.states[this.state]();
              },
            },
            {
              key: 'setState',
              value(t) {
                this.state = t;
              },
            },
            {
              key: 'setTarget',
              value(t) {
                this.target &&
                  this.target.off('remove', this.onTargetEntityRemove),
                (this.target = t),
                t && this.target.on('remove', this.onTargetEntityRemove);
              },
            },
            {
              key: 'removeTarget',
              value() {
                this.setTarget(null);
              },
            },
            {
              key: 'setDeliveryPoint',
              value(t) {
                this.dropOffPoint &&
                  this.dropOffPoint.off('remove', this.onDeliveryPointRemove),
                (this.dropOffPoint = t),
                (this._dropOffPointRange = this.dropOffPoint
                  .getDataObject()
                  .getWidth()),
                this.dropOffPoint.on('remove', this.onDeliveryPointRemove);
              },
            },
            {
              key: 'setClosestDeliveryPoint',
              value() {
                const t = this.findClosestDeliveryPoint();
                t ? this.setDeliveryPoint(t) : this.kill();
              },
            },
            {
              key: 'setStatusToReturnToDropOffPoint',
              value() {
                this.setState(T);
              },
            },
            {
              key: 'isPickUpPointInMinRange',
              value() {
                return (
                  _.default.distanceBetween(this.entity, this.pickUpPoint) <=
                  this._pickUpPointRange + w.TILE_WIDTH
                );
              },
            },
            {
              key: 'isDeliveryPointInMinRange',
              value() {
                return (
                  _.default.distanceBetween(this.entity, this.dropOffPoint) <=
                  this._dropOffPointRange + w.TILE_WIDTH
                );
              },
            },
            {
              key: 'getSumCargoAtPickUpPoint',
              value() {
                return this.getSumCargo(this.pickUpPoint);
              },
            },
            {
              key: 'getSumCargo',
              value(t) {
                const e = t.getDataObject().getCargo();
                return ['titanium', 'silicium', 'uranium'].reduce(
                  (
                    t,
                    i,
                  ) => t + e[i],
                  0,
                );
              },
            },
            {
              key: 'changeCargoSprite',
              value() {
                const t = this.entity.getSprite().key;
                this.entity.replaceEntity({ id: E[t] });
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = C;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(15),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'activate',
              value() {
                const t = this;
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this);
                const i = this.entity.getHomeStation();
                (this.entity.homeStation = null),
                (i.deliverer = null),
                i.on('remove', () => {
                  t.entity.homeStation = null;
                }),
                this.entity.on('remove', () => {
                  i.deliverer = null;
                }),
                this.entity.stop();
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(15),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return (i.entity = t), (i.targetEntity = null), (i.weapons = []), i;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'activate',
              value() {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                this.hasTarget() &&
                    this.hasWeapons() &&
                    (this.launchAllWeapons(), this.revealFogOfWarTile()),
                this.kill();
              },
            },
            {
              key: 'hasTarget',
              value() {
                return this.targetEntity;
              },
            },
            {
              key: 'hasWeapons',
              value() {
                return this.weapons.length;
              },
            },
            {
              key: 'launchAllWeapons',
              value() {
                const t = this;
                this.weapons.forEach((e) => {
                  e.fire(t.targetEntity);
                });
              },
            },
            {
              key: 'revealFogOfWarTile',
              value() {
                this.entity.revealEntityInFogOfWar(this.targetEntity.getPlayer());
              },
            },
            {
              key: 'setTarget',
              value(t) {
                this.targetEntity = t;
              },
            },
            {
              key: 'setWeapons',
              value(t) {
                this.weapons = Array.prototype.concat.call(this.weapons, t);
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(83),
      c = n(l),
      h = i(3),
      d = n(h),
      f = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (i.killable = !1), i;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'update',
              value() {
                this.target &&
                  (this.calculateDistance(),
                  this._distance < 100 || this.moveTowardsTarget());
              },
            },
            {
              key: 'calculateDistance',
              value() {
                this._distance = d.default.distanceBetweenEntityAndCoords(
                  this.target,
                  this.coords,
                );
              },
            },
            {
              key: 'activate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                this.entity && this.target && this.moveTowardsTarget();
              },
            },
            {
              key: 'moveTowardsTarget',
              value() {
                this.setCoords({
                  x: this.target.getSprite().x,
                  y: this.target.getSprite().y,
                }),
                this.target.getDataObject().isBuilding()
                  ? (this.entity.moveToEntity(this.target), this.kill())
                  : this.entity.getMotionManager().moveTo(this);
              },
            },
            {
              key: 'setTarget',
              value(t) {
                this.target = t;
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = f;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(83),
      c = n(l),
      h = i(3),
      d = n(h),
      f = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'update',
              value() {
                this.calculateDistance(),
                this.isInMinRange() && (this.entity.stop(), this.kill());
              },
            },
            {
              key: 'activate',
              value() {
                const t =
                  !(arguments.length > 0 && void 0 !== arguments[0]) ||
                  arguments[0];
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this, t);
              },
            },
            {
              key: 'calculateDistance',
              value() {
                this._distance = d.default.distanceBetweenEntityAndCoords(
                  this.entity,
                  this.coords,
                );
              },
            },
            {
              key: 'setRange',
              value(t) {
                this._minRange = t;
              },
            },
            {
              key: 'isInMinRange',
              value() {
                return this._distance <= this._minRange;
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = f;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(189),
      c = n(l),
      h = i(4),
      d = n(h),
      f = i(1),
      p = n(f),
      g = i(3),
      y = n(g),
      v = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'activate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this, !1);
              },
            },
            {
              key: 'update',
              value() {
                if (this.target) {
                  if (
                    y.default.distanceBetween(this.entity, this.target) <=
                    this.range
                  ) {
                    return (
                      this.entity.stop(), this.emitDockEvent(), void this.kill()
                    );
                  }
                  (this.coords.x === this.target.getSprite().x &&
                    this.coords.y === this.target.getSprite().y) ||
                    this.moveTowardsTarget();
                }
              },
            },
            {
              key: 'moveTowardsTarget',
              value() {
                this.setCoords({
                  x: this.target.getSprite().x,
                  y: this.target.getSprite().y,
                }),
                this.entity.getMotionManager().moveTo(this);
              },
            },
            {
              key: 'setTarget',
              value(t) {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'setTarget',
                  this,
                ).call(this, t),
                t && (this.range = t.getDataObject().getWidth());
              },
            },
            {
              key: 'emitDockEvent',
              value() {
                let t = this,
                  e = d.default.getInstance().isUserAuthorised(),
                  i = this.target.getDockedFighters(),
                  n = i.some(e => e === t.entity),
                  r = this.target.dataObject.getMaxHangar();
                !e ||
                  r <= 0 ||
                  this.entity.getPlayer() !== this.target.getPlayer() ||
                  (r <= i.length && !n) ||
                  p.default
                    .getInstance()
                    .synced.entities(this.entity)
                    .dock({
                      targetEntity: this.target,
                      resetActivityQueue: !0,
                    });
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = v;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function o(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function s(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let u = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      h = i(15),
      d = n(h),
      f = i(8),
      p = n(f),
      g = i(28),
      y = n(g),
      v = i(1),
      m = n(v),
      b = i(4),
      _ = n(b),
      w = 1,
      x = 2,
      P = 3,
      k = 4,
      T = 6,
      O = 7,
      E = 8,
      S = 9,
      C = window.fivenations,
      I = (function (t) {
        function e(t) {
          let i;
          a(this, e);
          let n = o(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
            ),
            s = u(Phaser.GAMES, 1);
          return (
            (n.game = s[0]),
            (n.motionManager = t.getMotionManager()),
            (n.effectManager = y.default.getInstance()),
            (n.audioManager = p.default.getInstance()),
            (n.state = w),
            (n.onProductionReadyCallback = n.onProductionReady.bind(n)),
            (n.onProductionCancelCallback = n.onProductionCancel.bind(n)),
            (n.states =
              ((i = {}),
              r(i, w, n.stopEntity.bind(n)),
              r(i, x, n.replaceEntity.bind(n)),
              r(i, P, n.startPupation.bind(n)),
              r(i, k, n.startHatch.bind(n)),
              r(i, T, n.waitForHatchFinished.bind(n)),
              r(i, O, n.startFadeOut.bind(n)),
              r(i, E, n.waitForFadeOutFinished.bind(n)),
              r(i, S, n.fadeOutFinished.bind(n)),
              i)),
            n
          );
        }
        return (
          s(e, t),
          l(e, [
            {
              key: 'kill',
              value() {
                this.entity.off(
                  'production/completed',
                  this.onProductionReadyCallback,
                ),
                this.entity.off(
                  'production/cancel',
                  this.onProductionCancelCallback,
                ),
                c(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this);
              },
            },
            {
              key: 'stopEntity',
              value() {
                this.motionManager.isMoving()
                  ? this.entity.stop()
                  : this.setState(x);
              },
            },
            {
              key: 'replaceEntity',
              value() {
                const t = this.entity.getDataObject().getHatchTo();
                if (!t) return void this.kill();
                this.entity.replaceEntity({ id: t }), this.setState(P);
              },
            },
            {
              key: 'startPupation',
              value() {
                const t = this;
                this.entity.animate('pupation').then(() => {
                  t.entity.animate('idle');
                }),
                this.entity.once(
                  'production/completed',
                  this.onProductionReadyCallback,
                ),
                this.entity.once(
                  'production/cancel',
                  this.onProductionCancelCallback,
                ),
                this.setState(5);
              },
            },
            {
              key: 'startHatch',
              value() {
                let t = this.entity.getSprite(),
                  e = t.x,
                  i = t.y;
                (this.hatchTime = C.game.turn + 30),
                this.entity.animate('hatch'),
                this.effectManager.add({ id: 'zho-hatch', x: e, y: i }),
                this.setState(T);
              },
            },
            {
              key: 'waitForHatchFinished',
              value() {
                C.game.turn >= this.hatchTime && this.setState(O);
              },
            },
            {
              key: 'startFadeOut',
              value() {
                (this.fadeOutTime = C.game.turn + 30),
                this.game.add
                  .tween(this.entity.getSprite())
                  .to({ alpha: 0 }, 500, Phaser.Easing.Linear.None, !0),
                this.setState(E);
              },
            },
            {
              key: 'waitForFadeOutFinished',
              value() {
                C.game.turn >= this.fadeOutTime && this.setState(S);
              },
            },
            {
              key: 'fadeOutFinished',
              value() {
                let t = _.default.getInstance().isUserAuthorised(),
                  e = m.default.getInstance().synced.entities;
                t && e(this.entity).remove({ silent: !0 }),
                this.resetNewEntity(),
                this.kill();
              },
            },
            {
              key: 'onProductionReady',
              value(t) {
                (this._producedEntity = t),
                this.scaleUpNewEntity(t),
                this.changeSelectionToNewEntity(t),
                this.setState(k);
              },
            },
            {
              key: 'changeSelectionToNewEntity',
              value(t) {
                this.entity.isSelected() &&
                  (this.entity.unselect(), t.select());
              },
            },
            {
              key: 'scaleUpNewEntity',
              value(t) {
                const e = t.getSprite();
                (e.visible = !0),
                this.game.add
                  .tween(e.scale)
                  .from({ x: 0, y: 0 }, 700, Phaser.Easing.Linear.None, !0);
              },
            },
            {
              key: 'resetNewEntity',
              value() {
                const t = this._producedEntity.getSprite();
                t.scale.set(1), (t.visible = !0);
              },
            },
            {
              key: 'onProductionCancel',
              value() {
                this.entity.cancelHatch();
              },
            },
            {
              key: 'update',
              value() {
                this.states[this.state] && this.states[this.state]();
              },
            },
            {
              key: 'setState',
              value(t) {
                this.state = t;
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = I;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(15),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return (i.entity = t), (i.motionManager = t.getMotionManager()), i;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'update',
              value() {
                this.motionManager.isMoving() && this.entity.stop();
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = l;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(15),
      c = n(l),
      h = i(4),
      d = n(h),
      f = i(1),
      p = n(f),
      g = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return i.setEntity(t), i;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'setEntity',
              value(t) {
                this.entity = t;
              },
            },
            {
              key: 'activate',
              value() {
                if (
                  (u(
                    e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                    'activate',
                    this,
                  ).call(this),
                  d.default.getInstance().isUserAuthorised() &&
                    !this.entity.isHibernated())
                ) {
                  const t = this.entity.getDockerEntity();
                  t &&
                    (0, p.default.getInstance().synced.entities)(this.entity).getToDock({ targetEntity: t });
                }
                this.entity.getMotionManager().isMoving() &&
                  this.entity.getMotionManager().stop(),
                this.entity.animate('idle'),
                this.entity.levitate();
              },
            },
            {
              key: 'deactivate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'deactivate',
                  this,
                ).call(this),
                this.entity.stopLevitating();
              },
            },
            {
              key: 'kill',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this);
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = g;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(15),
      c = n(l),
      h = i(2),
      d = i(1),
      f = n(d),
      p = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return i.setEntity(t), i;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'setEntity',
              value(t) {
                this.entity = t;
              },
            },
            {
              key: 'start',
              value() {
                this.entity.setNoUserControl(!0),
                this.entity.animate('deploy').then(this.kill.bind(this));
              },
            },
            {
              key: 'stop',
              value() {
                f.default
                  .getInstance()
                  .local.dispatch('gui/controlpage/update'),
                this.entity.setNoUserControl(!1),
                this.entity.stopAnimation(),
                this.entity.animate(h.ANIMATION_IDLE_FOREVER);
              },
            },
            {
              key: 'activate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                this.start();
              },
            },
            {
              key: 'deactivate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'deactivate',
                  this,
                ).call(this),
                this.stop();
              },
            },
            {
              key: 'kill',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this),
                this.stop();
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = p;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(15),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return i.createHelpers(), i.addEventListeners(), i;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'createHelpers',
              value() {
                (this.Miners = []),
                (this.onMinerEntityRemove = this.removeMiner.bind(this)),
                (this.onEntityRemove = this.removeEntity.bind(this));
              },
            },
            {
              key: 'addEventListeners',
              value() {
                this.entity.on('remove', this.onEntityRemove);
              },
            },
            {
              key: 'kill',
              value() {
                this.entity.off('remove', this.onEntityRemove),
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this);
              },
            },
            {
              key: 'update',
              value() {
                this.Miners.length === 0 && this.kill();
              },
            },
            {
              key: 'addMiner',
              value(t) {
                this.Miners.push(t),
                this.entity.dispatch('updateHangar'),
                t.on('remove', this.onMinerEntityRemove);
              },
            },
            {
              key: 'removeMiner',
              value(t) {
                (this.Miners = this.Miners.filter(e => t !== e)),
                this.entity.dispatch('updateHangar'),
                t.off('remove', this.onMinerEntityRemove);
              },
            },
            {
              key: 'removeEntity',
              value() {
                this.kill();
              },
            },
            {
              key: 'getMiners',
              value() {
                return this.Miners;
              },
            },
            {
              key: 'isMinersWorksThere',
              value(t) {
                return this.Miners.some(e => e === t);
              },
            },
            {
              key: 'getMaxMinerCount',
              value() {
                return 2;
              },
            },
            {
              key: 'isFull',
              value() {
                return this.Miners.length === 2;
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function o(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function s(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let u =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      h = i(15),
      d = n(h),
      f = i(8),
      p = n(f),
      g = i(4),
      y = n(g),
      v = i(28),
      m = n(v),
      b = i(1),
      _ = n(b),
      w = i(11),
      x = n(w),
      P = i(3),
      k = n(P),
      T = window.fivenations,
      O = { id: 'extraction-operations', rate: 0.5 },
      E = 1,
      S = 2,
      C = 3,
      I = 4,
      M = 5,
      A = 6,
      R = 7,
      L = 8,
      D = ['mining_01', 'mining_02', 'mining_03', 'mining_04'],
      B = (function (t) {
        function e(t) {
          let i;
          a(this, e);
          const n = o(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            (n.audioManager = p.default.getInstance()),
            (n.motionManager = t.getMotionManager()),
            (n.effectManager = m.default.getInstance()),
            (n._minRange = 50),
            (n.state = E),
            (n.states =
              ((i = {}),
              r(i, E, n.goToResource.bind(n)),
              r(i, S, n.moveToRandomPosition.bind(n)),
              r(i, C, n.rotateToResource.bind(n)),
              r(i, I, n.mineResourceStarted.bind(n)),
              r(i, M, n.mineResourceAnimation.bind(n)),
              r(i, A, n.mineResourceFininshed.bind(n)),
              r(i, R, n.returnToStation.bind(n)),
              r(i, L, n.mineCycleCompleted.bind(n)),
              i)),
            (n.onTargetEntityRemove = n.setClosestTargetResource.bind(n)),
            (n.onTargetStationRemove = n.setClosestTargetStation.bind(n)),
            n
          );
        }
        return (
          s(e, t),
          l(e, [
            {
              key: 'activate',
              value() {
                if (this.target) {
                  if (this.target.getDataObject().isResource()) {
                    if (
                      !this.findClosestTargetStation() &&
                      this.entity.getPlayer().isControlledByUser()
                    ) {
                      const t = _.default.getInstance();
                      this.isUserHasMiningStations()
                        ? t.local.dispatch('mine/full-target-station')
                        : t.local.dispatch('mine/no-target-station');
                    }
                  } else this.kill();
                } else if (!this.entity.getDataObject().getCargoSum()) { return void this.kill(); }
                c(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this);
              },
            },
            {
              key: 'kill',
              value() {
                this.target &&
                  (this.target.off('remove', this.onTargetEntityRemove),
                  this.target.isInMine()) &&
                  this.getInMineActivity().removeMiner(this.entity),
                this.targetStation &&
                    this.targetStation.off(
                      'remove',
                      this.onTargetStationRemove,
                    ),
                c(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this);
              },
            },
            {
              key: 'goToResource',
              value() {
                this.isResourceInMinRange() ||
                  this.entity.moveToEntity(this.target),
                this.motionManager.isMoving() && this.entity.stop(),
                this.isEntityCargoFullUp()
                  ? this.setState(A)
                  : this.setState(S);
              },
            },
            {
              key: 'moveToRandomPosition',
              value() {
                this.moveToRandomPositionNextToTarget(), this.setState(C);
              },
            },
            {
              key: 'rotateToResource',
              value() {
                this.isEntityFacingTarget() ||
                  this.entity.rotateToTarget(this.target),
                this.setState(I);
              },
            },
            {
              key: 'mineResourceStarted',
              value() {
                this.target.isInMine() || this.target.inMine();
                const t = this.getInMineActivity();
                if (!t.isMinersWorksThere(this.entity)) {
                  if (t.isFull()) { return void this.setClosestTargetResource(this.target); }
                  t.addMiner(this.entity);
                }
                let e = this.entity.getPlayer(),
                  i = T.game.turn,
                  n = e.hasResearchCompleted(O.id) ? O.rate : 1;
                (this.mineResourceCompletedDueAt = i + 300 * n),
                this.entity.animate('mining'),
                this.setState(M);
              },
            },
            {
              key: 'mineResourceAnimation',
              value() {
                T.game.turn >= this.mineResourceCompletedDueAt
                  ? (this.pickUpCargo(), this.setState(A))
                  : this.emitMiningEffects();
              },
            },
            {
              key: 'mineResourceFininshed',
              value() {
                this.entity.stopAnimation(),
                this.setClosestTargetStation(),
                this.targetStation ? this.setState(R) : this.kill();
              },
            },
            {
              key: 'returnToStation',
              value() {
                return this.targetStation
                  ? (this.isStationFullUp() && this.setClosestTargetStation(),
                  this.isStationInMinRange()
                    ? (this.motionManager.isMoving() && this.entity.stop(),
                    void this.setState(L))
                    : void this.entity.moveToEntity(this.targetStation))
                  : void this.kill();
              },
            },
            {
              key: 'mineCycleCompleted',
              value() {
                this.dropOffCargoAtStation(),
                this.target ? this.setState(E) : this.kill();
              },
            },
            {
              key: 'findNextClosestResource',
              value(t) {
                const e = this;
                return t
                  .getClosestAllyEntitiesInRange()
                  .filter(t => (
                    t.getDataObject().isResource() &&
                      e.isResourceSameTypeThanCurrent(t) &&
                      !t.isHibernated() &&
                      (!t.isInMine() ||
                        (t.isInMine() &&
                          !t
                            .getActivityManager()
                            .getCurrentActivity()
                            .isFull()))
                  ))
                  .shift();
              },
            },
            {
              key: 'findClosestTargetStation',
              value() {
                let t = this,
                  e = x.default.getInstance(),
                  i = this.entity.getSprite();
                return e
                  .entities(':not(hibernated)')
                  .filter((e) => {
                    const i = e.getDataObject();
                    return (
                      !e.isInConstruction() &&
                      e.getTeam() === t.entity.getTeam() &&
                      i.isMiningStation() &&
                      !i.isCargoFull()
                    );
                  })
                  .sort((t, e) => (
                    k.default.distanceBetweenSprites(i, t.getSprite()) -
                      k.default.distanceBetweenSprites(i, e.getSprite())
                  ))
                  .shift();
              },
            },
            {
              key: 'pickUpCargo',
              value() {
                if (y.default.getInstance().isUserAuthorised()) {
                  let t = _.default.getInstance(),
                    e = this.target.getDataObject(),
                    i = e.getCargo(),
                    n = this.entity.getDataObject().getCargoCapacity(),
                    r = void 0,
                    a = void 0,
                    o = void 0;
                  i.titanium > 0
                    ? ((n = Math.min(i.titanium, n)),
                    (i.titanium = -n),
                    (r = n))
                    : i.silicium > 0
                      ? ((n = Math.min(i.silicium, n)),
                      (i.silicium = -n),
                      (a = n))
                      : i.uranium > 0 &&
                      ((n = Math.min(i.uranium, n)), (i.uranium = -n), (o = n)),
                  t.synced
                    .entities(this.target)
                    .alterCargo(u({ damage: n }, i)),
                  t.synced
                    .entities(this.entity)
                    .alterCargo({
                      titanium: r,
                      silicium: a,
                      uranium: o,
                      overwrite: !0,
                    });
                }
              },
            },
            {
              key: 'dropOffCargoAtStation',
              value() {
                if (y.default.getInstance().isUserAuthorised) {
                  let t = _.default.getInstance(),
                    e = this.entity.getDataObject(),
                    i = this.targetStation.getDataObject(),
                    n = e.getCargo(),
                    r = e.getCargoSum(),
                    a = i.getCargoSum(),
                    o = i.getCargoCapacity(),
                    s = a + r - o;
                  if (s > 0) {
                    if (n.titanium > 0) {
                      const u = n.titanium - s;
                      (n.titanium = Math.max(0, u)), (s -= n.titanium);
                    }
                    if (n.silicium > 0 && s > 0) {
                      const l = n.silicium - s;
                      (n.silicium = Math.max(0, l)), (s -= n.silicium);
                    }
                    if (n.silicium > 0 && s > 0) {
                      const c = n.uranium - s;
                      (n.uranium = Math.max(0, c)), (s -= n.uranium);
                    }
                  }
                  t.synced.entities(this.targetStation).alterCargo(n),
                  t.synced
                    .entities(this.entity)
                    .alterCargo({
                      titanium: 0,
                      silicium: 0,
                      uranium: 0,
                      overwrite: !0,
                    });
                }
              },
            },
            {
              key: 'emitMiningEffects',
              value() {
                Math.random() < 0.05 &&
                  (this.effectManager.add({
                    id: 'muzzleflash-electric',
                    x: this.entity.getSprite().x + k.default.rnd(0, 10) - 5,
                    y: this.entity.getSprite().y + k.default.rnd(0, 10) - 5,
                  }),
                  this.playAudioEffects()),
                Math.random() < 0.05 &&
                    this.effectManager.add({
                      id: 'construction',
                      x: this.target.getSprite().x + k.default.rnd(0, 50) - 25,
                      y: this.target.getSprite().y + k.default.rnd(0, 50) - 25,
                    });
              },
            },
            {
              key: 'playAudioEffects',
              value() {
                let t = this,
                  e = D;
                if (
                  this.audioManager.calculateVolumeByCamera(this.entity.getSprite()) ===
                    1 &&
                  !this.audioBeingPlayed
                ) {
                  const i = this.audioManager.playAudioSpriteByConfig(e);
                  if (!i) { return void console.warn(`Audio not found for config: ${e}`); }
                  i.onStop.addOnce(() => {
                    t.audioBeingPlayed = !1;
                  }),
                  (this.audioBeingPlayed = !0);
                }
              },
            },
            {
              key: 'moveToRandomPositionNextToTarget',
              value() {
                let t =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : 1,
                  e =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                  i = this.target.getDataObject(),
                  n = i.getWidth() * t,
                  r = i.getHeight() * t,
                  a = this.target.sprite,
                  o = a.x,
                  s = a.y;
                if (
                  ((o += k.default.rnd(0, n) - n / 2),
                  (s += k.default.rnd(0, r) - r / 2),
                  e)
                ) {
                  let u = this.target.sprite.x - n / 2,
                    l = this.target.sprite.x + n / 2,
                    c = this.target.sprite.y - r / 2,
                    h = this.target.sprite.y + r / 2;
                  o > u &&
                    o < l &&
                    s > c &&
                    s < h &&
                    (o = Math.abs(o - u) > Math.abs(o - l) ? u : l);
                }
                this.entity.moveTo(o, s);
              },
            },
            {
              key: 'update',
              value() {
                this.states[this.state]();
              },
            },
            {
              key: 'setState',
              value(t) {
                this.state = t;
              },
            },
            {
              key: 'setTarget',
              value(t) {
                if (
                  (this.target &&
                    this.target.off('remove', this.onTargetEntityRemove),
                  !t)
                ) { return void this.kill(); }
                (this.target = t),
                (this.targetType = t.getDataObject().getResourceType()),
                t && this.target.on('remove', this.onTargetEntityRemove);
              },
            },
            {
              key: 'removeTarget',
              value() {
                this.setTarget(null);
              },
            },
            {
              key: 'setTargetStation',
              value(t) {
                this.targetStation &&
                  this.targetStation.off('remove', this.onTargetStationRemove),
                (this.targetStation = t),
                this.targetStation.on('remove', this.onTargetStationRemove);
              },
            },
            {
              key: 'setClosestTargetResource',
              value(t) {
                const e = this.findNextClosestResource(t);
                e
                  ? (this.setTarget(e), this.setState(E))
                  : ((this.target = null), this.setState(R));
              },
            },
            {
              key: 'setClosestTargetStation',
              value() {
                const t = this.findClosestTargetStation();
                t ? this.setTargetStation(t) : this.kill();
              },
            },
            {
              key: 'setStatusToReturnToStation',
              value() {
                this.setState(R);
              },
            },
            {
              key: 'isUserHasMiningStations',
              value() {
                const t = this;
                return x.default
                  .getInstance()
                  .entities(':not(hibernated)')
                  .some((e) => {
                    const i = e.getDataObject();
                    return (
                      !e.isInConstruction() &&
                      e.getTeam() === t.entity.getTeam() &&
                      i.isMiningStation()
                    );
                  });
              },
            },
            {
              key: 'isResourceInMinRange',
              value() {
                return (
                  k.default.distanceBetween(this.entity, this.target) <=
                  this._minRange
                );
              },
            },
            {
              key: 'isStationInMinRange',
              value() {
                return (
                  k.default.distanceBetween(this.entity, this.targetStation) <=
                  this._minRange
                );
              },
            },
            {
              key: 'isStationFullUp',
              value() {
                return this.targetStation.getDataObject().isCargoFull();
              },
            },
            {
              key: 'isEntityCargoFullUp',
              value() {
                return this.entity.getDataObject().isCargoFull();
              },
            },
            {
              key: 'isEntityFacingTarget',
              value() {
                return this.motionManager.isEntityFacingTargetEntity(this.target);
              },
            },
            {
              key: 'isResourceSameTypeThanCurrent',
              value(t) {
                return this.targetType === t.getDataObject().getResourceType();
              },
            },
            {
              key: 'getInMineActivity',
              value() {
                return this.target.getActivityManager().getCurrentActivity();
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = B;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(15),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = i(2),
      h = 1,
      d = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return (
            (i.start = { x: 0, y: 0 }),
            (i.dest = { x: 0, y: 0 }),
            (i.currentTarget = h),
            (i.entity = t),
            i
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'moveEntityToPatrolPositions',
              value() {
                this.entity &&
                  this.entity.canMove() &&
                  !this.entity.getInTransform() &&
                  (this.calculateDistance(), this.createMoveActivity());
              },
            },
            {
              key: 'calculateDistance',
              value() {
                (this.start.distance = Phaser.Math.distance(
                  this.entity.getSprite().x,
                  this.entity.getSprite().y,
                  this.start.x,
                  this.start.y,
                )),
                (this.dest.distance = Phaser.Math.distance(
                  this.entity.getSprite().x,
                  this.entity.getSprite().y,
                  this.dest.x,
                  this.dest.y,
                ));
              },
            },
            {
              key: 'createMoveActivity',
              value() {
                if (this.start.distance < 50 && this.dest.distance < 50) { return void this.kill(); }
                const t = this.entity.getTileObj();
                return this.dest.distance < 50 && this.currentTarget === h
                  ? this.terminateAtDesition
                    ? void this.kill()
                    : t.x === Math.floor(this.start.x / c.TILE_WIDTH) &&
                      t.y === Math.floor(this.start.y / c.TILE_HEIGHT)
                      ? void this.kill()
                      : (this.entity.moveTo(this.start.x, this.start.y),
                      void (this.currentTarget = 0))
                  : t.x === Math.floor(this.dest.x / c.TILE_WIDTH) &&
                    t.y === Math.floor(this.dest.y / c.TILE_HEIGHT)
                    ? void this.kill()
                    : (this.entity.moveTo(this.dest.x, this.dest.y),
                    void (this.currentTarget = h));
              },
            },
            {
              key: 'update',
              value() {
                this.moveEntityToPatrolPositions();
              },
            },
            {
              key: 'activate',
              value() {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                this.moveEntityToPatrolPositions();
              },
            },
            {
              key: 'setStartPoint',
              value(t, e) {
                (this.start.x = t), (this.start.y = e);
              },
            },
            {
              key: 'setDestination',
              value(t, e) {
                (this.dest.x = t), (this.dest.y = e);
              },
            },
            {
              key: 'shouldTerminateAtDestination',
              value() {
                this.terminateAtDesition = !0;
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = d;
  },
  function (t, e, i) {
    function n(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(15),
      c = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(l)),
      h = 1,
      d = 2,
      f = window.fivenations,
      p = (function (t) {
        function e(t) {
          let i;
          r(this, e);
          let o = a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
            ),
            u = s(Phaser.GAMES, 1);
          return (
            (o.game = u[0]),
            (o.motionManager = t.getMotionManager()),
            (o.productionManager = t.getProductionManager()),
            (o.state = h),
            (o.states =
              ((i = {}),
              n(i, h, o.stopEntity.bind(o)),
              n(i, d, o.addEntityToQueue.bind(o)),
              i)),
            o
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'stopEntity',
              value() {
                this.motionManager.isMoving()
                  ? this.entity.stop()
                  : this.setState(d);
              },
            },
            {
              key: 'addEntityToQueue',
              value() {
                let t = this.productionId,
                  e = this.game.cache.getJSON(t),
                  i = 60 * e.buildingTime;
                f.debug.fastBuild && (i /= 10),
                this.productionManager.addProductionSlot({ id: t, time: i }),
                this.kill();
              },
            },
            {
              key: 'update',
              value() {
                this.states[this.state] && this.states[this.state]();
              },
            },
            {
              key: 'setState',
              value(t) {
                this.state = t;
              },
            },
            {
              key: 'setProductionId',
              value(t) {
                this.productionId = t;
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = p;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(15),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return (i.entity = t), (i.motionManager = t.getMotionManager()), i;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'activate',
              value() {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                this.entity.getMotionManager().rotateToTarget(this);
              },
            },
            {
              key: 'update',
              value() {
                this.isEntityFacingTarget() && this.kill();
              },
            },
            {
              key: 'isEntityFacingTarget',
              value() {
                const t = this.motionManager.rotation;
                return t.currentAngleCode === t.targetAngleCode;
              },
            },
            {
              key: 'setCoords',
              value(t) {
                this.coords = t;
              },
            },
            {
              key: 'getCoords',
              value() {
                return this.coords;
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(15),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return (i.entity = t), (i.motionManager = t.getMotionManager()), i;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'activate',
              value() {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                this.entity.getMotionManager().rotateToTarget(this);
              },
            },
            {
              key: 'update',
              value() {
                this.isEntityFacingTarget() && this.kill();
              },
            },
            {
              key: 'isEntityFacingTarget',
              value() {
                const t = this.motionManager.rotation;
                return t.currentAngleCode === t.targetAngleCode;
              },
            },
            {
              key: 'setTarget',
              value(t) {
                this.targetEntity = t;
              },
            },
            {
              key: 'getCoords',
              value() {
                const t = this.targetEntity.getSprite();
                return { x: t.x, y: t.y };
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function o(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function s(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      c = i(1),
      h = n(c),
      d = i(190),
      f = n(d),
      p = i(23),
      g = n(p),
      y = window.fivenations,
      v = 1,
      m = 2,
      b = 3,
      _ = 4,
      w = 5,
      x = 6,
      P = (function (t) {
        function e(t, i) {
          let n;
          a(this, e);
          const s = o(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            (s.entityId = i),
            (s.state = v),
            (s.states =
              ((n = {}),
              r(n, v, s.transformEntityToSeed.bind(s)),
              r(n, m, s.startSprout.bind(s)),
              r(n, b, s.waitForConstructionToFinish.bind(s)),
              r(n, _, s.transformEntityToBuilding.bind(s)),
              r(n, w, s.waitForBornToFinish.bind(s)),
              r(n, x, s.bornFinished.bind(s)),
              n)),
            s
          );
        }
        return (
          s(e, t),
          u(e, [
            {
              key: 'createHelpers',
              value() {
                l(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'createHelpers',
                  this,
                ).call(this),
                (this.emitter = h.default.getInstance()),
                (this.techManager = g.default.getInstance());
              },
            },
            {
              key: 'createConstructionData',
              value() {
                let t = this.techManager.getTechById(this.entityId),
                  e = this.techManager.getTechById('seed');
                (this.constructionTimeInTurns = 60 * t.buildingTime),
                y.debug.fastBuild && (this.constructionTimeInTurns /= 10),
                (this.constructionRate = 100 / this.constructionTimeInTurns),
                (this.maxShield = e.shield),
                (this.maxHull = e.hull),
                (this.addedShield = 0),
                (this.addedHull = 0),
                (this.DO = this.entity.getDataObject()),
                (this._updateStatusDisplay = 0);
              },
            },
            { key: 'setHullToOne', value() {} },
            { key: 'increaseHullAndShield', value() {} },
            {
              key: 'transformEntityToSeed',
              value() {
                this.entity.replaceEntity({ id: 'seed' }),
                this.emitter.local.dispatch('gui/controlpage/update'),
                this.setState(m);
              },
            },
            {
              key: 'startSprout',
              value() {
                const t = this;
                this.entity.animate('sprout').then(() => t.entity.animate('idle')),
                this.setState(b);
              },
            },
            { key: 'waitForConstructionToFinish', value() {} },
            {
              key: 'transformEntityToBuilding',
              value() {
                this.entity.replaceEntity({
                  id: this.entityId,
                  keepHPRatio: !1,
                }),
                this.entity.animate('born'),
                (this.bornTime = y.game.turn + 30),
                this.createProgressBar(),
                this.setState(w);
              },
            },
            {
              key: 'waitForBornToFinish',
              value() {
                y.game.turn >= this.bornTime && this.setState(x);
              },
            },
            {
              key: 'bornFinished',
              value() {
                this.entity.getDataObject().getAnimationByKey('idle-forever') &&
                  this.entity.animate('idle-forever'),
                this.emitter.local.dispatch('gui/controlpage/update'),
                this.kill();
              },
            },
            {
              key: 'update',
              value() {
                this.updateCurrentState(),
                this.constructionCompleted ||
                    (this.delayedInit(),
                    this.updateProgress(),
                    this.increaseHullAndShield(),
                    this.updateProgresStatusBarByProgress(),
                    this.testProgress());
              },
            },
            {
              key: 'updateCurrentState',
              value() {
                this.states[this.state] && this.states[this.state]();
              },
            },
            {
              key: 'updateProgress',
              value() {
                this.progress < 100 &&
                  (this.progress +=
                    this.constructionRate * y.game.time.fpsMultiplier),
                (this.progressRate = this.progress / 100);
              },
            },
            {
              key: 'onConstructionComplete',
              value() {
                this.playAudio(),
                this.setState(_),
                (this.constructionCompleted = !0);
              },
            },
            {
              key: 'setEntityId',
              value(t) {
                this.entityId = t;
              },
            },
            {
              key: 'setState',
              value(t) {
                this.state = t;
              },
            },
            {
              key: 'getMaxBuilderCount',
              value() {
                return 0;
              },
            },
            {
              key: 'getEntityId',
              value() {
                return this.entityId;
              },
            },
          ]),
          e
        );
      }(f.default));
    e.default = P;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(15),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'activate',
              value() {
                const t = this;
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                this.entity &&
                    (this.entity.isDockable() &&
                      this.entity.getDockedFighters().forEach((e) => {
                        e.getActivityManager().removeAll(),
                        e.getToDock(t.entity);
                      }),
                    this.entity.getMotionManager().stop()),
                this.kill();
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function o(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function s(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      c = i(15),
      h = n(c),
      d = i(28),
      f = n(d),
      p = i(1),
      g = n(p),
      y = i(11),
      v = n(y),
      m = i(2),
      b = 0,
      _ = 1,
      w = 2,
      x = 3,
      P = (function (t) {
        function e(t) {
          let i;
          a(this, e);
          const n = o(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            (n.reversed = t.getDataObject().hasAnimation(m.ANIMATION_DEPLOY)),
            (n.motionManager = t.getMotionManager()),
            (n.effectManager = f.default.getInstance()),
            (n.entityManager = v.default.getInstance()),
            (n.emitter = g.default.getInstance()),
            (n.state = b),
            (n.states =
              ((i = {}),
              r(i, b, n.rotateEntity.bind(n)),
              r(i, _, n.animate.bind(n)),
              r(i, w, n.doTransform.bind(n)),
              r(i, x, n.finish.bind(n)),
              i)),
            n
          );
        }
        return (
          s(e, t),
          u(e, [
            {
              key: 'rotateEntity',
              value() {
                return this.motionManager.isMoving()
                  ? void this.entity.stop()
                  : this.isEntityHeadedProperly()
                    ? ((this.animationStarted = !1),
                    this.entity.setInTransform(!0),
                    this.emitter.local.dispatch('gui/controlpage/update'),
                    void this.setState(this.reversed ? _ : w))
                    : void this.entity.rotateToCoords({
                      x: this.entity.sprite.x,
                      y: this.entity.sprite.y + 100,
                    });
              },
            },
            {
              key: 'animate',
              value() {
                const t = this;
                this.animationStarted ||
                  ((this.animationStarted = !0),
                  this.playAnimation(!0).then(() => {
                    t.entity.stopAnimation(), t.setState(t.reversed ? w : x);
                  }));
              },
            },
            {
              key: 'doTransform',
              value() {
                const t = this.entity.getDataObject().getDeployTo();
                this.entity.replaceEntity({ id: t }),
                this.playAnimation(!1),
                this.setState(this.reversed ? x : _);
              },
            },
            {
              key: 'finish',
              value() {
                this.entity.finishTransform(),
                this.emitter.local.dispatch('gui/controlpage/update'),
                this.kill();
              },
            },
            {
              key: 'kill',
              value() {
                this.entity.setInTransform(!1),
                l(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this);
              },
            },
            {
              key: 'update',
              value() {
                this.states[this.state]();
              },
            },
            {
              key: 'setState',
              value(t) {
                this.state = t;
              },
            },
            {
              key: 'isEntityHeadedProperly',
              value() {
                return (
                  this.entity.getMotionManager().getCurrentAngleCode() === 0
                );
              },
            },
            {
              key: 'playAnimation',
              value(t) {
                if (this.reversed) {
                  const e = this.entity
                    .getDataObject()
                    .getAnimationByKey(m.ANIMATION_REVERSE_DEPLOY);
                  return e
                    ? void 0 !== e.frames && e.frames.length !== 0
                      ? this.entity.animate(
                        m.ANIMATION_REVERSE_DEPLOY,
                        !1,
                        !1,
                        t,
                      )
                      : this.entity.animate(
                        m.ANIMATION_DEPLOY,
                        !0,
                        m.ANIMATION_REVERSE_DEPLOY,
                        t,
                      )
                    : this.entity.animate(m.ANIMATION_DEPLOY, !0, !1, t);
                }
                return this.entity.animate(m.ANIMATION_DEPLOY, !1, !1, t);
              },
            },
          ]),
          e
        );
      }(h.default));
    e.default = P;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function o(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function s(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      c = i(15),
      h = n(c),
      d = i(4),
      f = n(d),
      p = i(1),
      g = n(p),
      y = i(11),
      v = n(y),
      m = i(2),
      b = window.fivenations,
      _ = ['commandcenter', 'installationprime', 'centralpyramid', 'capitol'],
      w = 1,
      x = 2,
      P = 3,
      k = 4,
      T = [
        { key: 'titanium', id: m.RESOURCE_TYPE_TITANIUM },
        { key: 'silicium', id: m.RESOURCE_TYPE_SILICIUM },
        { key: 'uranium', id: m.RESOURCE_TYPE_URANIUM },
      ],
      O = (function (t) {
        function e(t) {
          let i;
          a(this, e);
          const n = o(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            (n.DO = n.entity.getDataObject()),
            (n.stationCapacity = n.DO.getCargoCapacity()),
            (n.stationTeleportationTime = n.DO.getTeleportationTime()),
            (n.stationProcessableResources = n.DO.getProcessResources()),
            (n.state = w),
            (n.lastDeliveryTime = b.game.turn),
            (n.states =
              ((i = {}),
              r(i, w, n.waitForCargo.bind(n)),
              r(i, x, n.cargoIsReadyToBeDelivered.bind(n)),
              r(i, P, n.teleportResource.bind(n)),
              r(i, k, n.deliveryFinished.bind(n)),
              i)),
            (n.onDeliveryPointRemove = n.setClosestDeliveryPoint.bind(n)),
            n
          );
        }
        return (
          s(e, t),
          u(e, [
            {
              key: 'activate',
              value() {
                if (
                  (l(
                    e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                    'activate',
                    this,
                  ).call(this),
                  !this.stationCapacity)
                ) { return void this.setState(w); }
                this.setClosestDeliveryPoint();
              },
            },
            {
              key: 'kill',
              value() {
                this.dropOffPoint &&
                  this.dropOffPoint.off('remove', this.onDeliveryPointRemove),
                l(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this);
              },
            },
            {
              key: 'waitForCargo',
              value() {
                const t = this;
                this.setClosestDeliveryPoint(),
                this.hasCargo() &&
                    this.timeLimitOver() &&
                    this.dropOffPoint &&
                    (this.DO.getAnimationByKey('teleporting') &&
                      this.entity.animate('teleporting').then(() => {
                        t.DO.getAnimationByKey('idle-forever') &&
                          t.entity.animate('idle-forever');
                      }),
                    this.setState(x));
              },
            },
            {
              key: 'cargoIsReadyToBeDelivered',
              value() {
                this.dropOffPoint ? this.setState(P) : this.setState(w);
              },
            },
            {
              key: 'teleportResource',
              value() {
                if (!this.dropOffPoint) return void this.setState(w);
                this.setState(k);
              },
            },
            {
              key: 'deliveryFinished',
              value() {
                this.dropOffCargo(),
                (this.lastDeliveryTime = b.game.turn),
                this.setState(w);
              },
            },
            {
              key: 'dropOffCargo',
              value() {
                const t = this;
                if (f.default.getInstance().isUserAuthorised()) {
                  let e = g.default.getInstance(),
                    i = this.entity.getDataObject(),
                    n = i.getCargo(),
                    r = {},
                    a = this.stationProcessableResources;
                  T.sort(e => (t.entity.getResourcePriority() === e.id ? -1 : 1))
                    .map(t => t.key)
                    .forEach((t) => {
                      if (n[t] > 0 && a > 0) {
                        const e = Math.min(n[t], a);
                        (n[t] -= e), (r[t] = e), (a -= e);
                      } else r[t] = 0;
                    });
                  const o = this.dropOffPoint.getPlayer();
                  this.entity.dispatch('droppedOffCargo'),
                  e.synced
                    .entities(this.entity)
                    .alterCargo({
                      titanium: n.titanium,
                      silicium: n.silicium,
                      uranium: n.uranium,
                      overwrite: !0,
                    }),
                  e.synced
                    .players(o)
                    .alter({
                      titanium: r.titanium,
                      silicium: r.silicium,
                      uranium: r.uranium,
                    });
                }
              },
            },
            {
              key: 'hasCargo',
              value() {
                return this.getSumCargo(this.entity);
              },
            },
            {
              key: 'timeLimitOver',
              value() {
                return (
                  this.lastDeliveryTime + this.stationTeleportationTime <=
                  b.game.turn
                );
              },
            },
            {
              key: 'animationTimeLimitOver',
              value() {
                return this.lastDeliveryTime + 108 <= b.game.turn;
              },
            },
            {
              key: 'findClosestDeliveryPoint',
              value() {
                let t = v.default.getInstance(),
                  e = this.entity.getTeam();
                return t
                  .entities(`:player(${e})`)
                  .filter((t) => {
                    const e = t.getDataObject();
                    return (
                      !t.isHibernated() &&
                      !t.isInConstruction() &&
                      _.some(t => t === e.getId())
                    );
                  })
                  .shift();
              },
            },
            {
              key: 'update',
              value() {
                this.states[this.state]();
              },
            },
            {
              key: 'setState',
              value(t) {
                this.state = t;
              },
            },
            {
              key: 'setTarget',
              value(t) {
                this.target &&
                  this.target.off('remove', this.onTargetEntityRemove),
                (this.target = t),
                t && this.target.on('remove', this.onTargetEntityRemove);
              },
            },
            {
              key: 'removeTarget',
              value() {
                this.setTarget(null);
              },
            },
            {
              key: 'setDeliveryPoint',
              value(t) {
                this.dropOffPoint &&
                  this.dropOffPoint.off('remove', this.onDeliveryPointRemove),
                (this.dropOffPoint = t),
                this.dropOffPoint.on('remove', this.onDeliveryPointRemove);
              },
            },
            {
              key: 'setClosestDeliveryPoint',
              value() {
                const t = this.findClosestDeliveryPoint();
                t
                  ? this.setDeliveryPoint(t)
                  : ((this.dropOffPoint = !1), this.setState(w));
              },
            },
            {
              key: 'getSumCargo',
              value(t) {
                const e = t.getDataObject().getCargo();
                return ['titanium', 'silicium', 'uranium'].reduce(
                  (
                    t,
                    i,
                  ) => t + e[i],
                  0,
                );
              },
            },
          ]),
          e
        );
      }(h.default));
    e.default = O;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(8),
      c = n(l),
      h = i(15),
      d = n(h),
      f = i(1),
      p = n(f),
      g = i(14),
      y = n(g),
      v = i(4),
      m = n(v),
      b = i(2),
      _ = i(183),
      w = n(_),
      x = window.fivenations,
      P = (function (t) {
        function e(t, i) {
          r(this, e);
          const n = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            n.entity.replaceEntity({ id: i }),
            (n.DEFAULT_CONSTRUCTION_DATA = { sprite: null, frames: [] }),
            n.createConstructionData(t),
            n.createSprite(t),
            n.createHelpers(),
            n.addEventListeners(),
            n
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'createConstructionData',
              value(t) {
                let e = t.getDataObject(),
                  i = e.getInConstruction();
                (this.constructionTimeInTurns = 60 * e.getBuildingTime()),
                (this.constructionRate = 100 / this.constructionTimeInTurns),
                (this.constructionData = Object.assign(
                  this.DEFAULT_CONSTRUCTION_DATA,
                  i,
                )),
                (this.maxShield = e.getMaxShield()),
                (this.maxHull = e.getMaxHull()),
                (this.addedShield = 0),
                (this.addedHull = 0),
                (this.DO = e),
                (this._updateStatusDisplay = 0);
              },
            },
            {
              key: 'createSprite',
              value(t) {
                if (this.constructionData.sprite) {
                  const e = y.default.getInstance().getGroup(b.GROUP_ENTITIES);
                  (this.parentSprite = t.getSprite()),
                  (this.parentSprite.alpha = 0),
                  (this.sprite = x.game.game.add.sprite(
                    0,
                    0,
                    this.constructionData.sprite,
                  )),
                  w.default.applyColorizeFilter(
                    this.constructionData.sprite,
                    this.sprite,
                    t.getPlayer(),
                    !0,
                  ),
                  this.sprite.anchor.set(0.5),
                  (this.sprite.x = this.parentSprite.x),
                  (this.sprite.y = this.parentSprite.y),
                  e.add(this.sprite);
                  const i = y.default
                    .getInstance()
                    .getGroup('prior-gui-elements');
                  (this.progressStatusBar = x.game.game.add.graphics(0, 0)),
                  (this.progressBarwidth = t.getDataObject().getWidth()),
                  (this.progressBarheight = t.getDataObject().getHeight()),
                  (this.progressStatusBar.x =
                      this.parentSprite.x - this.progressBarwidth / 2),
                  (this.progressStatusBar.y =
                      this.parentSprite.y - this.progressBarheight),
                  i.add(this.progressStatusBar);
                }
              },
            },
            {
              key: 'createHelpers',
              value() {
                (this.progress = 0),
                (this.onEntityRemove = this.removeEntity.bind(this));
              },
            },
            {
              key: 'addEventListeners',
              value() {
                this.entity.on('remove', this.onEntityRemove);
              },
            },
            {
              key: 'kill',
              value() {
                y.default
                  .getInstance()
                  .getGroup('entities')
                  .remove(this.sprite),
                this.sprite.destroy(),
                this.progressStatusBar.destroy(),
                this.entity.off('remove', this.onEntityRemove),
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'kill',
                  this,
                ).call(this);
              },
            },
            {
              key: 'update',
              value() {
                this.updateProgress(),
                this.updateSpritesByProgress(),
                this.updateProgressStatusBarByProgress(),
                this.testProgress();
              },
            },
            {
              key: 'updateProgress',
              value() {
                this.progress < 100 &&
                  (this.progress +=
                    this.constructionRate * x.game.time.fpsMultiplier),
                (this.progressRate = this.progress / 100);
              },
            },
            {
              key: 'updateSpritesByProgress',
              value() {
                let t = this.constructionData.frames.length,
                  e = Math.min(t, Math.floor((t + 1) * this.progressRate));
                e === t
                  ? ((this.parentSprite.frame = 3),
                  (this.parentSprite.alpha = 1),
                  (this.sprite.visible = !1))
                  : this.constructionData.frames[e] &&
                    (this.sprite.frameName = this.constructionData.frames[e]);
              },
            },
            {
              key: 'updateProgressStatusBarByProgress',
              value() {
                if (this.progressRate < 1) {
                  (this.progressStatusBar.visible = !0),
                  this.progressStatusBar.clear(),
                  this.progressStatusBar.lineStyle(1, '0x84e1e3', 1),
                  this.progressStatusBar.drawRect(
                    -1,
                    -10,
                    this.progressBarwidth,
                    8,
                  );
                  let t = this.progressBarwidth * this.progressRate - 4;
                  (t = t > 0 ? t : 0),
                  this.progressStatusBar.beginFill('0x84e1e3'),
                  this.progressStatusBar.drawRect(1, -8, t, 4),
                  this.progressStatusBar.endFill();
                } else this.progressStatusBar.clear();
              },
            },
            {
              key: 'testProgress',
              value() {
                this.progress >= 100 && this.onConstructionComplete();
              },
            },
            {
              key: 'removeEntity',
              value() {
                this.kill();
              },
            },
            {
              key: 'onConstructionComplete',
              value() {
                let t = m.default.getInstance(),
                  e = p.default.getInstance();
                t.isUserAuthorised() &&
                  e.synced.entities(this.entity).constructionCompleted(),
                this.playAudio();
              },
            },
            {
              key: 'playAudio',
              value() {
                let t = m.default.getInstance(),
                  e = t.getUser();
                this.entity.getPlayer() === e &&
                  c.default
                    .getInstance()
                    .playAudioSprite({
                      sprite: 'sfx',
                      marker: 'fed_advisor_construction_00',
                    });
              },
            },
            {
              key: 'getProgress',
              value() {
                return this.progress;
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = P;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function o(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function s(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(15),
      c = n(l),
      h = i(1),
      d = n(h),
      f = i(11),
      p = n(f),
      g = i(2),
      y = 0,
      v = 1,
      m = 2,
      b = 3,
      _ = 3,
      w = (function (t) {
        function e(t) {
          let i;
          a(this, e);
          const n = o(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          (n.entityManager = p.default.getInstance()),
          (n.emitter = d.default.getInstance()),
          (n.state = y),
          (n.animationStarted = !1);
          const s = t.getDataObject();
          return (
            (n.originalVision = s.getVision()),
            s.forceSet({ vision: _ }),
            (n.states =
              ((i = {}),
              r(i, y, n.wither.bind(n)),
              r(i, v, n.witherComplete.bind(n)),
              r(i, m, n.witherReverse.bind(n)),
              r(i, b, n.finish.bind(n)),
              i)),
            n
          );
        }
        return (
          s(e, t),
          u(e, [
            {
              key: 'wither',
              value() {
                const t = this;
                this.animationStarted ||
                  (this.entity.setNoUserControl(!0),
                  (this.animationStarted = !0),
                  this.playAnimation(!1).then(() => {
                    t.setState(v);
                  }),
                  this.emitter.local.dispatch('gui/controlpage/update'));
              },
            },
            {
              key: 'witherComplete',
              value() {
                this.entityManager.isInConstructionProximity(this.entity) &&
                  ((this.animationStarted = !1), this.setState(m));
              },
            },
            {
              key: 'witherReverse',
              value() {
                const t = this;
                this.animationStarted ||
                  ((this.animationStarted = !0),
                  this.playAnimation(!0).then(() => {
                    t.setState(b);
                  }));
              },
            },
            {
              key: 'finish',
              value() {
                this.entity
                  .getDataObject()
                  .forceSet({ vision: this.originalVision }),
                this.entity.setNoUserControl(!1),
                this.emitter.local.dispatch('gui/controlpage/update'),
                this.kill();
              },
            },
            {
              key: 'update',
              value() {
                this.states[this.state]();
              },
            },
            {
              key: 'setState',
              value(t) {
                this.state = t;
              },
            },
            {
              key: 'playAnimation',
              value(t) {
                if (t) {
                  const e = this.entity
                    .getDataObject()
                    .getAnimationByKey(g.ANIMATION_REVERSE_WITHERS);
                  return e
                    ? void 0 !== e.frames && e.frames.length !== 0
                      ? this.entity.animate(g.ANIMATION_REVERSE_WITHERS)
                      : this.entity.animate(
                        g.ANIMATION_WITHERS,
                        !0,
                        g.ANIMATION_REVERSE_WITHERS,
                      )
                    : this.entity.animate(g.ANIMATION_WITHERS, !0);
                }
                return this.entity.animate(g.ANIMATION_WITHERS);
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = w;
  },
  function (t, e, i) {
    function n(t) {
      let e = t.getDataObject(),
        i = e.getId();
      a.some(t => t === i) && t.getMotionManager().setMaxSpeed(r);
    }
    var r = 1.3,
      a = ['spear'];
    (0, i(10).install)('research/adaptive-system', n);
  },
  function (t, e, i) {
    function n(t) {
      let e = t.getDataObject(),
        i = e.getType();
      if (
        a.some(t => t === i)
      ) {
        const n = e.getArmor();
        e.forceSet({ armor: n + r });
      }
    }
    var r = 1,
      a = ['Destroyer', 'Cruiser', 'Cargo', 'Battleship', 'Carrier'];
    (0, i(10).install)('research/armour-plating-lvl01', n);
  },
  function (t, e, i) {
    function n(t) {
      let e = t.getDataObject(),
        i = e.getId();
      a.some(t => t === i) && t.getMotionManager().setMaxSpeed(r);
    }
    var r = 1.3,
      a = ['hurricane', 'crow'];
    (0, i(10).install)('research/arrester-frames', n);
  },
  function (t, e, i) {
    function n(t) {
      let e = t.getDataObject(),
        i = e.getId();
      a.some(t => t === i) && t.getMotionManager().setMaxSpeed(r);
    }
    var r = 1.3,
      a = ['guard'];
    (0, i(10).install)('research/wartime-decree', n);
  },
  function (t, e, i) {
    function n(t) {
      let e = t.getDataObject(),
        i = e.getId();
      if (e.getHull() <= a && o[i] && t.getSprite().key !== o[i]) {
        const n = o[i];
        t.replaceSprite(n);
      }
    }
    var r = i(10),
      a = 250,
      o = {
        asteroidsilicon1: 'asteroidsiliconsmall1',
        asteroidsilicon2: 'asteroidsiliconsmall2',
        asteroidtitanium1: 'asteroidtitaniumsmall1',
        asteroidtitanium2: 'asteroidtitaniumsmall2',
        asteroiduranium1: 'asteroiduraniumsmall1',
        asteroiduranium2: 'asteroiduraniumsmall2',
      };
    (0, r.install)('checkAsteroidHull', n);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      let e = t.targetEntity,
        i = t.spellDO,
        n = h.default.getInstance().isUserAuthorised(),
        r = l.default.getInstance();
      if (n) {
        const a = 60 * i.duration;
        r.synced.entities(e).addSpell({ spellId: s.default.ID, ttl: a });
      }
    }
    var a = i(10),
      o = i(191),
      s = n(o),
      u = i(1),
      l = n(u),
      c = i(4),
      h = n(c);
    (0, a.install)('concealment', r);
  },
  function (t, e, i) {
    function n(t) {
      t.getWeaponManager().setAttr((t) => {
        if (
          a.some(e => e === t.getId())
        ) { return { range: t.getRange() + r }; }
      });
    }
    var r = 80,
      a = [22];
    (0, i(10).install)('research/cyclotron-resonance', n);
  },
  function (t, e, i) {
    function n(t) {
      let e = t.getDataObject(),
        i = e.getId();
      if (
        a.some(t => t === i)
      ) {
        const n = e.getMaxShield() + r;
        e.forceSet({ maxshield: n, shield: n }), t.updateStatusDisplay();
      }
    }
    var r = 200,
      a = [
        'astrometricstation',
        'civilianbase',
        'deepspacelab',
        'dockyard',
        'fleetheadquarters',
        'merchantport',
        'miningstation',
        'shipfactory',
        'solarstation',
        'researchcenter',
      ];
    (0, i(10).install)('research/deflection-reactor', n);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      let e = t.entity,
        i = t.emitterEntity,
        n = s.default.getInstance(),
        r = e.getSpellManager();
      l.default.getInstance().isUserAuthorised() &&
        (r.isActive(c) ||
          n.synced.entities(e).addSpell({ spellId: c, emitterEntity: i }));
    }
    var a = i(10),
      o = i(1),
      s = n(o),
      u = i(4),
      l = n(u),
      c = 'disintegrated';
    (0, a.install)('disintegrate', r);
  },
  function (t, e, i) {
    function n(t) {
      const e = t.getDataObject();
      if (e.getId() === a) {
        let i = e.getVision();
        (i += r), e.forceSet({ vision: i });
      }
    }
    var r = 2,
      a = 'hailstorm';
    (0, i(10).install)('research/evolved-interferometry', n);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      let e = t.targetEntity,
        i = l.default.getInstance().isUserAuthorised(),
        n = s.default.getInstance();
      i && n.synced.entities(e).removeSpell();
    }
    var a = i(10),
      o = i(1),
      s = n(o),
      u = i(4),
      l = n(u);
    (0, a.install)('exploratoryBay', r);
  },
  function (t, e, i) {
    function n(t) {
      let e = t.getDataObject(),
        i = e.getCargoCapacity();
      i && e.getType() === a && ((i += r), e.forceSet({ cargoCapacity: i }));
    }
    var r = 150,
      a = 'Cargo';
    (0, i(10).install)('research/extended-cargo', n);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      let e = t.entity,
        i = t.targetEntity,
        n = s.default.getInstance();
      l.default.getInstance().isUserAuthorised() &&
        n.synced.entities(i).addSpell({ spellId: c, emitterEntity: e });
    }
    var a = i(10),
      o = i(1),
      s = n(o),
      u = i(4),
      l = n(u),
      c = 'forcedShield';
    (0, a.install)('forcedShield', r);
  },
  function (t, e, i) {
    function n(t) {
      let e = t.getDataObject(),
        i = e.getId();
      a.some(t => t === i) && t.getMotionManager().setMaxSpeed(r);
    }
    var r = 1.33,
      a = ['avenger', 'avenger2', 'stgeorge', 'dresda'];
    (0, i(10).install)('research/hermes-thruster', n);
  },
  function (t, e, i) {
    function n(t) {
      const e = t.getDataObject();
      return (
        !t.getDockerEntity() &&
        !t.isInConstruction() &&
        e.getHull() < e.getMaxHull()
      );
    }
    (0, i(10).install)('isHullDamaged', n);
  },
  function (t, e, i) {
    function n(t) {
      const e = t.getDataObject();
      return (
        !t.getDockerEntity() &&
        !t.isInConstruction() &&
        e.getShield() < e.getMaxShield()
      );
    }
    (0, i(10).install)('isShieldDamaged', n);
  },
  function (t, e, i) {
    function n(t) {
      t.getDataObject().getType() === a && t.getMotionManager().setMaxSpeed(r);
    }
    var r = 1.35,
      a = 'Cargo';
    (0, i(10).install)('research/mastodon-reactor', n);
  },
  function (t, e, i) {
    function n(t) {
      t.getWeaponManager().setAttr((t) => {
        if (
          r.some(e => e === t.getId())
        ) { return { cooldown: Math.floor(t.getCooldown() * (1 - a)) }; }
      });
    }
    var r = [120],
      a = 0.33;
    (0, i(10).install)('research/meson-accumulator', n);
  },
  function (t, e, i) {
    function n(t) {
      t.getWeaponManager().setAttr((t) => {
        if (
          a.some(e => e === t.getId())
        ) { return { velocity: t.getMaxVelocity(), range: t.getRange() + r }; }
      });
    }
    var r = 80,
      a = [3, 17, 105];
    (0, i(10).install)('research/mra', n);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      let e = t.entity,
        i = t.targetEntity,
        n = s.default.getInstance();
      l.default.getInstance().isUserAuthorised() &&
        n.synced.entities(i).addSpell({ spellId: c, emitterEntity: e });
    }
    var a = i(10),
      o = i(1),
      s = n(o),
      u = i(4),
      l = n(u),
      c = 'nanoInfection';
    (0, a.install)('nanoVirus', r);
  },
  function (t, e, i) {
    function n(t) {
      const e = t.getDataObject();
      if (e.getId() === a) {
        let i = e.getVision();
        (i += r), e.forceSet({ vision: i });
      }
    }
    var r = 2,
      a = 'explorer';
    (0, i(10).install)('research/nanowave-scanning', n);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      let e = t.entity,
        i = s.default.getInstance(),
        n = e.getSpellManager();
      l.default.getInstance().isUserAuthorised() &&
        (n.isActive(c) || i.synced.entities(e).addSpell({ spellId: c }));
    }
    var a = i(10),
      o = i(1),
      s = n(o),
      u = i(4),
      l = n(u),
      c = 'neutralised';
    (0, a.install)('neutralise', r);
  },
  function (t, e, i) {
    function n(t) {
      let e = t.getDataObject(),
        i = e.getId();
      a.some(t => t === i) && t.getMotionManager().setMaxSpeed(r);
    }
    var r = 1.3,
      a = ['intruder', 'lancet', 'martyrprobe'];
    (0, i(10).install)('research/rapid-charging', n);
  },
  function (t, e, i) {
    function n(t) {
      t.getWeaponManager().setAttr((t) => {
        if (
          a.some(e => e === t.getId())
        ) { return { range: t.getRange() + r }; }
      });
    }
    var r = 80,
      a = [2];
    (0, i(10).install)('research/rdx2', n);
  },
  function (t, e, i) {
    function n(t) {
      const e = t.entity;
      e.getDataObject().restoreHull(r), e.dispatch('repair');
    }
    var r = 5;
    (0, i(10).install)('restoreHull', n);
  },
  function (t, e, i) {
    function n(t) {
      const e = t.entity;
      e.getDataObject().restoreShield(r), e.dispatch('repair');
    }
    var r = 5;
    (0, i(10).install)('restoreShield', n);
  },
  function (t, e, i) {
    function n(t) {
      t.getWeaponManager().setAttr((t) => {
        if (
          r.some(e => e === t.getId())
        ) { return { cooldown: t.getCooldown() - a }; }
      });
    }
    var r = [25],
      a = 50;
    (0, i(10).install)('research/spatial-astronomy', n);
  },
  function (t, e, i) {
    function n(t) {
      t.getWeaponManager().setAttr((t) => {
        if (
          r.some(e => e === t.getId())
        ) { return { cooldown: t.getCooldown() - a }; }
      });
    }
    var r = [7],
      a = 30;
    (0, i(10).install)('research/tritium-warhead', n);
  },
  function (t, e, i) {
    function n(t) {
      let e = t.getDataObject(),
        i = e.getId();
      a.some(t => t === i) && t.getMotionManager().setMaxSpeed(r);
    }
    var r = 1.3,
      a = ['predator', 'predatordeployed', 'hunter'];
    (0, i(10).install)('research/wartime-decree', n);
  },
  function (t, e, i) {
    function n(t) {
      t.getWeaponManager().setAttr((t) => {
        if (t.isOffensive) {
          return {
            level: 1,
            damage: t.getDamage() + t.getUpgradeLevel(),
            damage_shield: t.getDamageShield() + t.getUpgradeShieldLevel(),
          };
        }
      });
    }
    (0, i(10).install)('research/weapon-system-lvl01', n);
  },
  function (t, e, i) {
    function n(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(2),
      s = window.fivenations,
      u = 1,
      l = 2,
      c = 3,
      h = 4,
      d = 5,
      f = 1e3 * o.DESIRED_FPS_STEP,
      p = (function () {
        function t(e, i) {
          let a;
          r(this, t),
          (this.entity = e),
          (this.weapon = i),
          (this.state = d),
          (this.waitingLength = i.getCooldown()),
          (this.timer = 0),
          (this.states =
              ((a = {}),
              n(a, u, this.started.bind(this)),
              n(a, l, this.animation.bind(this)),
              n(a, c, this.doAction.bind(this)),
              n(a, h, this.waitBeforeAnimation.bind(this)),
              n(a, d, this.stopped.bind(this)),
              a));
        }
        return (
          a(t, [
            {
              key: 'start',
              value() {
                this.state === d &&
                  (this.entity.stopAnimation('attack'), this.setState(u));
              },
            },
            {
              key: 'stop',
              value() {
                this.state !== d && this.setState(d);
              },
            },
            {
              key: 'isStopped',
              value() {
                return this.state === d;
              },
            },
            { key: 'stopped', value() {} },
            {
              key: 'started',
              value() {
                if (
                  !this.weapon.isReleasable() ||
                  (this.prevState === h &&
                    s.game.time.now - this.lastActionTime <
                      this.waitingLength * f)
                ) { return this.entity.animate('idle'), void this.setState(h); }
                (this.animationStarted = !1), this.setState(l);
              },
            },
            {
              key: 'animation',
              value() {
                const t = this;
                this.animationStarted ||
                  ((this.animationStarted = !0),
                  this.entity.animate('attack').then(() => {
                    t.setState(c);
                  }));
              },
            },
            {
              key: 'doAction',
              value() {
                this.weapon.release(),
                (this.timer = 0),
                this.entity.animate('idle'),
                (this.prevState = h),
                this.setState(h),
                (this.lastActionTime = s.game.time.now);
              },
            },
            {
              key: 'waitBeforeAnimation',
              value() {
                this.timer < this.waitingLength
                  ? (this.timer += s.game.time.fpsMultiplier)
                  : this.weapon.isReleasable() &&
                    ((this.timer = 0),
                    this.entity.animate('attack'),
                    (this.prevState = l),
                    (this.animationStarted = !1),
                    this.setState(l));
              },
            },
            {
              key: 'setState',
              value(t) {
                this.state = t;
              },
            },
            {
              key: 'update',
              value() {
                this.states[this.state]();
              },
            },
          ]),
          t
        );
      }());
    e.default = p;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(14),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = i(2),
      u = {
        relativeRatioToEntity: 2.5,
        width: 197,
        height: 197,
        sprite: 'energy-shield',
        animation: {
          frames: [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
          ],
          rate: 25,
        },
      },
      l = (function () {
        function t(e) {
          n(this, t), (this.game = e);
        }
        return (
          r(t, [
            {
              key: 'appendTo',
              value(t) {
                const e = t.getSprite();
                this.sprite = this.createSpriteByParent(t);
                const i = t.getDataObject().isBuilding()
                  ? 'energy-shields-buildings'
                  : 'energy-shields';
                o.default
                  .getInstance()
                  .getGroup(i)
                  .add(this.sprite),
                t.on(
                  'addons/visibility',
                  this.onRenderableChanged.bind(this),
                ),
                t.on('visibility', this.onVisibilityChanged.bind(this)),
                t.on('damage', this.onDamage.bind(this)),
                t.on('remove', this.remove.bind(this)),
                (this.sprite.update = function () {
                  (this.x = e.x), (this.y = e.y);
                }),
                (this.parent = t);
              },
            },
            {
              key: 'createSpriteByParent',
              value(t) {
                let e = t.getDataObject().getWidth(),
                  i = this.game.add.image(0, 0, u.sprite),
                  n = (e / u.width) * u.relativeRatioToEntity;
                return (
                  (i.visible = !1),
                  i.anchor.setTo(0.5, 0.5),
                  i.scale.setTo(n, n),
                  i.animations
                    .add('damage', u.animation.frames)
                    .onComplete.add(this.animationCompleted, this),
                  i
                );
              },
            },
            {
              key: 'onDamage',
              value() {
                this.parent.getDataObject().getShield() >=
                  s.SHIELD_ACTIVITY_TRESHOLD && this.show();
              },
            },
            {
              key: 'show',
              value() {
                (this.sprite.visible = !0),
                this.sprite.play('damage', u.animation.rate);
              },
            },
            {
              key: 'hide',
              value() {
                this.sprite.visible = !1;
              },
            },
            {
              key: 'remove',
              value() {
                this.sprite.destroy(!0);
              },
            },
            {
              key: 'animationCompleted',
              value() {
                this.hide();
              },
            },
            {
              key: 'onVisibilityChanged',
              value(t) {
                this.sprite.visible = t;
              },
            },
            {
              key: 'onRenderableChanged',
              value(t) {
                this.sprite.renderable = t;
              },
            },
          ]),
          t
        );
      }());
    e.default = l;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(14),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = i(2),
      u = window.fivenations,
      l = {
        relativeRatioToEntity: 2.5,
        width: 202,
        height: 198,
        sprite: 'uniteffect_expandedshield',
        animation: {
          frames: [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
          ],
          rate: 25,
        },
      },
      c = (function () {
        function t() {
          n(this, t),
          (this.game = u.game.game),
          (this.onRenderableChanged = this.setRenderable.bind(this)),
          (this.onVisibilityChanged = this.setVisibility.bind(this)),
          (this.onDamage = this.damage.bind(this)),
          (this.onRemove = this.remove.bind(this));
        }
        return (
          r(t, [
            {
              key: 'appendTo',
              value(t) {
                this.sprite = this.createSpriteByParentEntity(t);
                const e = t.getDataObject().isBuilding()
                  ? 'energy-shields-buildings'
                  : 'energy-shields';
                o.default
                  .getInstance()
                  .getGroup(e)
                  .add(this.sprite),
                t.on('addons/visibility', this.onRenderableChanged),
                t.on('visibility', this.onVisibilityChanged),
                t.on('damage', this.onDamage),
                t.on('remove', this.onRemove),
                (this.entity = t);
              },
            },
            {
              key: 'createSpriteByParentEntity',
              value(t) {
                let e = t.getDataObject().getWidth(),
                  i = this.game.add.image(0, 0, l.sprite),
                  n = (e / l.width) * l.relativeRatioToEntity;
                return (
                  (i.visible = !1),
                  i.anchor.setTo(0.5, 0.5),
                  i.scale.setTo(n, n),
                  i.animations.add('damage', l.animation.frames),
                  (i.update = function () {
                    (this.x = t.getSprite().x), (this.y = t.getSprite().y);
                  }),
                  i
                );
              },
            },
            {
              key: 'damage',
              value() {
                this.entity.getDataObject().getShield() >=
                  s.SHIELD_ACTIVITY_TRESHOLD &&
                  this.sprite.play('damage', l.animation.rate);
              },
            },
            {
              key: 'show',
              value() {
                if (
                  !this.entity.sprite.renderable ||
                  this.entity.hasNoGraphicalAddons()
                ) { return void (this.sprite.visible = !1); }
                this.fadeIn();
              },
            },
            {
              key: 'remove',
              value() {
                const t = this;
                this.fadeOut().then(() => t.destroy());
              },
            },
            {
              key: 'destroy',
              value() {
                this.entity.off('addons/visibility', this.onRenderableChanged),
                this.entity.off('visibility', this.onVisibilityChanged),
                this.entity.off('damage', this.onDamage),
                this.entity.off('remove', this.onRemove),
                this.sprite.destroy(!0);
              },
            },
            {
              key: 'fadeIn',
              value() {
                this.sprite.visible ||
                  ((this.sprite.visible = !0),
                  this.tween && this.tween.stop(),
                  (this.tween = this.game.add
                    .tween(this.sprite)
                    .from(
                      { alpha: 0 },
                      500,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                    )));
              },
            },
            {
              key: 'fadeOut',
              value() {
                const t = this;
                return new Promise(((e) => {
                  t.tween && t.tween.stop(),
                  (t.tween = t.game.add
                    .tween(t.sprite)
                    .to(
                      { alpha: 0 },
                      500,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                    )),
                  t.tween.onComplete.addOnce(e);
                }));
              },
            },
            {
              key: 'setVisibility',
              value() {
                this.show();
              },
            },
            {
              key: 'setRenderable',
              value() {
                this.show();
              },
            },
          ]),
          t
        );
      }());
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t) {
      if (Array.isArray(t)) {
        for (var e = 0, i = Array(t.length); e < t.length; e++) i[e] = t[e];
        return i;
      }
      return Array.from(t);
    }
    function a(t, e, i) {
      let n = void 0,
        r = f.TILE_WIDTH * i,
        a = r / 2;
      if (t <= 4) n = { x: (e % t) * r - (t * r) / 2 + a, y: 0 };
      else if (t <= 13) {
        let o = t % 2 == 1,
          s = Math.ceil(t / 2) + ((t + 1) % 2),
          u = o ? a : r;
        n = {
          x: (e % s) * r - (s * r) / 2 + a + (e >= s ? u : 0),
          y: Math.floor(e / s) * -r,
        };
      } else {
        let l = Math.ceil(t / 3),
          c = Math.floor(e / l),
          h = c === Math.floor(t / l) ? 1 : 0;
        n = {
          x: (e % l) * r - (l * r) / 2 + a + h * (l - (t % l) > 1 ? r : a),
          y: Math.floor(e / l) * -r,
        };
      }
      return n;
    }
    function o(t) {
      return function (e, i) {
        return e.gap !== i.gap
          ? e.gap - i.gap
          : Math.pow(e.x - t.x, 2) +
              Math.pow(e.y - t.y, 2) -
              (Math.pow(i.x - t.x, 2) + Math.pow(i.y - t.y, 2));
      };
    }
    function s(t, e, i, n) {
      for (
        var a = [].concat(r(i)).sort(o(e)),
          s = n.map(t => ({ x: t.sprite.x, y: t.sprite.y, gap: t.gap })),
          u = [].concat(r(s)).sort(o(t)),
          l = 0;
        l < u.length;
        l += 1
      ) { u[l].point = a[l]; }
      return s.map(t => t.point);
    }
    function u(t) {
      return ['Cruiser', 'Cargo', 'Special Cruiser'].includes(t);
    }
    function l(t) {
      return ['Carrier', 'Battleship', 'Expansionist'].includes(t);
    }
    function c(t) {
      return void 0 !== t && !u(t) && !l(t);
    }
    function h(t, e) {
      return u(t) ? 2 : l(t) ? (c(e) ? 2 : 3) : 1;
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var d = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      f = i(2),
      p = i(3),
      g = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(p)),
      y = void 0,
      v = (function () {
        function t() {
          n(this, t);
        }
        return (
          d(t, [
            {
              key: 'getCentroid',
              value(t) {
                return Phaser.Point.centroid(t.map(t => ({ x: t.sprite.x, y: t.sprite.y })));
              },
            },
            {
              key: 'getCoords',
              value(t, e) {
                for (
                  var i = [],
                    n = this.getCentroid(t),
                    r = g.default.getAngleBetweenCoords(n, e) - 90,
                    o = t.length,
                    u = void 0,
                    l = 0;
                  l < o;
                  l += 1
                ) {
                  let c = new Phaser.Point(e.x, e.y),
                    d = t[l],
                    f = d.getDataObject().getType(),
                    p = h(f, u);
                  u = f;
                  const y = a(o, l, p);
                  (c.x += y.x),
                  (c.y += y.y),
                  (c.gap = p),
                  (d.gap = p),
                  c.rotate(e.x, e.y, r, !0),
                  i.push(c);
                }
                let v = Phaser.Point.centroid(i),
                  m = new Phaser.Point((n.x - v.x) / 3, (n.y - v.y) / 3),
                  b = new Phaser.Point(v.y - n.y, n.x - v.x).normalize();
                return (
                  b.multiply(500, 500),
                  s(
                    new Phaser.Point(n.x + b.x + m.x, n.y + b.y + m.y),
                    new Phaser.Point(v.x + b.x + m.x, v.y + b.y + m.y),
                    i,
                    t,
                  )
                );
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance(t) {
        return (y && !t) || (y = new v()), y;
      },
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(14),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = i(2),
      u = (function () {
        function t(e) {
          n(this, t), (this.game = e);
        }
        return (
          r(t, [
            {
              key: 'appendTo',
              value(t) {
                let e = this,
                  i = s.GROUP_ENTITIES;
                (this.sprite = this.createSpriteByParent(t)),
                o.default
                  .getInstance()
                  .getGroup(i)
                  .add(this.sprite),
                t.on('visibility', this.onVisibilityChanged.bind(this)),
                t.on(
                  'addons/visibility',
                  this.onRenderableChanged.bind(this),
                ),
                t.on('move', () => e.show()),
                t.on('stop', () => e.hide()),
                t.on('forceStop', () => e.hide()),
                t.on('remove', () => e.remove()),
                t.on('hibernate', () => e.hide()),
                t.on('reactivated', () => e.show()),
                (this.parent = t);
              },
            },
            {
              key: 'createSpriteByParent',
              value(t) {
                let e = t.getDataObject(),
                  i = this.game.add.image(0, 0, e.getJetEngineSprite()),
                  n = e.getJetEngineFrames();
                return (
                  (i.visible = !1),
                  i.anchor.setTo(0.5, 0.5),
                  (i.alphaDefault = e.getJetEngineAlphaOffset()),
                  (i.alpha = i.alphaDefault),
                  (i._entity = t),
                  (i.update = function () {
                    let e = t.getMotionManager().getCurrentAngleCode(),
                      i = t.getSprite();
                    (this.x = i.x),
                    (this.y = i.y + i.anchor.y),
                    (this.frame = n[e]);
                  }),
                  i
                );
              },
            },
            {
              key: 'show',
              value() {
                this.parent.getActivityManager().isIdling() ||
                  void 0 ===
                    this.parent.getActivityManager().getCurrentActivity() ||
                  this.sprite.visible ||
                  ((this.sprite.visible = !0),
                  (this.tween = this.parent.game.add
                    .tween(this.sprite)
                    .to({ alpha: 1 }, 100, Phaser.Easing.Bounce.Out, !0)
                    .loop()),
                  this.tween.start());
              },
            },
            {
              key: 'hide',
              value() {
                this.tween && this.tween.stop(),
                (this.sprite.alpha = this.sprite.alphaDefault),
                (this.sprite.visible = !1);
              },
            },
            {
              key: 'remove',
              value() {
                this.sprite.destroy(!0);
              },
            },
            {
              key: 'onVisibilityChanged',
              value(t) {
                t ? this.show() : this.hide();
              },
            },
            {
              key: 'onRenderableChanged',
              value(t) {
                this.sprite.renderable = t;
              },
            },
          ]),
          t
        );
      }());
    e.default = u;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t) {
      if (Number.isNaN(t)) return NaN;
      for (
        var e = String(+t).split(''),
          i = [
            '',
            'C',
            'CC',
            'CCC',
            'CD',
            'D',
            'DC',
            'DCC',
            'DCCC',
            'CM',
            '',
            'X',
            'XX',
            'XXX',
            'XL',
            'L',
            'LX',
            'LXX',
            'LXXX',
            'XC',
            '',
            'I',
            'II',
            'III',
            'IV',
            'V',
            'VI',
            'VII',
            'VIII',
            'IX',
          ],
          n = '',
          r = 3;
        r;

      ) { (r -= 1), (n = (i[+e.pop() + 10 * r] || '') + n); }
      return Array(+e.join('') + 1).join('M') + n;
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(3),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = void 0,
      c = (function () {
        function t() {
          n(this, t);
          const e = a(Phaser.GAMES, 1);
          (this.game = e[0]),
          (this.data = this.game.cache.getJSON('shipnames')),
          (this.usedAlready = {});
        }
        return (
          o(t, [
            {
              key: 'getShipNameByEntity',
              value(t) {
                const e = this.getNameChoicesByEntity(t);
                if (!e) return '';
                let i = e[u.default.rnd(0, e.length - 1)];
                return (
                  this.usedAlready[i]
                    ? ((this.usedAlready[i] += 1),
                    (i = `${i} ${r(this.usedAlready[i])}`))
                    : (this.usedAlready[i] = 1),
                  i
                );
              },
            },
            {
              key: 'getNameChoicesByEntity',
              value(t) {
                let e = t.getPlayer(),
                  i = e.getRace();
                if (!i) return '';
                let n = t.getDataObject().getType(),
                  r = this.data[i];
                if (!r) return '';
                const a = r.classgroup[n];
                return this.data[i].shipName[a];
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance(t) {
        return (l && !t) || (l = new c()), l;
      },
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = (function () {
        function t(e) {
          n(this, t), (this.motionManager = e), (this.effects = []);
        }
        return (
          r(t, [
            {
              key: 'execute',
              value(t) {
                t.call(null, this.motionManager);
              },
            },
            {
              key: 'updateEffects',
              value() {
                for (; this.effects[0];) {
                  if (this.effects[0].call(null, this.motionManager)) return;
                  this.effects.splice(0, 1);
                }
              },
            },
            {
              key: 'addEffect',
              value(t) {
                this.effects.push(t);
              },
            },
            {
              key: 'addEffectToTop',
              value(t) {
                this.effects.unshift(t);
              },
            },
            {
              key: 'resetEffects',
              value() {
                for (let t = this.effects.length - 1; t >= 0; t -= 1) { (this.effects[t] = null), this.effects.splice(t, 1); }
              },
            },
            {
              key: 'removeEffect',
              value(t) {
                for (let e = this.effects.length - 1; e >= 0; e -= 1) { t === this.effects[e] && this.effects.splice(e, 1); }
              },
            },
            {
              key: 'isEmpty',
              value() {
                return this.effects.length;
              },
            },
          ]),
          t
        );
      }());
    e.default = a;
  },
  function (t, e, i) {
    Object.defineProperty(e, '__esModule', { value: !0 });
    let n = i(3),
      r = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(n)),
      a = window.fivenations,
      o = {
        initMovement(t) {
          let e = a.game.map,
            i = t.getEntity(),
            n = t.activity.getCoords();
          (n.x = Math.max(0, Math.min(n.x, e.getScreenWidth()))),
          (n.y = Math.max(0, Math.min(n.y, e.getScreenHeight())));
          const o = Phaser.Math.distance(t.sprite.x, t.sprite.y, n.x, n.y);
          return (
            (t.movement.originX = t.sprite.x),
            (t.movement.originY = t.sprite.y),
            (t.movement.targetX = n.x),
            (t.movement.targetY = n.y),
            (t.movement.targetInitialDistance = o),
            (t.movement.targetDragTreshold = Math.min(
              t.movement.maxTargetDragTreshold,
              o / 2,
            )),
            (t.movement.targetAngle = Math.atan2(
              t.movement.targetY - t.sprite.y,
              t.movement.targetX - t.sprite.x,
            )),
            (t.rotation.targetAngleCode = t.getAngleCodeByAngle(t.movement.targetAngle)),
            (t.rotation.angularDirection = 0),
            t.rotation.maxAngleCount === 1
              ? (t.movement.currentAngle = t.movement.targetAngle)
              : ((t.rotation.stepNumberToRight = r.default.calculateStepTo(
                t.rotation.currentAngleCode,
                t.rotation.targetAngleCode,
                t.rotation.maxAngleCount,
                1,
              )),
              (t.rotation.stepNumberToLeft = r.default.calculateStepTo(
                t.rotation.currentAngleCode,
                t.rotation.targetAngleCode,
                t.rotation.maxAngleCount,
                -1,
              ))),
            (t.levitation.time = 0),
            (t.isEntityArrivedAtDestination = !1),
            (t.isEntityStoppedAtDestination = !1),
            (t.isEntityHeadedToDestination = !1),
            i.dispatch('initMovement'),
            !1
          );
        },
        moveToTarget(t) {
          return (
            (t.movement.acceleration = 0),
            !!(
              t.movement.distance > t.movement.targetDragTreshold &&
              (t.movement.distanceFromOrigin <=
                t.movement.targetInitialDistance -
                  t.movement.targetDragTreshold ||
                t.rotation.isRealManeuverSystemActive)
            ) || ((t.isEntityArrivedAtDestination = !0), !1)
          );
        },
        accelerateToTarget(t) {
          return (
            (t.movement.acceleration = t.movement.maxAcceleration),
            t.movement.distanceInverse < t.movement.targetDragTreshold &&
              t.movement.velocity < t.movement.maxVelocity
          );
        },
        stopping(t) {
          return (
            (t.movement.acceleration = -t.movement.maxAcceleration),
            t.movement.distance > 0 &&
            t.movement.distanceFromOrigin < t.movement.targetInitialDistance &&
            t.movement.velocity > 0
              ? ((t.movement.stopping = !0), !0)
              : (t.isEntityArrivedAtDestination &&
                  (t.isEntityStoppedAtDestination = !0),
              (t.movement.stopping = !1),
              t.getEntity().dispatch('stop'),
              !1)
          );
        },
        resetMovement(t) {
          return (
            (t.movement.acceleration = 0),
            (t.movement.velocity = 0),
            (t.rotation.angularVelocity = 0),
            (t.movement.stopping = !1),
            !1
          );
        },
        rotateToTarget(t) {
          if (t.movement.velocity > 0) {
            return (
              (t.rotation.angularVelocity =
                1.5 * t.rotation.maxAngularVelocity),
              !1
            );
          }
          if (
            ((t.rotation.angularVelocity = t.rotation.maxAngularVelocity),
            t.rotation.currentAngleCode === t.rotation.targetAngleCode)
          ) {
            let e = a.game.map.getCollisionMap(),
              i = t.getEntity();
            return e.updateObstaclesForEntity(i), !1;
          }
          return !0;
        },
        startMovement(t) {
          return t.getEntity().dispatch('move'), !1;
        },
        startMoveAnimation(t) {
          return t.getEntity().animate('move'), !1;
        },
        stopAnimation(t) {
          return t.getEntity().stopAnimation(), !1;
        },
        levitating(t) {
          return (
            (t.sprite.anchor.y =
              t.levitation.defaultAnchorY +
              Math.sin(t.levitation.time / 50) / 100),
            (t.levitation.time += 1),
            !0
          );
        },
      };
    e.default = {
      get(t) {
        return o[t];
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      const e = t.getDataObject();
      return {
        velocity: 0,
        acceleration: 0,
        currentAngle: Phaser.Math.degToRad(90),
        maxVelocity: e.getSpeed(),
        maxAcceleration: e.getSpeed(),
        maxTargetDragTreshold: e.getSpeed() / 2,
        stopping: !1,
      };
    }
    function a(t) {
      let e = t.getDataObject(),
        i = e.hasRealManeuverSystem(),
        n = e.getManeuverability();
      return {
        realManeuverSystem: i,
        targetAngleCode: 0,
        currentAngleCode: 0,
        maxAngleCount: e.getDirections() || 1,
        angularVelocity: 0,
        angularVelocityHelper: 0,
        maxAngularVelocity: n,
        framePadding: e.getAnimFrame() || 1,
      };
    }
    function o(t) {
      return { time: 0, defaultAnchorY: t.getSprite().anchor.y };
    }
    function s(t) {
      let e = t.getDataObject(),
        i = e.getAnimationOffset(),
        n = e.getAnimationByKey('move');
      if (n && n.length) {
        return n.map(t => (t && t.frames && t.frames.length ? t.frames[0] + i : 0));
      }
      for (
        var r = e.getDirections() || 1,
          a = e.getAnimFrame() || 1,
          o = [],
          s = 0;
        s < r;
        s += 1
      ) { o.push(s * a + i); }
      return o;
    }
    function u(t) {
      for (var e = [], i = 1; i <= t; i += 1) {
        for (let n = -i; n <= i; n += i) {
          for (let r = -i; r <= i; r += i) { (Math.abs(n) >= i || Math.abs(r) >= i) && e.push({ x: n, y: r }); }
        }
      }
      return e;
    }
    function l(t) {
      let e = this,
        i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3;
      (this.game = w.game),
      (this.dispatcher = new b.default.EventDispatcher()),
      (this.effectManager = new f.default(this)),
      (this.collisionMap = this.game.map.getCollisionMap()),
      (this.entity = t),
      (this.sprite = t.getSprite()),
      (this.animationManager = t.getAnimationManager()),
      (this.rotationFrames = s(t)),
      (this.movement = r(t)),
      (this.rotation = a(t)),
      (this.levitation = o(t)),
      (this.isEntityArrivedAtDestination = !1),
      (this.isEntityStoppedAtDestination = !1),
      (this.isEntityHeadedToDestination = !0),
      (this.isUsingPathFinding = !1),
      (this.enroute = !1),
      (this.collisionPoints = {}),
      t.on('sprite/update', (t) => {
        e.sprite = t;
      }),
      (this.offsets = u(i));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var c = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      h =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      d = i(513),
      f = n(d),
      p = i(514),
      g = n(p),
      y = i(83),
      v = n(y),
      m = i(3),
      b = n(m),
      _ = i(2),
      w = window.fivenations;
    (l.prototype = {
      moveTo(t) {
        if (!this.calculatePathInProgress) {
          if (
            (this.enclosedTimer &&
              this.enclosedTimer.destroy &&
              this.enclosedTimer.destroy(),
            (this.enroute = !0),
            (this.isUsingPathFinding = this.isEmployingPathfinding()),
            !this.isUsingPathFinding)
          ) { return void this.setUpEffectsForMoving(t); }
          if (typeof t.getTile === 'function') {
            this.originalActivity = t;
            let e = this.entity.getTileObj(),
              i = t.getTile();
            this.collisionMap.isInsideMap(i) &&
              (Number.isNaN(e.x) ||
                Number.isNaN(e.y) ||
                Number.isNaN(i.x) ||
                Number.isNaN(i.y) ||
                ((this.enclosedRetry = 0), this.calculatePathWrapper(e, i)));
          }
        }
      },
      calculatePathWrapper(t, e) {
        if (!this.collisionMap.isEnclosed(t)) {
          return (
            (this.calculatePathInProgress = !0),
            void this.calculatePath(t, e, e)
          );
        }
        (this.enclosedRetry += 1),
        this.enclosedRetry > 10 ||
            this.game.time.events.add(
              500,
              this.calculatePathWrapper,
              this,
              t,
              e,
            );
      },
      calculatePath(t, e, i) {
        let n = this,
          r =
            arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
        if (r >= this.offsets.length) {
          return (
            this.entity.getActivityManager().removeAll(),
            void (this.calculatePathInProgress = !1)
          );
        }
        let a = !1,
          o = void 0,
          s = void 0;
        this.entity.isMelee() &&
          (o = this.entity.getTargetEntity()) &&
          (this.collisionMap.cleanupObstacleAroundBigShip(o),
          o.isMoving() ||
            ((s = o.getTileObj()),
            this.collisionMap.forceUnvisit(s, o),
            (a = !0))),
        this.collisionMap.cleanupObstacleAroundBigShip(this.entity),
        this.collisionMap.calculatePath(t, i).then((i) => {
          a &&
              (n.collisionMap.forceVisit(s, o), i && i.length > 0 && i.pop());
          let u = r;
          if (!i || i.length === 0) {
            let l = void 0;
            do {
              (l = h({}, e)),
              (l.x += n.offsets[u].x),
              (l.y += n.offsets[u].y),
              (u += 1);
            } while (
              u < n.offsets.length &&
                (!n.collisionMap.isInsideMap(l) ||
                  n.collisionMap.isOccupied(l.x, l.y))
            );
            return void n.calculatePath(t, e, l, u);
          }
          (n.tilesToTarget = i.slice(1)),
          n.moveToNextTile(),
          (n.calculatePathInProgress = !1);
        });
      },
      moveToNextTile() {
        if (this.tilesToTarget && this.tilesToTarget.length) {
          let t = this.tilesToTarget[0],
            e = w.game.map.getScreenCoordinatesOfTile(t),
            i = new v.default(this.entity);
          i.setCoords(e);
          let n = !1;
          this.tilesToTarget.length === 1
            ? ((this.isUsingPathFinding = !1), (n = !0))
            : (this.isUsingPathFinding = this.isEmployingPathfinding()),
          (this.lastTileToTarget = t),
          this.setUpEffectsForMoving(i, n);
        }
      },
      setUpEffectsForMoving(t) {
        const e =
          !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
        (this._forceStopped = !1),
        (this.activity = t),
        this.effectManager.resetEffects(),
        this.effectManager.execute(g.default.get('initMovement')),
        this.isRequiredToStopBeforeFurtherAction() &&
            (this.effectManager.addEffect(g.default.get('stopping')),
            this.effectManager.addEffect(g.default.get('resetMovement'))),
        this.isRequiredToRotateFirst() &&
            (this.effectManager.addEffect(g.default.get('stopAnimation')),
            this.effectManager.addEffect(g.default.get('rotateToTarget'))),
        this.effectManager.addEffect(g.default.get('startMovement')),
        this.effectManager.addEffect(g.default.get('accelerateToTarget')),
        this.effectManager.addEffect(g.default.get('moveToTarget')),
        e &&
            this.isRequiredToStopWhenArrivingAtTheDestination() &&
            (this.effectManager.addEffect(g.default.get('stopping')),
            this.effectManager.addEffect(g.default.get('resetMovement')),
            this.effectManager.addEffect(g.default.get('stopAnimation')));
      },
      reset() {
        this.entity.setSuggestedTile(!1),
        (this._forceStopped = !1),
        this.effectManager.resetEffects();
      },
      stop() {
        const t = this;
        return new Promise(((e) => {
          t.once('arrive', e),
          t.effectManager.resetEffects(),
          (t.entity.isMelee() && t.entity.getTargetEntity()) ||
              t.effectManager.addEffect(g.default.get('stopping')),
          t.effectManager.addEffect(g.default.get('resetMovement')),
          t.effectManager.addEffect(g.default.get('stopAnimation')),
          (t.enroute = !1);
        }));
      },
      forceStop() {
        (this._forceStopped = !0),
        this.effectManager.resetEffects(),
        this.effectManager.addEffect(g.default.get('resetMovement')),
        this.entity.dispatch('forceStop'),
        (this.enroute = !1);
      },
      rotateToTarget(t) {
        (this.activity = t),
        this.effectManager.resetEffects(),
        this.effectManager.addEffect(g.default.get('initMovement')),
        this.isRequiredToStopBeforeFurtherAction() &&
            (this.effectManager.addEffect(g.default.get('stopping')),
            this.effectManager.addEffect(g.default.get('resetMovement'))),
        this.effectManager.addEffect(g.default.get('rotateToTarget'));
      },
      headToCoords(t) {
        (this.movement.targetAngle = Math.atan2(
          t.y - this.entity.sprite.y,
          t.x - this.entity.sprite.x,
        )),
        (this.movement.currentAngle = this.movement.targetAngle),
        (this.rotation.targetAngleCode = this.getAngleCodeByAngle(this.movement.targetAngle)),
        (this.rotation.currentAngleCode = this.rotation.targetAngleCode),
        (this.sprite.frame = this.rotationFrames[
          this.rotation.currentAngleCode
        ]);
      },
      levitate() {
        this.effectManager.addEffect(g.default.get('levitating'));
      },
      stopLevitating() {
        this.effectManager.resetEffects(),
        this.entity.sprite.anchor.setTo(0.5, 0.5);
      },
      update() {
        if (
          (this.updateVelocity(),
          this.updateRotation(),
          this.effectManager.updateEffects(),
          this.executeChecks(),
          !this.isMoving() &&
            this.tilesToTarget &&
            this.tilesToTarget.length === 1 &&
            (!this.entity.hasSlowManeuverability() ||
              this.isEntityFacingTargetRoughly()) &&
            this.entity.getActivityManager().isMoving() &&
            !this.calculatePathInProgress)
        ) {
          let t = this.entity.getTileObj(),
            e = c(this.tilesToTarget, 1),
            i = e[0],
            n = this.entity.getActivityManager().getCurrentActivity();
          t.x === i.x && t.y === i.y && n.kill();
        }
      },
      updateVelocity() {
        (this.movement.distance = this.game.physics.arcade.distanceToXY(
          this.sprite,
          this.movement.targetX,
          this.movement.targetY,
        )),
        (this.movement.distanceInverse =
            this.movement.targetInitialDistance - this.movement.distance),
        (this.movement.distanceFromOrigin = this.game.physics.arcade.distanceToXY(
          this.sprite,
          this.movement.originX,
          this.movement.originY,
        )),
        this.movement.acceleration
          ? (this.movement.velocity +=
                this.movement.acceleration * this.game.time.elapsedRate)
          : this.movement.drag &&
              ((this.movement.drag *= this.game.time.elapsedRate),
              this.movement.velocity - this.movement.drag > 0
                ? (this.movement.velocity -= this.movement.drag)
                : this.movement.velocity + this.movement.drag < 0
                  ? (this.movement.velocity += this.movement.drag)
                  : (this.movement.velocity = 0)),
        this.movement.velocity > this.movement.maxVelocity
          ? (this.movement.velocity = this.movement.maxVelocity)
          : this.movement.velocity < -this.movement.maxVelocity &&
              (this.movement.velocity = -this.movement.maxVelocity),
        (this.sprite.body.velocity.x =
            Math.cos(this.movement.currentAngle) * this.movement.velocity),
        (this.sprite.body.velocity.y =
            Math.sin(this.movement.currentAngle) * this.movement.velocity);
      },
      updateRotation() {
        if (
          !this.isMoving() ||
          !this.entity.hasSlowManeuverability() ||
          this.isEntityFacingTargetRoughly()
        ) {
          if (this.rotation.currentAngleCode === this.rotation.targetAngleCode) {
            return void (
              this.isEntityHeadedToDestination ||
              ((this.isEntityHeadedToDestination = !0),
              (this.movement.currentAngle = this.movement.targetAngle),
              this.effectManager.addEffectToTop(g.default.get('startMoveAnimation')))
            );
          }
          if (
            (this.hasRealManeuverSystem() && this.updateRealManeuverSystem(),
            this.isRealManeuverSystemActive())
          ) {
            let t = Phaser.Math.normalizeAngle(this.movement.targetAngle),
              e = Phaser.Math.normalizeAngle(this.movement.currentAngle),
              i =
                (this.rotation.maxAngularVelocity / 10) *
                this.game.time.elapsedRate;
            if (
              ((this.movement.targetAngle = Math.atan2(
                this.movement.targetY - this.sprite.y,
                this.movement.targetX - this.sprite.x,
              )),
              Math.abs(t - e) > 2 * i)
            ) {
              const n = 2 * Math.PI;
              if (!this.rotation.angularDirection) {
                let r = { x: this.movement.targetX, y: this.movement.targetY },
                  a = this.game.physics.arcade.angleBetween(this.sprite, r),
                  o = a - this.sprite.rotation;
                o > Math.PI && (o -= n),
                o < -Math.PI && (o += n),
                (this.rotation.angularDirection = o > 0 ? 1 : -1);
              }
              (this.movement.currentAngle +=
                this.rotation.angularDirection * i),
              (this.movement.currentAngle %= n);
            } else this.movement.currentAngle = this.movement.targetAngle;
            (this.rotation.targetAngleCode = this.getAngleCodeByAngle(this.movement.targetAngle)),
            (this.rotation.currentAngleCode = this.getAngleCodeByAngle(this.movement.currentAngle)),
            this.rotation.maxAngleCount > 0 &&
                (this.sprite.frame = this.rotationFrames[
                  this.rotation.currentAngleCode
                ]);
          } else {
            (this.movement.currentAngle = this.movement.targetAngle),
            (this.rotation.angularDirection =
                this.rotation.stepNumberToLeft < this.rotation.stepNumberToRight
                  ? -1
                  : 1),
            (this.rotation.angularVelocityHelper +=
                this.rotation.angularVelocity * this.game.time.elapsedRate),
            this.rotation.angularVelocityHelper > 1 &&
                ((this.rotation.angularVelocityHelper = 0),
                this.rotation.currentAngleCode +
                  this.rotation.angularDirection <
                  0 &&
                  (this.rotation.currentAngleCode = this.rotation.maxAngleCount),
                (this.rotation.currentAngleCode += this.rotation.angularDirection),
                (this.rotation.currentAngleCode %= this.rotation.maxAngleCount)),
            this.rotation.maxAngleCount > 0 &&
                (this.sprite.frame = this.rotationFrames[
                  this.rotation.currentAngleCode
                ]);
          }
        }
      },
      updateRealManeuverSystem() {
        this.movement.distance < 50 || !this.canRealManeuverSystemActivated()
          ? ((this.rotation.isRealManeuverSystemActive = !1),
          (this.rotation.angularVelocity = this.rotation.maxAngularVelocity))
          : (this.rotation.isRealManeuverSystemActive = !0);
      },
      executeChecks() {
        this.checkIfEntityHasArrivedAtDestination(),
        this.checkIfEntityHasStoppedAtDestination(),
        this.checkIfEntityIsBlockedByObstacle();
      },
      checkIfEntityHasArrivedAtDestination() {
        this.isEntityArrivedAtDestination &&
          this.isUsingPathFinding &&
          (this.setSuggestedTile(this.lastTileToTarget),
          this.tilesToTarget.shift(),
          this.moveToNextTile());
      },
      checkIfEntityHasStoppedAtDestination() {
        this.isEntityStoppedAtDestination &&
          (this.setSuggestedTile(this.lastTileToTarget),
          this.originalActivity && this.originalActivity.isKillable()
            ? this.originalActivity.kill()
            : this.activity &&
              this.activity.isKillable() &&
              this.activity.kill(),
          this.dispatcher.dispatch('arrive'),
          (this.isEntityStoppedAtDestination = !1),
          (this.isEntityArrivedAtDestination = !1),
          (this.enroute = !1));
      },
      checkIfEntityIsBlockedByObstacle() {
        this.entity.hasFlyOverObstacles() ||
          ((this.isMoving() || this._forceStopped) &&
            (this.entity.isObstacleAhead()
              ? this._forceStopped ||
                (this.forceStop(), this.moveTo(this.originalActivity))
              : this._forceStopped &&
                this.activity &&
                ((this.activity = this.originalActivity),
                this.moveTo(this.activity))));
      },
      setSuggestedTile(t) {
        this.entity.setSuggestedTile(t);
      },
      setMaxSpeed(t) {
        let e = this.entity.getDataObject(),
          i = e.getSpeed() * t;
        (this.movement.maxVelocity = i),
        (this.movement.maxAcceleration = i),
        (this.movement.maxTargetDragTreshold = i / 2),
        (this.movement.velocity = Math.min(this.movement.velocity, i)),
        (this.movement.acceleration = Math.min(
          this.movement.acceleration,
          i,
        ));
      },
      getFrontCollisionPointOffset() {
        let t =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
          e = this.rotation.currentAngleCode + t;
        if (!this.collisionPoints[e]) {
          let i = this.movement.currentAngle,
            n = Math.max(this.sprite.hitArea.width, _.TILE_WIDTH),
            r = Math.cos(i),
            a = Math.sin(i),
            o = n * r - 0 * a,
            s = n * a + 0 * r;
          this.collisionPoints[e] = { x: o, y: s };
        }
        return this.collisionPoints[e];
      },
      on(t, e) {
        this.dispatcher.addEventListener(t, e);
      },
      once(t, e) {
        if (typeof e === 'function') {
          var i = function () {
            e(), this.dispatcher.removeEventListener(t, i);
          }.bind(this);
          this.dispatcher.addEventListener(t, i);
        }
      },
      canRealManeuverSystemActivated() {
        return (
          this.entity.getDockerEntity() ||
          this.entity.getWeaponManager().getTargetEntity()
        );
      },
      isEntityFacingCoords(t) {
        if (!t) return !1;
        let e = this.entity.getSprite(),
          i = Math.atan2(t.y - e.y, t.x - e.x),
          n = this.getAngleCodeByAngle(i);
        return (
          this.rotation.maxAngleCount < 2 ||
          this.rotation.currentAngleCode === n
        );
      },
      isEntityFacingTargetEntity(t) {
        return !!t && this.isEntityFacingCoords(t.getSprite());
      },
      isEntityFacingTarget() {
        return this.rotation.currentAngleCode === this.rotation.targetAngleCode;
      },
      isEntityFacingTargetRoughly() {
        let t = this.rotation,
          e = t.targetAngleCode,
          i = t.currentAngleCode,
          n = t.maxAngleCount;
        return (
          b.default.getDiffBetweenRadialValues(e, i, n) < Math.floor(n / 4)
        );
      },
      isRequiredToStopBeforeFurtherAction() {
        return (
          this.isMoving() &&
          !this.isEntityFacingTargetRoughly() &&
          this.entity.hasSlowManeuverability()
        );
      },
      isRequiredToRotateFirst() {
        return !(
          this.isEntityFacingTarget() ||
          (this.hasRealManeuverSystem() && !this.entity.isObstacleAhead())
        );
      },
      isRequiredToStopWhenArrivingAtTheDestination() {
        return !0;
      },
      isMoving() {
        return this.movement.velocity > 0;
      },
      isEnroute() {
        return this.enroute;
      },
      isStopping() {
        return this.movement.stopping;
      },
      isEmployingPathfinding() {
        return !this.entity.hasFlyOverObstacles();
      },
      hasRealManeuverSystem() {
        return this.rotation.realManeuverSystem;
      },
      hasNoEffectToExecute() {
        return this.effectManager.isEmpty();
      },
      isRealManeuverSystemActive() {
        return this.rotation.isRealManeuverSystemActive;
      },
      getCurrentAngleCode() {
        return this.rotation.currentAngleCode;
      },
      setCurrentAngleCode(t) {
        this.rotation.currentAngleCode = t;
      },
      getEntity() {
        return this.entity;
      },
      getAngleCodeByAngle(t) {
        let e = Math.floor(0.75 * this.rotation.maxAngleCount),
          i = void 0;
        return this.rotation.maxAngleCount === 1
          ? 0
          : ((i = Phaser.Math.radToDeg(t)),
          i < 0 && (i = 360 - Math.abs(i)),
          (Math.floor(i / (360 / this.rotation.maxAngleCount)) + e) %
              this.rotation.maxAngleCount);
      },
      getCurrentAngleCodeMOD() {
        return this.rotation.currentAngleCode;
      },
      getCurrentAngleInRad() {
        return this.movement.currentAngle;
      },
      getCurrentAngleInDeg() {
        return (Phaser.Math.radToDeg(this.getCurrentAngleInRad()) + 270) % 360;
      },
      getMaxAngleCount() {
        return this.rotation.maxAngleCount;
      },
      getTilesToTarget() {
        return this.tilesToTarget;
      },
      getNextTileToTarget() {
        return this.tilesToTarget && this.tilesToTarget.length
          ? this.tilesToTarget[0]
          : null;
      },
    }),
    (e.default = l);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(4),
      s = n(o),
      u = i(1),
      l = n(u),
      c = i(11),
      h = n(c),
      d = i(140),
      f = i(2),
      p = window.fivenations,
      g = (function () {
        function t(e) {
          r(this, t),
          (this.entity = e),
          (this.motionManager = e.getMotionManager()),
          (this.slots = []),
          (this.isProductionTypeHatch = e
            .getDataObject()
            .isProductionTypeHatch());
        }
        return (
          a(t, [
            {
              key: 'update',
              value() {
                const t = this;
                if (this.isProducing()) {
                  if (this.hasProductionStarted()) {
                    if (this.isProductionReady()) {
                      const e = s.default.getInstance();
                      if (e.isUserAuthorised()) {
                        const i = this.calculatePlacementCoords();
                        if (!i) {
                          return (
                            console.warn(`Cannot place entity around factory, coords: ${
                              i}`),
                            void this.removeProductionSlotByIndex(0, !1)
                          );
                        }
                        this.createEntityFromCurrentSlot(i).then((e) => {
                          e &&
                            (t.sendEntityToRallyPoint(e),
                            t.emitInternalEventForComplition(e),
                            t.emitLocalEventForComplition(e));
                        });
                      }
                      this.removeProductionSlotByIndex(0, !0);
                    }
                  } else {
                    this.hasEnoughSupply()
                      ? this.startProduction()
                      : this.hasNotEnoughSupplyNotificationSent() ||
                        this.sendNotEnoughSupplyNotification();
                  }
                }
              },
            },
            {
              key: 'addProductionSlot',
              value(t) {
                this.entity.isInConstruction() ||
                  (this.hasEnoughSupply(t.id) || this.isProducing()
                    ? (this.slots.push(t), this.updateControlPage())
                    : this.hasNotEnoughSupplyNotificationSent() ||
                      this.sendNotEnoughSupplyNotification());
              },
            },
            {
              key: 'removeProductionSlotByIndex',
              value(t, e) {
                this.slots[t] &&
                  (this.slots.splice(t, 1),
                  t === 0 &&
                    (this.stopAnimation(),
                    this.updateControlPage(),
                    this.updateSupplies(),
                    e || this.emitInternalEventForCancel()));
              },
            },
            {
              key: 'updateControlPage',
              value() {
                this.entity.getPlayer() === s.default.getInstance().getUser() &&
                  l.default
                    .getInstance()
                    .local.dispatch('gui/controlpage/update');
              },
            },
            {
              key: 'updateSupplies',
              value() {
                l.default
                  .getInstance()
                  .local.dispatch('entity/production/change');
              },
            },
            {
              key: 'createEntityFromCurrentSlot',
              value(t) {
                let e = this.slots[0].id,
                  i = t.x,
                  n = t.y,
                  r = this.entity.getDataObject().getTeam(),
                  a = l.default.getInstance(),
                  o = h.default.getInstance(),
                  s = !this.isProductionTypeHatch;
                return a.synced.entities
                  .add({
                    readyQuote: !0,
                    madeByEntity: !0,
                    id: e,
                    team: r,
                    x: i,
                    y: n,
                    visible: s,
                  })
                  .then(t => o.entities(t));
              },
            },
            {
              key: 'calculatePlacementCoords',
              value() {
                if (this.isProductionTypeHatch) return this.entity.getSprite();
                let t = p.game.map.getCollisionMap(),
                  e = t.getNextEmptyTileAroundEntity(this.entity);
                return e
                  ? { x: e.x * f.TILE_WIDTH, y: e.y * f.TILE_HEIGHT }
                  : null;
              },
            },
            {
              key: 'sendEntityToRallyPoint',
              value(t) {
                let e = l.default.getInstance(),
                  i = this.entity.getRallyPoint();
                if (!i) return null;
                let n = i.x,
                  r = i.y;
                if (t.canMine()) {
                  const a = p.game.entityManager.getNearbyResourceEntity({
                    x: n,
                    y: r,
                  });
                  if (a) {
                    return (
                      e.synced
                        .entities(t)
                        .mine({ targetEntity: a, resetActivityQueue: !0 }),
                      t
                    );
                  }
                }
                return (
                  (n += Math.floor(121 * Math.random()) - 60),
                  (r += Math.floor(121 * Math.random()) - 60),
                  e.synced.entities(t).move({ x: n, y: r }),
                  t
                );
              },
            },
            {
              key: 'emitLocalEventForComplition',
              value(t) {
                l.default
                  .getInstance()
                  .local.dispatch('entity/production/completed', t);
              },
            },
            {
              key: 'emitInternalEventForComplition',
              value(t) {
                this.entity.dispatch('production/completed', t);
              },
            },
            {
              key: 'emitInternalEventForCancel',
              value() {
                this.entity.dispatch('production/cancel');
              },
            },
            {
              key: 'startProduction',
              value() {
                this.activateFirstSlot(),
                this.updateSupplies(),
                this.startAnimation(),
                this.hatchEntityIfRequired();
              },
            },
            {
              key: 'activateFirstSlot',
              value() {
                let t = this.slots[0],
                  e = p.game.turn;
                (t.activated = !0),
                (t.complitionTime = e + t.time),
                (this._notEnoughSupplyNotificationSent = !1);
              },
            },
            {
              key: 'startAnimation',
              value() {
                this.entity.animate('construction', !1, !1, !0);
              },
            },
            {
              key: 'stopAnimation',
              value() {
                this.entity.stopAnimation('construction');
              },
            },
            {
              key: 'hatchEntityIfRequired',
              value() {
                this.isProductionTypeHatch && this.entity.hatch();
              },
            },
            {
              key: 'sendNotEnoughSupplyNotification',
              value() {
                const t = this.entity.getPlayer();
                if (t === s.default.getInstance().getUser()) {
                  const e = l.default.getInstance();
                  t.isSupplyLimitExceeded()
                    ? e.local.dispatch('resources/unsufficient/maxspace')
                    : e.local.dispatch('resources/unsufficient/space');
                }
                this._notEnoughSupplyNotificationSent = !0;
              },
            },
            {
              key: 'isProducing',
              value() {
                return this.slots.length;
              },
            },
            {
              key: 'isProductionReady',
              value() {
                const t = p.game.turn;
                return this.slots[0].complitionTime <= t;
              },
            },
            {
              key: 'hasProductionStarted',
              value() {
                return !!this.slots[0] && this.slots[0].activated;
              },
            },
            {
              key: 'hasEnoughSupply',
              value(t) {
                let e = t || this.slots[0].id,
                  i = this.entity.getPlayer();
                return (
                  i.getSupply() -
                    i.getCurrentEntityNumber() -
                    p.game.game.cache.getJSON(e).space >=
                  0
                );
              },
            },
            {
              key: 'hasNotEnoughSupplyNotificationSent',
              value() {
                const t = this.entity.getPlayer();
                return (
                  this._notEnoughSupplyNotificationSent &&
                  !t.isSupplyLimitExceeded()
                );
              },
            },
            {
              key: 'getCurrentProductionSlot',
              value() {
                return this.slots[0];
              },
            },
            {
              key: 'getSlotByIdx',
              value(t) {
                return this.slots[t];
              },
            },
            {
              key: 'getAllSlots',
              value() {
                return this.slots;
              },
            },
            {
              key: 'isProductionLineFull',
              value() {
                return this.slots.length === d.SLOTS_COUNT;
              },
            },
            {
              key: 'isTypeHatch',
              value() {
                return this.isProductionTypeHatch;
              },
            },
          ]),
          t
        );
      }());
    e.default = g;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(4),
      s = n(o),
      u = i(1),
      l = n(u),
      c = i(23),
      h = n(c),
      d = window.fivenations,
      f = (function () {
        function t(e) {
          r(this, t), (this.entity = e), (this.slots = []);
        }
        return (
          a(t, [
            {
              key: 'update',
              value() {
                if (this.isResearching()) {
                  if (this.hasResearchStarted()) {
                    if (this.isResearchReady()) {
                      const t = s.default.getInstance();
                      if (t.isUserAuthorised()) {
                        let e = this.slots[0],
                          i = this.entity.getPlayer();
                        l.default
                          .getInstance()
                          .synced.players(i)
                          .researchCompleted({
                            entity: this.entity,
                            researchId: e.id,
                          });
                      }
                      this.completeResearching(),
                      this.sendResearchCompleteNotification();
                    }
                  } else this.startResearch(), this.startAnimation();
                }
              },
            },
            {
              key: 'addResearchSlot',
              value(t) {
                if (!this.entity.isInConstruction()) {
                  let e = h.default.getInstance(),
                    i = e.getTechById(t),
                    n = i.buildingTime,
                    r = 60 * n;
                  d.debug.fastBuild && (r /= 10);
                  const a = { time: r, id: t };
                  this.entity.getPlayer().setReseachInProgress(t),
                  this.slots.push(a),
                  this.updateControlPage();
                }
              },
            },
            {
              key: 'removeResearchSlotByIndex',
              value() {
                const t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 0;
                if (this.slots[t]) {
                  const e = this.slots[t].id;
                  this.entity.getPlayer().cancelResearch(e),
                  this.slots.splice(t, 1),
                  t === 0 && (this.stopAnimation(), this.updateControlPage());
                }
              },
            },
            {
              key: 'completeResearching',
              value() {
                this.slots.splice(0, 1), this.stopAnimation();
              },
            },
            {
              key: 'updateControlPage',
              value() {
                l.default
                  .getInstance()
                  .local.dispatch('gui/controlpage/update');
              },
            },
            {
              key: 'startResearch',
              value() {
                let t = this.slots[0],
                  e = d.game.turn;
                (t.activated = !0), (t.complitionTime = e + t.time);
              },
            },
            {
              key: 'startAnimation',
              value() {
                this.entity.animate('construction');
              },
            },
            {
              key: 'stopAnimation',
              value() {
                this.entity.stopAnimation('construction');
              },
            },
            {
              key: 'sendResearchCompleteNotification',
              value() {
                this.entity.getPlayer() === s.default.getInstance().getUser() &&
                  l.default.getInstance().local.dispatch('research/completed');
              },
            },
            {
              key: 'isResearching',
              value() {
                return this.slots.length;
              },
            },
            {
              key: 'isResearchReady',
              value() {
                const t = d.game.turn;
                return this.slots[0].complitionTime <= t;
              },
            },
            {
              key: 'hasResearchStarted',
              value() {
                return this.slots[0].activated;
              },
            },
            {
              key: 'getCurrentResearchSlot',
              value() {
                return this.slots[0];
              },
            },
          ]),
          t
        );
      }());
    e.default = f;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(66),
      c = n(l),
      h = i(1),
      d = n(h),
      f = 'disintegrated',
      p = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (i.ttl = 30), i;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'activate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                d.default
                  .getInstance()
                  .synced.entities(this.entity)
                  .damage({
                    damage: 10,
                    damageShield: 18,
                    damageHullDirectly: !0,
                    ignoreArmor: !0,
                    emitterEntity: this.emitterEntity,
                  });
              },
            },
            {
              key: 'getId',
              value() {
                return f;
              },
            },
            {
              key: 'getIconFrameName',
              value() {
                return 'gui_effect_12_disintegrating.png';
              },
            },
          ]),
          e
        );
      }(c.default));
    (p.ID = f), (e.default = p);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(66),
      c = n(l),
      h = i(509),
      d = n(h),
      f = 'expandedshield',
      p = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'addExpandedShieldView',
              value() {
                (this.view = new d.default()),
                this.view.appendTo(this.entity),
                this.view.show();
              },
            },
            {
              key: 'removeExpandedShieldView',
              value() {
                this.view.remove();
              },
            },
            {
              key: 'activate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                this.addExpandedShieldView();
              },
            },
            {
              key: 'deactivate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'deactivate',
                  this,
                ).call(this),
                this.removeExpandedShieldView();
              },
            },
            {
              key: 'setTTL',
              value(t) {
                this.ttl = t;
              },
            },
            {
              key: 'getId',
              value() {
                return f;
              },
            },
            {
              key: 'getIconFrameName',
              value() {
                return 'gui_effect_18_absorbiveshield.png';
              },
            },
          ]),
          e
        );
      }(c.default));
    (p.ID = f), (e.default = p);
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(66),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = 'expandedshieldemitter',
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'update',
              value() {
                this.entity.isInConstruction() ||
                  this.entity
                    .getClosestAllyEntitiesInRange()
                    .forEach((t) => {
                      if (!(!t.getDataObject().getMaxShield() > 0)) {
                        const e = t.getSpellManager();
                        if (!e.isActive(l)) {
                          if (e.isActive('expandedshield')) {
                            const i = e.getSpellById('expandedshield');
                            i.setTTL(5);
                          } else e.addSpellById('expandedshield');
                        }
                      }
                    });
              },
            },
            {
              key: 'getId',
              value() {
                return l;
              },
            },
            {
              key: 'getIconFrameName',
              value() {
                return null;
              },
            },
          ]),
          e
        );
      }(u.default));
    (c.ID = l), (e.default = c);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(66),
      c = n(l),
      h = i(28),
      d = n(h),
      f = 'forcedShield',
      p = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return i.initHelpers(), i.registerEventListeners(), i;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'initHelpers',
              value() {
                (this.sprite = this.entity.getSprite()),
                (this.effectManager = d.default.getInstance());
              },
            },
            {
              key: 'registerEventListeners',
              value() {
                (this.onRemove = this.deactivate.bind(this)),
                this.entity.on('remove', this.onRemove);
              },
            },
            {
              key: 'activate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                this.addEffectToEntity(),
                (this.ttl = 600);
              },
            },
            {
              key: 'deactivate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'deactivate',
                  this,
                ).call(this),
                this.removeEffect();
              },
            },
            {
              key: 'addEffectToEntity',
              value() {
                (this.effect = this.effectManager.add({
                  id: 'uniteffect_forcedshield',
                  x: this.sprite.x,
                  y: this.sprite.y,
                })),
                this.effect.attachToEntity(this.entity);
              },
            },
            {
              key: 'removeEffect',
              value() {
                this.effectManager.remove(this.effect),
                this.entity.off('remove', this.onRemove);
              },
            },
            {
              key: 'getId',
              value() {
                return f;
              },
            },
            {
              key: 'getIconFrameName',
              value() {
                return 'gui_effect_05_forcedshield.png';
              },
            },
          ]),
          e
        );
      }(c.default));
    (p.ID = f), (e.default = p);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(66),
      c = n(l),
      h = i(28),
      d = n(h),
      f = 'nanoInfection',
      p = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return i.initHelpers(), i.registerEventListeners(), (i.ttl = 1200), i;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'initHelpers',
              value() {
                (this.sprite = this.entity.getSprite()),
                (this.effectManager = d.default.getInstance());
              },
            },
            {
              key: 'registerEventListeners',
              value() {
                (this.onRemove = this.deactivate.bind(this)),
                this.entity.on('remove', this.onRemove);
              },
            },
            {
              key: 'activate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                this.increaseCooldown(),
                this.addEffectToEntity();
              },
            },
            {
              key: 'deactivate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'deactivate',
                  this,
                ).call(this),
                this.restoreCooldown(),
                this.removeEffect();
              },
            },
            {
              key: 'increaseCooldown',
              value() {
                this.entity
                  .getWeaponManager()
                  .getWeapons()
                  .forEach(t => t.updateAttrTemporarilyByRatio({ cooldown: 1.5 }));
              },
            },
            {
              key: 'addEffectToEntity',
              value() {
                (this.effect = this.effectManager.add({
                  id: 'uniteffect_nanoinfection',
                  x: this.sprite.x,
                  y: this.sprite.y,
                })),
                this.effect.attachToEntity(this.entity);
              },
            },
            {
              key: 'restoreCooldown',
              value() {
                this.entity
                  .getWeaponManager()
                  .getWeapons()
                  .forEach(t => t.restoreOriginalAttr('cooldown'));
              },
            },
            {
              key: 'removeEffect',
              value() {
                this.effectManager.remove(this.effect),
                this.entity.off('remove', this.onRemove);
              },
            },
            {
              key: 'getId',
              value() {
                return f;
              },
            },
            {
              key: 'getIconFrameName',
              value() {
                return 'gui_effect_08_nanoinfection.png';
              },
            },
          ]),
          e
        );
      }(c.default));
    (p.ID = f), (e.default = p);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(28),
      c = n(l),
      h = i(66),
      d = n(h),
      f = 'neutralised',
      p = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return i.initHelpers(), i.registerEventListeners(), i;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'initHelpers',
              value() {
                (this.sprite = this.entity.getSprite()),
                (this.effectManager = c.default.getInstance());
              },
            },
            {
              key: 'registerEventListeners',
              value() {
                (this.onRemove = this.deactivate.bind(this)),
                this.entity.on('remove', this.onRemove);
              },
            },
            {
              key: 'activate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'activate',
                  this,
                ).call(this),
                (this.effect = this.effectManager.add({
                  id: 'uniteffect_emp',
                  x: this.sprite.x,
                  y: this.sprite.y,
                })),
                this.effect.attachToEntity(this.entity),
                this.entity.neutralise(),
                (this.ttl = 180);
              },
            },
            {
              key: 'deactivate',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'deactivate',
                  this,
                ).call(this),
                this.effectManager.remove(this.effect),
                this.entity.unneutralise(),
                this.entity.off('remove', this.onRemove);
              },
            },
            {
              key: 'getId',
              value() {
                return f;
              },
            },
            {
              key: 'getIconFrameName',
              value() {
                return 'gui_effect_01_freeze.png';
              },
            },
          ]),
          e
        );
      }(d.default));
    (p.ID = f), (e.default = p);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o,
      s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(191),
      l = n(u),
      c = i(518),
      h = n(c),
      d = i(519),
      f = n(d),
      p = i(520),
      g = n(p),
      y = i(521),
      v = n(y),
      m = i(522),
      b = n(m),
      _ = i(523),
      w = n(_),
      x = window.fivenations,
      P =
        ((o = {}),
        a(o, l.default.ID, l.default),
        a(o, h.default.ID, h.default),
        a(o, f.default.ID, f.default),
        a(o, g.default.ID, g.default),
        a(o, v.default.ID, v.default),
        a(o, b.default.ID, b.default),
        a(o, w.default.ID, w.default),
        o),
      k = (function () {
        function t(e) {
          r(this, t),
          (this.entity = e),
          (this.spells = []),
          (this.activeSpells = {}),
          (this.rainbow = {}),
          (this.resettingSpells = !1);
        }
        return (
          s(t, [
            {
              key: 'add',
              value(t) {
                return (
                  this.removeSpellById(t.getId()),
                  this.spells.push(t),
                  t.setManager(this),
                  t.activate(),
                  t
                );
              },
            },
            {
              key: 'addSpellById',
              value(t, e) {
                if (P[t]) {
                  let i = P[t],
                    n = new i(this.entity);
                  e &&
                    Object.keys(e).forEach((t) => {
                      n[t] = e[t];
                    }),
                  this.add(n);
                }
              },
            },
            {
              key: 'remove',
              value(t) {
                for (let e = 0; e < this.spells.length; e += 1) {
                  if (this.spells[e] === t) {
                    this.removeByIndex(e);
                    break;
                  }
                }
              },
            },
            {
              key: 'removeByIndex',
              value(t) {
                this.spells[t] &&
                  ((this.rainbow[this.spells[t].getId()] = !1),
                  this.spells[t].deactivate(),
                  this.spells.splice(t, 1));
              },
            },
            {
              key: 'removeSpellById',
              value(t) {
                const e = this.getSpellById(t);
                e && this.remove(e);
              },
            },
            {
              key: 'removeAll',
              value() {
                for (this.resettingSpells = !0; this.spells[0];) { this.spells[0].kill(); }
                (this.resettingSpells = !1), (this.rainbow = {});
              },
            },
            {
              key: 'activateSpellsByWeaponManager',
              value(t) {
                t.hasWeapon(37) && this.addSpellById(l.default.ID),
                t.hasWeapon(41) && this.addSpellById(g.default.ID);
              },
            },
            {
              key: 'update',
              value() {
                x.debugMode && this.debug(),
                this.spells.forEach((t) => {
                  t.update && t.update();
                });
              },
            },
            {
              key: 'willActivate',
              value(t) {
                this.activeSpells[t] = !0;
              },
            },
            {
              key: 'debug',
              value() {
                let t = this,
                  e = x.game.game;
                this.spells.forEach((i, n) => {
                  e.debug.text(
                    `${i.constructor.name
                    } (${
                      i.isActivated() ? `Active ${i.ttl}` : 'Inactive'
                    })`,
                    t.entity.getSprite().x - x.game.camera.x + 50,
                    t.entity.getSprite().y - x.game.camera.y + 16 * n,
                    '#0000fa',
                  );
                });
              },
            },
            {
              key: 'getSpellById',
              value(t) {
                return (
                  this.rainbow[t] ||
                    (this.rainbow[t] = this.spells.find(e => e.getId() === t)),
                  this.rainbow[t]
                );
              },
            },
            {
              key: 'getSpells',
              value() {
                return this.spells;
              },
            },
            {
              key: 'isActive',
              value(t) {
                return this.activeSpells[t];
              },
            },
          ]),
          t
        );
      }());
    e.default = k;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      this.init(t), this.initWeapons();
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = i(137),
      o = n(a),
      s = i(3),
      u = n(s),
      l = i(2),
      c = {};
    (r.prototype = {
      init(t) {
        (this.entity = t), (this.game = t.game);
      },
      initWeapons() {
        let t = this,
          e = {};
        (this.weapons = []),
        this.entity
          .getDataObject()
          .getWeapons()
          .forEach((i) => {
            if (i) {
              const n = t.createWeaponById(i);
              if ((e[i] || (e[i] = []), e[i].push(n), e[i].length > 1)) {
                let r = n.getInstanceDelay() || l.WEAPON_INSTANCE_DELAY,
                  a = (e[i].length - 1) * r;
                n.setInstanceDelay(a),
                e[i].forEach((t) => {
                  t !== n && t.increaseCooldown(r);
                });
              }
              n.setManager(t), t.weapons.push(n);
            }
          });
      },
      update(t) {
        t &&
          this.weapons.forEach((t) => {
            t.update();
          });
      },
      clearTargetEntity() {
        this.weapons.forEach((t) => {
          t.clearTargetEntity();
        }),
        (this._lastEntityAttacked = null),
        (this.targetEntityWillBeSet = !1);
      },
      setTargetEntity(t) {
        this.weapons
          .filter(t => !t.isSelfContained())
          .forEach((e) => {
            e.setTargetEntity(t);
          });
      },
      createWeaponById(t) {
        let e = void 0;
        if (!c[t]) {
          for (
            let i = this.game.cache.getJSON('weapons'), n = i.length - 1;
            n >= 0;
            n -= 1
          ) { i[n].id === t && (c[t] = i[n]); }
        }
        return (
          (e =
            window.editor &&
            window.dataEditorStorage &&
            window.dataEditorStorage[t]
              ? JSON.parse(window.dataEditorStorage[t])
              : c[t]),
          new o.default(e)
        );
      },
      setAttr(t) {
        this.weapons.forEach(e => e.setAttr(t(e))),
        this.invalidateCache();
      },
      updateAttr(t) {
        this.weapons.forEach(e => e.updateAttr(t)),
        this.invalidateCache();
      },
      invalidateCache() {
        (this._hasCAF = void 0),
        (this._hasCAB = void 0),
        (this._hasOffensiveWeapon = void 0),
        (this.minRange = void 0),
        (this.maxRange = void 0),
        this.weapons.forEach(t => t.invalidateCache());
      },
      hasTargetEntity() {
        for (let t = 0, e = this.weapons.length - 1; t < e; t += 1) {
          if (
            !this.weapons[t].isSelfContained() &&
            this.weapons[t].getTargetEntity()
          ) { return !0; }
        }
        return !1;
      },
      getTargetEntity() {
        for (let t = 0, e = this.weapons.length; t < e; t += 1) {
          const i = this.weapons[t].getTargetEntity();
          if (i) return i;
        }
        return null;
      },
      getWeapons() {
        return this.weapons;
      },
      getEntity() {
        return this.entity;
      },
      getWeaponsCanFireEntity(t) {
        if (!t) return [];
        const e = u.default.distanceBetween(this.entity, t);
        return this.weapons.filter(t => t.isReady() && t.getRange() >= e);
      },
      getInterceptor() {
        let t = this.weapons.filter(t => t.isInterceptor()),
          e = !1;
        return (
          t.length > 0 &&
            ((e = {
              interceptor: '', controlled: 0, initial: 0, cooldown: 0,
            }),
            t.forEach((t) => {
              (e.interceptor = t.getInterceptData().interceptor),
              (e.controlled += t.getInterceptData().controlled),
              (e.initial += t.getInterceptData().initial),
              (e.cooldown = t.getInterceptData().cooldown);
            })),
          e
        );
      },
      getMinRange() {
        if (!this.minRange) {
          let t = this.entity.getDataObject(),
            e = t.getVisionRange();
          this.minRange = this.weapons.reduce((t, i) => {
            if (!i.isRanged()) return t;
            let n = parseInt(i.getRange(), 10);
            return n || (n = e), n < t ? n : t;
          }, 9999);
        }
        return this.minRange;
      },
      getMaxRange() {
        return (
          this.maxRange ||
            (this.maxRange = this.weapons.reduce((t, e) => {
              if (!e.isOffensive()) return t;
              const i = e.getRange();
              return i > t ? i : t;
            }, 0)),
          this.maxRange
        );
      },
      getWeaponById(t) {
        return this.weapons.find(e => e.getId() === t);
      },
      hasOffensiveWeapon() {
        if (void 0 === this._hasOffensiveWeapon) {
          for (let t = this.weapons.length - 1; t >= 0; t -= 1) {
            if (this.weapons[t].isOffensive()) {
              this._hasOffensiveWeapon = !0;
              break;
            }
          }
        }
        return this._hasOffensiveWeapon;
      },
      hasWeapon(t) {
        if (!t) return !1;
        for (let e = this.weapons.length - 1; e >= 0; e -= 1) { if (this.weapons[e].getId() === t) return !0; }
        return !1;
      },
      hasCAF() {
        return (
          void 0 === this._hasCAF &&
            (this._hasCAF = this.weapons.some(t => t.canAttackFighters())),
          this._hasCAF
        );
      },
      hasCAB() {
        return (
          void 0 === this._hasCAB &&
            (this._hasCAB = this.weapons.some(t => t.canAttackBuildings())),
          this._hasCAB
        );
      },
      hasMetallicScutes() {
        return (
          void 0 === this._hasMetallicScutes &&
            (this._hasMetallicScutes = this.weapons.some(t => t.hasMetallicScutes())),
          this._hasMetallicScutes
        );
      },
      hasRegenerateFighters() {
        return (
          void 0 === this._hasRegenerateFighters &&
            (this._hasRegenerateFighters = this.weapons.some(t => t.hasRegenerateFighters())),
          this._hasRegenerateFighters
        );
      },
      canTargetEntity(t) {
        return this.weapons.some(e => e.canAttackTarget(t));
      },
      canScanFriendlyOnly() {
        if (void 0 === this._canAttackFriendlyOnly) {
          const t = function (t) {
            return t.canScanFriendlyOnly() || t.hasNoAutomaticRelease();
          };
          this._canAttackFriendlyOnly = this.weapons.every(t);
        }
        return this._canAttackFriendlyOnly;
      },
      isWeaponReadyToFireTarget() {
        return (
          !!this.hasTargetEntity() &&
          this.weapons.some(t => t.couldBeReleased())
        );
      },
      getRegenerationData() {
        return (
          void 0 === this._regeneration &&
            (this._regeneration = this.weapons.find(t => t.hasRegeneration())),
          this._regeneration
        );
      },
      getSpyingWeapon() {
        return (
          void 0 === this._spyingWeapon &&
            (this._spyingWeapon = this.weapons.find(t => t.isSpying())),
          this._spyingWeapon
        );
      },
      getDetectorWeapon() {
        return (
          void 0 === this._detectorWeapon &&
            (this._detectorWeapon = this.weapons.find(t => t.isDetector())),
          this._detectorWeapon
        );
      },
      getRevengerWeapon() {
        const t = this.weapons.find(t => t.isRevengerWeapon());
        return !!t && t.getRevengerData();
      },
    }),
    (r.WEAPON_DOCK = 6),
    (e.default = r);
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o =
        '\n  precision mediump float;\n\n  varying vec2       vTextureCoord;\n  uniform sampler2D  uSampler;\n  uniform vec2       resolution;\n  uniform float      time;\n\n  float hash12(vec2 p) {\n    float h = dot(p,vec2(127.1,311.7));  \n    return fract(sin(h)*43758.5453123);\n  }\n\n  void main(void) {\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    if (gl_FragColor.a == 0.0) {\n      discard;\n    }\n    vec2 p = (resolution.xy + 2.0*gl_FragCoord.xy)/resolution.y;\n    vec3 col = gl_FragColor.rgb;\n    float m = step(length(col),0.0);\n    float r = clamp(hash12(p+fract(time*0.7))+0.5,0.0,1.0);\n    float rr = 0.5+sin(sin(r+time*0.9-p.y*3.14*p.x)+p.x*(1.2+r)+fract(time*0.3-r)*6.0)*0.5;\n    col += (rr+0.3)*0.141;\n    col -= 0.571 * max( sin(gl_FragCoord.y*0.85 - time * 12.1)-r*0.79, 0.1);\n    col *= clamp(mod(gl_FragCoord.x*gl_FragCoord.y, 1.0),0.85,1.0);\n    vec2 q = gl_FragCoord.xy/resolution.xy;\n    col *= 0.3 + 0.7*pow(16.0*q.x*q.y*(1.0-q.x)*(1.0-q.y),0.25);\n\n    gl_FragColor = vec4( col, gl_FragColor.a );\n  }\n',
      s = (function (t) {
        function e() {
          n(this, e);
          const t = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(
              this,
              Phaser.GAMES[0],
            ),
          );
          return (t.fragmentSrc = o), t;
        }
        return a(e, t), e;
      }(Phaser.Filter));
    e.default = s;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    const o = (function (t) {
      function e(t) {
        n(this, e);
        const i = r(
          this,
          (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
        );
        return (
          (i.fragmentSrc = [
            'precision mediump float;',
            'varying vec2       vTextureCoord;',
            'varying vec4       vColor;',
            'uniform sampler2D  uSampler;',
            'void main(void) {',
            'gl_FragColor = texture2D(uSampler, vTextureCoord);',
            'gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.0), 1.0);',
            '}',
          ]),
          i
        );
      }
      return a(e, t), e;
    }(Phaser.Filter));
    e.default = o;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s =
        '\nprecision highp float;\n#define OCTAVES  8.0\n\nuniform float time;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform vec2 velocity;\nuniform vec3 color;\nuniform float density;\n\n// This effect is brilliant, this is just a quick tweak to try to remove a few artifacts and playing around with parameters.\n\nfloat rand2(vec2 co){\n   return fract(cos(dot(co.xy ,vec2(12.9898,78.233))) * 4.5453);\n}\n\nfloat valueNoiseSimple(vec2 vl) {\n   float minStep = 1.0 ;\n\n   vec2 grid = floor(vl);\n   vec2 gridPnt1 = grid;\n   vec2 gridPnt2 = vec2(grid.x, grid.y + minStep);\n   vec2 gridPnt3 = vec2(grid.x + minStep, grid.y);\n   vec2 gridPnt4 = vec2(gridPnt3.x, gridPnt2.y);\n\n    float s = rand2(gridPnt1);\n    float t = rand2(gridPnt3);\n    float u = rand2(gridPnt2);\n    float v = rand2(gridPnt4);\n\n    float x1 = smoothstep(0., 1., fract(vl.x));\n    float interpX1 = mix(s, t, x1);\n    float interpX2 = mix(u, v, x1);\n\n    float y = smoothstep(0., 1., fract(vl.y));\n    float interpY = mix(interpX1, interpX2, y);\n\n    return interpY;\n}\n\nfloat fractalNoise(vec2 vl) {\n    float persistance = 2.0;\n    float amplitude = 0.5;\n    float rez = 0.0;\n    vec2 p = vl;\n\n    for (float i = 0.0; i < OCTAVES; i++) {\n        rez += amplitude * valueNoiseSimple(p);\n        amplitude /= persistance;\n        p *= persistance;\n    }\n    return rez;\n}\n\nfloat complexFBM(vec2 p) {\n    const float NUM_FREQS = 32.0;\n    float slow = time / 50.;\n    float fast = time /25.;\n    vec2 offset1 = vec2(sin(slow) * velocity.x + offset.x, cos(fast) * velocity.y + offset.y);\n    vec2 offset2 = vec2(cos(fast) * velocity.x + offset.x, sin(slow) * velocity.y + offset.y);\n\n    return\n        (1. + 0.35) *\n        fractalNoise( p + offset1 + fractalNoise(\n            p + fractalNoise(\n                p + 2. * fractalNoise(p - offset2)\n            )\n        )\n        );\n}\n\nvoid main() {\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\n    uv.x *= resolution.x / resolution.y;\n\n    vec3 colour1 = vec3(0.0, 0.0, 0.0);\n    vec3 colour2 = color;\n\n    vec3 rez = mix(colour1, colour2, complexFBM(uv) * 1.5 - sin(time * 0.1) * 0.1 - density);\n\n    gl_FragColor = vec4(rez, 0.1);\n}\n',
      u = (function (t) {
        function e() {
          n(this, e);
          const t = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(
              this,
              Phaser.GAMES[0],
            ),
          );
          return (
            (t.uniforms.offset = { type: '2f', value: { x: 0, y: 0 } }),
            (t.uniforms.velocity = { type: '2f', value: { x: 0, y: 0 } }),
            (t.uniforms.color = { type: '3f', value: { x: 1, y: 1, z: 1 } }),
            (t.uniforms.density = { type: '1f', value: 1 }),
            (t.fragmentSrc = s),
            t
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'setOffset',
              value(t, e) {
                (this.uniforms.offset.value.x = t),
                (this.uniforms.offset.value.y = e);
              },
            },
            {
              key: 'setVelocity',
              value(t) {
                this.uniforms.velocity.value = t;
              },
            },
            {
              key: 'setDensity',
              value(t) {
                this.uniforms.density.value = t;
              },
            },
            {
              key: 'setColor',
              value(t) {
                this.uniforms.color.value = t;
              },
            },
          ]),
          e
        );
      }(Phaser.Filter));
    e.default = u;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o =
        typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol'
          ? function (t) {
            return typeof t;
          }
          : function (t) {
            return t &&
                typeof Symbol === 'function' &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          },
      s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(
              this,
              Phaser.GAMES[0],
            ),
          );
          return (
            (i.color = t),
            (i.fragmentSrc = [
              'precision mediump float;',
              'varying vec2       vTextureCoord;',
              'uniform sampler2D  uSampler;',
              'uniform vec4       uColor;',
              'uniform vec2       resolution;',
              'vec3 target = vec3(1.0, 0.28, 1.0);',
              'void main(void) {',
              'vec2 offset = vec2(1.0 / resolution.x, 1.0 / resolution.y);',
              'vec4 pixel = texture2D(uSampler, vTextureCoord);',
              'gl_FragColor = texture2D(uSampler, vTextureCoord);',
              'gl_FragColor = pixel;',
              'float dist = distance(pixel.rgb, target);',
              'float intensity = dist;',
              'bool isPurple = distance(normalize(target), normalize(pixel.rgb)) < 0.4;',
              'if (isPurple) {',
              'gl_FragColor = (1.0 - intensity) * uColor + intensity * pixel ;',
              '}',
              '}',
            ]),
            i
          );
        }
        return (
          a(e, t),
          s(e, [
            {
              key: 'color',
              set(t) {
                if (
                  ((this.uniforms.uColor = {
                    type: '4f',
                    value: {
                      x: 0, y: 0, z: 0, w: 1,
                    },
                  }),
                  (void 0 === t ? 'undefined' : o(t)) === 'object' && t.r)
                ) {
                  let e = t.r,
                    i = t.g,
                    n = t.b;
                  this.uniforms.uColor.value = {
                    x: e / 255,
                    y: i / 255,
                    z: n / 255,
                    w: 1,
                  };
                } else {
                  let r = typeof t === 'string' ? parseInt(t, 0) : t,
                    a = ((r / 256 / 256) % 256) / 255,
                    s = ((r / 256) % 256) / 255,
                    u = (r % 256) / 255;
                  this.uniforms.uColor.value = {
                    x: a, y: s, z: u, w: 1,
                  };
                }
              },
              get() {
                return this.uniforms.uColor.value;
              },
            },
          ]),
          e
        );
      }(Phaser.Filter));
    e.default = u;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(2),
      c = (function (t) {
        function e() {
          n(this, e);
          let t = o(Phaser.GAMES, 1),
            i = t[0],
            a = r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, i),
            );
          return (
            (a.fragmentSrc =
              '\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\nuniform float time;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform float slope;\nuniform float phaseTime;\nuniform float windowHeight;\nuniform vec3 color;\nuniform float thickness;\n\nvoid main() {\n    vec2 uv = (gl_FragCoord.xy / resolution.xy);\n    uv.y -= windowHeight / resolution.y - offset.y;\n    uv.x -= offset.x;\n    uv.x *= resolution.x / resolution.y;\n\n    float offY = (1.0 - slope) * -0.5;\n\n    if (pow(uv.x - 0.5, 2.0) + pow(uv.y + 0.5, 2.0) > 0.25) {\n        discard;\n    }\n\n    gl_FragColor = vec4(0.0);\n    float limit = 1.0;\n    float dist = abs(uv.y + (uv.x * slope) - offY) / sqrt(1.0 + pow(slope, 2.0)) * (resolution.x / 100.0) / thickness;\n    if (dist < limit) {\n        float r = (1.0 - color.x * dist) * phaseTime;\n        float g = (1.0 - color.y * dist) * phaseTime;\n        float b = (1.0 - color.z * dist) * phaseTime;\n        gl_FragColor = vec4(r, g, b, 0.0);\n    }\n}\n'),
            (a.uniforms.offset = { type: '2f', value: { x: 0, y: 0 } }),
            (a.uniforms.slope = { type: '1f', value: 0 }),
            (a.uniforms.windowHeight = { type: '1f', value: 720 }),
            (a.uniforms.phaseTime = { type: '1f', value: 1 }),
            (a.uniforms.thickness = { type: '1f', value: 1 }),
            a
          );
        }
        return (
          a(e, t),
          s(e, [
            {
              key: 'setOffset',
              value(t) {
                (this.uniforms.offset.value.x = t.x),
                (this.uniforms.offset.value.y = t.y);
              },
            },
            {
              key: 'setColor',
              value(t) {
                this.uniforms.color = {
                  type: '3f',
                  value: {
                    x: 100 / Math.max(t.r, 1),
                    y: 100 / Math.max(t.g, 1),
                    z: 100 / Math.max(t.b, 1),
                  },
                };
              },
            },
            {
              key: 'setup',
              value(t, e, i) {
                const n = Phaser.Math.distance(t.x, t.y, e.x, e.y);
                this.size = n;
                const r = Phaser.Math.angleBetweenPoints(t, e);
                (this.uniforms.slope.value = Math.tan(r)),
                (this.sprite = this.game.add.sprite(
                  (t.x + e.x - n) / 2,
                  (t.y + e.y - n) / 2,
                )),
                (this.sprite.width = n),
                (this.sprite.height = n),
                (this.sprite.filters = [this]),
                this.setResolution(n, n),
                this.setColor(i.color),
                (this.uniforms.thickness.value = i.thickness),
                (this.speed = 1 / l.DESIRED_FPS_STEP / i.duration),
                (this.startTime = this.game.time.totalElapsedSeconds());
              },
            },
            {
              key: 'update',
              value() {
                let t = (this.sprite.x - this.game.camera.x) / this.size,
                  i = (this.sprite.y - this.game.camera.y) / this.size;
                this.setOffset({ x: t, y: i });
                const n = Math.max(
                  1 -
                    (this.game.time.totalElapsedSeconds() - this.startTime) *
                      this.speed,
                  0,
                );
                (this.uniforms.phaseTime.value = n),
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'update',
                  this,
                ).call(this);
              },
            },
            {
              key: 'destroy',
              value() {
                this.sprite.destroy();
              },
            },
          ]),
          e
        );
      }(Phaser.Filter));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(3),
      c = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(l)),
      h = (function (t) {
        function e() {
          n(this, e);
          let t = o(Phaser.GAMES, 1),
            i = t[0],
            a = r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, i),
            );
          return (
            (a.width = 400),
            (a.height = 800),
            (a.bmd = a.game.add.bitmapData(a.width, a.height)),
            (a.outputSprite = i.add.sprite(0, 0)),
            (a.uniforms.width = { type: '1f', value: 0 }),
            (a.fragmentSrc =
              '\n#ifdef GL_ES\nprecision lowp float;\n#endif\n\n#define AA 1.0\nuniform float time;\nuniform float width;\nuniform vec2 resolution;\n\nconst float count = 4.0;\nconst float speed = 5.1;\nfloat windowHeight = 600.0;\n\nfloat Hash( vec2 p, in float s)\n{\n    vec3 p2 = vec3(p.xy,27.0 * abs(sin(s)));\n    return fract(sin(dot(p2,vec3(27.1,61.7, 12.4)))*273758.5453123);\n    return fract(sin(dot(p2,vec3(27.1,61.7, 12.4)))*2.1);\n}\n\n\nfloat noise(in vec2 p, in float s)\n{\n    vec2 i = floor(p);\n    vec2 f = fract(p);\n    f *= f * (3.0-2.0*f);\n    \n    \n    return mix(mix(Hash(i + vec2(0.,0.), s), Hash(i + vec2(1.,0.), s),f.x),\n               mix(Hash(i + vec2(0.,1.), s), Hash(i + vec2(1.,1.), s),f.x),\n               f.y) * s;\n}\n\n\nfloat fbm(vec2 p)\n{\n    float v = 0.0;\n    v += noise(p*1., 0.35);\n    v += noise(p*2., 0.25);\n    v += noise(p*4., 0.125);\n    v += noise(p*8., 0.0625);\n    return v;\n}\n\nvoid main( void )\n{\n    float mytime = time;\n    float worktime = mytime * speed;\n\n    vec2 uv = (gl_FragCoord.xy/resolution.xy);\n    uv.x *= resolution.x / resolution.y;\n    float aa=float(AA)/resolution.y;\n\n    vec3 finalColor = vec3(0);\n    float thin = resolution.y * 1.5;\n    float damper = uv.y < 0.5 ? uv.y : 1.0 - uv.y; // smaller damper value results in less movement, increasing the damper moves the line to the right\n    float offX = -(0.5 + 0.4 * damper);\n\n    for( float i=1.0; i < count; ++i )\n    {\n        float t = abs(1.0 / ((uv.x + fbm(uv + worktime / i) * damper  + offX) * (thin * i)));\n        float colorCut = 0.02;\n        if (t < colorCut) t = 0.0;\n        finalColor +=  t * vec3(1.0, 1.0, i * 0.2 );\n        //if (t < 0.1) { finalColor = vec3(0.0, 1.0, 0.0); } // for debugging only\n    }\n\n    gl_FragColor = vec4( finalColor, 0.0 );\n  }'),
            a
          );
        }
        return (
          a(e, t),
          s(e, [
            {
              key: 'update',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'update',
                  this,
                ).call(this);
                let t = this.game.add.renderTexture(this.width, this.height),
                  i = this.game.add.sprite(0, 0, this.bmd);
                (i.filters = [this]),
                t.renderXY(i, 0, 0, !0),
                i.destroy(),
                this.outputSprite.setTexture(t);
              },
            },
            {
              key: 'setup',
              value(t, e) {
                const i = c.default.distanceBetweenSprites(t, e);
                (this.width = i),
                (this.height = i),
                (this.uniforms.width.value = this.width),
                this.bmd.resize(this.width, this.height),
                this.outputSprite.anchor.setTo(0.5, 0),
                (this.outputSprite.x = t.x),
                (this.outputSprite.y = t.y),
                (this.outputSprite.angle =
                    Phaser.Math.radToDeg(Phaser.Math.angleBetweenPoints(t, e)) -
                    90);
              },
            },
            {
              key: 'destroy',
              value() {
                this.outputSprite.destroy();
              },
            },
          ]),
          e
        );
      }(Phaser.Filter));
    e.default = h;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u =
        '\nprecision highp float;\n\n#define AA 1.0\nvarying vec2 vTextureCoord;\nuniform float time;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform float minRange;\nfloat windowHeight = 720.0;\n\nconst float tau =atan(1.)*8.;\n\nhighp float hash(float x) {\n    return fract(sin(x)*43758.5453);\n}\nhighp float rand(vec2 co) {\n    return fract(sin(mod(dot(co.xy ,vec2(12.9898,78.233)),3.14))*43758.5453);\n}\nfloat mark(int n,float ang2,vec2 uv,float mn,float mx){\n    float aa=float(AA)/resolution.y;\n    ang2-=tau/float(n)/2.;\n    return smoothstep(mn,mx,distance(uv,vec2(0)))*smoothstep(aa*2.,0.,abs(fract(ang2/tau*float(n))-0.5)/float(n)*tau*distance(uv,vec2(0)));\n}\nfloat circle(float dist,vec2 uv){\n    float aa=float(AA)/resolution.y;\n    return (smoothstep(dist-aa*2.,dist-aa,distance(uv,vec2(0)))-smoothstep(dist,dist+aa,distance(uv,vec2(0))))/10.;\n}\n\nvoid main() {\n    vec2 uv = (gl_FragCoord.xy/resolution.xy);\n    uv.y -= windowHeight / resolution.y - offset.y;\n    uv.x -= offset.x;\n    uv.x *= resolution.x / resolution.y;\n    float aa=float(AA)/resolution.y;\n    \n    float dist=distance(uv,vec2(0));\n    float sdist=smoothstep(0.5+aa,0.5,dist);\n    \n    float ang=time*tau/5.;\n    float ang2=atan(uv.x,uv.y);\n    ang=mod(ang2+ang,tau);\n    \n    if (dist < minRange) {\n        ang = 1.0;\n    }\n    \n    float col=smoothstep(1.,0.,ang);\n    col/=2.;\n    if (dist >= minRange) {\n        col+=smoothstep(tau-aa/distance(uv,vec2(0)),tau,ang)/2.;\n        col+=sdist/10.;\n    }\n    col+=smoothstep(aa,0.,abs(uv.x))/4.;\n    col+=smoothstep(aa,0.,abs(uv.y))/4.;\n    \n    col+=mark(9*4,ang2,uv,0.45,0.5)/2.;\n    col+=mark(9*4*5,ang2,uv,0.475,0.5)/5.;\n\n    vec4 o = mix(vec4(0,col / 2.0,col,0.0),vec4(0.0,0.0,0.0,0.0),1.-sdist);\n\n    float l=cos(gl_FragCoord.y);\n    l*=l;\n    l/=3.;\n    l+=0.6+rand(uv*time);\n    \n    o *= l;\n    \n    gl_FragColor = o;\n}\n',
      l = (function (t) {
        function e() {
          n(this, e);
          const t = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(
              this,
              Phaser.GAMES[0],
            ),
          );
          return (
            (t.uniforms.offset = { type: '2f', value: { x: 0, y: 0 } }),
            (t.uniforms.minRange = { type: '1f', value: 0 }),
            (t.fragmentSrc = u),
            t
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'update',
              value(t) {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'update',
                  this,
                ).call(this),
                this.setOffsetBySprite(t);
              },
            },
            {
              key: 'setOffsetBySprite',
              value(t) {
                let e =
                    (t.x - this.game.camera.x) /
                    this.uniforms.resolution.value.x,
                  i =
                    (t.y - this.game.camera.y) /
                    this.uniforms.resolution.value.y;
                (this.uniforms.offset.value.x = e),
                (this.uniforms.offset.value.y = i);
              },
            },
            {
              key: 'setMinRangeRate',
              value(t) {
                this.uniforms.minRange.value = t / 2 || 0;
              },
            },
          ]),
          e
        );
      }(Phaser.Filter));
    e.default = l;
  },
  function (t, e, i) {
    (window.fivenations = window.fivenations || {}),
    (window.fivenations.cache = {});
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = (function () {
        function t(e) {
          n(this, t), (this.activityManager = e);
        }
        return (
          r(t, [
            {
              key: 'activate',
              value() {
                this.active = !0;
              },
            },
            {
              key: 'deactivate',
              value() {
                this.active = !1;
              },
            },
            {
              key: 'isActive',
              value() {
                return this.active;
              },
            },
            {
              key: 'getActivityManager',
              value() {
                return this.activityManager;
              },
            },
          ]),
          t
        );
      }());
    e.default = a;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r() {
      for (
        var t = u.default.getInstance(), e = t.entities(':user'), i = [], n = 0;
        n < e.length;
        n += 1
      ) { e[n].getDataObject().getType() === 'mainbase' && i.push(e[n].getGUID()); }
      return i;
    }
    function a() {
      const t = u.default.getInstance();
      if (t.entities(':selected').length > 0) {
        const e = t.entities(':selected')[0];
        if (e.getDataObject().getType() === 'mainbase') return e.getGUID();
      }
      return !1;
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(11),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = void 0,
      h = (function () {
        function t() {
          n(this, t);
        }
        return (
          o(t, [
            {
              key: 'addKeyboardListeners',
              value(t) {
                t.on('key/backspace', this.onBaseBrowserKeyPressed.bind());
              },
            },
            {
              key: 'onBaseBrowserKeyPressed',
              value() {
                let t = r(),
                  e = a(),
                  i = 0;
                !1 !== e &&
                  t.indexOf(e) >= 0 &&
                  (i = t.indexOf(e) + 1) >= t.length &&
                  (i = 0);
                const n = u.default.getInstance().entities(t[i]);
                u.default.getInstance().unselectAll(),
                n.select(),
                l.game.map.centerEntity(n);
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return c || (c = new h()), c;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(14),
      s = n(o),
      u = i(2),
      l = i(4),
      c = n(l),
      h = i(3),
      d = n(h),
      f = {
        relativeRatioToEntity: 2.5,
        width: 200,
        height: 200,
        sprite: 'gui-markers',
        animation: {
          frames: [
            'gui_beacon_00000.png',
            'gui_beacon_00001.png',
            'gui_beacon_00002.png',
            'gui_beacon_00003.png',
            'gui_beacon_00004.png',
            'gui_beacon_00005.png',
            'gui_beacon_00006.png',
            'gui_beacon_00007.png',
            'gui_beacon_00008.png',
            'gui_beacon_00009.png',
            'gui_beacon_00010.png',
            'gui_beacon_00011.png',
            'gui_beacon_00012.png',
            'gui_beacon_00013.png',
            'gui_beacon_00014.png',
          ],
          rate: 25,
        },
      },
      p = void 0,
      g = void 0,
      y = void 0,
      v = void 0,
      m = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'initBeaconAnimations',
              value(t) {
                (p = t),
                (this.PlayerManager = c.default.getInstance()),
                (g = s.default.getInstance().getGroup(u.GROUP_GUI)),
                (y = p.add.image(0, 0, f.sprite)),
                (y.visible = !1),
                y.anchor.setTo(0.5, 0.5),
                y.animations
                  .add('beacon', f.animation.frames)
                  .onComplete.add(() => {
                    y.play('beacon', f.animation.rate);
                  }),
                g.add(y),
                (v = p.add.text(0, 0, '', {
                  font: '28px BerlinSansFB-Reg',
                  fill: '#ffffff',
                })),
                v.anchor.set(0.5),
                v.setShadow(3, 3, 'rgba(0,0,0,0.5)', 5),
                (v.visible = !1);
              },
            },
            {
              key: 'putBeaconkAnim',
              value(t, e) {
                let i =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : '',
                  n = this.PlayerManager.getUser(),
                  r = n.getColorizerFilter().color,
                  a = d.default.RGBToHex(r.x, r.y, r.z);
                (y.filters = [n.getColorizerFilter()]),
                (y.visible = !0),
                (y.x = t),
                (y.y = e),
                y.animations.stop(null, !0),
                y.play('beacon', f.frameRate),
                i !== '' &&
                    ((v.fill = a),
                    (v.visible = !0),
                    (v.x = t),
                    (v.y = e),
                    (v.text = i));
              },
            },
            {
              key: 'hideBeaconAnim',
              value() {
                y.visible = !1;
              },
            },
            {
              key: 'destroyBeaconAnim',
              value() {
                y.destroy(!0);
              },
            },
          ]),
          t
        );
      }());
    e.default = new m();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t) {
      const e = t.getId();
      if (void 0 !== t.getCustomFrame()) return t.getCustomFrame();
      if (void 0 !== t.getDefatultFrame()) return t.getDefatultFrame();
      if (void 0 !== E[e]) return E[e];
      const i = t.getAnimations();
      return i && i['idle-forever'] && i['idle-forever'].frames.length === 1
        ? i['idle-forever'].frames[0]
        : O;
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var u = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = i(105),
      h = n(c),
      d = i(48),
      f = n(d),
      p = i(540),
      g = n(p),
      y = i(11),
      v = n(y),
      m = i(4),
      b = n(m),
      _ = i(1),
      w = n(_),
      x = i(2),
      P = i(3),
      k = n(P),
      T = window.fivenations,
      O = 4,
      E = { commandcenter: 37 },
      S = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, T.game.game),
          );
          return (
            (t.collisionMonitor = new g.default()), t.add(t.collisionMonitor), t
          );
        }
        return (
          o(e, t),
          l(e, [
            {
              key: 'activate',
              value(t, e) {
                let i = v.default.getInstance(),
                  n = e || i.entities(':selected')[0].getPlayer();
                t &&
                  (this.setUser(),
                  this.setEntityId(t),
                  this.setEntityConstructionDataById(t),
                  this.createSpriteById(t, n),
                  this.setSelectedEntity(),
                  this.addEventListeners(),
                  this.show(),
                  this.followMouse(f.default.getInstance()));
              },
            },
            {
              key: 'deactivate',
              value() {
                this.removeSprite(), this.removeEventListeners(), this.hide();
              },
            },
            {
              key: 'setUser',
              value() {
                this.user = b.default.getInstance().getUser();
              },
            },
            {
              key: 'setEntityId',
              value(t) {
                this.entityId = t;
              },
            },
            {
              key: 'createSpriteById',
              value(t, e) {
                (this.sprite = this.game.add.sprite(0, 0, t)),
                (this.sprite.filters = [e.getColorizerFilter()]),
                (this.sprite.frame = this.displayFrame),
                this.sprite.anchor.set(0.5),
                (this.sprite.alpha = 0.75),
                this.add(this.sprite);
              },
            },
            {
              key: 'setEntityConstructionDataById',
              value(t) {
                let e = v.default.getInstance(),
                  i = e.getTileDimensions(t),
                  n = i.width,
                  r = i.height,
                  a = this.game.cache.getJSON(t),
                  o = new h.default(a);
                (this.collisionTileWidth = n),
                (this.collisionTileHeight = r),
                (this.canBeBuiltAnywhere = a.canBeBuiltAnywhere),
                (this.minDistanceToResources = a.minDistanceToResources),
                (this.minDistanceToStructures = a.minDistanceToStructures),
                (this.displayFrame = s(o));
              },
            },
            {
              key: 'addEventListeners',
              value() {
                const t = f.default.getInstance();
                (this.onMoveCallback = this.followMouse.bind(this)),
                t.on('move', this.onMoveCallback);
              },
            },
            {
              key: 'setSelectedEntity',
              value() {
                let t = v.default.getInstance(),
                  e = t.entities(':selected'),
                  i = u(e, 1);
                this.selectedEntity = i[0];
              },
            },
            {
              key: 'followMouse',
              value(t) {
                let e = this,
                  i = T.game.map,
                  n = v.default.getInstance(),
                  r = this.user.getTeam(),
                  a = i.getCollisionMap(),
                  o = i.getFogOfWar(),
                  s = t.getRealCoords(),
                  u = s.x,
                  l = s.y,
                  c = i.getTileChunk({
                    width: this.collisionTileWidth,
                    height: this.collisionTileHeight,
                    x: u,
                    y: l,
                  }),
                  h = a.getMatrixChunk(c, (t, i, n) => (o.isVisible(t, i, r)
                    ? !n ||
                        (e.selectedEntity !== n.entity &&
                          n.entity &&
                          n.entity.isObstacleForBuildingSites())
                      ? -1
                      : 0
                    : 1)),
                  d = { coords: { x: c.tileX, y: c.tileY }, id: this.entityId };
                (n.isOutOfBuildingSite(d) ||
                  n.isTooCloseToResources(d) ||
                  n.isTooCloseToEconomyStructures(d)) &&
                  (h = k.default.setMatrixValues(h, 1)),
                (this.tiles = h),
                (this.collisionMonitor.x = c.x * x.TILE_WIDTH),
                (this.collisionMonitor.y = c.y * x.TILE_HEIGHT),
                this.collisionMonitor.drawTiles(h),
                (this.sprite.x =
                    c.x * x.TILE_WIDTH +
                    (this.collisionTileWidth * x.TILE_WIDTH) / 2),
                (this.sprite.y =
                    c.y * x.TILE_HEIGHT +
                    (this.collisionTileHeight * x.TILE_HEIGHT) / 2);
              },
            },
            {
              key: 'removeSprite',
              value() {
                this.sprite &&
                  (this.remove(this.sprite), this.sprite.destroy());
              },
            },
            {
              key: 'removeEventListeners',
              value() {
                const t = f.default.getInstance();
                this.onMoveCallback &&
                  (t.remove('move', this.onMoveCallback),
                  (this.onMoveCallback = void 0));
              },
            },
            {
              key: 'show',
              value() {
                (this.visible = !0),
                w.default
                  .getInstance()
                  .local.dispatch('gui/buildingplacement/show');
              },
            },
            {
              key: 'hide',
              value() {
                (this.visible = !1),
                w.default
                  .getInstance()
                  .local.dispatch('gui/buildingplacement/hide');
              },
            },
            {
              key: 'appendTo',
              value(t) {
                t.add(this);
              },
            },
            {
              key: 'getPlacementCoords',
              value() {
                return { x: this.sprite.x, y: this.sprite.y };
              },
            },
            {
              key: 'getPlacementTiles',
              value() {
                return this.tiles;
              },
            },
            {
              key: 'areTilesOccupied',
              value() {
                for (let t = this.tiles.length - 1; t >= 0; t -= 1) {
                  for (let e = this.tiles[t].length - 1; e >= 0; e -= 1) { if (this.tiles[t][e]) return !0; }
                }
                return !1;
              },
            },
            {
              key: 'canConstructThere',
              value() {
                return !!this.tiles && !this.areTilesOccupied();
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = S;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = (function (t) {
        function e(t, i, a) {
          n(this, e);
          const o = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return o.addIcon(i), o.addText(a), o.setDefaultVisibility(), o;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'addIcon',
              value(t) {
                (this.icon = this.game.add.sprite(0, 0, 'gui')),
                (this.icon.frameName = t),
                this.add(this.icon);
              },
            },
            {
              key: 'addText',
              value(t) {
                let e = this.icon.x + this.icon.width,
                  i = this.icon.y + 4;
                (this.label = this.game.add.text(e, i, '', {
                  font: '14px BerlinSansFB-Reg',
                  fill: t,
                  stroke: '#000000',
                  strokeThickness: 2,
                })),
                this.add(this.label);
              },
            },
            {
              key: 'setDefaultVisibility',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'update',
              value(t) {
                this.label.text = t;
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = s;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = {
        spritesheet: { id: 'gui', url: 'gui/GUI_elements.png' },
        frames: { over: 0, out: 0, down: 0 },
      },
      u = window.fivenations,
      l = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, u.game.game),
          );
          return i.initComponents(t), i.update(t), i;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'initComponents',
              value(t) {
                let e = this,
                  i = u.game.game,
                  n = function () {
                    return t.onClick && t.onClick.call(e);
                  },
                  r = s.spritesheet.id,
                  a = s.frames,
                  o = a.over,
                  l = a.out,
                  c = a.down;
                (this.sprite = i.add.button(0, 0, r, n, this, o, l, c)),
                this.sprite.anchor.set(0.5),
                this.add(this.sprite);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = l;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(2),
      u = 10,
      l = window.fivenations,
      c = (function (t) {
        function e() {
          n(this, e);
          const t = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, l.game.game),
          );
          return (
            (t.bmd = t.game.add.bitmapData(
              u * s.TILE_WIDTH,
              u * s.TILE_HEIGHT,
            )),
            (t.sprite = t.bmd.addToWorld(0, 0)),
            (t.sprite.alpha = 0.4),
            t.add(t.sprite),
            t
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'drawTiles',
              value(t) {
                let e = void 0,
                  i = void 0,
                  n = void 0;
                this.bmd.clear();
                for (let r = t.length - 1; r >= 0; r -= 1) {
                  for (let a = t[r].length - 1; a >= 0; a -= 1) {
                    (e = t[r][a] ? '#ff0000' : '#77C7D2'),
                    (i = a * s.TILE_WIDTH),
                    (n = r * s.TILE_HEIGHT),
                    (this.bmd.context.fillStyle = e),
                    this.bmd.context.fillRect(
                      i,
                      n,
                      s.TILE_WIDTH,
                      s.TILE_HEIGHT,
                    );
                  }
                }
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(139),
      l = n(u),
      c = i(104),
      h = n(c),
      d = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return i.initCancelButton(t), i;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'initConfirmButton',
              value(t) {
                let e = this,
                  i = t.okLabel,
                  n = t.onOK,
                  r = t.buttonOffsetX,
                  a = t.buttonOffsetY;
                this.okButton = new h.default({
                  label: i,
                  onClick() {
                    n && n(), e.eventDispatcher.dispatch('dismiss');
                  },
                });
                const o = this.background.width / 3 / 1.5;
                (this.okButton.x = r || o),
                (this.okButton.y =
                    this.background.height / 2 -
                    this.okButton.height / 2 -
                    u.DEFAULT_ATTRIBUTES.padding +
                    (a || 0)),
                this.window.add(this.okButton);
              },
            },
            {
              key: 'initCancelButton',
              value(t) {
                let e = this,
                  i = t.cancelLabel,
                  n = t.onCancel,
                  r = t.buttonOffsetX,
                  a = t.buttonOffsetY;
                this.cancelButton = new h.default({
                  label: i,
                  onClick() {
                    n && n(), e.hide(), e.eventDispatcher.dispatch('dismiss');
                  },
                });
                const o = this.background.width / 3 / 1.5;
                (this.cancelButton.x = r || -o),
                (this.cancelButton.y =
                    this.background.height / 2 -
                    this.cancelButton.height / 2 -
                    u.DEFAULT_ATTRIBUTES.padding +
                    (a || 0)),
                this.window.add(this.cancelButton);
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = d;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(543),
      l = n(u),
      c = i(75),
      h = n(c),
      d = i(7),
      f = n(d),
      p = window.fivenations,
      g = {
        marginLeft: 25,
        marginTop: 0,
        font: '12px BerlinSansFB-Reg',
        color: '#77C7D2',
      },
      y = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, p.game.game),
          );
          return (
            t.initHelpers(),
            t.addStatusBar(),
            t.addButton(),
            t.addStatusText('gui.in-construction'),
            t.addStatusText('gui.in-upgrading'),
            t.addStatusText('gui.in-sprout'),
            t
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'initHelpers',
              value() {
                this.iconCollection = h.default.getInstance();
              },
            },
            {
              key: 'addStatusBar',
              value() {
                (this.statusBar = this.game.add.graphics(0, 0)),
                this.add(this.statusBar);
              },
            },
            {
              key: 'addButton',
              value() {
                const t = new l.default();
                (t.x = 0), (t.y = 20), (this.button = t), this.add(t);
              },
            },
            {
              key: 'addStatusText',
              value(t) {
                let e = f.default.getInstance().translate(t),
                  i = this.statusBar,
                  n = i.x,
                  r = i.y,
                  a = this.game.add.text(n + 100, r + -15, e, {
                    font: g.font,
                    fill: g.color,
                  });
                a.anchor.set(0.5),
                this.statusText || (this.statusText = {}),
                (this.statusText[t] = this.add(a));
              },
            },
            {
              key: 'updateContent',
              value(t) {
                this.updateStatusBar(t), this.updateButton(t);
              },
            },
            {
              key: 'updateStatusBar',
              value(t) {
                if (t) {
                  (this.statusText['gui.in-construction'].visible = !1),
                  (this.statusText['gui.in-upgrading'].visible = !1),
                  (this.statusText['gui.in-sprout'].visible = !1),
                  t.isInUpgrade()
                    ? (this.statusText['gui.in-upgrading'].visible = !0)
                    : t.isInSprout()
                      ? (this.statusText['gui.in-sprout'].visible = !0)
                      : (this.statusText['gui.in-construction'].visible = !0);
                  let e = t.getActivityManager(),
                    i = e.getCurrentActivity(),
                    n = i.getProgress() / 100;
                  this.statusBar.clear(),
                  this.statusBar.lineStyle(1, '0x84e1e3', 1),
                  this.statusBar.drawRect(0, 0, 200, 16);
                  let r = 200 * n - 4;
                  (r = r > 0 ? r : 0),
                  this.statusBar.beginFill('0x84e1e3'),
                  this.statusBar.drawRect(2, 2, r, 12),
                  this.statusBar.endFill();
                }
              },
            },
            {
              key: 'updateButton',
              value(t) {
                const e = this.getConstructionIdByEntity(t);
                this.button.frame = this.iconCollection.getFrameById(e);
              },
            },
            {
              key: 'getConstructionIdByEntity',
              value(t) {
                return t.isInSprout()
                  ? t
                    .getActivityManager()
                    .getCurrentActivity()
                    .getEntityId()
                  : t.getDataObject().getId();
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = y;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(8),
      c = n(l),
      h = i(1),
      d = n(h),
      f = i(75),
      p = (function (t) {
        function e() {
          r(this, e);
          let t = s(Phaser.GAMES, 1),
            i = t[0],
            n = a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(
                this,
                i,
                0,
                0,
                f.SPRITESHEET_ID,
              ),
            );
          return (
            n.game.add.existing(n),
            (n.inputEnabled = !0),
            n.initEventListeners(),
            n
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'initEventListeners',
              value() {
                this.events.onInputUp.add(this.onClick.bind(this));
              },
            },
            {
              key: 'onClick',
              value() {
                d.default
                  .getInstance()
                  .synced.entities(':user:selected')
                  .cancelConstruction(),
                c.default
                  .getInstance()
                  .playAudioSprite({
                    sprite: 'sfx',
                    marker: 'fed_advisor_construction_01',
                  });
              },
            },
          ]),
          e
        );
      }(Phaser.Sprite));
    e.default = p;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 }),
    (e.FRAME_UNDOCK = e.FRAME_DOCK = e.FRAME_SCROLL_8 = e.FRAME_SCROLL_7 = e.FRAME_SCROLL_6 = e.FRAME_SCROLL_5 = e.FRAME_SCROLL_4 = e.FRAME_SCROLL_3 = e.FRAME_SCROLL_2 = e.FRAME_SCROLL_1 = e.FRAME_TARGET_FRIEND = e.FRAME_TARGET_NEUTRAL = e.FRAME_TARGET_ENEMY = e.FRAME_TARGET_NORMAL = e.FRAME_LOADING = e.FRAME_FRIEND = e.FRAME_ENEMY = e.FRAME_NEUTRAL = e.FRAME_DEFAULT = void 0);
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(48),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = window.fivenations,
      u = (e.FRAME_DEFAULT = 'cursor_01_normal.png'),
      l =
        ((e.FRAME_NEUTRAL = 'cursor_02_neutral.png'),
        (e.FRAME_ENEMY = 'cursor_03_enemy.png'),
        (e.FRAME_FRIEND = 'cursor_04_friend.png'),
        (e.FRAME_LOADING = 'cursor_05_loading.png'),
        (e.FRAME_TARGET_NORMAL = 'cursor_06_targetnormal.png'),
        (e.FRAME_TARGET_ENEMY = 'cursor_07_targetenemy.png'),
        (e.FRAME_TARGET_NEUTRAL = 'cursor_08_targetneutral.png'),
        (e.FRAME_TARGET_FRIEND = 'cursor_09_targetfriend.png'),
        (e.FRAME_SCROLL_1 = 'cursor_10_scroll.png')),
      c = (e.FRAME_SCROLL_2 = 'cursor_11_scroll.png'),
      h = (e.FRAME_SCROLL_3 = 'cursor_12_scroll.png'),
      d = (e.FRAME_SCROLL_4 = 'cursor_13_scroll.png'),
      f = (e.FRAME_SCROLL_5 = 'cursor_14_scroll.png'),
      p = (e.FRAME_SCROLL_6 = 'cursor_15_scroll.png'),
      g = (e.FRAME_SCROLL_7 = 'cursor_16_scroll.png'),
      y = (e.FRAME_SCROLL_8 = 'cursor_17_scroll.png'),
      v =
        ((e.FRAME_DOCK = 'cursor_18_dock.png'),
        (e.FRAME_UNDOCK = 'cursor_19_undock_deploy.png'),
        {
          1: y, 2: g, 3: p, 4: l, 6: f, 7: c, 8: h, 9: d,
        }),
      m = (function () {
        function t(e) {
          n(this, t),
          this.initCursorOnCurrentScene(e),
          this.addStateChangeListener(e);
        }
        return (
          r(t, [
            {
              key: 'initCursorOnCurrentScene',
              value(t) {
                let e = s.window,
                  i = e.width,
                  n = e.height,
                  r = t.canvas;
                if (
                  ((this.game = t),
                  (this.sprite = this.game.add.image(0, 0, 'gui')),
                  (this.sprite.frameName = u),
                  (this.sprite.fixedToCamera = !0),
                  this.sprite.pivot.set(20, 13),
                  t.scale.isFullScreen || (this.sprite.visible = !1),
                  (this.screenOffsetX = 20),
                  (this.screenOffsetY = 13),
                  (this.screenWidth = i - (this.sprite.width - 20)),
                  (this.screenHeight = n - (this.sprite.height - 13)),
                  this.game.input.addMoveCallback(this.onPointerMove, this),
                  t.device.windows)
                ) {
                  let a = this,
                    o = function (t) {
                      return a.game.input.game.input.mspointer._onMSPointerMove(t);
                    };
                  (this.onPointerMoveCallback = o),
                  r.addEventListener(
                    'mousemove',
                    this.onPointerMoveCallback,
                    !0,
                  );
                }
                this.setPosition(t.input.activePointer),
                this.game.state.current === 'game' &&
                    this.addGameEventListeners(t);
              },
            },
            {
              key: 'addStateChangeListener',
              value(t) {
                t.state.onStateChange.add(this.onStateChange.bind(this));
              },
            },
            {
              key: 'onPointerMove',
              value() {
                document.pointerLockElement &&
                  (this.capturePointerMotions(), this.overwriteActivePointer());
              },
            },
            {
              key: 'onStateChange',
              value() {
                const t = this;
                this.cleanUpPreviousState();
                let e = Phaser.GAMES[0].state,
                  i = e.getCurrentState(),
                  n = i.game;
                i.onCreate.addOnce(() => t.initCursorOnCurrentScene(n));
              },
            },
            {
              key: 'cleanUpPreviousState',
              value() {
                this.sprite &&
                  ((
                    this.game.canvas || document.querySelector('canvas')
                  ).removeEventListener(
                    'mousemove',
                    this.onPointerMoveCallback,
                  ),
                  this.sprite.destroy());
              },
            },
            {
              key: 'capturePointerMotions',
              value() {
                (this.sprite.cameraOffset.x += this.game.input.activePointer.rawMovementX),
                (this.sprite.cameraOffset.y += this.game.input.activePointer.rawMovementY),
                (this.sprite.cameraOffset.x = Math.max(
                  0,
                  Math.min(this.screenWidth, this.sprite.cameraOffset.x),
                )),
                (this.sprite.cameraOffset.y = Math.max(
                  0,
                  Math.min(this.screenHeight, this.sprite.cameraOffset.y),
                ));
              },
            },
            {
              key: 'overwriteActivePointer',
              value() {
                let t = this.sprite.cameraOffset,
                  e = t.x,
                  i = t.y;
                (this.game.input.activePointer.position = new Phaser.Point(
                  e,
                  i,
                )),
                (this.game.input.activePointer._oldPosition = new Phaser.Point(
                  e - this.game.input.activePointer.rawMovementX,
                  i - this.game.input.activePointer.rawMovementY,
                )),
                (this.game.input.activePointer.x = e),
                (this.game.input.activePointer.y = i);
              },
            },
            {
              key: 'addGameEventListeners',
              value() {
                const t = o.default.getInstance();
                t.on('scrollarea/in', this.onScrollArea.bind(this)),
                t.on('scrollarea/out', this.onScrollAreaOut.bind(this));
              },
            },
            {
              key: 'onScrollArea',
              value(t) {
                this.setCursorFrame(v[t]);
              },
            },
            {
              key: 'onScrollAreaOut',
              value() {
                this.setCursorFrame(u);
              },
            },
            {
              key: 'setPosition',
              value(t) {
                let e = t.x,
                  i = t.y;
                (this.sprite.cameraOffset.x = e),
                (this.sprite.cameraOffset.y = i);
              },
            },
            {
              key: 'setCursorFrame',
              value(t) {
                this.sprite.frameName = t;
              },
            },
            {
              key: 'show',
              value() {
                this.sprite.visible = !0;
              },
            },
            {
              key: 'hide',
              value() {
                this.sprite.visible = !1;
              },
            },
            {
              key: 'isHuggingTheLeftSideOfTheScreen',
              value() {
                return this.sprite.cameraOffset.x === 0;
              },
            },
            {
              key: 'isHuggingTheRightSideOfTheScreen',
              value() {
                return this.sprite.cameraOffset.x === this.screenWidth;
              },
            },
            {
              key: 'isHuggingTheTopOfTheScreen',
              value() {
                return this.sprite.cameraOffset.y === 0;
              },
            },
            {
              key: 'isHuggingTheBottomOfTheScreen',
              value() {
                return this.sprite.cameraOffset.y === this.screenHeight;
              },
            },
          ]),
          t
        );
      }());
    e.default = m;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(53),
      l = n(u),
      c = i(85),
      h = n(c),
      d = i(1),
      f = n(d),
      p = i(82),
      g = n(p),
      y = i(7),
      v = n(y),
      m = window.fivenations,
      b = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, m.game.game),
          );
          return (
            t.initOverlayComponent(),
            t.initAnimation(),
            t.initRestartMissionButton(),
            t.initEndMissionButton(),
            t.fixToCamera(),
            t.setDefaultVisibilty(),
            t
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'initOverlayComponent',
              value() {
                const t = new h.default();
                this.overlay = this.add(t);
              },
            },
            {
              key: 'initAnimation',
              value() {
                let t = m.window,
                  e = t.width,
                  i = t.height;
                (this.window = this.game.add.group()),
                this.add(this.window),
                (this.animation = this.game.add.sprite(
                  e / 2,
                  i / 2,
                  'gui-defeat',
                )),
                this.animation.anchor.set(0.5),
                this.animation.animations.add('seq', null, 35, !1),
                this.window.add(this.animation);
              },
            },
            {
              key: 'initRestartMissionButton',
              value() {
                let t = v.default.getInstance(),
                  e = t.translate('ingame.restartmission');
                (this.restartButton = new l.default({
                  size: 'm',
                  label: e,
                  onClick() {
                    return f.default
                      .getInstance()
                      .local.dispatch('game/restart');
                  },
                })),
                (this.restartButton.x = this.animation.x),
                (this.restartButton.y = this.animation.y + 45),
                this.window.add(this.restartButton);
              },
            },
            {
              key: 'initEndMissionButton',
              value() {
                let t = v.default.getInstance(),
                  e = t.translate('ingame.endmission');
                (this.endButton = new l.default({
                  size: 'm',
                  label: e,
                  onClick() {
                    return f.default
                      .getInstance()
                      .local.dispatch('game/defeat');
                  },
                })),
                (this.endButton.x = this.animation.x),
                (this.endButton.y = this.restartButton.y + 55),
                this.window.add(this.endButton);
              },
            },
            {
              key: 'fixToCamera',
              value() {
                this.fixedToCamera = !0;
              },
            },
            {
              key: 'setDefaultVisibilty',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'start',
              value() {
                const t = this;
                g.default
                  .getInstance()
                  .playMusicOnce('fed-defeat')
                  .then(() => t.startAnimationSequence()),
                f.default.getInstance().local.dispatch('game/endMission');
              },
            },
            {
              key: 'startAnimationSequence',
              value() {
                (this.visible = !0),
                this.animation.animations.play('seq'),
                this.game.add
                  .tween(this.overlay)
                  .from(
                    { alpha: 0 },
                    500,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                  ),
                this.game.add
                  .tween(this.restartButton)
                  .from(
                    { alpha: 0 },
                    500,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                    1500,
                  ),
                this.game.add
                  .tween(this.endButton)
                  .from(
                    { alpha: 0 },
                    500,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                    1750,
                  );
              },
            },
            {
              key: 'hide',
              value() {
                const t = this;
                this.game.add
                  .tween(this.overlay)
                  .to({ alpha: 0 }, 200, Phaser.Easing.Exponential.InOut, !0),
                this.game.add
                  .tween(this.window)
                  .to({ alpha: 0 }, 200, Phaser.Easing.Exponential.InOut, !0)
                  .onComplete.add(() => {
                    (t.overlay.alpha = 1),
                    (t.window.alpha = 1),
                    (t.visible = !1);
                  });
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = b;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(2),
      c = i(8),
      h = n(c),
      d = i(104),
      f = n(d),
      p = i(526),
      g = n(p),
      y = i(547),
      v = n(y),
      m = i(7),
      b = n(m),
      _ = window.fivenations,
      w = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, _.game.game),
          );
          return (
            t.initHelpers(), t.initSkipButton(), t.setDefaultVisiblity(), t
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'initHelpers',
              value() {
                (this.items = []), (this.crtFilter = new g.default());
              },
            },
            {
              key: 'initSkipButton',
              value() {
                let t = this,
                  e = b.default.getInstance(),
                  i = e.translate('framework.skip').toLocaleUpperCase();
                (this.skipButton = new f.default({
                  label: i,
                  onClick() {
                    t.hide(), t.onSkip && t.onSkip();
                  },
                  customOverFrame: 'XXXbtn_objectives_base.png',
                  customOutFrame: 'XXXbtn_objectives_base.png',
                  customDownFrame: 'XXXbtn_objectives_onclick.png',
                  offsetX: 15,
                })),
                (this.skipButton.x = 675),
                (this.skipButton.y = 200),
                this.add(this.skipButton);
              },
            },
            {
              key: 'setDefaultVisiblity',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'appendTo',
              value(t, e, i) {
                t.addChild(this), (this.x = e), (this.y = i);
              },
            },
            {
              key: 'addItem',
              value(t) {
                let e = t.portraitId,
                  i = t.onSkip,
                  n = new v.default(t);
                (this.onSkip = i),
                this.items.unshift(n),
                this.add(n),
                this.updatePortrait(e),
                this.animate(),
                n.shouldPauseGame() ? _.game.pause() : _.game.resume(),
                e === 'tip' &&
                    h.default
                      .getInstance()
                      .playAudioSprite({
                        sprite: 'sfx',
                        marker: 'HUD_transmission_objectives_tipps',
                      });
              },
            },
            {
              key: 'updatePortrait',
              value(t) {
                this.portraitId !== t &&
                  (this.removePreviousPortrait(), this.addNewPortrait(t));
              },
            },
            {
              key: 'removePreviousPortrait',
              value() {
                const t = this;
                if (this.portrait) {
                  const e = this.portrait;
                  this.game.add
                    .tween(e)
                    .to({ alpha: 0 }, 500, Phaser.Easing.Exponential.InOut, !0)
                    .onComplete.addOnce(() => {
                      t.remove(e), e.destroy();
                    });
                }
              },
            },
            {
              key: 'addNewPortrait',
              value(t) {
                let e = l.PORTRAITS[t],
                  i = e.spritesheet,
                  n = e.frameName;
                if (!i || !n) return void (this.portraitId = null);
                (this.portrait = this.game.add.sprite(-300, -225, i)),
                (this.portrait.frameName = n),
                this.game.add
                  .tween(this.portrait)
                  .from(
                    { alpha: 0 },
                    500,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                  ),
                (this.portraitId = t),
                this.add(this.portrait);
              },
            },
            {
              key: 'animate',
              value() {
                const t = this;
                if (this.items.length === 0) return void this.hide();
                this.show(),
                this.items.reduce((e, i, n) => {
                  let r = e;
                  if (n === 0) {
                    const a = t.game.add
                      .tween(i)
                      .from(
                        { alpha: 0 },
                        1e3,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                        500,
                      );
                    a.onStart.addOnce(() => i.animate()),
                    a.onComplete.addOnce(() => {
                      t.isListFull() && t.removeItemLast();
                    });
                  } else {
                    (r = e - i.height - 25),
                    t.game.add
                      .tween(i)
                      .to(
                        { y: r, alpha: 1 - 0.34 * n },
                        1e3,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                        100 * (n - 1),
                      );
                  }
                  return r;
                }, 0);
              },
            },
            {
              key: 'removeItemLast',
              value() {
                const t = this.items.pop();
                (t.visible = !1), this.remove(t), t.destroy();
              },
            },
            {
              key: 'show',
              value() {
                this.visible ||
                  this.game.add
                    .tween(this.skipButton)
                    .from(
                      { alpha: 0, y: 400 },
                      500,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                    ),
                (this.visible = !0);
              },
            },
            {
              key: 'hide',
              value() {
                const t = this;
                _.game.resume(),
                this.game.add
                  .tween(this)
                  .to({ alpha: 0 }, 750, Phaser.Easing.Exponential.InOut, !0)
                  .onComplete.addOnce(() => {
                    t.reset(),
                    (t.visible = !1),
                    (t.alpha = 1),
                    (t.onSkip = null);
                  });
              },
            },
            {
              key: 'reset',
              value() {
                for (; this.items.length;) this.removeItemLast();
                this.resetPortrait();
              },
            },
            {
              key: 'resetPortrait',
              value() {
                this.portrait &&
                  (this.remove(this.portrait),
                  this.portrait.destroy(),
                  (this.portrait = null),
                  (this.portraitId = null));
              },
            },
            {
              key: 'update',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'update',
                  this,
                ).call(this),
                this.crtFilter.update();
              },
            },
            {
              key: 'isListFull',
              value() {
                return this.items.length === 4;
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = w;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function o(t) {
      return new Promise(((e) => {
        let i = t.text,
          n = 0;
        (t.text = ''), (t.visible = !0);
        var r = setInterval(() => {
          (t.text += i.charAt(n)),
          (n += 1) === i.length && (clearTimeout(r), e());
        }, 32);
      }));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(2),
      l = window.fivenations,
      c = (function (t) {
        function e(t) {
          let i = t.text,
            a = t.portraitId,
            o = t.pauseGame;
          n(this, e);
          const s = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, l.game.game),
          );
          return (
            s.initTextComponent(i),
            s.initPortraitNameComponent(a),
            s.setShouldPauseGame(o),
            s
          );
        }
        return (
          a(e, t),
          s(e, [
            {
              key: 'initTextComponent',
              value(t) {
                (this.label = this.add(this.game.add.text(0, 35, t, {
                  font: u.DEFAULT_FONT.font.replace('11px', '16px'),
                  fill: '#FFFFFF',
                  align: 'left',
                  wordWrap: !0,
                  wordWrapWidth: 700,
                }))),
                this.label.setShadow(1, 1, 'rgba(0, 0, 0, 0.95)', 0),
                this.add(this.label);
              },
            },
            {
              key: 'initPortraitNameComponent',
              value(t) {
                const e = u.PORTRAITS[t].name;
                (this.portraitId = t),
                (this.title = this.add(this.game.add.text(0, 0, e, {
                  font: u.DEFAULT_FONT.font.replace('11px', '20px'),
                  fill: u.DEFAULT_FONT.color,
                  boundsAlignH: 'left',
                  boundsAlignV: 'middle',
                }))),
                this.add(this.title);
              },
            },
            {
              key: 'setShouldPauseGame',
              value(t) {
                this.pauseGame = t;
              },
            },
            {
              key: 'animate',
              value() {
                this.portraitId !== 'tip' && o(this.label);
              },
            },
            {
              key: 'shouldPauseGame',
              value() {
                return this.pauseGame;
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t) {
      let e = l(Phaser.GAMES, 1),
        i = e[0],
        n = L.ENTITY_ICON_SMALL_DIMENSIONS.width,
        r = L.ENTITY_ICON_SMALL_DIMENSIONS.height,
        a = i.add.bitmapData(n, r),
        o = a.addToWorld(0, 0),
        s = void 0;
      return (
        t.add(o),
        {
          move(t, e) {
            (o.x = t), (o.y = e);
          },
          show(t) {
            if (s !== t.sprite) {
              let e = void 0,
                n = t.getMultiselectIconFrameName();
              n
                ? ((e = i.add.image(0, 0, t.getDataObject().getId())),
                (e.frameName = n))
                : (e = i.add.image(0, 0)),
              a.clear(),
              a.draw(e, 0, 0),
              e.destroy();
            }
            s = t.sprite;
          },
          hide() {
            (s = null), a.clear();
          },
          click(t, e) {
            (o.inputEnabled = !0), o.events.onInputDown.add(t, e);
          },
        }
      );
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      c = i(614),
      h = n(c),
      d = i(11),
      f = n(d),
      p = i(1),
      g = n(p),
      y = i(549),
      v = n(y),
      m = i(140),
      b = n(m),
      _ = i(566),
      w = n(_),
      x = i(571),
      P = n(x),
      k = i(542),
      T = n(k),
      O = i(3),
      E = n(O),
      S = i(22),
      C = n(S),
      I = i(48),
      M = n(I),
      A = i(7),
      R = n(A),
      L = i(2),
      D = window.fivenations,
      B = {
        marginLeft: 120,
        marginTop: 5,
        titleFontStronger: '13px BerlinSansFB-Reg',
        titleFont: '12px BerlinSansFB-Reg',
        defaultFont: '11px BerlinSansFB-Reg',
        shipNameFont: '10px BerlinSansFB-Reg',
        color: '#7597CD',
        colorClickable: '#77C7D2',
        colorShield: '#77A7F6',
        gap: 12,
        dynamicTextsOffsetY: 36,
      },
      j = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, D.game.game),
          );
          return t.createIcon(), t.createActiveSpellMonitor(), t;
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'createIcon',
              value() {
                (this.sprite = this.game.add.sprite(
                  10,
                  4,
                  'gui-hud-portraits',
                )),
                this.add(this.sprite);
              },
            },
            {
              key: 'createActiveSpellMonitor',
              value() {
                (this.activeSpellMonitor = new h.default()),
                this.add(this.activeSpellMonitor);
              },
            },
            {
              key: 'show',
              value(t) {
                this.updatePortraitFrameByEntity(t),
                this.updateActiveSpellMonitorByEntity(t);
              },
            },
            {
              key: 'updatePortraitFrameByEntity',
              value(t) {
                let e = t.getDataObject().getId(),
                  i = `${e}.png`;
                (this.sprite.frameName = i), (this.visible = !0);
              },
            },
            {
              key: 'updateActiveSpellMonitorByEntity',
              value(t) {
                this.activeSpellMonitor.updateByEntity(t);
              },
            },
          ]),
          e
        );
      }(Phaser.Group)),
      F = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            i.createPortraitIcon(),
            i.createTextElements(),
            i.cacheTranslations(),
            i
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'createPortraitIcon',
              value() {
                (this.portraitIcon = new j(this.game)),
                this.add(this.portraitIcon);
              },
            },
            {
              key: 'createTextElements',
              value() {
                (this.nameElm = this.add(this.game.add.text(B.marginLeft, B.marginTop, '', {
                  font: B.titleFont,
                  fill: B.color,
                }))),
                (this.shipNameElm = this.add(this.game.add.text(B.marginLeft, B.marginTop + 12, '', {
                  font: B.shipNameFont,
                  fill: '#FFFFFF',
                }))),
                (this.rankElm = null),
                (this.hullElm = this.add(this.game.add.text(0, 0, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.shieldElm = this.add(this.game.add.text(0, 0, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.armorElm = this.add(this.game.add.text(0, 0, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.powerElm = this.add(this.game.add.text(0, 0, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.hangarElm = this.add(this.game.add.text(0, 0, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.cargoElm = this.add(this.game.add.text(0, 0, '', {
                  font: B.defaultFont,
                  fill: B.color,
                })));
              },
            },
            {
              key: 'cacheTranslations',
              value() {
                const t = R.default.getInstance();
                this.translations = {
                  hull: t.translate('gui.entitydisplay.hull'),
                  shield: t.translate('gui.entitydisplay.shield'),
                  armor: t.translate('gui.entitydisplay.armor'),
                  power: t.translate('gui.entitydisplay.power'),
                  hangar: t.translate('gui.entitydisplay.hangar'),
                  cargo: t.translate('gui.entitydisplay.cargo'),
                };
              },
            },
            {
              key: 'updateContent',
              value(t) {
                let e = R.default.getInstance(),
                  i = t.getDataObject(),
                  n = e.translate(i.getShipTranslationKey()) || i.getShipName(),
                  r = i.getMaxShield(),
                  a = i.getMaxPower(),
                  o = i.getMaxHangar(),
                  s = i.getCargoCapacity(),
                  u = `entities.${i.getId()}`,
                  l = B.dynamicTextsOffsetY;
                this.portraitIcon.show(t),
                (this.nameElm.text = e.translate(u)),
                (this.shipNameElm.text = n);
                let c = `${this.translations.hull}: `,
                  h = i.getHull(),
                  d = `/${i.getMaxHull()}`,
                  f = E.default.getColorFromRatio(
                    i.getHull() / i.getMaxHull(),
                    'hex',
                  );
                if (
                  (this.hullElm.clearColors(),
                  (this.hullElm.text = c + h + d),
                  this.hullElm.addColor(f, c.length),
                  (this.hullElm.x = B.marginLeft),
                  (this.hullElm.y = B.marginTop + l),
                  (l += B.gap),
                  r > 0)
                ) {
                  let p = `${this.translations.shield}: `,
                    g = i.getShield(),
                    y = `/${r}`;
                  this.shieldElm.clearColors(),
                  (this.shieldElm.text = p + g + y),
                  this.shieldElm.addColor(B.colorShield, p.length),
                  (this.shieldElm.x = B.marginLeft),
                  (this.shieldElm.y = B.marginTop + l),
                  (l += B.gap);
                } else this.shieldElm.text = '';
                let v = `${this.translations.armor}: `,
                  m = i.getOriginalArmor() || 0,
                  b = i.getArmor() - m || 0,
                  _ = (Number.isInteger(b) && b > 0 && ` + ${b}`) || '';
                if (
                  (this.armorElm.clearColors(),
                  (this.armorElm.text = v + m + _),
                  this.armorElm.addColor('#FFFFFF', v.length),
                  (this.armorElm.x = B.marginLeft),
                  (this.armorElm.y = B.marginTop + l),
                  (l += B.gap),
                  a > 0)
                ) {
                  let w = `${this.translations.power}: `,
                    x = i.getPower(),
                    P = `/${a}`;
                  this.powerElm.clearColors(),
                  (this.powerElm.text = w + x + P),
                  this.powerElm.addColor('#FFFFFF', w.length),
                  (this.powerElm.x = B.marginLeft),
                  (this.powerElm.y = B.marginTop + l),
                  (l += B.gap);
                } else this.powerElm.text = '';
                if (o > 0) {
                  let k = `${this.translations.hangar}: `,
                    T = t.getNumberOfDockedEntities(),
                    O = `/${o}`;
                  this.hangarElm.clearColors(),
                  (this.hangarElm.text = k + T + O),
                  this.hangarElm.addColor('#FFFFFF', k.length),
                  (this.hangarElm.x = B.marginLeft),
                  (this.hangarElm.y = B.marginTop + l),
                  (l += B.gap);
                } else this.hangarElm.text = '';
                if (s > 0) {
                  let S = `${this.translations.cargo}: `,
                    C = i.getCargoTitanium() || 0,
                    I = i.getCargoSilicium() || 0,
                    M = i.getCargoUranium() || 0,
                    A = C + I + M,
                    L = `/${s}`;
                  this.cargoElm.clearColors(),
                  (this.cargoElm.text = S + A + L),
                  this.cargoElm.addColor('#FFFFFF', S.length),
                  (this.cargoElm.x = B.marginLeft),
                  (this.cargoElm.y = B.marginTop + l),
                  (l += B.gap);
                } else this.cargoElm.text = '';
              },
            },
          ]),
          e
        );
      }(Phaser.Group)),
      U = (function (t) {
        function e() {
          r(this, e);
          let t = l(Phaser.GAMES, 1),
            i = t[0],
            n = a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, i),
            );
          return n.initSeparator(), n;
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'initSeparator',
              value() {
                (this.separator = this.game.add.sprite(-5, 0, 'gui-hd')),
                (this.separator.frameName =
                    'HD_gui_descriptionpopup_separator.png'),
                this.add(this.separator);
              },
            },
            {
              key: 'updateContent',
              value(t) {
                this.updateVisibilityByEntity(t),
                this.updateUpgradeListByEntity(t);
              },
            },
            {
              key: 'updateVisibilityByEntity',
              value(t) {
                t.getDataObject().isBuilding()
                  ? (this.visible = !1)
                  : (this.visible = !0);
              },
            },
            { key: 'updateUpgradeListByEntity', value() {} },
          ]),
          e
        );
      }(Phaser.Group)),
      G = (function (t) {
        function e() {
          r(this, e);
          let t = l(Phaser.GAMES, 1),
            i = t[0],
            n = a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, i),
            );
          return (
            n.initSeparator(), n.initWeaponList(), n.initEventDispatcher(), n
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'initSeparator',
              value() {
                (this.separator = this.game.add.sprite(-5, 0, 'gui-hd')),
                (this.separator.frameName =
                    'HD_gui_descriptionpopup_separator.png'),
                this.add(this.separator);
              },
            },
            {
              key: 'initWeaponList',
              value() {
                function t(t) {
                  this.dispatcher.dispatch('over', t),
                  this.eventEmitter.local.dispatch(
                    'gui/weapon/over',
                    t.weapon,
                  ),
                  (t.alpha = 0.5);
                }
                function e(t) {
                  this.dispatcher.dispatch('out', t),
                  this.eventEmitter.local.dispatch('gui/weapon/out'),
                  (t.alpha = 1);
                }
                function i(t) {
                  this.dispatcher.dispatch('click', t);
                }
                let n = void 0,
                  r = void 0,
                  a = void 0;
                this.weaponTexts = [];
                for (let o = 0; o < 12; o += 1) {
                  (r = 100 * Math.floor(o / 8)),
                  (a = 14 * ((o % 8) + 1) - 7),
                  (n = this.add(this.game.add.text(r, a, '', {
                    font: B.defaultFont,
                    fill: B.colorClickable,
                  }))),
                  (n.inputEnabled = !0),
                  n.events.onInputOver.add(t, this),
                  n.events.onInputOut.add(e, this),
                  n.events.onInputDown.add(i, this),
                  this.weaponTexts.push(n);
                }
              },
            },
            {
              key: 'initEventDispatcher',
              value() {
                (this.dispatcher = new E.default.EventDispatcher()),
                (this.eventEmitter = g.default.getInstance());
              },
            },
            {
              key: 'on',
              value(t, e) {
                this.dispatcher.addEventListener(t, e);
              },
            },
            {
              key: 'updateVisibilityByEntity',
              value(t) {
                !t.getWeaponManager().getWeapons().length ||
                t.isProducing() ||
                t.isResearching()
                  ? (this.visible = !1)
                  : (this.visible = !0);
              },
            },
            {
              key: 'updateWeaponListByEntity',
              value(t) {
                let e = this,
                  i = t.getWeaponManager(),
                  n = i.getWeapons();
                this.weaponTexts.forEach((t) => {
                  t.visible = !1;
                }),
                (this.distinctWeapon = []),
                (this.distinctWeaponName = []),
                (this.distinctWeaponCounts = []),
                n.forEach((t) => {
                  const i = e.distinctWeaponName.indexOf(t.getName());
                  i === -1
                    ? (e.distinctWeaponName.push(t.getName()),
                    e.distinctWeapon.push(t),
                    e.distinctWeaponCounts.push(1))
                    : (e.distinctWeaponCounts[i] += 1);
                }),
                this.distinctWeapon.forEach((t, i) => {
                  e.weaponTexts[i].weapon = t;
                  let n =
                        (e.distinctWeaponCounts[i] > 1 &&
                          ` x${e.distinctWeaponCounts[i]}`) ||
                        '',
                    r =
                        (t.getCurrentLevel() !== '-' &&
                          t.getCurrentLevel() > 0 &&
                          t.isOffensive() &&
                          ` -level ${t.getCurrentLevel()}`) ||
                        '';
                  (e.weaponTexts[i].text = t.getName() + n + r),
                  e.weaponTexts[i].clearColors(),
                  e.weaponTexts[i].addColor(B.colorClickable, 0),
                  r.length !== 0 &&
                        e.weaponTexts[i].addColor(
                          '#FFFFFF',
                          e.weaponTexts[i].text.length - r.length,
                        ),
                  (e.weaponTexts[i].visible = !0);
                });
              },
            },
            {
              key: 'updateContent',
              value(t) {
                this.updateVisibilityByEntity(t),
                this.updateWeaponListByEntity(t);
              },
            },
          ]),
          e
        );
      }(Phaser.Group)),
      N = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            i.setDefaultVisiblity(),
            i.initBackgroundSprite(t),
            i.initTranslationManager(),
            i.initTextComponents(t),
            i
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'setDefaultVisiblity',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'initBackgroundSprite',
              value(t) {
                (this.background = t.add.sprite(0, 0, 'gui-hd')),
                (this.background.frameName = 'HD_gui_descriptionpopup.png'),
                this.add(this.background);
              },
            },
            {
              key: 'initTextComponents',
              value(t) {
                (this.nameElm = this.add(t.add.text(20, 15, '', { font: B.titleFont, fill: B.color }))),
                (this.levelElm = this.add(t.add.text(20, 26, '', {
                  font: B.titleFont,
                  fill: B.color,
                }))),
                (this.hullElm = this.add(t.add.text(20, 39, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.shieldElm = this.add(t.add.text(20, 50, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.powerElm = this.add(t.add.text(20, 61, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.rangeElm = this.add(t.add.text(20, 72, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.coolElm = this.add(t.add.text(20, 83, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.targetElm = this.add(t.add.text(20, 94, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.descriptionElm = this.add(t.add.text(20, 107, '', {
                  font: B.defaultFont,
                  fill: B.color,
                  align: 'left',
                  wordWrap: !0,
                  wordWrapWidth: this.background.width - 40,
                }))),
                (this.descriptionElm.lineSpacing = -5);
              },
            },
            {
              key: 'initTranslationManager',
              value() {
                this.translator = R.default.getInstance();
              },
            },
            {
              key: 'updateContent',
              value(t) {
                let e = void 0,
                  i = void 0,
                  n = void 0,
                  r = void 0;
                (this.nameElm.text = t.getName()),
                this.levelElm.clearColors(),
                (this.levelElm.text = `Level ${t.getCurrentLevel()}`),
                this.levelElm.addColor('#FFFFFF', 0),
                (e = 'DMG to Hull: '),
                (i = t.getOriginalDamage() || 0),
                (r = t.getDamage() - t.getOriginalDamage() || 0),
                (n = (Number.isInteger(i) && r > 0 && ` + ${r}`) || ''),
                (this.hullElm.text = e + i + n),
                this.hullElm.clearColors(),
                this.hullElm.addColor('#00FF00', e.length),
                this.hullElm.addColor(
                  '#FFFFFF',
                  this.hullElm.text.length - n.length,
                ),
                (e = 'DMG to Shield: '),
                (i = t.getOriginalDamageShield() || 0),
                (r = t.getDamageShield() - t.getOriginalDamageShield() || 0),
                (n = (Number.isInteger(i) && r > 0 && ` + ${r}`) || ''),
                (this.shieldElm.text = e + i + n),
                this.shieldElm.clearColors(),
                this.shieldElm.addColor(B.colorShield, e.length),
                this.shieldElm.addColor(
                  '#FFFFFF',
                  this.shieldElm.text.length - n.length,
                ),
                Number.isInteger(t.getPowerCost())
                  ? ((e = 'Power costs: '),
                  (i = t.getPowerCost()),
                  (this.powerElm.visible = !0),
                  (this.powerElm.text = e + i),
                  this.powerElm.clearColors(),
                  this.powerElm.addColor('#FFFFFF', e.length),
                  (this.rangeElm.y = 72),
                  (this.coolElm.y = 83),
                  (this.targetElm.y = 94),
                  (this.descriptionElm.y = 107))
                  : ((this.powerElm.visible = !1),
                  (this.rangeElm.y = 61),
                  (this.coolElm.y = 72),
                  (this.targetElm.y = 83),
                  (this.descriptionElm.y = 96)),
                (e = 'Range: '),
                (i = t.getRange()),
                (this.rangeElm.text = e + i),
                this.rangeElm.clearColors(),
                this.rangeElm.addColor('#FFFFFF', e.length),
                (e = 'Cooldown: '),
                (i = t.getCooldown()),
                (this.coolElm.text = e + i),
                this.coolElm.clearColors(),
                this.coolElm.addColor('#FFFFFF', e.length),
                (e = 'Targeting fighters: '),
                (i = t.canAttackFighters()),
                (n = (Number.isInteger(i) && 'Yes') || 'No'),
                (this.targetElm.text = e + this.translator.translate(n)),
                this.targetElm.clearColors(),
                this.targetElm.addColor('#FFFFFF', e.length),
                this.targetElm.addColor();
                const a = t.getDescription();
                (this.descriptionElm.text = this.translator.translate(a)),
                this.descriptionElm.clearColors(),
                this.descriptionElm.addColor('#FFFFFF', 0);
              },
            },
          ]),
          e
        );
      }(Phaser.Group)),
      W = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            i.setDefaultVisiblity(),
            i.initBackgroundSprite(t),
            i.initTextComponents(t),
            i.initTranslationManager(),
            i
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'setDefaultVisiblity',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'initBackgroundSprite',
              value(t) {
                (this.background = t.add.sprite(0, 0, 'gui-hd')),
                (this.background.frameName =
                    'HD_gui_descriptionpopup_sm.png'),
                this.add(this.background);
              },
            },
            {
              key: 'initTextComponents',
              value(t) {
                (this.nameElm = this.add(t.add.text(20, 15, '', { font: B.titleFont, fill: B.color }))),
                (this.rangeElm = this.add(t.add.text(20, 30, '', {
                  font: B.titleFont,
                  fill: B.color,
                }))),
                (this.descriptionElm = this.add(t.add.text(20, 43, '', {
                  font: B.defaultFont,
                  fill: B.color,
                  align: 'left',
                  wordWrap: !0,
                  wordWrapWidth: this.background.width - 40,
                }))),
                (this.descriptionElm.lineSpacing = -5);
              },
            },
            {
              key: 'initTranslationManager',
              value() {
                this.translator = R.default.getInstance();
              },
            },
            {
              key: 'updateContent',
              value(t) {
                let e = void 0,
                  i = void 0;
                (this.nameElm.text = t.getName()),
                Number.isInteger(t.getRange()) && t.getRange() > 0
                  ? ((e = 'Range: '),
                  (i = t.getRange()),
                  (this.rangeElm.visible = !0),
                  (this.rangeElm.text = e + i),
                  this.rangeElm.clearColors(),
                  this.rangeElm.addColor('#FFFFFF', e.length),
                  (this.descriptionElm.y = 43))
                  : ((this.rangeElm.visible = !1),
                  (this.descriptionElm.y = 32));
                const n = t.getDescription();
                (this.descriptionElm.text = this.translator.translate(n)),
                this.descriptionElm.clearColors(),
                this.descriptionElm.addColor('#FFFFFF', 0);
              },
            },
          ]),
          e
        );
      }(Phaser.Group)),
      H = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            i.setDefaultVisiblity(),
            i.initBackgroundSprite(t),
            i.initTextComponents(t),
            i.initTranslationManager(),
            i
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'setDefaultVisiblity',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'initBackgroundSprite',
              value(t) {
                (this.background = t.add.sprite(0, 0, 'gui-hd')),
                (this.background.frameName = 'HD_gui_descriptionpopup.png'),
                this.add(this.background);
              },
            },
            {
              key: 'initTextComponents',
              value(t) {
                (this.nameElm = this.add(t.add.text(20, 15, '', { font: B.titleFont, fill: B.color }))),
                (this.typelElm = this.add(t.add.text(20, 26, '', {
                  font: B.titleFont,
                  fill: B.color,
                }))),
                (this.powerElm = this.add(t.add.text(20, 39, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.rangeElm = this.add(t.add.text(20, 50, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.coolElm = this.add(t.add.text(20, 61, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.targetElm = this.add(t.add.text(20, 72, '', {
                  font: B.defaultFont,
                  fill: B.color,
                }))),
                (this.descriptionElm = this.add(t.add.text(20, 85, '', {
                  font: B.defaultFont,
                  fill: B.color,
                  align: 'left',
                  wordWrap: !0,
                  wordWrapWidth: this.background.width - 40,
                }))),
                (this.descriptionElm.lineSpacing = -5);
              },
            },
            {
              key: 'initTranslationManager',
              value() {
                this.translator = R.default.getInstance();
              },
            },
            {
              key: 'updateContent',
              value(t) {
                let e = void 0,
                  i = void 0;
                (this.nameElm.text = t.getName()),
                this.typelElm.clearColors(),
                t.getWeaponType().localeCompare('destructive-magic') === 0
                  ? (this.typelElm.text = 'offensive')
                  : (this.typelElm.text = 'supporting'),
                this.typelElm.addColor('#FFFFFF', 0);
                let n = Number.isInteger(t.getPowerCost()),
                  r = t.getRange() > 0;
                (this.rangeElm.y = 50),
                (this.coolElm.y = 61),
                (this.targetElm.y = 72),
                (this.descriptionElm.y = 85),
                n
                  ? ((e = 'Power costs: '),
                  (i = t.getPowerCost()),
                  (this.powerElm.visible = !0),
                  (this.powerElm.text = e + i),
                  this.powerElm.clearColors(),
                  this.powerElm.addColor('#FFFFFF', e.length))
                  : ((this.powerElm.visible = !1),
                  (this.rangeElm.y = this.rangeElm.y - 11),
                  (this.coolElm.y = this.coolElm.y - 11),
                  (this.targetElm.y = this.targetElm.y - 11),
                  (this.descriptionElm.y = this.descriptionElm.y - 11)),
                r
                  ? ((e = 'Range: '),
                  (i = t.getRange()),
                  (this.rangeElm.visible = !0),
                  (this.rangeElm.text = e + i),
                  this.rangeElm.clearColors(),
                  this.rangeElm.addColor('#FFFFFF', e.length))
                  : ((this.rangeElm.visible = !1),
                  (this.coolElm.y = this.coolElm.y - 11),
                  (this.targetElm.y = this.targetElm.y - 11),
                  (this.descriptionElm.y = this.descriptionElm.y - 11)),
                (e = 'Cooldown: '),
                (i = t.getCooldown()),
                (this.coolElm.text = e + i),
                this.coolElm.clearColors(),
                this.coolElm.addColor('#FFFFFF', e.length),
                (e = 'Targeting fighters: '),
                (i = t.canAttackFighters());
                const a = (Number.isInteger(i) && 'Yes') || 'No';
                (this.targetElm.text = e + this.translator.translate(a)),
                this.targetElm.clearColors(),
                this.targetElm.addColor('#FFFFFF', e.length),
                this.targetElm.addColor();
                const o = t.getDescription();
                (this.descriptionElm.text = this.translator.translate(o)),
                this.descriptionElm.clearColors(),
                this.descriptionElm.addColor('#FFFFFF', 0);
              },
            },
          ]),
          e
        );
      }(Phaser.Group)),
      X = (function (t) {
        function e(t, i) {
          r(this, e);
          const n = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (n.entityManager = i), n.initComponents(), n;
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'initComponents',
              value() {
                const t = this;
                (this.entities = []),
                (this.icons = []),
                (this.healthBarBitmap = []),
                (this.shieldBarBitmap = []),
                (this.healthBar = []),
                (this.shieldBar = []);
                for (let e = 23; e >= 0; e -= 1) {
                  !(function (e) {
                    let i = (e % 4) * 52,
                      n = 52 * Math.floor(e / 4);
                    (t.icons[e] = s(t)),
                    t.icons[e].move(i, n),
                    t.icons[e].click(() => t.onClickIcon(e)),
                    (t.healthBarBitmap[e] = t.game.add.bitmapData(51, 3)),
                    (t.shieldBarBitmap[e] = t.game.add.bitmapData(51, 3)),
                    (t.healthBar[e] = t.add(t.game.add.sprite(
                      i + 2,
                      n + 51 - 3 - 2,
                      t.healthBarBitmap[e],
                    ))),
                    (t.shieldBar[e] = t.add(t.game.add.sprite(
                      i + 2,
                      n + 51 - 6 - 2 - 1,
                      t.shieldBarBitmap[e],
                    )));
                  }(e));
                }
              },
            },
            {
              key: 'updateContent',
              value(t) {
                let e = void 0;
                if (!t) {
                  throw new Error('Invalid Array of Entity instances has been passed!');
                }
                for (let i = this.icons.length - 1; i >= 0; i -= 1) {
                  i < t.length && t[i]
                    ? ((e = t[i].getDataObject()),
                    (this.entities[i] = t[i]),
                    this.icons[i].show(t[i]),
                    (this.healthBar[i].visible = !0),
                    this.renderBar(
                      this.healthBarBitmap[i],
                      e.getHull() / e.getMaxHull(),
                    ),
                    e.getMaxShield() > 0
                      ? ((this.shieldBar[i].visible = !0),
                      this.renderBar(
                        this.shieldBarBitmap[i],
                        e.getShield() / e.getMaxShield(),
                        '0x0000FF',
                      ))
                      : (this.shieldBar[i].visible = !1))
                    : ((this.entities[i] = null),
                    (this.shieldBar[i].visible = !1),
                    (this.healthBar[i].visible = !1),
                    this.icons[i].hide());
                }
              },
            },
            {
              key: 'renderBar',
              value(t, e, i) {
                const n = t.ctx;
                t.blendDestinationOut(),
                t.fill(0, 0, 0),
                t.blendReset(),
                (n.fillStyle =
                    (i && i.replace('0x', '#')) ||
                    E.default.getColorFromRatio(e, 'hex')),
                n.fillRect(0, 0, Math.floor(51 * e) - 4, 3);
              },
            },
            {
              key: 'onClickIcon',
              value(t) {
                const e = C.default.getInstance();
                if (e.isDown(Phaser.KeyCode.SHIFT)) this.entities[t].unselect();
                else if (e.isDown(Phaser.KeyCode.CONTROL)) {
                  const i = this.entities[t].getDataObject().getId();
                  this.entities
                    .filter(t => t && t.getDataObject().getId() !== i)
                    .forEach(t => t.unselect());
                } else this.entityManager.unselectAll(this.entities[t]);
              },
            },
          ]),
          e
        );
      }(Phaser.Group)),
      V = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, D.game.game),
          );
          return (
            (t.visible = !1),
            (t.entityManager = f.default.getInstance()),
            (t.userPointer = M.default.getInstance()),
            t.addBackground(),
            t.createAttributeGroup(0, 5),
            t.createMultiselectionGroup(15, 16),
            t
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'addBackground',
              value() {
                const t = this.game.add.sprite(0, 0, 'gui-hd');
                (t.frameName = 'gui_panel_description_command.png'),
                this.add(t);
              },
            },
            {
              key: 'createAttributeGroup',
              value(t, e) {
                const i = this.game.add.group();
                (this.mainAttributeGroup = new F(this.game)),
                (this.mainAttributeGroup.x = t + 9),
                (this.mainAttributeGroup.y = e + 15),
                (this.weaponGroup = new G(this.game)),
                (this.weaponGroup.x = t + 20),
                (this.weaponGroup.y = e + 122);
                const n = new N(this.game);
                (n.x = t - n.width - 11), (n.y = e - n.height / 2 + 46);
                const r = new W(this.game);
                (r.x = t - r.width - 11), (r.y = e - r.height / 2 + 46);
                const a = new H(this.game);
                (a.x = t - a.width - 11),
                (a.y = e - a.height / 2 + 46),
                this.weaponGroup.add(n),
                this.weaponGroup.add(r),
                this.weaponGroup.add(a),
                this.weaponGroup.on('over', (t) => {
                  t.weapon.getWeaponType() === 'passive'
                    ? ((r.visible = !0), r.updateContent(t.weapon))
                    : t.weapon.getWeaponType() === 'weapon'
                      ? ((n.visible = !0), n.updateContent(t.weapon))
                      : ((a.visible = !0), a.updateContent(t.weapon));
                }),
                this.weaponGroup.on('out', () => {
                  (n.visible = !1), (r.visible = !1), (a.visible = !1);
                }),
                this.weaponGroup.on('click', (t) => {
                  g.default
                    .getInstance()
                    .local.dispatch('gui/weapon/click', t.weapon);
                }),
                (this.resourcePriorityTab = new P.default()),
                (this.resourcePriorityTab.x = t + 20),
                (this.resourcePriorityTab.y = e + 185),
                (this.productionTab = new b.default(this.game)),
                (this.productionTab.x = t + 20),
                (this.productionTab.y = e + 185),
                (this.constructionTab = new T.default()),
                (this.constructionTab.x = t + 20),
                (this.constructionTab.y = e + 185),
                (this.researchTab = new w.default()),
                (this.researchTab.x = t + 20),
                (this.researchTab.y = e + 185),
                (this.hudHangarDisplay = new v.default()),
                (this.hudHangarDisplay.x = t + 20),
                (this.hudHangarDisplay.y = e + 212),
                (this.upgradeGroup = new U(this.game)),
                (this.upgradeGroup.x = t + 20),
                (this.upgradeGroup.y = e + 300),
                i.add(this.mainAttributeGroup),
                i.add(this.weaponGroup),
                i.add(this.resourcePriorityTab),
                i.add(this.productionTab),
                i.add(this.constructionTab),
                i.add(this.hudHangarDisplay),
                i.add(this.upgradeGroup),
                i.add(this.researchTab),
                (this.attributeGroup = i),
                this.add(this.attributeGroup);
              },
            },
            {
              key: 'createMultiselectionGroup',
              value(t, e) {
                const i = new X(this.game, this.entityManager);
                (i.x = t),
                (i.y = e),
                (this.multiselectionGroup = i),
                this.add(this.multiselectionGroup);
              },
            },
            {
              key: 'appendTo',
              value(t, e, i) {
                if (!t) throw new Error('Invalid Phaser.Sprite object!');
                (this.x = e), (this.y = i), t.addChild(this);
              },
            },
            {
              key: 'update',
              value() {
                const t = this.entityManager.entities(':selected');
                t.length === 1
                  ? (this.show(), this.displaySingleEntityScene(t[0]))
                  : t.length > 1
                    ? (this.show(), this.displayMultipleEntityScene(t))
                    : this.hide();
              },
            },
            {
              key: 'displaySingleEntityScene',
              value(t) {
                (this.attributeGroup.visible = !0),
                (this.multiselectionGroup.visible = !1),
                (this.weaponGroup.visible = !1),
                (this.constructionTab.visible = !1),
                (this.productionTab.visible = !1),
                (this.researchTab.visible = !1),
                (this.resourcePriorityTab.visible = !1),
                (this.hudHangarDisplay.visible = !1),
                (this.upgradeGroup.visible = !1),
                t.getPlayer().isControlledByUser() ||
                  t.getBeingSeenBySpy() ||
                  D.debug.spying
                  ? t.isProducing()
                    ? (this.productionTab.visible = !0)
                    : t.isInConstruction() || t.isInUpgrade()
                      ? (this.constructionTab.visible = !0)
                      : t.isResearching()
                        ? (this.researchTab.visible = !0)
                        : t.getDataObject().getType() === 'Cargo' ||
                        t.getDataObject().isTeleporterMiningStation()
                          ? ((this.resourcePriorityTab.visible = !0),
                          (this.weaponGroup.visible = !0),
                          (this.upgradeGroup.visible = !0))
                          : t.getNumberOfDockedEntities()
                            ? ((this.hudHangarDisplay.visible = !0),
                            (this.weaponGroup.visible = !0),
                            (this.upgradeGroup.visible = !0))
                            : ((this.weaponGroup.visible = !0),
                            (this.upgradeGroup.visible = !0))
                  : (this.weaponGroup.visible = !0);
                for (
                  let e = this.attributeGroup.children.length - 1;
                  e >= 0;
                  e -= 1
                ) {
                  const i = this.attributeGroup.children[e];
                  i.visible && i.updateContent(t);
                }
              },
            },
            {
              key: 'displayMultipleEntityScene',
              value(t) {
                (this.attributeGroup.visible = !1),
                (this.multiselectionGroup.visible = !0),
                this.multiselectionGroup.updateContent(t);
              },
            },
            {
              key: 'show',
              value() {
                this.visible = !0;
              },
            },
            {
              key: 'hide',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'isHover',
              value() {
                return this.visible && this.userPointer.isHover(this);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = V;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(550),
      c = n(l),
      h = i(7),
      d = n(h),
      f = { titleFont: '13px BerlinSansFB-Reg', color: '#77C7D2' },
      p = (function (t) {
        function e() {
          r(this, e);
          let t = s(Phaser.GAMES, 1),
            i = t[0],
            n = a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, i),
            );
          return n.initSeparator(), n.initTitle(), n.initIconList(), n;
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'initSeparator',
              value() {
                (this.separator = this.game.add.sprite(-5, 0, 'gui-hd')),
                (this.separator.frameName =
                    'HD_gui_descriptionpopup_separator.png'),
                this.add(this.separator);
              },
            },
            {
              key: 'initTitle',
              value() {
                let t = d.default.getInstance(),
                  e = t.translate('gui.entitydisplay.hangar.title');
                (this.titleElm = this.add(this.game.add.text(0, 0, e, {
                  font: f.titleFont,
                  fill: f.color,
                  boundsAlignH: 'center',
                }))),
                this.titleElm.setTextBounds(0, 0, 200, 80);
              },
            },
            {
              key: 'initIconList',
              value() {
                this.icons = [];
                for (let t = 0; t < 24; t += 1) {
                  const e = new c.default();
                  (e.x = 12 + (t % 8) * e.width * 0.75),
                  (e.y =
                      Math.floor(t / 8) * e.height * 0.75 +
                      this.titleElm.y +
                      35),
                  this.icons.push(e),
                  this.add(e);
                }
              },
            },
            {
              key: 'updateIconListByEntity',
              value(t) {
                let e = this,
                  i = t.getVisibleDockedEntities();
                this.icons.forEach(t => t.hide()),
                i.forEach((t, i) => {
                  t.getDataObject().isInterceptor() ||
                      (e.icons[i].updateContent(t), e.icons[i].show());
                });
              },
            },
            {
              key: 'updateContent',
              value(t) {
                !t.getNumberOfDockedEntities() ||
                t.isProducing() ||
                t.isResearching()
                  ? (this.visible = !1)
                  : (this.updateIconListByEntity(t), (this.visible = !0));
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = p;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function o(t, e, i, n) {
      let r = u(Phaser.GAMES, 1),
        a = r[0],
        o = { step: 0 },
        s = a.add
          .tween(o)
          .to({ step: 100 }, n, Phaser.Easing.Sinusoidal.InOut, !1, 0, -1, !0);
      return (
        s.onUpdateCallback(() => {
          t.tint = Phaser.Color.interpolateColor(e, i, 100, o.step, 0);
        }),
        (t.tint = e),
        s.start(),
        s
      );
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      l = i(2),
      c = i(1),
      h = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(c)),
      d = 32 / l.ENTITY_ICON_DIMENSIONS.width,
      f = (function (t) {
        function e() {
          n(this, e);
          let t = u(Phaser.GAMES, 1),
            i = t[0],
            a = r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, i),
            );
          return a.createIcon(), a.addDefaultEventListeners(), a;
        }
        return (
          a(e, t),
          s(e, [
            {
              key: 'createIcon',
              value() {
                (this.bmd = this.game.add.bitmapData(
                  l.ENTITY_ICON_DIMENSIONS.width,
                  l.ENTITY_ICON_DIMENSIONS.height,
                )),
                (this.icon = this.bmd.addToWorld(0, 0)),
                this.icon.anchor.set(0.5),
                this.icon.scale.set(d),
                (this.icon.inputEnabled = !0),
                this.add(this.icon);
              },
            },
            {
              key: 'addDefaultEventListeners',
              value() {
                this.icon.events.onInputOver.add(this.onInputOver, this),
                this.icon.events.onInputOut.add(this.onInputOut, this),
                this.icon.events.onInputDown.add(this.onClick, this);
              },
            },
            {
              key: 'updateContent',
              value(t) {
                if (t) {
                  const e = t.getDataObject();
                  this.tween ||
                    e.getHull() === e.getMaxHull() ||
                    (this.tween = o(this.icon, 16755370, 16711680, 300)),
                  this.tween &&
                      e.getHull() === e.getMaxHull() &&
                      (this.tween.stop(),
                      (this.icon.tint = 16777215),
                      (this.tween = void 0)),
                  this.entity !== t &&
                      (this.updateTarget(t), this.updateIcon(t));
                }
              },
            },
            {
              key: 'updateTarget',
              value(t) {
                this.entity = t;
              },
            },
            {
              key: 'updateIcon',
              value(t) {
                let e = t.getSprite(),
                  i = e.frame;
                (e.frame = l.ENTITY_ICON),
                e.anchor.setTo(0, 0),
                this.bmd.clear(),
                this.bmd.draw(e, 0, 0),
                e.anchor.setTo(0.5, 0.5),
                (e.frame = i);
              },
            },
            {
              key: 'show',
              value() {
                this.visible = !0;
              },
            },
            {
              key: 'hide',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'onInputOver',
              value() {
                this.icon.alpha = 0.7;
              },
            },
            {
              key: 'onInputOut',
              value() {
                this.icon.alpha = 1;
              },
            },
            {
              key: 'onClick',
              value() {
                this.ejectSelectedEntity();
              },
            },
            {
              key: 'ejectSelectedEntity',
              value() {
                const t = this.entity && this.entity.getDockerEntity();
                t &&
                  h.default
                    .getInstance()
                    .synced.entities(t)
                    .undock({ targetEntity: this.entity, clearBound: !0 });
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = f;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(552),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, l.game.game),
          );
          return (i.entity = t), i.createSlots(t), i;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'createSlots',
              value(t) {
                const e = Math.max(t.getDataObject().getMaxHangar(), 1);
                this.slots = [];
                for (let i = e - 1; i >= 0; i -= 1) this.addSlot();
              },
            },
            {
              key: 'addSlot',
              value() {
                const t = new u.default();
                this.entity.getDataObject().isResource()
                  ? ((t.y += 20 + 25 * this.slots.length), (t.x += 15))
                  : (t.y += 25 * this.slots.length),
                this.slots.push(t),
                this.add(t);
              },
            },
            {
              key: 'getEntityGroups',
              value() {
                const t = this.getDisplayableEntities();
                return t &&
                  t.length &&
                  (this.entity.getPlayer().isControlledByUser() ||
                    this.entity.getDataObject().isResource())
                  ? t.reduce((t, e) => {
                    const i = e.getDataObject().getId();
                    return t[i] || (t[i] = []), t[i].push(e), t;
                  }, {})
                  : [];
              },
            },
            {
              key: 'getDisplayableEntities',
              value() {
                let t = [],
                  e = this.entity.getDockedEntities();
                if ((e && (t = t.concat(e)), this.entity.isInConstruction())) {
                  const i = this.entity.getActivityManager().getCurrentActivity();
                  t = t.concat(i.getBuilders());
                }
                if (this.entity.isInMine()) {
                  const n = this.entity.getActivityManager().getCurrentActivity();
                  t = t.concat(n.getMiners());
                }
                return t;
              },
            },
            {
              key: 'update',
              value() {
                for (
                  let t = this.getEntityGroups(),
                    e = Object.keys(t),
                    i = 0,
                    n = this.slots.length;
                  i < n;
                  i += 1
                ) {
                  if (t[e[i]]) {
                    let r = t[e[i]][0],
                      a = t[e[i]].length,
                      o = void 0;
                    if (this.entity.isInConstruction()) {
                      const s = this.entity
                        .getActivityManager()
                        .getCurrentActivity();
                      o = s.getMaxBuilderCount();
                    }
                    if (this.entity.isInMine()) {
                      const u = this.entity
                        .getActivityManager()
                        .getCurrentActivity();
                      o = u.getMaxMinerCount();
                    }
                    this.slots[i].update(r, a, o), this.slots[i].show();
                  } else this.slots[i].hide();
                }
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(2),
      u = window.fivenations,
      l = 30 / s.ENTITY_ICON_DIMENSIONS.width,
      c = (function (t) {
        function e() {
          n(this, e);
          const t = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, u.game.game),
          );
          return t.createIcon(), t.createText(), t;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'createIcon',
              value() {
                (this.bmd = this.game.add.bitmapData(
                  s.ENTITY_ICON_DIMENSIONS.width,
                  s.ENTITY_ICON_DIMENSIONS.height,
                )),
                (this.icon = this.bmd.addToWorld(0, 0)),
                this.icon.anchor.set(0.5),
                this.icon.scale.set(l),
                this.add(this.icon);
              },
            },
            {
              key: 'createText',
              value() {
                (this.text = this.game.add.text(30, this.icon.y, '', {
                  font: '14px BerlinSansFB-Reg',
                  fill: '#ffffff',
                  stroke: '#000000',
                  strokeThickness: 2,
                })),
                this.text.anchor.set(0.5),
                this.add(this.text);
              },
            },
            {
              key: 'updateIcon',
              value(t) {
                const e = t.getSprite();
                if (this._sprite !== e) {
                  this._sprite = e;
                  const i = e.frame;
                  (e.frame = s.ENTITY_ICON),
                  e.anchor.setTo(0, 0),
                  this.bmd.clear(),
                  this.bmd.draw(e, 0, 0),
                  e.anchor.setTo(0.5, 0.5),
                  (e.frame = i);
                }
              },
            },
            {
              key: 'updateText',
              value(t, e) {
                let i = t;
                e && (i += ` / ${e}`), (this.text.text = i);
              },
            },
            {
              key: 'update',
              value(t, e, i) {
                t && (this.updateIcon(t), this.updateText(e, i));
              },
            },
            {
              key: 'show',
              value() {
                this.visible = !0;
              },
            },
            {
              key: 'hide',
              value() {
                this.visible = !1;
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(1),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = window.fivenations,
      h = {
        spritesheet: 'gui_ingame_menu',
        frames: {
          over: 'ingamemenu_btn_base.png',
          out: 'ingamemenu_btn_base.png',
          down: 'ingamemenu_btn_onclick.png',
        },
        style: {
          font: '16px conthraxsemibold',
          fill: '#99eded',
          boundsAlignH: 'center',
          wordWrap: !0,
          align: 'center',
        },
        disabledStyle: {
          font: '16px conthraxsemibold',
          fill: '#4d7777',
          boundsAlignH: 'center',
          wordWrap: !0,
          align: 'center',
        },
        alphaPassive: 0.8,
        alphaActive: 1,
        alphaDisable: 0.3,
      },
      d = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, c.game.game),
          );
          return i.initComponents(t), i.setCoordinates(t), i.update(t), i;
        }
        return (
          a(e, t),
          s(e, [
            {
              key: 'initComponents',
              value(t) {
                let e = this,
                  i = c.game.game,
                  n = void 0,
                  r = void 0,
                  a = void 0,
                  s = void 0,
                  u = void 0;
                t.disabled
                  ? ((r = t.customOutFrame || h.frames.out),
                  (a = t.customOutFrame || h.frames.out),
                  (s = t.customOutFrame || h.frames.out),
                  (u = h.disabledStyle),
                  (n = !1))
                  : ((r = t.customOverFrame || h.frames.over),
                  (a = t.customOutFrame || h.frames.out),
                  (s = t.customDownFrame || h.frames.down),
                  (u = h.style),
                  (n = function () {
                    l.default
                      .getInstance()
                      .local.dispatch('ingame/button/click'),
                    t.onClick && t.onClick.call(e);
                  }));
                const d = t.spritesheet || h.spritesheet;
                (this.sprite = i.add.button(0, 0, d, n, this, r, a, s)),
                this.sprite.anchor.set(0.5),
                t.disabled
                  ? (this.sprite.alpha = h.alphaDisable || 0.5)
                  : ((this.sprite.alpha = h.alphaPassive || 1),
                  this.sprite.events.onInputOver.add((t) => {
                    t.alpha = h.alphaActive || 1;
                  }),
                  this.sprite.events.onInputOut.add((t) => {
                    t.alpha = h.alphaPassive || 1;
                  })),
                t.fixedToCamera && (this.fixedToCamera = !0),
                this.add(this.sprite),
                (this.text = i.add.text(
                  t.offsetX || 0,
                  t.offsetY || 2,
                  t.label,
                  o({}, u, { wordWrapWidth: this.sprite.width }),
                )),
                this.text.anchor.set(0.5),
                this.add(this.text);
              },
            },
            {
              key: 'setCoordinates',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = t.fixedToCamera,
                  r = e || c.window.width / 2,
                  a = i || c.window.height / 2;
                (this.x = r),
                (this.y = a),
                n &&
                    ((this.fixedToCamera = !0), this.cameraOffset.setTo(r, a));
              },
            },
            {
              key: 'update',
              value(t) {
                t && t.text && (this.text = t.text);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = d;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a() {
      for (
        var t = c.default.getInstance(), e = t.entities(':user'), i = [], n = 0;
        n < e.length;
        n += 1
      ) { e[n].getDataObject().getType() === 'mainbase' && i.push(e[n].getGUID()); }
      return i.length > 0 && i[0];
    }
    function o() {
      for (
        var t = c.default.getInstance(), e = t.entities(':user'), i = [], n = 0;
        n < e.length;
        n += 1
      ) {
        const r = e[n].getDataObject();
        (r.getType() === 'Cargo' || r.isWorker()) &&
          e[n].isIdling() &&
          i.push(e[n].getGUID());
      }
      return i;
    }
    function s() {
      const t = c.default.getInstance();
      if (t.entities(':selected').length > 0) {
        let e = t.entities(':selected')[0],
          i = e.getDataObject();
        if ((i.getType() === 'Cargo' || i.isWorker()) && e.isIdling()) { return e.getGUID(); }
      }
      return !1;
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(11),
      c = n(l),
      h = i(8),
      d = n(h),
      f = i(7),
      p = n(f),
      g = window.fivenations,
      y = void 0,
      v = (function () {
        function t() {
          r(this, t);
        }
        return (
          u(t, [
            {
              key: 'addKeyboardListeners',
              value(t) {
                t.on('key/F1', this.onIdleWorkerBrowserKeyPressed.bind());
              },
            },
            {
              key: 'onIdleWorkerBrowserKeyPressed',
              value() {
                let t = o(),
                  e = a();
                if (t.length > 0 || !1 !== e) {
                  let i = !1,
                    n = !1,
                    r = 'HUD_click';
                  if (t.length > 0) {
                    let u = s(),
                      l = 0;
                    !1 !== u &&
                      t.indexOf(u) >= 0 &&
                      (l = t.indexOf(u) + 1) >= t.length &&
                      (l = 0),
                    (i = c.default.getInstance().entities(t[l])),
                    (n = !1);
                  } else (i = c.default.getInstance().entities(e)), (n = !0);
                  if (
                    (c.default.getInstance().unselectAll(),
                    i.select(),
                    g.game.map.centerEntity(i),
                    n)
                  ) {
                    let h = g.game.GUI.getNotificationBar(),
                      f = p.default
                        .getInstance()
                        .translate('notifications.noidleworker');
                    h.show(f), (r = 'HUD_click_cancel');
                  }
                  d.default
                    .getInstance()
                    .playAudioSprite({ sprite: 'sfx', marker: r });
                }
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return y || (y = new v()), y;
      },
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = i(192),
      s = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(o)),
      u = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return a(e, t), e;
      }(s.default));
    e.default = u;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = i(192),
      s = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(o)),
      u = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return a(e, t), e;
      }(s.default));
    e.default = u;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(2),
      u = window.fivenations,
      l = (function (t) {
        function e() {
          n(this, e);
          const t = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, u.game.game),
          );
          return t.initTextComponent(), t.setDefaultVisiblity(), t;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'initTextComponent',
              value() {
                (this.text = this.add(this.game.add.text(0, 0, '', {
                  font: s.DEFAULT_FONT.font.replace('11px', '32px'),
                  fill: '#FFFFFF',
                  align: 'center',
                }))),
                this.text.setShadow(2, 2, 'rgba(0, 0, 0, 0.95)', 0),
                this.text.anchor.set(0.5);
              },
            },
            {
              key: 'setDefaultVisiblity',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'appendTo',
              value(t, e, i) {
                t.addChild(this), (this.x = e), (this.y = i);
              },
            },
            {
              key: 'updateText',
              value(t) {
                let e = Math.floor(t / 60),
                  i = t % 60,
                  n = e < 10 ? `0${e}` : e,
                  r = i < 10 ? `0${i}` : i;
                this.text.text = `${n}:${r}`;
              },
            },
            {
              key: 'show',
              value(t) {
                this.attachTimer(t),
                this.visible ||
                    this.game.add
                      .tween(this)
                      .from(
                        { alpha: 0 },
                        500,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                      ),
                (this.visible = !0);
              },
            },
            {
              key: 'attachTimer',
              value(t) {
                t &&
                  (t.onTick.add(this.updateText.bind(this)),
                  t.onFinish.add(this.hide.bind(this)));
              },
            },
            {
              key: 'hide',
              value() {
                const t = this;
                this.game.add
                  .tween(this)
                  .to({ alpha: 0 }, 750, Phaser.Easing.Exponential.InOut, !0)
                  .onComplete.addOnce(() => {
                    (t.visible = !1), (t.alpha = 1);
                  });
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = l;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t) {
      let e = t.ctx,
        i = t.x,
        n = t.y,
        r = t.width,
        a = t.height,
        s = Math.max(0, i),
        u = Math.max(0, n),
        l = Math.min(o.MINIMIZED_WIDTH, i + r),
        c = Math.min(o.MINIMIZED_HEIGHT, n + a);
      l < s ||
        c < u ||
        (e.lineStyle(1, '0xffaa00', 1),
        e.moveTo(s, u),
        e.lineTo(s, c),
        e.lineTo(l, c),
        e.lineTo(l, u),
        e.lineTo(s, u));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(193),
      s = 100,
      u = 3,
      l = (function () {
        function t(e) {
          n(this, t);
          let i = e.minimap,
            r = e.map,
            a = e.x,
            o = e.y,
            l = e.repeat;
          (this.x = a),
          (this.y = o),
          (this.minimap = i),
          (this.map = r),
          (this.ttl = s),
          (this.repeat = l || u);
        }
        return (
          a(t, [
            {
              key: 'update',
              value(t) {
                if (this.ttl > 0) {
                  const e = (this.ttl / s) * 75;
                  r({
                    ctx: t,
                    x:
                      (this.x / this.map.getScreenWidth()) * o.MINIMIZED_WIDTH -
                      e / 2,
                    y:
                      (this.y / this.map.getScreenHeight()) *
                        o.MINIMIZED_HEIGHT -
                      e / 2,
                    width: e,
                    height: e,
                  }),
                  (this.ttl -= 1);
                } else {
                  this.repeat > 1
                    ? ((this.ttl = s), (this.repeat -= 1))
                    : this.minimap.removeNotification(this);
                }
              },
            },
          ]),
          t
        );
      }());
    e.default = l;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(7),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = i(2),
      c = window.fivenations,
      h = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, c.game.game),
          );
          return i.setTemplateByTranslationKey(t), i.initTextComponent(), i;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'setTemplateByTranslationKey',
              value(t) {
                const e = u.default.getInstance().translate(t);
                this.template = e;
              },
            },
            {
              key: 'initTextComponent',
              value() {
                (this.text = this.add(this.game.add.text(0, 0, this.template, {
                  font: l.DEFAULT_FONT.font.replace('11px', '16px'),
                  fill: '#FFFFFF',
                  align: 'left',
                  wordWrap: !0,
                  wordWrapWidth: 700,
                }))),
                this.text.setShadow(1, 1, 'rgba(0, 0, 0, 0.95)', 0);
              },
            },
            {
              key: 'updateValues',
              value() {
                for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
                const n = e.reduce((t, e, i) => t.replace(`{${i}}`, e), this.template);
                this.text.text = n;
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = h;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(559),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          n(this, e);
          const t = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, l.game.game),
          );
          return t.initHelpers(), t.setDefaultVisiblity(), t;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'initHelpers',
              value() {
                this.notifications = [];
              },
            },
            {
              key: 'setDefaultVisiblity',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'appendTo',
              value(t, e, i) {
                t.addChild(this), (this.x = e), (this.y = i);
              },
            },
            {
              key: 'addNotification',
              value(t) {
                const e = new u.default(t);
                return (
                  this.notifications.push(e), this.add(e), this.updateList(), e
                );
              },
            },
            {
              key: 'removeNotification',
              value(t) {
                const e = this.notifications.indexOf(t);
                e !== -1 &&
                  (this.notifications.splice(e, 1),
                  this.remove(t),
                  t.destroy(),
                  this.updateList());
              },
            },
            {
              key: 'updateList',
              value() {
                this.notifications.length === 0
                  ? this.hide()
                  : (this.notifications.reduce((t, e) => (e.x = 0), (e.y = t), t + e.height, 0),
                  this.show());
              },
            },
            {
              key: 'show',
              value() {
                this.visible ||
                  this.game.add
                    .tween(this)
                    .from(
                      { alpha: 0 },
                      500,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                    ),
                (this.visible = !0);
              },
            },
            {
              key: 'hide',
              value() {
                const t = this;
                l.game.resume(),
                this.game.add
                  .tween(this)
                  .to({ alpha: 0 }, 750, Phaser.Easing.Exponential.InOut, !0)
                  .onComplete.addOnce(() => {
                    (t.visible = !1), (t.alpha = 1);
                  });
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(2),
      l = i(8),
      c = n(l),
      h = i(7),
      d = n(h),
      f = window.fivenations,
      p = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, f.game.game),
          );
          return (
            t.initHelpers(), t.setDefaultVisiblity(), t.initTextComponent(), t
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'initHelpers',
              value() {
                const t = d.default.getInstance();
                (this.newObjectiveTemplate = t.translate('framework.missionobjectives.new-objective')),
                (this.objectiveCompletedTemplate = t.translate('framework.missionobjectives.objective-completed')),
                (this.objectives = []);
              },
            },
            {
              key: 'setDefaultVisiblity',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'initTextComponent',
              value() {
                (this.label = this.add(this.game.add.text(0, 0, '', {
                  font: u.DEFAULT_FONT.font.replace('11px', '16px'),
                  fill: u.DEFAULT_FONT.color,
                  boundsAlignH: 'left',
                  boundsAlignV: 'middle',
                }))),
                this.label.setTextBounds(0, 0, 300, 30);
              },
            },
            {
              key: 'appendTo',
              value(t, e, i) {
                t.addChild(this), (this.x = e), (this.y = i);
              },
            },
            {
              key: 'addObjective',
              value(t) {
                let e = t.getText(),
                  i = t.isCompleted()
                    ? this.objectiveCompletedTemplate
                    : this.newObjectiveTemplate;
                this.objectives.push({ template: i, text: e }),
                this.animate(),
                c.default
                  .getInstance()
                  .playAudioSprite({
                    sprite: 'sfx',
                    marker: 'HUD_transmission_objectives_tipps',
                  });
              },
            },
            {
              key: 'animate',
              value() {
                const t = this;
                if (this.objectives.length === 0) return void this.hide();
                if (!this.animating) {
                  let e = this.objectives.shift(),
                    i = this.getSlideInTween(e),
                    n = this.getSlideOutTween();
                  this.show(),
                  i.chain(n),
                  i.start(),
                  n.onComplete.addOnce(() => t.animate()),
                  (this.animating = !0);
                }
              },
            },
            {
              key: 'getSlideInTween',
              value(t) {
                let e = t.template,
                  i = t.text,
                  n = e.replace('{0}', i),
                  r = e.indexOf('{0}');
                return (
                  (this.label.text = n),
                  this.label.clearColors(),
                  this.label.addColor(u.DEFAULT_FONT.color, 0),
                  this.label.addColor('#FFFFFF', r),
                  this.game.add
                    .tween(this.label)
                    .from(
                      { x: -200, alpha: 0 },
                      1e3,
                      Phaser.Easing.Exponential.InOut,
                      !1,
                      0,
                    )
                );
              },
            },
            {
              key: 'getSlideOutTween',
              value() {
                let t = this,
                  e = this.game.add
                    .tween(this.label)
                    .to(
                      { x: -200, alpha: 0 },
                      1e3,
                      Phaser.Easing.Exponential.InOut,
                      !1,
                      5e3,
                    );
                return (
                  e.onComplete.addOnce(() => {
                    (t.label.alpha = 1), (t.label.x = 0), (t.animating = !1);
                  }),
                  e
                );
              },
            },
            {
              key: 'show',
              value() {
                this.visible = !0;
              },
            },
            {
              key: 'hide',
              value() {
                this.visible = !1;
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = p;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(2),
      l = i(7),
      c = n(l),
      h = i(1),
      d = n(h),
      f = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return (
            i.setDefaultVisiblity(),
            i.initBackground(),
            i.initTextComponent(),
            i.initListeners(),
            i
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'setDefaultVisiblity',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'initBackground',
              value() {
                (this.graphics = this.game.add.sprite(0, 0, 'gui-hd')),
                (this.graphics.frameName = 'HD_gui_alertpopup.png'),
                this.add(this.graphics);
              },
            },
            {
              key: 'initTextComponent',
              value() {
                (this.label = this.add(this.game.add.text(0, 0, '', {
                  font: u.DEFAULT_FONT.font.replace('11px', '13px'),
                  fill: '#ffffff',
                  align: 'center',
                  boundsAlignH: 'center',
                  boundsAlignV: 'middle',
                  wordWrap: !0,
                  wordWrapWidth: 500,
                }))),
                this.label.setTextBounds(
                  0,
                  0,
                  u.NOTIFICATION_PANEL.width,
                  u.NOTIFICATION_PANEL.height,
                );
              },
            },
            {
              key: 'initListeners',
              value() {
                let t = this,
                  e = c.default.getInstance(),
                  i = d.default.getInstance(),
                  n = 'notifications.notenough.',
                  r = {
                    'resources/unsufficient/titanium': `${n}titanium`,
                    'resources/unsufficient/silicium': `${n}silicium`,
                    'resources/unsufficient/energy': `${n}energy`,
                    'resources/unsufficient/power': `${n}power`,
                    'resources/unsufficient/uranium': `${n}uranium`,
                    'resources/unsufficient/space': `${n}space`,
                    'resources/unsufficient/maxspace':
                      'notifications.space.exceeded',
                    'building/placement/occupied':
                      'notifications.cannotBuildThere',
                    'attack/invalid-target': 'notifications.invalidTarget',
                    'mine/no-target-station': 'notifications.nominingstation',
                    'mine/full-target-station':
                      'notifications.fullminingstation',
                  };
                Object.keys(r).forEach((n) => {
                  let a = r[n],
                    o = e.translate(a);
                  i.local.addEventListener(n, t.show.bind(t, o));
                });
              },
            },
            {
              key: 'appendTo',
              value(t, e, i) {
                if (!t) throw new Error('Invalid Phaser.Sprite object!');
                t.addChild(this), (this.x = e), (this.y = i);
              },
            },
            {
              key: 'updateContent',
              value(t) {
                this.label.text = t;
              },
            },
            {
              key: 'show',
              value(t) {
                const e = this;
                this.updateContent(t),
                (this.visible = !0),
                this.showAnim ||
                    ((this.alpha = 0),
                    (this.showAnim = this.game.add
                      .tween(this)
                      .to(
                        { alpha: 1 },
                        u.NOTIFICATION_PANEL.fadeAnimationDuration,
                        'Linear',
                        !0,
                      ))),
                this.timer && clearTimeout(this.timer),
                (this.timer = setTimeout(() => e.hide(), u.NOTIFICATION_PANEL.displayTime));
              },
            },
            {
              key: 'hide',
              value() {
                const t = this;
                this.hideAnim ||
                  ((this.hideAnim = this.game.add
                    .tween(this)
                    .to(
                      { alpha: 0 },
                      u.NOTIFICATION_PANEL.fadeAnimationDuration,
                      'Linear',
                      !0,
                    )),
                  this.hideAnim.onComplete.addOnce(() => {
                    (t.hideAnim = null),
                    (t.showAnim = null),
                    (t.timer = null),
                    (t.visible = !1);
                  }));
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = f;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = window.fivenations,
      u = (function (t) {
        function e() {
          n(this, e);
          const t = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, s.game.game),
          );
          return t.initDefaultAttributes(), t;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'initDefaultAttributes',
              value() {
                (this.x = 0), (this.y = 0), (this.fixedToCamera = !0);
              },
            },
            {
              key: 'appendTo',
              value(t) {
                t.add(this);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = u;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(1),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = i(75),
      c = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(
              this,
              t,
              0,
              0,
              l.SPRITESHEET_ID,
            ),
          );
          return (
            i.game.add.existing(i),
            (i.inputEnabled = !0),
            i.initEventListeners(),
            i
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'initEventListeners',
              value() {
                this.events.onInputUp.add(this.onClick.bind(this));
              },
            },
            {
              key: 'onClick',
              value() {
                u.default
                  .getInstance()
                  .synced.entities(':user:selected')
                  .cancelProduction(this.slotIdx);
              },
            },
            {
              key: 'setSlotIdx',
              value(t) {
                this.slotIdx = t;
              },
            },
          ]),
          e
        );
      }(Phaser.Sprite));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(14),
      l = n(u),
      c = i(1),
      h = n(c),
      d = i(4),
      f = n(d),
      p = window.fivenations,
      g = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, p.game.game),
          );
          return t.addEventListeners(), t.hide(), t;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'createProximityDisplay',
              value(t) {
                let e = t.getDataObject().getConstructionProximity(),
                  i = 2 * e;
                (this.bmd = this.game.add.bitmapData(i, i)),
                (this.sprite = this.bmd.addToWorld(0, 0)),
                (this.sprite.alpha = 0.4),
                this.sprite.anchor.set(0.5),
                this.add(this.sprite),
                this.drawProximityDisplay(t);
              },
            },
            {
              key: 'drawProximityDisplay',
              value(t) {
                let e = this.bmd.context,
                  i = t.getDataObject().getConstructionProximity(),
                  n = i,
                  r = 2 * n,
                  a = e.createRadialGradient(n, n, i / 2, n, n, i);
                a.addColorStop(0, 'rgba(55,111,47, 0.15)'),
                a.addColorStop(0.99, 'rgba(47,111,80, 0.8)'),
                a.addColorStop(1, 'rgba(0, 0, 0, 0)'),
                (e.fillStyle = a),
                e.fillRect(0, 0, r, r);
              },
            },
            {
              key: 'addEventListeners',
              value() {
                const t = h.default.getInstance().local;
                t.addEventListener(
                  'gui/buildingplacement/show',
                  this.show.bind(this),
                ),
                t.addEventListener(
                  'gui/buildingplacement/hide',
                  this.hide.bind(this),
                );
              },
            },
            {
              key: 'appendTo',
              value(t) {
                l.default
                  .getInstance()
                  .getGroup('color-indicators')
                  .add(this),
                t.on('remove', this.remove.bind(this)),
                t.on('hibernate', this.hide.bind(this)),
                t.on('reactivated', this.show.bind(this)),
                (this.update = function () {
                  this.visible &&
                      ((this.x = t.getSprite().x), (this.y = t.getSprite().y));
                }),
                (this.entity = t),
                this.createProximityDisplay(t);
              },
            },
            {
              key: 'show',
              value() {
                (this.entity.getPlayer() ===
                  f.default.getInstance().getUser() ||
                  p.debug.spying) &&
                  (this.visible = !0);
              },
            },
            {
              key: 'hide',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'remove',
              value() {
                this.destroy(!0);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = g;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(567),
      l = n(u),
      c = i(23),
      h = n(c),
      d = i(7),
      f = n(d),
      p = window.fivenations,
      g = {
        marginLeft: 25,
        marginTop: 0,
        font: '12px BerlinSansFB-Reg',
        color: '#77C7D2',
      },
      y = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, p.game.game),
          );
          return t.addButton(), t.addStatusBar(), t.addStatusText(), t;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'updateContent',
              value(t) {
                let e = h.default.getInstance(),
                  i = t.getResearchManager().getCurrentResearchSlot(),
                  n = e.getTechById(i.id),
                  r = n.icon;
                (this.button.frameName = r.frameName),
                this.updateStatusText(i),
                this.updateStatusBar(i);
              },
            },
            {
              key: 'addButton',
              value() {
                const t = new l.default();
                (t.x = 0), (t.y = 20), (this.button = t), this.add(t);
              },
            },
            {
              key: 'addStatusText',
              value() {
                const t = this.game.add.text(55, 27, '', {
                  font: g.font,
                  fill: g.color,
                });
                this.statusText = this.add(t);
              },
            },
            {
              key: 'addStatusBar',
              value() {
                (this.statusBar = this.game.add.graphics(0, 0)),
                this.add(this.statusBar);
              },
            },
            {
              key: 'updateStatusBar',
              value(t) {
                let e = p.game.turn,
                  i = t.complitionTime,
                  n = t.time,
                  r = 1 - (Math.max(i, e) - e) / n;
                this.statusBar.clear(),
                this.statusBar.lineStyle(1, '0x84e1e3', 1),
                this.statusBar.drawRect(0, 0, 200, 15),
                this.statusBar.beginFill('0x84e1e3'),
                this.statusBar.drawRect(2, 2, 200 * r - 4, 11),
                this.statusBar.endFill();
              },
            },
            {
              key: 'updateStatusText',
              value(t) {
                let e = t.id,
                  i = h.default.getInstance(),
                  n = f.default.getInstance(),
                  r = i.getTranslationKey(e),
                  a = n.translate(r),
                  o = n.translate('researches.researchtab.title');
                this.statusText.clearColors(),
                (this.statusText.text = `${o}\n${a}`),
                this.statusText.addColor('#ffffff', o.length);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = y;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(1),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = 'gui.researches',
      h = (function (t) {
        function e() {
          n(this, e);
          const t = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(
              this,
              l.game.game,
              0,
              0,
              c,
            ),
          );
          return (
            t.game.add.existing(t),
            (t.inputEnabled = !0),
            t.initEventListeners(),
            t
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'initEventListeners',
              value() {
                this.events.onInputUp.add(this.onClick.bind(this));
              },
            },
            {
              key: 'onClick',
              value() {
                u.default
                  .getInstance()
                  .synced.entities(':user:selected')
                  .cancelResearch();
              },
            },
          ]),
          e
        );
      }(Phaser.Sprite));
    e.default = h;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s() {
      let t = f.default.getInstance().getGroup(m.GROUP_TOOLTIPS),
        e = h.default.getInstance(),
        i = e.local,
        n = new w(),
        r = function () {
          n.visible = !1;
        };
      return (
        i.addEventListener('gui/controlpanel/change', r),
        i.addEventListener('gui/controlpanel/hide', r),
        t.add(n),
        n
      );
    }
    function u(t) {
      let e = t.target,
        i = t.test;
      typeof i !== 'function' &&
        (i = function () {
          return !0;
        }),
      (_ && b.game.game === _.game) || (_ = s()),
      e.events.onInputOver.add((t) => {
        if (i()) {
          let e = b.window.width - _.width,
            n = b.window.height - _.height,
            r = t.worldPosition.x + 0,
            a = t.worldPosition.y - _.height,
            o = Math.max(Math.min(r, e), 0),
            s = Math.max(Math.min(a, n), 0);
          t.visible &&
              (_.cameraOffset.setTo(o, s),
              (_.x = o),
              (_.y = s),
              (_.visible = !0),
              _.updateContent(t));
        }
      }),
      e.events.onInputOut.add(() => {
        i() && (_.visible = !1);
      });
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = i(1),
      h = n(c),
      d = i(14),
      f = n(d),
      p = i(194),
      g = n(p),
      y = i(7),
      v = n(y),
      m = i(2),
      b = window.fivenations,
      _ = void 0,
      w = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          l(e, [
            {
              key: 'updateHeader',
              value(t) {
                let e = t.id,
                  i = v.default.getInstance();
                (this.nameText.text = i.translate(`researches.${e}`)),
                (this.descriptionText.text = i.translate(`researches.descriptions.${e}`));
              },
            },
          ]),
          e
        );
      }(g.default));
    (w.tooltipify = u), (e.default = w);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t, e) {
      (0, m.tooltipify)({
        target: t,
        label() {
          return v.default.getInstance().translate(e);
        },
        offsetX: -50,
        offsetY: 50,
      });
    }
    function u(t) {
      let e = {
          guids: t.guids,
          mining: t.mining,
          workers: 0,
          idling: 0,
          titanium: 0,
          silicium: 0,
          uranium: 0,
          energy: 0,
        },
        i = f.default.getInstance();
      i.entities(':user').forEach((t) => {
        const i = t.getGUID();
        e.guids.indexOf(i) < 0 && (e.guids.push(i), e.mining.push(0));
      });
      for (var n = [], r = [], a = 0; a < e.guids.length; a += 1) {
        const o = i.entities(e.guids[a]);
        if (void 0 !== o) {
          let s = o.getDataObject(),
            u = o.getActivityManager(),
            l = u.getCurrentActivity();
          if (s.getType() === 'Cargo' || s.getType() === 'Worker') {
            if (((e.workers += 1), o.isMining() && l.target)) {
              switch (l.target.getDataObject().getName()) {
                case 'Metal asteroid':
                  e.mining[a] = 1;
                  break;
                case 'Helium-3 asteroid':
                  e.mining[a] = 2;
                  break;
                case 'Tachyon asteroid':
                  e.mining[a] = 3;
                  break;
                default:
                  e.mining[a] = 0;
              }
            } else {
              !1 === u.isActiveMining() &&
                ((e.mining[a] = 0), o.isIdling() && (e.idling += 1));
            }
          } else {
            void 0 === s.getEnergyEmission() ||
              o.isInConstruction() ||
              (e.energy += s.getEnergyEmission() * s.getEnergyEmissionRate());
          }
          n.push(e.guids[a]), r.push(e.mining[a]);
        }
      }
      return (
        (e.guids = n),
        (e.mining = r),
        e.mining.forEach((t) => {
          switch (t) {
            case 1:
              e.titanium += 1;
              break;
            case 2:
              e.silicium += 1;
              break;
            case 3:
              e.uranium += 1;
          }
        }),
        e
      );
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = i(1),
      h = n(c),
      d = i(11),
      f = n(d),
      p = i(4),
      g = n(p),
      y = i(7),
      v = n(y),
      m = i(141),
      b = window.fivenations,
      _ = {
        federation: 'gui_panel_lazyworker_federation.png',
        athrael: 'gui_panel_lazyworker_athrael.png',
        sylon: 'gui_panel_lazyworker_sylon.png',
        thorun: 'gui_panel_lazyworker_thorun.png',
        zhogarn: 'gui_panel_lazyworker_zhogarn.png',
      },
      w = {
        font: '12px BerlinSansFB-Reg',
        fill: '#FFFFFF',
        boundsAlignH: 'left',
        stroke: '#000000',
        strokeThickness: 2,
      },
      x = {
        font: '11px BerlinSansFB-Reg',
        fill: '#71CBCB',
        boundsAlignH: 'left',
        stroke: '#000000',
        strokeThickness: 2,
      },
      P = (function (t) {
        function e() {
          const t =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, b.game.game),
          );
          return (
            i.initResourceComponents(t), i.initTooltips(t), i.initHelpers(), i
          );
        }
        return (
          o(e, t),
          l(e, [
            {
              key: 'initResourceComponents',
              value(t) {
                this.createIcon(t), this.createText(t), this.createAddonText(t);
              },
            },
            {
              key: 'createIcon',
              value(t) {
                const e = this.game.add.sprite(t.x - 18, t.y + 7, 'gui-hd');
                e.anchor.set(0.5),
                (e.frameName = 'gui_panel_resourceback.png'),
                this.add(e);
                const i = this.game.add.sprite(e.x, e.y, 'gui-hd');
                i.anchor.set(0.5),
                (i.frameName = t.icon),
                (this.icon = this.add(i));
              },
            },
            {
              key: 'createText',
              value(t) {
                let e = this.game.add.text(t.x + 5 || 5, t.y || 0, '0', w),
                  i = this.game.add.text(
                    t.x + 5 || 5,
                    t.y - 14 || -14,
                    t.defaultAddon,
                    x,
                  );
                (this.textGroup = this.add(e)),
                this.textGroup.setTextBounds(0, 0, 60, 15),
                (this.addonTextGroup = this.add(i)),
                this.addonTextGroup.setTextBounds(0, 0, 60, 15);
              },
            },
            {
              key: 'createAddonText',
              value(t) {
                const e = this.game.add.text(
                  t.x + 5 || 5,
                  t.y - 14 || -14,
                  t.defaultAddon,
                  x,
                );
                (this.addonTextGroup = this.add(e)),
                this.addonTextGroup.setTextBounds(0, 0, 60, 15);
              },
            },
            {
              key: 'initTooltips',
              value(t) {
                let e = t.tooltip,
                  i = t.addonTooltip;
                s(this.icon, e),
                s(this.textGroup, e),
                i !== '' && s(this.addonTextGroup, i);
              },
            },
            {
              key: 'initHelpers',
              value() {
                this.values = {};
              },
            },
            {
              key: 'updateTextGroup',
              value() {
                let t =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : {},
                  e = t.current,
                  i = t.max;
                (this.textGroup.text = e || 0),
                void 0 !== i &&
                    (this.textGroup.clearColors(),
                    e > i
                      ? (this.textGroup.addColor('#ff0000', 0),
                      this.textGroup.addColor(
                        '#ffffff',
                        this.textGroup.text.length,
                      ))
                      : this.textGroup.addColor('#ffffff', 0),
                    (this.textGroup.text += ` / ${i}`));
              },
            },
            {
              key: 'bang',
              value(t) {
                let e = this,
                  i = t.max,
                  n = parseInt(t.current, 10),
                  r = this.textGroup.text,
                  a = this.textGroup.text.indexOf('/');
                a !== -1 && (r = r.substring(0, a).trim()),
                (r = parseInt(r, 10));
                let o = Math.ceil(Math.abs(n - r) / 60);
                if (((o *= n - r < 0 ? -1 : 1), r !== n || i)) {
                  const s = function t() {
                    (r += o),
                    ((o < 0 && r < n) || (o > 0 && r > n)) && (r = n),
                    e.updateTextGroup({ current: r, max: i }),
                    r !== n && (e.timeout = setTimeout(t, 8));
                  };
                  this.timeout && clearTimeout(this.timeout),
                  (this.timeout = setTimeout(s, 8));
                }
              },
            },
            {
              key: 'updateContent',
              value() {
                const t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {};
                (t.current === this.values.current &&
                  t.max === this.values.max) ||
                  ((this.values = t), this.bang(t));
              },
            },
            {
              key: 'setRaceIcon',
              value() {
                let t =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : 'federation',
                  e = this.game.add.sprite(321, 16, 'gui-hd');
                e.anchor.set(0.5),
                (e.frameName = _[t]),
                (this.icon = this.add(e));
              },
            },
          ]),
          e
        );
      }(Phaser.Group)),
      k = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, b.game.game),
          );
          return (
            t.setPlayerManager(),
            t.initTextElements(),
            t.registerEventListeners(),
            (t.startedUpdate = !1),
            (t.activeWorkers = {
              guids: [],
              mining: [],
              workers: 0,
              idling: 0,
              titanium: 0,
              silicium: 0,
              uranium: 0,
              energy: 0,
            }),
            t
          );
        }
        return (
          o(e, t),
          l(e, [
            {
              key: 'setPlayerManager',
              value() {
                this.playerManager = g.default.getInstance();
              },
            },
            {
              key: 'initTextElements',
              value() {
                (this.titanium = new P({
                  icon: 'ingamemenu_resource_01_titanium.png',
                  tooltip: 'gui.resources.titanium',
                  addonTooltip: 'gui.resources.resourceaddon',
                  x: -146,
                  y: 9,
                  defaultAddon: '',
                })),
                this.add(this.titanium),
                (this.silicium = new P({
                  icon: 'ingamemenu_resource_02_silicium.png',
                  tooltip: 'gui.resources.silicium',
                  addonTooltip: 'gui.resources.resourceaddon',
                  x: -51,
                  y: 9,
                  defaultAddon: '',
                })),
                this.add(this.silicium),
                (this.uranium = new P({
                  icon: 'ingamemenu_resource_03_uranium.png',
                  tooltip: 'gui.resources.uranium',
                  addonTooltip: 'gui.resources.resourceaddon',
                  x: 43,
                  y: 9,
                  defaultAddon: '',
                })),
                this.add(this.uranium),
                (this.energy = new P({
                  icon: 'ingamemenu_resource_04_energy.png',
                  tooltip: 'gui.resources.energy',
                  addonTooltip: 'gui.resources.energyaddon',
                  x: 135,
                  y: 9,
                  defaultAddon: '',
                })),
                this.add(this.energy),
                (this.food = new P({
                  icon: 'ingamemenu_resource_05_place.png',
                  tooltip: 'gui.resources.supply',
                  addonTooltip: '',
                  x: 244,
                  y: 9,
                  defaultAddon: '',
                })),
                this.add(this.food);
                let t = 'federation';
                void 0 !== this.playerManager.getUser() &&
                  (t = this.playerManager.getUser().getRace()),
                (this.workers = new P({
                  icon: _[t],
                  tooltip: 'gui.resources.workers',
                  addonTooltip: 'gui.resources.workersaddon',
                  x: 339,
                  y: 9,
                  defaultAddon: '(F1)',
                })),
                this.add(this.workers);
              },
            },
            {
              key: 'registerEventListeners',
              value() {
                const t = h.default.getInstance();
                t.local.addEventListener(
                  'user/resource/alter',
                  this.updateContent.bind(this),
                ),
                t.local.addEventListener(
                  'entity/move',
                  this.updateContent.bind(this),
                ),
                t.local.addEventListener(
                  'entity/stop',
                  this.updateContent.bind(this),
                ),
                t.local.addEventListener(
                  'entity/remove',
                  this.updateContent.bind(this),
                ),
                t.local.addEventListener(
                  'entity/mine',
                  this.updateContent.bind(this),
                ),
                t.local.addEventListener(
                  'entity/cargo/alter',
                  this.updateContent.bind(this),
                );
              },
            },
            {
              key: 'updateContent',
              value() {
                let t = g.default.getInstance().getUser(),
                  e = t.getRace();
                this.startedUpdate ||
                  (this.workers.setRaceIcon(e), (this.startedUpdate = !0)),
                this.titanium.updateContent({ current: t.getTitanium() }),
                this.silicium.updateContent({ current: t.getSilicium() }),
                this.energy.updateContent({
                  current: t.getEnergy(),
                  max: t.getMaxEnergyStorage(),
                }),
                this.uranium.updateContent({ current: t.getUranium() }),
                this.food.updateContent({
                  current: t.getCurrentEntityNumber(),
                  max: t.getSupply(),
                }),
                (this.activeWorkers = u(this.activeWorkers)),
                this.workers.updateContent({
                  current: this.activeWorkers.idling,
                  max: this.activeWorkers.workers,
                }),
                (this.titanium.addonTextGroup.text =
                    `(${this.activeWorkers.titanium})`),
                (this.silicium.addonTextGroup.text =
                    `(${this.activeWorkers.silicium})`),
                (this.uranium.addonTextGroup.text =
                    `(${this.activeWorkers.uranium})`),
                (this.energy.addonTextGroup.text =
                    `(+${this.activeWorkers.energy})`);
              },
            },
            {
              key: 'appendTo',
              value(t, e, i) {
                if (!t) throw new Error('Invalid Phaser.Sprite object!');
                (this.x = e), (this.y = i), t.addChild(this), (this.panel = t);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = k;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(8),
      l = n(u),
      c = i(7),
      h = n(c),
      d = i(141),
      f = i(2),
      p = 'gui-hd',
      g = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(
              this,
              Phaser.GAMES[0],
              0,
              0,
              p,
            ),
          );
          return (
            i.init(t),
            i.addDefaultEventListeners(),
            i.addPressListeners(t),
            i.addTooltip(),
            i.updateFrameName(),
            i
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'init',
              value(t) {
                const e = t.id;
                this.game.add.existing(this),
                (this.inputEnabled = !0),
                (this.id = e),
                (this.active = !1);
              },
            },
            {
              key: 'addDefaultEventListeners',
              value() {
                const t = this;
                this.events.onInputDown.add(() => {
                  (t.y += 2),
                  (t.alpha = 0.75),
                  l.default
                    .getInstance()
                    .playAudioSprite({ sprite: 'sfx', marker: 'HUD_click' });
                }),
                this.events.onInputUp.add(() => {
                  (t.y -= 2), (t.alpha = 1);
                });
              },
            },
            {
              key: 'addPressListeners',
              value(t) {
                const e = t.onClick;
                this.events.onInputUp.add(this.onClick.bind(this, e));
              },
            },
            {
              key: 'addTooltip',
              value() {
                const t = this;
                (0, d.tooltipify)({
                  target: this,
                  label() {
                    let e = h.default.getInstance(),
                      i = t.getTranslationKey();
                    return e.translate(i);
                  },
                });
              },
            },
            {
              key: 'onClick',
              value(t) {
                typeof t === 'function' && t(this);
              },
            },
            {
              key: 'select',
              value() {
                (this.active = !0), this.updateFrameName();
              },
            },
            {
              key: 'unselect',
              value() {
                (this.active = !1), this.updateFrameName();
              },
            },
            {
              key: 'updateFrameName',
              value() {
                this.frameName = this.getFrameName();
              },
            },
            {
              key: 'getFrameName',
              value() {
                const t = this.active ? '_active' : '';
                return this.id === f.RESOURCE_TYPE_TITANIUM
                  ? `XXXX_miningfirst_01metal${t}.png`
                  : this.id === f.RESOURCE_TYPE_SILICIUM
                    ? `XXXX_miningfirst_02helium3${t}.png`
                    : this.id === f.RESOURCE_TYPE_URANIUM
                      ? `XXXX_miningfirst_03tachyon${t}.png`
                      : null;
              },
            },
            {
              key: 'getId',
              value() {
                return this.id;
              },
            },
            {
              key: 'getTranslationKey',
              value() {
                return this.id === f.RESOURCE_TYPE_TITANIUM
                  ? 'gui.resources.titanium'
                  : this.id === f.RESOURCE_TYPE_SILICIUM
                    ? 'gui.resources.silicium'
                    : this.id === f.RESOURCE_TYPE_URANIUM
                      ? 'gui.resources.uranium'
                      : '';
              },
            },
          ]),
          e
        );
      }(Phaser.Sprite));
    e.default = g;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(11),
      l = n(u),
      c = i(570),
      h = n(c),
      d = i(7),
      f = n(d),
      p = i(2),
      g = [
        p.RESOURCE_TYPE_TITANIUM,
        p.RESOURCE_TYPE_SILICIUM,
        p.RESOURCE_TYPE_URANIUM,
      ],
      y = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(
              this,
              Phaser.GAMES[0],
            ),
          );
          return t.addButtons(), t.addTitle(), t.updateStatusText(), t;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'addButtons',
              value() {
                const t = this;
                (this.buttons = []),
                g.forEach((e, i) => {
                  let n = new h.default({
                      onClick(e) {
                        return t.selectButton(e);
                      },
                      id: e,
                    }),
                    r = n.width;
                  (n.x = i * r + 10), (n.y = 10), t.buttons.push(n), t.add(n);
                });
              },
            },
            {
              key: 'addTitle',
              value() {
                const t = this.game.add.text(0, 0, '', {
                  font: p.DEFAULT_FONT.font,
                  fill: p.DEFAULT_FONT.color,
                });
                this.statusText = this.add(t);
              },
            },
            {
              key: 'updateContent',
              value(t) {
                const e = t.getResourcePriority();
                if (e !== this.selectedId) {
                  const i = this.buttons.find(t => t.getId() === e);
                  this.selectButton(i);
                }
              },
            },
            {
              key: 'updateStatusText',
              value() {
                let t = f.default.getInstance(),
                  e = t.translate('gui.resourcepriority.title'),
                  i = t.translate('gui.resourcepriority.selected'),
                  n = t.translate(this.getResourseTranslationKeyById()),
                  r = n ? ` - ${i.replace('{0}', n)}` : '',
                  a = `${e}${r}`;
                (this.statusText.text = a),
                this.statusText.addColor(p.DEFAULT_FONT.color, 0),
                this.statusText.addColor(
                  '#ffffff',
                  this.statusText.text.indexOf('-'),
                );
              },
            },
            {
              key: 'selectButton',
              value(t) {
                const e = t.getId();
                l.default
                  .getInstance()
                  .entities(':selected')
                  .forEach(t => t.setResourcePriority(e)),
                this.buttons.forEach((e) => {
                  e === t ? e.select() : e.unselect();
                }),
                (this.selectedId = e),
                this.updateStatusText();
              },
            },
            {
              key: 'getResourseTranslationKeyById',
              value() {
                return this.selectedId === p.RESOURCE_TYPE_TITANIUM
                  ? 'gui.resources.titanium'
                  : this.selectedId === p.RESOURCE_TYPE_SILICIUM
                    ? 'gui.resources.silicium'
                    : this.selectedId === p.RESOURCE_TYPE_URANIUM
                      ? 'gui.resources.uranium'
                      : '';
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = y;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(14),
      s = n(o),
      u = i(2),
      l = i(3),
      c = n(l),
      h = {
        'select-enemy': [
          'gui_select_enemy_00000.png',
          'gui_select_enemy_00001.png',
          'gui_select_enemy_00002.png',
          'gui_select_enemy_00003.png',
          'gui_select_enemy_00004.png',
          'gui_select_enemy_00005.png',
          'gui_select_enemy_00006.png',
          'gui_select_enemy_00007.png',
          'gui_select_enemy_00008.png',
          'gui_select_enemy_00009.png',
          'gui_select_enemy_00010.png',
          'gui_select_enemy_00011.png',
          'gui_select_enemy_00012.png',
          'gui_select_enemy_00013.png',
          'gui_select_enemy_00014.png',
        ],
        'select-neutral': [
          'gui_select_neutral_00000.png',
          'gui_select_neutral_00001.png',
          'gui_select_neutral_00002.png',
          'gui_select_neutral_00003.png',
          'gui_select_neutral_00004.png',
          'gui_select_neutral_00005.png',
          'gui_select_neutral_00006.png',
          'gui_select_neutral_00007.png',
          'gui_select_neutral_00008.png',
          'gui_select_neutral_00009.png',
          'gui_select_neutral_00010.png',
          'gui_select_neutral_00011.png',
          'gui_select_neutral_00012.png',
          'gui_select_neutral_00013.png',
          'gui_select_neutral_00014.png',
        ],
        select: [
          'gui_select_unit_00000.png',
          'gui_select_unit_00001.png',
          'gui_select_unit_00002.png',
          'gui_select_unit_00003.png',
          'gui_select_unit_00004.png',
          'gui_select_unit_00005.png',
          'gui_select_unit_00006.png',
          'gui_select_unit_00007.png',
          'gui_select_unit_00008.png',
          'gui_select_unit_00009.png',
          'gui_select_unit_00010.png',
          'gui_select_unit_00011.png',
          'gui_select_unit_00012.png',
          'gui_select_unit_00013.png',
          'gui_select_unit_00014.png',
        ],
        'flash-enemy': [
          'gui_select_enemy_00014.png',
          'click_targetenemy_00000.png',
          'gui_select_enemy_00014.png',
          'click_targetenemy_00000.png',
          'gui_select_enemy_00014.png',
        ],
        'flash-neutral': [
          'gui_select_neutral_00014.png',
          'click_targetneutral_00000.png',
          'gui_select_neutral_00014.png',
          'click_targetneutral_00000.png',
          'gui_select_neutral_00014.png',
        ],
        flash: [
          'gui_select_unit_00014.png',
          'click_move_00000.png',
          'gui_select_unit_00014.png',
          'click_move_00000.png',
          'gui_select_unit_00014.png',
        ],
      },
      d = {
        extrabig: 1, big: 0.75, medium: 0.5, small: 0.25,
      },
      f = {
        relativeRatioToEntity: 2.5,
        width: 197,
        height: 197,
        sprite: 'gui-markers',
        animation: {
          frames: [
            'click_rallypoint_00000.png',
            'click_rallypoint_00001.png',
            'click_rallypoint_00002.png',
            'click_rallypoint_00003.png',
            'click_rallypoint_00004.png',
            'click_rallypoint_00005.png',
            'click_rallypoint_00006.png',
            'click_rallypoint_00007.png',
            'click_rallypoint_00008.png',
            'click_rallypoint_00009.png',
            'click_rallypoint_00010.png',
            'click_rallypoint_00011.png',
            'click_rallypoint_00012.png',
            'click_rallypoint_00013.png',
            'click_rallypoint_00014.png',
          ],
          rate: 25,
        },
      },
      p = (function () {
        function t(e) {
          const i = this;
          r(this, t);
          const n = e.add.image(0, 0, 'gui-markers');
          (n.visible = !1),
          n.anchor.setTo(0.5, 0.5),
          Object.keys(h).forEach((t) => {
            n.animations.add(t, h[t]).onComplete.add(i.animationCompleted, i);
          }),
          (this.sprite = n);
          const a = e.add.image(0, 0, f.sprite);
          (a.visible = !1),
          a.anchor.setTo(0.5, 0.5),
          a.animations
            .add('rally', f.animation.frames)
            .onComplete.add(() => {
              a.play('rally', f.animation.rate);
            }),
          (this.rallySprite = a),
          (this.isShowRallyPointAnimation = !1);
        }
        return (
          a(t, [
            {
              key: 'appendTo',
              value(t) {
                let e = t.getDataObject().getSelectionOffset(),
                  i = e.x || 0,
                  n = e.y || 0;
                t.on('select', this.show.bind(this)),
                t.on('unselect', this.hide.bind(this)),
                t.on('selectedAsTarget', this.flash.bind(this)),
                t.on('remove', this.remove.bind(this)),
                t.on('showRallyPoint', this.showRallyPoint.bind(this)),
                t.on('hideRallyPoint', this.hideRallyPoint.bind(this)),
                t.on('updateRallyPoint', this.updateRallyPoint.bind(this)),
                s.default
                  .getInstance()
                  .getGroup(u.GROUP_ENTITIES)
                  .add(this.sprite),
                s.default
                  .getInstance()
                  .getGroup('gui')
                  .add(this.rallySprite),
                (this.sprite.update = function () {
                  (this.x = t.getSprite().x - i),
                  (this.y = t.getSprite().y - n);
                }),
                (this.sprite._entity = t),
                (this.sprite._selector = !0),
                (this.parent = t),
                (this.width = this.parent.getDataObject().getWidth()),
                (this.height = this.parent.getDataObject().getHeight());
              },
            },
            {
              key: 'show',
              value() {
                const t = this.getAnimationName('select');
                this.sprite.visible = !0;
                const e = d[this.getSize()];
                this.sprite.scale.setTo(e, e),
                this.sprite.animations.stop(null, !0),
                this.sprite.play(t, 25),
                (this.currentAnim = 'select');
              },
            },
            {
              key: 'flash',
              value() {
                const t = this.getAnimationName('flash');
                this.sprite.visible = !0;
                const e = d[this.getSize()];
                this.sprite.scale.setTo(e, e),
                this.sprite.animations.stop(null, !0),
                this.sprite.play(t, 5),
                (this.currentAnim = 'flash');
              },
            },
            {
              key: 'hide',
              value() {
                this.sprite.visible = !1;
              },
            },
            {
              key: 'showRallyPoint',
              value() {
                if (!this.parent) {
                  throw new Error('There is no Entity attached to this Selector instance!');
                }
                this.isShowRallyPointAnimation &&
                  ((this.rallySprite.visible = !0),
                  (this.rallySprite.x = this.parent.rallyPoint.x),
                  (this.rallySprite.y = this.parent.rallyPoint.y),
                  this.rallySprite.animations.stop(null, !0),
                  this.rallySprite.play('rally', f.animation.rate));
              },
            },
            {
              key: 'updateRallyPoint',
              value() {
                (this.isShowRallyPointAnimation = !0),
                (this.rallySprite.visible = !0),
                (this.rallySprite.x = this.parent.rallyPoint.x),
                (this.rallySprite.y = this.parent.rallyPoint.y),
                this.rallySprite.animations.stop(null, !0),
                this.rallySprite.play('rally', f.animation.rate);
              },
            },
            {
              key: 'hideRallyPoint',
              value() {
                this.rallySprite.animations.stop(null, !0),
                (this.rallySprite.visible = !1);
              },
            },
            {
              key: 'remove',
              value() {
                this.rallySprite.destroy(!0), this.sprite.destroy(!0);
              },
            },
            {
              key: 'animationCompleted',
              value() {
                this.currentAnim === 'flash' && this.hide(),
                (this.currentAnim = null);
              },
            },
            {
              key: 'getAnimationName',
              value(t) {
                const e = this;
                return (
                  t +
                  (function () {
                    return e.parent.isEntityControlledByUser()
                      ? ''
                      : e.parent.getPlayer().isIndependent()
                        ? '-neutral'
                        : '-enemy';
                  }())
                );
              },
            },
            {
              key: 'getSize',
              value() {
                const t = this;
                if (!this.parent) {
                  throw new Error('There is no Entity attached to this Selector instance!');
                }
                return (
                  this.size ||
                    Object.keys(u.ENTITY_GUI_SIZES).forEach((e) => {
                      c.default.between(
                        Math.max(t.width, t.height),
                        u.ENTITY_GUI_SIZES[e][0],
                        u.ENTITY_GUI_SIZES[e][1],
                      ) && (t.size = e);
                    }),
                  this.size
                );
              },
            },
          ]),
          t
        );
      }());
    e.default = p;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(11),
      s = n(o),
      u = i(1),
      l = n(u),
      c = window.fivenations,
      h = void 0,
      d = (function () {
        function t() {
          r(this, t), this.init(), this.addEventListeners();
        }
        return (
          a(t, [
            {
              key: 'init',
              value() {
                this.queue = [];
              },
            },
            {
              key: 'addEventListeners',
              value() {
                let t = this,
                  e = l.default.getInstance(),
                  i = e.local;
                [
                  'entity/construction/completed',
                  'entities/building-under-attack',
                  'entities/entity-under-attack',
                  'player/research/completed',
                  'entity/production/completed',
                ].forEach(e => i.addEventListener(e, t.collectEvent.bind(t)));
              },
            },
            {
              key: 'collectEvent',
              value(t) {
                let e = [].concat(t).shift(),
                  i = new Date().getTime();
                e &&
                  e.getPlayer().isControlledByUser() &&
                  (this.sanitise(),
                  this.queue.push({ entity: e, timestamp: i }));
              },
            },
            {
              key: 'addKeyboardListeners',
              value(t) {
                t.on('key/space', this.onKeyPressed.bind(this));
              },
            },
            {
              key: 'onKeyPressed',
              value() {
                const t = this.getNextEvent();
                if (t && t.entity) {
                  let e = c.game.map,
                    i = t.entity;
                  s.default.getInstance().unselectAll(),
                  e.centerEntity(i),
                  i.select();
                }
              },
            },
            {
              key: 'sanitise',
              value() {
                const t = new Date().getTime();
                this.queue = this.queue.filter(e => t - e.timestamp < 3e3);
              },
            },
            {
              key: 'getNextEvent',
              value() {
                return this.sanitise(), this.queue.shift();
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return h || (h = new d()), h;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s() {
      let t = g.default.getInstance().getGroup(x.GROUP_TOOLTIPS),
        e = h.default.getInstance(),
        i = new E();
      return (
        e.local.addEventListener('gui/controlpanel/change', () => {
          i.visible = !1;
        }),
        e.local.addEventListener('gui/controlpanel/hide', () => {
          i.visible = !1;
        }),
        t.add(i),
        i
      );
    }
    function u(t) {
      let e = t.target,
        i = t.test;
      typeof i !== 'function' &&
        (i = function () {
          return !0;
        }),
      (O && P.game.game === O.game) || (O = s()),
      e.events.onInputOver.add((t) => {
        if (i()) {
          let e = P.window.width - O.width,
            n = P.window.height - O.height,
            r = t.worldPosition.x + 0,
            a = t.worldPosition.y - O.height,
            o = Math.max(Math.min(r, e), 0),
            s = Math.max(Math.min(a, n), 0);
          t.visible &&
              (O.cameraOffset.setTo(o, s),
              (O.x = o),
              (O.y = s),
              (O.visible = !0),
              O.updateContent(t));
        }
      }),
      e.events.onInputOut.add(() => {
        i() && (O.visible = !1);
      });
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = i(1),
      h = n(c),
      d = i(138),
      f = n(d),
      p = i(14),
      g = n(p),
      y = i(103),
      v = n(y),
      m = i(23),
      b = n(m),
      _ = i(7),
      w = n(_),
      x = i(2),
      P = window.fivenations,
      k = {
        font: x.DEFAULT_FONT.font,
        headerFont: '13px BerlinSansFB-Reg',
        defaultFill: x.DEFAULT_FONT.color,
        whiteFill: '#ffffff',
        darkFill: '#728dbc',
        redFill: '#ff0000',
      },
      T = { font: x.DEFAULT_FONT.font, fill: '#ffffff' },
      O = void 0,
      E = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, P.game.game),
          );
          return (
            t.setFixedToTheCamera(),
            t.setDefaultVisiblity(),
            t.initBackgroundSprite(),
            t.initSpellLabel(),
            t.createResourceGroup(),
            t.createPrerequisitesGroup(),
            t
          );
        }
        return (
          o(e, t),
          l(e, [
            {
              key: 'setFixedToTheCamera',
              value() {
                this.fixedToCamera = !0;
              },
            },
            {
              key: 'setDefaultVisiblity',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'initBackgroundSprite',
              value() {
                this.background = this.createSprite({
                  id: 'HD_gui_descriptionpopup_sm.png',
                  key: 'gui-hd',
                });
              },
            },
            {
              key: 'initSpellLabel',
              value() {
                (this.nameText = this.game.add.text(16, 14, '', {
                  font: k.headerFont,
                  fill: k.defaultFill,
                })),
                (this.descriptionText = this.game.add.text(16, 27, '', {
                  font: k.font,
                  fill: k.whiteFill,
                  wordWrap: !0,
                  wordWrapWidth: 161,
                })),
                (this.descriptionText.lineSpacing = -8),
                this.add(this.nameText),
                this.add(this.descriptionText);
              },
            },
            {
              key: 'createResourceGroup',
              value() {
                (this.resourceGroup = this.game.add.group()),
                (this.powerIcon = this.createSprite({
                  x: 15,
                  y: 62,
                  id: 'ingamemenu_resource_07_power.png',
                  key: 'gui-hd',
                })),
                (this.powerText = this.game.add.text(55, 77, '', T)),
                this.powerText.anchor.set(0.5),
                this.resourceGroup.add(this.powerIcon),
                this.resourceGroup.add(this.powerText),
                this.add(this.resourceGroup);
              },
            },
            {
              key: 'createPrerequisitesGroup',
              value() {
                let t = w.default.getInstance(),
                  e = t.translate('tooltip.entities.required');
                (this.prerequisitsGroup = this.game.add.group()),
                (this.prerequisitsHeader = this.game.add.text(20, 64, e, {
                  font: k.font,
                  fill: k.redFill,
                })),
                (this.requiredEntities = this.game.add.text(20, 77, '', {
                  font: k.font,
                  fill: k.redFill,
                  wordWrap: !0,
                  wordWrapWidth: 161,
                })),
                (this.requiredEntities.lineSpacing = -8),
                this.prerequisitsGroup.add(this.prerequisitsHeader),
                this.prerequisitsGroup.add(this.requiredEntities),
                this.add(this.prerequisitsGroup);
              },
            },
            {
              key: 'updateContent',
              value(t) {
                let e = t.getSpell(),
                  i = this.getDataObjectBySpellId(e);
                this.updateHeader(e),
                t.isDisabled()
                  ? ((this.prerequisitsGroup.visible = !0),
                  (this.resourceGroup.visible = !1),
                  this.updatePrerequisites(i))
                  : ((this.prerequisitsGroup.visible = !1),
                  (this.resourceGroup.visible = !0),
                  this.updatePower(i));
              },
            },
            {
              key: 'updateHeader',
              value(t) {
                const e = w.default.getInstance();
                this.nameText.text = e.translate(`spells.${t}`);
                const i = f.default.getInstance().getKeyByLogicId(t);
                i && (this.nameText.text += ` (${i.toUpperCase()})`),
                (this.descriptionText.text = e.translate(`spells.descriptions.${t}`));
              },
            },
            {
              key: 'updatePower',
              value(t) {
                (this.powerText.text = t.power),
                t.power === 0
                  ? ((this.powerText.fill = k.darkFill),
                  (this.powerIcon.alpha = 0.3))
                  : ((this.powerText.fill = k.whiteFill),
                  (this.powerIcon.alpha = 1));
              },
            },
            {
              key: 'updatePrerequisites',
              value(t) {
                let e = b.default.getInstance(),
                  i = w.default.getInstance(),
                  n = t.requiredEntities || [],
                  r = t.requiredResearches || [];
                this.requiredEntities.text = n
                  .concat(r)
                  .map(t => i.translate(e.getTranslationKey(t)))
                  .join('\n');
              },
            },
            {
              key: 'createSprite',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = t.id,
                  r = t.key,
                  a = this.game.add.sprite(e || 0, i || 0, r);
                return (a.frameName = n), this.add(a), a;
              },
            },
            {
              key: 'getDataObjectBySpellId',
              value(t) {
                return t ? v.default.getInstance().getSpellDataById(t) : {};
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    (E.tooltipify = u), (e.default = E);
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(3),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e(t) {
          let i = t.width,
            a = void 0 === i ? 1 : i,
            s = t.color;
          n(this, e);
          let u = o(Phaser.GAMES, 1),
            l = u[0],
            c = r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, l),
            );
          return (
            (c.color = s && s.replace('0x', '#')),
            (c.barWidth = a),
            (c.barHeight = 6),
            c.createProgressBar(),
            c
          );
        }
        return (
          a(e, t),
          s(e, [
            {
              key: 'createProgressBar',
              value() {
                (this.bmd = this.game.add.bitmapData(
                  this.barWidth,
                  this.barHeight,
                )),
                this.add(this.game.add.sprite(0, 0, this.bmd));
              },
            },
            {
              key: 'update',
              value(t) {
                let e = this.color || l.default.getColorFromRatio(t, 'hex'),
                  i = Math.floor(this.barWidth * t);
                this.bmd.clear(),
                (this.bmd.ctx.strokeStyle = 'white'),
                this.bmd.ctx.strokeRect(0, 0, this.barWidth, this.barHeight),
                (this.bmd.ctx.fillStyle = e),
                this.bmd.ctx.fillRect(1, 1, i - 2, this.barHeight - 2);
              },
            },
            {
              key: 'show',
              value() {
                this.visible = !0;
              },
            },
            {
              key: 'hide',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'getGroup',
              value() {
                return this;
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(575),
      s = n(o),
      u = i(538),
      l = n(u),
      c = i(551),
      h = n(c),
      d = i(14),
      f = n(d),
      p = i(11),
      g = n(p),
      y = window.fivenations,
      v = void 0,
      m = (function () {
        function t(e) {
          r(this, t),
          (v = e),
          (this.entityManager = g.default.getInstance()),
          (this.group = v.add.group()),
          (this.group.visible = !1),
          f.default
            .getInstance()
            .getGroup('prior-gui-elements')
            .add(this.group);
        }
        return (
          a(t, [
            {
              key: 'appendTo',
              value(t) {
                let e = t.getDataObject(),
                  i = e.getHeight(),
                  n = e.getWidth();
                if (
                  (e.getMaxShield() > 0 &&
                    ((this.shieldBar = new s.default({
                      color: '0x71caca',
                      width: n,
                    })),
                    (this.shieldBar.getGroup().x =
                      this.shieldBar.getGroup().width / -2),
                    (this.shieldBar.getGroup().y = -i),
                    this.group.add(this.shieldBar.getGroup())),
                  (this.healthBar = new s.default({ width: n })),
                  (this.healthBar.getGroup().x =
                    this.healthBar.getGroup().width / -2),
                  (this.healthBar.getGroup().y =
                    -i + 6 * this.group.children.length),
                  this.group.add(this.healthBar.getGroup()),
                  e.getMaxPower() > 0 &&
                    ((this.powerBar = new s.default({
                      color: '0xFF00FF',
                      width: n,
                    })),
                    (this.powerBar.getGroup().x =
                      this.powerBar.getGroup().width / -2),
                    (this.powerBar.getGroup().y =
                      -i + 6 * this.group.children.length),
                    this.group.add(this.powerBar.getGroup())),
                  t.canCarryCargo())
                ) {
                  const r = this.healthBar.getGroup().x;
                  (this.cargoTitanium = new l.default(
                    v,
                    'gui_resource_01_titanium.png',
                    '#FFFFFF',
                  )),
                  (this.cargoTitanium.x = r),
                  this.group.add(this.cargoTitanium),
                  (this.cargoSilicium = new l.default(
                    v,
                    'gui_resource_02_silicium.png',
                    '#FFFFFF',
                  )),
                  (this.cargoSilicium.x = r),
                  this.group.add(this.cargoSilicium),
                  (this.cargoUranium = new l.default(
                    v,
                    'gui_resource_03_uranium.png',
                    '#FFFFFF',
                  )),
                  (this.cargoUranium.x = r),
                  this.group.add(this.cargoUranium);
                }
                if (
                  t.isDockable() ||
                  t.getDataObject().isBuilding() ||
                  t.getDataObject().isResource()
                ) {
                  let a = this.healthBar.getGroup().x,
                    o = 0.75 * t.getDataObject().getHeight();
                  (this.hangarDisplay = new h.default(t)),
                  (this.hangarDisplay.x = a),
                  (this.hangarDisplay.y = o),
                  this.group.add(this.hangarDisplay);
                }
                t.on('select', this.show.bind(this)),
                t.on('unselect', this.hide.bind(this)),
                t.on('damage', this.update.bind(this)),
                t.on('repair', this.update.bind(this)),
                t.on('restoreAttr', this.update.bind(this)),
                t.on('remove', this.remove.bind(this)),
                t.on('updateCargo', this.update.bind(this)),
                t.on('updateHangar', this.updateHangar.bind(this)),
                t.on('beingSeenBySpyChanged', this.updateCargo.bind(this)),
                (this.group.update = function () {
                  (this.x = t.getSprite().x), (this.y = t.getSprite().y);
                }),
                (this.parent = t);
              },
            },
            {
              key: 'updateBars',
              value() {
                let t = this.parent.getDataObject(),
                  e = void 0;
                if (
                  (this.healthBar &&
                    ((e = t.getHull() / t.getMaxHull()),
                    this.healthBar.update(e),
                    this.healthBar.show()),
                  t.getMaxShield() > 0 && !this.shieldBar)
                ) {
                  let i = t.getHeight(),
                    n = t.getWidth();
                  (this.shieldBar = new s.default({
                    color: '0x71caca',
                    width: n,
                  })),
                  (this.shieldBar.getGroup().x =
                      this.shieldBar.getGroup().width / -2),
                  (this.shieldBar.getGroup().y = -i),
                  this.group.add(this.shieldBar.getGroup()),
                  (this.healthBar.getGroup().y = 6 - i);
                }
                if (
                  (this.shieldBar &&
                    ((e = t.getShield() / t.getMaxShield()),
                    this.shieldBar.update(e),
                    this.shieldBar.show()),
                  this.powerBar)
                ) {
                  const r = this.parent.isInConstruction();
                  (e = t.getPower() / t.getMaxPower()),
                  this.powerBar.update(e),
                  r ? this.powerBar.hide() : this.powerBar.show();
                }
              },
            },
            {
              key: 'updateCargo',
              value() {
                if (
                  !(
                    this.parent.getPlayer().isControlledByUser() ||
                    this.parent.getPlayer().isIndependent() ||
                    this.parent.getBeingSeenBySpy() ||
                    y.debug.spying
                  )
                ) {
                  return (
                    this.cargoTitanium && (this.cargoTitanium.visible = !1),
                    this.cargoSilicum && (this.cargoSilicium.visible = !1),
                    void (this.cargoUranium && (this.cargoUranium.visible = !1))
                  );
                }
                let t = this.parent.getDataObject(),
                  e = t.getHeight(),
                  i = t.getCargoTitanium(),
                  n = t.getCargoSilicium(),
                  r = t.getCargoUranium(),
                  a = e / 2;
                this.cargoTitanium &&
                  (i > 0
                    ? (this.cargoTitanium.update(i),
                    (this.cargoTitanium.y = a),
                    (this.cargoTitanium.visible = !0),
                    (a += 0.75 * this.cargoTitanium.height))
                    : (this.cargoTitanium.visible = !1)),
                this.cargoSilicium &&
                    (n > 0
                      ? (this.cargoSilicium.update(n),
                      (this.cargoSilicium.y = a),
                      (this.cargoSilicium.visible = !0),
                      (a += 0.75 * this.cargoSilicium.height))
                      : (this.cargoSilicium.visible = !1)),
                this.cargoUranium &&
                    (r > 0
                      ? (this.cargoUranium.update(r),
                      (this.cargoUranium.y = a),
                      (this.cargoUranium.visible = !0))
                      : (this.cargoUranium.visible = !1));
              },
            },
            {
              key: 'updateHangar',
              value() {
                this.hangarDisplay.update();
              },
            },
            {
              key: 'update',
              value() {
                this.updateBars(), this.updateCargo();
              },
            },
            {
              key: 'show',
              value() {
                this.update(), (this.group.visible = !0);
              },
            },
            {
              key: 'hide',
              value() {
                this.group.visible = !1;
              },
            },
            {
              key: 'remove',
              value() {
                this.group.destroy(!0);
              },
            },
          ]),
          t
        );
      }());
    e.default = m;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(139),
      c = n(l),
      h = i(1),
      d = n(h),
      f = i(7),
      p = n(f),
      g = i(3),
      y = n(g),
      v = i(48),
      m = n(v),
      b = window.fivenations,
      _ = (function (t) {
        function e() {
          r(this, e);
          let t = b.game.game,
            i = a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
            );
          return i.initBitMapData(), i.initPointer(), i.fixToCamera(), i;
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'initBitMapData',
              value() {
                let t = b.window.width,
                  e = b.window.height;
                (this.bmd = this.game.add.bitmapData(t, e)),
                (this.body = this.bmd.addToWorld(0, 0)),
                (this.body.alpha = 0.9),
                this.add(this.body);
              },
            },
            {
              key: 'initPointer',
              value() {
                const t = [152, 153, 154, 155, 156];
                (this.pointer = this.game.add.sprite(0, 0, 'gui')),
                this.pointer.animations.add('anim', t),
                this.pointer.anchor.setTo(0.5),
                this.add(this.pointer);
              },
            },
            {
              key: 'fixToCamera',
              value() {
                (this.fixedToCamera = !0), (this.visible = !1);
              },
            },
            {
              key: 'createMask',
              value(t) {
                const e = t.radius;
                this.highlightMask && this.highlightMask.destroy(),
                (this.highlightMask = this.game.add.bitmapData(e, e)),
                this.highlightMask.clear();
                const i = this.highlightMask.context.createRadialGradient(
                  e / 2,
                  e / 2,
                  e / 4,
                  e / 2,
                  e / 2,
                  e / 2,
                );
                i.addColorStop(0, 'rgba(0, 0, 0, 1)'),
                i.addColorStop(1, 'rgba(0, 0, 0, 0)'),
                (this.highlightMask.context.fillStyle = i),
                this.highlightMask.context.fillRect(0, 0, e, e);
              },
            },
            {
              key: 'drawMask',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = t.radius;
                this.bmd.clear(),
                (this.bmd.context.fillStyle = '#000000'),
                (this.bmd.context.globalCompositeOperation = 'source-over'),
                this.bmd.context.fillRect(
                  0,
                  0,
                  this.bmd.width,
                  this.bmd.height,
                ),
                this.bmd.blendDestinationOut(),
                this.bmd.draw(this.highlightMask, e - n / 2, i - n / 2),
                (this.bmd.dirty = !0);
              },
            },
            {
              key: 'focusAt',
              value(t) {
                t.radius || (t.radius = 300),
                this.createMask(t),
                this.drawMask(t);
              },
            },
            {
              key: 'startPointerAnimationAt',
              value(t) {
                let e = t.x,
                  i = t.y;
                (this.pointer.x = e),
                (this.pointer.y = i),
                this.pointer.animations.play('anim', 15, !0);
              },
            },
            {
              key: 'stopPointerAnimation',
              value() {
                this.pointer.animations.stop(null, !0);
              },
            },
            {
              key: 'highlightEntity',
              value(t) {
                let e = this,
                  i = t.entity,
                  n = t.clickAnimation,
                  r = t.onClick,
                  a = t.text;
                if (i) {
                  b.game.map.centerEntity(i, !0);
                  let o = i.getSprite(),
                    s = o.x - this.game.camera.x,
                    u = o.y - this.game.camera.y,
                    l = function t() {
                      r && y.default.postponify(r)(),
                      o.events.onInputDown.remove(t),
                      e.hide();
                    };
                  this.show(),
                  this.focusAt({ x: s, y: u }),
                  a && this.addPopup({ x: s + 250, y: u, text: a }),
                  n &&
                      (this.startPointerAnimationAt({ x: s, y: u }),
                      o.events.onInputDown.add(l));
                }
              },
            },
            {
              key: 'highlightArea',
              value(t) {
                let e = this,
                  i = t.x,
                  n = t.y,
                  r = t.clickAnimation,
                  a = t.onClick,
                  o = t.text,
                  s = !1,
                  u = function t() {
                    let r = m.default.getInstance(),
                      o = {
                        x: i - 150,
                        y: n - 150,
                        width: 300,
                        height: 300,
                        fixedToCamera: !0,
                      };
                    s ||
                      (r.isHover(o) &&
                        (a && y.default.postponify(a)(),
                        e.game.input.onDown.remove(t),
                        e.hide(),
                        (s = !0)));
                  };
                this.show(),
                this.focusAt(t),
                o && this.addPopup({ x: i + 250, y: n, text: o }),
                r &&
                    (this.startPointerAnimationAt(t),
                    this.game.input.onDown.add(u));
              },
            },
            {
              key: 'highlightCommandButton',
              value(t) {
                let e = this,
                  i = t.clickAnimation,
                  n = t.onClick,
                  r = t.text,
                  a = t.buttonId,
                  o = b.game,
                  u = o.GUI,
                  l = u.getControlPanel(),
                  c = l.getCurrentPage(),
                  h = c.getButtonById(a);
                if (h) {
                  let d = !1,
                    f = function t() {
                      d ||
                        ((d = !0),
                        n && y.default.postponify(n)(),
                        c.refresh(),
                        h.events.onInputDown.remove(t),
                        u.unlockSelection(),
                        e.hide());
                    },
                    p = {
                      x: h.world.x - o.camera.x + h.width / 2,
                      y: h.world.y - o.camera.y + h.height / 2,
                    };
                  u.lockSelection(),
                  this.show(),
                  this.focusAt(p),
                  c.highlightButton(h),
                  r && this.addPopup({ x: p.x - 200, y: p.y, text: r }),
                  i &&
                      (this.startPointerAnimationAt(s({}, p)),
                      h.events.onInputDown.add(f));
                }
              },
            },
            {
              key: 'show',
              value() {
                b.game.pause(),
                (this.visible = !0),
                d.default.getInstance().local.dispatch('ingame/popup/open');
              },
            },
            {
              key: 'hide',
              value() {
                (this.visible = !1),
                b.game.resume(),
                this.removePopup(),
                this.stopPointerAnimation();
              },
            },
            {
              key: 'addPopup',
              value(t) {
                const e = p.default.getInstance();
                (this.notificationPopup = new c.default(s(
                  {
                    buttonLabel: e
                      .translate('framework.skip')
                      .toLocaleUpperCase(),
                    frameName: 'mainmenu_containerfield_maps_playersr.png',
                    hidden: !0,
                    fixedToCamera: !1,
                    cameraOffset: 0,
                    buttonOffsetY: 30,
                    noBackground: !0,
                    noCloseButton: !0,
                  },
                  t,
                ))),
                this.add(this.notificationPopup),
                this.notificationPopup.show();
              },
            },
            {
              key: 'removePopup',
              value() {
                this.notificationPopup &&
                  (this.remove(this.notificationPopup),
                  this.notificationPopup.destroy(!0),
                  (this.notificationPopup = null));
              },
            },
            {
              key: 'isActivated',
              value() {
                return this.visible;
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = _;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(53),
      l = n(u),
      c = i(85),
      h = n(c),
      d = i(1),
      f = n(d),
      p = i(82),
      g = n(p),
      y = i(7),
      v = n(y),
      m = window.fivenations,
      b = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, m.game.game),
          );
          return (
            t.initOverlayComponent(),
            t.initAnimation(),
            t.initEndMissionButton(),
            t.fixToCamera(),
            t.setDefaultVisibilty(),
            t
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'initOverlayComponent',
              value() {
                const t = new h.default();
                this.overlay = this.add(t);
              },
            },
            {
              key: 'initAnimation',
              value() {
                let t = m.window,
                  e = t.width,
                  i = t.height;
                (this.window = this.game.add.group()),
                this.add(this.window),
                (this.animation = this.game.add.sprite(
                  e / 2,
                  i / 2,
                  'gui-victory',
                )),
                this.animation.anchor.set(0.5),
                this.animation.animations.add('seq', null, 35, !1),
                this.window.add(this.animation);
              },
            },
            {
              key: 'initEndMissionButton',
              value() {
                let t = v.default.getInstance(),
                  e = t.translate('ingame.endmission');
                (this.button = new l.default({
                  size: 'm',
                  label: e,
                  onClick() {
                    return f.default
                      .getInstance()
                      .local.dispatch('game/victory');
                  },
                })),
                (this.button.x = this.animation.x),
                (this.button.y = this.animation.y + 45),
                this.window.add(this.button);
              },
            },
            {
              key: 'fixToCamera',
              value() {
                this.fixedToCamera = !0;
              },
            },
            {
              key: 'setDefaultVisibilty',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'start',
              value() {
                const t = this;
                g.default
                  .getInstance()
                  .playMusicOnce('fed-victory')
                  .then(() => t.startAnimationSequence()),
                f.default.getInstance().local.dispatch('game/endMission');
              },
            },
            {
              key: 'startAnimationSequence',
              value() {
                (this.visible = !0),
                this.animation.animations.play('seq'),
                this.game.add
                  .tween(this.overlay)
                  .from(
                    { alpha: 0 },
                    500,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                  ),
                this.game.add
                  .tween(this.button)
                  .from(
                    { alpha: 0 },
                    500,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                    1500,
                  );
              },
            },
            {
              key: 'hide',
              value() {
                const t = this;
                this.game.add
                  .tween(this.overlay)
                  .to({ alpha: 0 }, 200, Phaser.Easing.Exponential.InOut, !0),
                this.game.add
                  .tween(this.window)
                  .to({ alpha: 0 }, 200, Phaser.Easing.Exponential.InOut, !0)
                  .onComplete.add(() => {
                    (t.overlay.alpha = 1),
                    (t.window.alpha = 1),
                    (t.visible = !1);
                  });
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = b;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(14),
      l = n(u),
      c = i(1),
      h = n(c),
      d = i(532),
      f = n(d),
      p = window.fivenations,
      g = (function (t) {
        function e() {
          r(this, e);
          const t = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, p.game.game),
          );
          return t.addEventListeners(), t.initParentGroup(), t.initHelpers(), t;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'addEventListeners',
              value() {
                const t = h.default.getInstance().local;
                t.addEventListener('gui/weapon/over', this.show.bind(this)),
                t.addEventListener('gui/weapon/out', this.hide.bind(this));
              },
            },
            {
              key: 'initParentGroup',
              value() {
                this.parentGroup = l.default
                  .getInstance()
                  .getGroup('color-indicators');
              },
            },
            {
              key: 'initHelpers',
              value() {
                (this.onRemove = this.remove.bind(this)),
                (this.onHibernate = this.remove.bind(this)),
                (this.radarFilter = new f.default());
              },
            },
            {
              key: 'createByWeapon',
              value(t) {
                const e = t.getEntity();
                this.addEventListenersToEntity(e),
                this.appendToEntity(e),
                this.createProximityDisplayByWeapon(t);
              },
            },
            {
              key: 'addEventListenersToEntity',
              value(t) {
                const e = this;
                t.on('remove', this.onRemove),
                t.on('hibernate', this.onHibernate),
                (this.removeEventListeners = function () {
                  t.off('remove', e.onRemove),
                  t.off('hibernate', e.onHibernate);
                });
              },
            },
            {
              key: 'appendToEntity',
              value(t) {
                const e = t.getSprite();
                this.update = function () {
                  (this.x = e.x),
                  (this.y = e.y),
                  this.radarFilter && this.radarFilter.update(e);
                };
              },
            },
            {
              key: 'createProximityDisplayByWeapon',
              value(t) {
                let e = t.getRange(),
                  i = t.getMinRange() || 0,
                  n = i / e,
                  r = 2 * e;
                (this.radar = this.game.add.sprite()),
                (this.radar.width = r),
                (this.radar.height = r),
                this.radarFilter.setResolution(r, r),
                this.radarFilter.setMinRangeRate(n),
                (this.radar.filters = [this.radarFilter]),
                this.radar.anchor.set(0.5),
                this.add(this.radar);
              },
            },
            {
              key: 'show',
              value(t) {
                this.createByWeapon(t),
                this.parentGroup.add(this),
                (this.shown = !0);
              },
            },
            {
              key: 'hide',
              value() {
                this.shown &&
                  (this.removeEventListeners(),
                  this.parentGroup.remove(this),
                  this.radar.destroy(),
                  (this.shown = !1));
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = g;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = (function () {
        function t() {
          n(this, t),
          (this.onRemoveEntityFromGroup = this.removeEntityFromGroup.bind(this));
        }
        return (
          r(t, [
            {
              key: 'set',
              value(t) {
                this.entities && this.removeExistingListeners(),
                this.addListeners(t),
                (this.entities = t);
              },
            },
            {
              key: 'removeExistingListeners',
              value() {
                const t = this;
                this.entities.forEach((e) => {
                  e &&
                    (e.off('remove', t.onRemoveEntityFromGroup),
                    e.off('hibernate', t.onRemoveEntityFromGroup));
                });
              },
            },
            {
              key: 'addListeners',
              value(t) {
                const e = this;
                t &&
                  t.forEach((t) => {
                    t.on('remove', e.onRemoveEntityFromGroup),
                    t.on('hibernate', e.onRemoveEntityFromGroup);
                  });
              },
            },
            {
              key: 'removeEntityFromGroup',
              value(t) {
                const e = this.entities.indexOf(t);
                this.entities.splice(e, 1);
              },
            },
            {
              key: 'getEntities',
              value() {
                return this.entities;
              },
            },
          ]),
          t
        );
      }());
    e.default = a;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      if (Array.isArray(t)) {
        for (var e = 0, i = Array(t.length); e < t.length; e++) i[e] = t[e];
        return i;
      }
      return Array.from(t);
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(580),
      u = n(s),
      l = i(11),
      c = n(l),
      h = i(22),
      d = n(h),
      f = 10,
      p = window.fivenations,
      g = void 0,
      y = (function () {
        function t() {
          a(this, t), (this.lastPressTime = 0), (this.groups = []);
          for (let e = f - 1; e >= 0; e -= 1) this.groups.push(new u.default());
        }
        return (
          o(t, [
            {
              key: 'select',
              value(t) {
                const e = this.groups[t].getEntities();
                return e && e.length
                  ? ((this.currentGroupIdx = t),
                  e.forEach(t => t.select()))
                  : null;
              },
            },
            {
              key: 'PlaySound',
              value(t) {
                const e = this.groups[t].getEntities();
                if (!e || !e.length) return null;
                const i = [].concat(r(e));
                return (
                  p.game.eventEmitter.local.dispatch('user/entity/select', i),
                  !0
                );
              },
            },
            {
              key: 'scrollToSelection',
              value(t) {
                let e = p.game.map,
                  i = this.groups[t].getEntities();
                if (i && i.length) {
                  const n = i[0];
                  e.centerEntity(n);
                }
              },
            },
            {
              key: 'unselectAll',
              value() {
                c.default.getInstance().unselectAll();
              },
            },
            {
              key: 'save',
              value(t) {
                const e = c.default.getInstance().entities(':selected');
                this.groups[t].set(e);
              },
            },
            {
              key: 'addKeyboardListeners',
              value(t) {
                for (let e = f - 1; e >= 0; e -= 1) { t.on(`key/${e}`, this.onControlGroupKeyPressed.bind(this, e)); }
              },
            },
            {
              key: 'onControlGroupKeyPressed',
              value(t) {
                const e = d.default.getInstance();
                e.isDown(Phaser.KeyCode.CONTROL)
                  ? this.save(t)
                  : (e.isDown(Phaser.KeyCode.SHIFT) || this.unselectAll(),
                  this.select(t),
                  this.PlaySound(t),
                  this.isControlGroupKeyTapped(t) &&
                      this.scrollToSelection(t));
              },
            },
            {
              key: 'isControlGroupKeyTapped',
              value(t) {
                let e = new Date().getTime(),
                  i =
                    e - this.lastPressTime < 500 && t === this.lastGroupPressed;
                return (this.lastPressTime = e), (this.lastGroupPressed = t), i;
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return g || (g = new y()), g;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(24),
      s = n(o),
      u = i(1),
      l = n(u),
      c = i(34),
      h = n(c),
      d = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value(t, e) {
                let i = s.default.getInstance().start(h.default),
                  n = t.entities(':user:selected')[0],
                  r = l.default.getInstance().synced.entities(':user:selected');
                void 0 === n.getHomeStation() || n.getHomeStation() === null
                  ? i.on('select', () => {
                    const i = t.entities().find(t => (
                      t.getDataObject().isBuilding() &&
                          (t.getDataObject().getId() === 'miningstation' ||
                            t.getDataObject().getId() === 'refinery')
                    ));
                    i &&
                        (r.attach({
                          targetEntity: i,
                          resetActivityQueue: !0,
                          addAsLast: !1,
                        }),
                        i.selectedAsTarget()),
                    e.selectMainPage();
                  })
                  : r.detach({ resetActivityQueue: !0, addAsLast: !1 });
              },
            },
          ]),
          t
        );
      }());
    e.default = new d();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(24),
      s = n(o),
      u = i(1),
      l = n(u),
      c = i(34),
      h = n(c),
      d = i(22),
      f = n(d),
      p = window.fivenations,
      g = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value(t, e) {
                let i = s.default.getInstance().start(h.default),
                  n = !0,
                  r = !1;
                f.default.getInstance().isDown(Phaser.KeyCode.SHIFT) &&
                  ((n = !1), (r = !0)),
                i.on('select', (i) => {
                  let a = t.entities().find(t => !t.isNotClickable() && t.isHover()),
                    o = i.getRealCoords();
                  a
                    ? (l.default
                      .getInstance()
                      .synced.entities(':user:selected')
                      .attack({
                        targetEntity: a,
                        resetActivityQueue: n,
                        addAsLast: r,
                        targetFiring: !0,
                        triggeredByUser: !0,
                      }),
                    a.selectedAsTarget(),
                    l.default
                      .getInstance()
                      .local.dispatch(
                        'user/entity/attack',
                        t.entities(':user:selected'),
                      ))
                    : (l.default
                      .getInstance()
                      .synced.entities(':user:selected')
                      .patrol({
                        x: o.x,
                        y: o.y,
                        resetActivityQueue: n,
                        addAsLast: r,
                        terminateAtDestination: !0,
                      }),
                    l.default
                      .getInstance()
                      .local.dispatch(
                        'user/entity/command',
                        t.entities(':user:selected'),
                      )),
                  p.game.GUI.putClickAnim(o.x, o.y, 'click-enemy'),
                  e.selectMainPage();
                });
              },
            },
          ]),
          t
        );
      }());
    e.default = new g();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(24),
      s = n(o),
      u = i(8),
      l = n(u),
      c = i(74),
      h = n(c),
      d = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value(t, e) {
                let i = s.default.getInstance(),
                  n = h.default.getInstance();
                n.isSelectionLocked() ||
                  (e.selectMainPage(),
                  i.cancel(),
                  n.getBuildingPlacementDisplay().deactivate(),
                  l.default
                    .getInstance()
                    .playAudioSprite({
                      sprite: 'sfx',
                      marker: 'HUD_click_cancel',
                    }));
              },
            },
          ]),
          t
        );
      }());
    e.default = new d();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(8),
      s = n(o),
      u = i(1),
      l = n(u),
      c = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value() {
                l.default
                  .getInstance()
                  .synced.entities(':user:selected')
                  .cancelConstruction(),
                s.default
                  .getInstance()
                  .playAudioSprite({
                    sprite: 'sfx',
                    marker: 'fed_advisor_construction_01',
                  });
              },
            },
          ]),
          t
        );
      }());
    e.default = new c();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(86),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'populate',
              value() {
                const t = this.createControlButton('cancel');
                this.addControlButtonAtPosition(t, 0);
              },
            },
            { key: 'refresh', value() {} },
          ]),
          e
        );
      }(u.default));
    e.default = l;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(1),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'activate',
              value() {
                o.default
                  .getInstance()
                  .synced.entities(':user:selected')
                  .cancelProduction(0);
              },
            },
          ]),
          t
        );
      }());
    e.default = new s();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(1),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'activate',
              value() {
                o.default
                  .getInstance()
                  .synced.entities(':user:selected')
                  .cancelResearch();
              },
            },
          ]),
          t
        );
      }());
    e.default = new s();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t) {
      return (
        !!t.canConstructThere() ||
        (u.game.eventEmitter.local.dispatch('building/placement/occupied'), !1)
      );
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(34),
      s = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(o)),
      u = window.fivenations,
      l = (function () {
        function t() {
          n(this, t);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value(t, e, i) {
                let n = i.getProducableEntity(),
                  a = !0,
                  o = !1;
                u.game.userKeyboard.isDown(Phaser.KeyCode.SHIFT) &&
                  ((a = !1), (o = !0));
                const l = u.game.resourceChecker.getInsufficientResources(
                  u.game.playerManager.getUser(),
                  n,
                );
                if (l.length) {
                  return void u.game.eventEmitter.local.dispatch(`resources/unsufficient/${l.shift()}`);
                }
                let c = u.game.GUI.getBuildingPlacementDisplay(),
                  h = u.game.guiActivityManager.start(s.default);
                h.on('select', () => {
                  if (!r(c)) return void h.doNotCancel();
                  const t = {
                    placementCoords: c.getPlacementCoords(),
                    entityId: n,
                    resetActivityQueue: a,
                    addAsLast: o,
                  };
                  u.game.eventEmitter.synced
                    .entities(':user:selected')
                    .createConstructionSite(t),
                  h.doCancel(),
                  e.selectMainPage(),
                  c.deactivate(),
                  u.game.audioManager.playAudioSprite({
                    sprite: 'sfx',
                    marker: 'HUD_place_structure',
                  });
                }),
                h.on('cancel', () => {
                  u.game.GUI.isSelectionLocked() ||
                      (e.selectMainPage(), c.deactivate());
                }),
                e.selectCancelPage(),
                c.activate(n);
              },
            },
          ]),
          t
        );
      }());
    e.default = new l();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(86),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = { cancel: 24 },
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'populate',
              value() {
                for (
                  let t = void 0, e = this.getButtonCount(), i = 0;
                  i < e;
                  i += 1
                ) {
                  (t = this.createControlButton()),
                  this.addControlButtonAtPosition(t, i);
                }
              },
            },
            {
              key: 'refresh',
              value(t) {
                if ((this.resetAllButtons(), t)) {
                  let e = t[0],
                    i = e.getConstruction();
                  if (i && i.length) {
                    i.push('cancel');
                    let n = e.hasControlOrder(),
                      r = n.construction;
                    if (r) {
                      for (let a = 0; a < r.length; a += 1) {
                        if (r[a] !== '') {
                          const o = r[a];
                          l[o] = a;
                        }
                      }
                    }
                    this.showButtonsByConstructionIds(i);
                  } else this.panel.selectMainPage();
                }
              },
            },
            {
              key: 'resetAllButtons',
              value() {
                this.buttons.forEach((t) => {
                  t.reset(), t.getId() === 'cancel' && (t.visible = !0);
                });
              },
            },
            {
              key: 'showButtonsByConstructionIds',
              value(t) {
                const e = this;
                t.forEach((t) => {
                  let i = void 0,
                    n = l[t];
                  (i = n
                    ? e.buttons[n]
                    : e.buttons.find(t => !t.visible)) &&
                    (t !== 'cancel'
                      ? (i.convertToConstructionButton(t), (i.visible = !0))
                      : (i.setId(t), i.setHotKeyId(void 0), (i.visible = !0)));
                });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'activate',
              value(t, e) {
                e.selectConstructionPage();
              },
            },
          ]),
          t
        );
      }());
    e.default = new a();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(8),
      l = n(u),
      c = i(593),
      h = n(c),
      d = i(11),
      f = n(d),
      p = i(4),
      g = n(p),
      y = i(7),
      v = n(y),
      m = i(72),
      b = n(m),
      _ = i(75),
      w = n(_),
      x = i(23),
      P = n(x),
      k = i(141),
      T = i(194),
      O = n(T),
      E = i(568),
      S = n(E),
      C = i(574),
      I = n(C),
      M = i(22),
      A = n(M),
      R = i(739),
      L = window.fivenations,
      D = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(
              this,
              Phaser.GAMES[0],
              0,
              0,
              'gui',
            ),
          );
          return (
            i.init(t),
            i.addDefaultEventListeners(),
            i.addPressListeners(),
            i.addTooltips(),
            i
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'init',
              value(t) {
                this.game.add.existing(this),
                (this.inputEnabled = !0),
                (this.parentPage = t),
                (this.filterGray = new b.default(this.game)),
                (this.entityManager = f.default.getInstance()),
                (this.productionIconCollection = w.default.getInstance()),
                (this.techManager = P.default.getInstance());
              },
            },
            {
              key: 'addDefaultEventListeners',
              value() {
                const t = this;
                this.events.onInputDown.add(() => t.animateOnDown()),
                this.events.onInputUp.add(() => t.animateOnUp());
              },
            },
            {
              key: 'addPressListeners',
              value() {
                const t = this;
                this.events.onInputUp.add(() => t.onPress()),
                this.addHotkeyListener();
              },
            },
            {
              key: 'addHotkeyListener',
              value() {
                const t = this;
                A.default.getInstance().on('key/any', (e) => {
                  if (t.getId()) {
                    const i = h.default.getHotkeyByControlButton(t);
                    e.toLowerCase() === i &&
                      t.parentPage.visible &&
                      t.visible &&
                      (t.onPress(), t.animateFakePress());
                  }
                });
              },
            },
            {
              key: 'onPress',
              value() {
                let t = L.game.GUI,
                  e = t.getControlPanel();
                this.activate(),
                e.selectedControlButton &&
                    e.selectedControlButton.deactivate(),
                (e.selectedControlButton = this);
              },
            },
            {
              key: 'addTooltips',
              value() {
                this.addTooltip(),
                this.addProductionTooltip(),
                this.addResearchTooltip(),
                this.addSpellTooltip();
              },
            },
            {
              key: 'addTooltip',
              value() {
                const t = this;
                (0, k.tooltipify)({
                  target: this,
                  label(e) {
                    let i = e.getCustomTooltipId() || e.getId(),
                      n = h.default.getTranslationKeyById(i),
                      r = v.default.getInstance().translate(n),
                      a = h.default.getHotkeyByControlButton(t);
                    return `${r} ${a ? `(${a.toUpperCase()})` : ''}`;
                  },
                  test() {
                    return t.type === 0;
                  },
                });
              },
            },
            {
              key: 'setCustomTooltipId',
              value(t) {
                this.customTooltipId = t;
              },
            },
            {
              key: 'getCustomTooltipId',
              value() {
                return this.customTooltipId;
              },
            },
            {
              key: 'addProductionTooltip',
              value() {
                const t = this;
                O.default.tooltipify({
                  target: this,
                  test() {
                    return t.type === 1 || t.type === 2;
                  },
                });
              },
            },
            {
              key: 'addResearchTooltip',
              value() {
                const t = this;
                S.default.tooltipify({
                  target: this,
                  test() {
                    return t.type === 3;
                  },
                });
              },
            },
            {
              key: 'addSpellTooltip',
              value() {
                const t = this;
                I.default.tooltipify({
                  target: this,
                  test() {
                    return t.type === 4;
                  },
                });
              },
            },
            {
              key: 'activate',
              value() {
                if (this.disabled) return this;
                let t = h.default.getLogicByControlButton(this),
                  e = this.getControlPage(),
                  i = e.getControlPanel();
                return (
                  typeof t.activate === 'function' &&
                    t.activate(this.entityManager, i, this),
                  this.getId() !== 'cancel' &&
                    l.default
                      .getInstance()
                      .playAudioSprite({ sprite: 'sfx', marker: 'HUD_click' }),
                  this
                );
              },
            },
            {
              key: 'deactivate',
              value() {
                if (this.disabled) return this;
                let t = h.default.getLogicByControlButton(this),
                  e = this.getControlPage(),
                  i = e.getControlPanel();
                return (
                  typeof t.deactivate === 'function' &&
                    t.deactivate(this.entityManager, i, this),
                  this
                );
              },
            },
            {
              key: 'disable',
              value() {
                (this.disabled = !0), (this.filters = [this.filterGray]);
              },
            },
            {
              key: 'enable',
              value() {
                (this.disabled = !1), (this.filters = null);
              },
            },
            {
              key: 'reset',
              value() {
                this.enable(),
                (this.visible = !1),
                (this.alpha = 1),
                this.entityIconsSprite &&
                    (this.entityIconsSprite.visible = !1),
                this.researchIconSprite &&
                    (this.researchIconSprite.visible = !1);
              },
            },
            {
              key: 'animateOnDown',
              value() {
                this.pressed ||
                  this.disabled ||
                  ((this.y += 2), (this.alpha = 0.75), (this.pressed = !0));
              },
            },
            {
              key: 'animateOnUp',
              value() {
                this.disabled ||
                  ((this.y -= 2), (this.alpha = 1), (this.pressed = !1));
              },
            },
            {
              key: 'animateFakePress',
              value() {
                const t = this;
                this.animateOnDown(),
                this.animateTimer && clearTimeout(this.animateTimer),
                (this.animateTimer = setTimeout(() => t.animateOnUp(), 250));
              },
            },
            {
              key: 'setId',
              value(t) {
                return (
                  (this.id = t), this.setButtonFrame(t), this.setType(0), this
                );
              },
            },
            {
              key: 'setButtonFrame',
              value(t) {
                (this.frameName = R[t]),
                this.entityIconsSprite &&
                    (this.entityIconsSprite.visible = !1),
                this.researchIconSprite &&
                    (this.researchIconSprite.visible = !1);
              },
            },
            {
              key: 'convertToProduceButton',
              value(t) {
                this.setType(1),
                this.setButtonLabelByEntity('produce', t),
                this.setProducableEntity(t),
                this.enableOrDisableByDependencies(t),
                this.setHotKeyId(t);
              },
            },
            {
              key: 'convertToConstructionButton',
              value(t) {
                this.setType(2),
                this.setButtonLabelByEntity('construct', t),
                this.setProducableEntity(t),
                this.enableOrDisableByDependencies(t),
                this.setHotKeyId(t);
              },
            },
            {
              key: 'convertToResearchButton',
              value(t) {
                this.setType(3),
                this.setButtonLabelByResearchId('research', t),
                this.setResearchId(t),
                this.enableOrDisableByDependencies(t);
              },
            },
            {
              key: 'convertToUpgradeButton',
              value(t) {
                this.setType(2),
                this.setButtonLabelByEntity('upgrade', t),
                this.setProducableEntity(t),
                this.enableOrDisableByDependencies(t),
                this.setHotKeyId(t);
              },
            },
            {
              key: 'convertToSpellButton',
              value(t) {
                (this.id = 'spell'),
                this.setButtonFrame(t),
                this.setType(4),
                this.setSpellId(t),
                this.setHotKeyId(t);
              },
            },
            {
              key: 'setButtonLabelByEntity',
              value(t, e) {
                this.entityIconsSprite ||
                  ((this.entityIconsSprite = this.game.add.sprite(
                    5,
                    6,
                    _.SPRITESHEET_ID,
                  )),
                  this.addChild(this.entityIconsSprite)),
                (this.id = t),
                (this.frameName = 'gui_btn_47_spc.png'),
                (this.entityIconsSprite.frame = this.productionIconCollection.getFrameById(e)),
                (this.entityIconsSprite.visible = !0);
              },
            },
            {
              key: 'setButtonLabelByResearchId',
              value(t, e) {
                const i = this.techManager.getTechById(e);
                if (!i) { return void console.warn(`Tech cannot be found for researchId: ${e}`); }
                const n = i.icon;
                this.researchIconSprite ||
                  ((this.researchIconSprite = this.game.add.sprite(
                    0,
                    0,
                    n.spritesheet,
                  )),
                  this.addChild(this.researchIconSprite)),
                (this.id = t),
                (this.frameName = 'gui_btn_47_spc.png'),
                (this.visible = !1),
                (this.researchIconSprite.frameName = n.frameName),
                (this.researchIconSprite.visible = !0);
              },
            },
            {
              key: 'enableOrDisableByDependencies',
              value(t) {
                g.default
                  .getInstance()
                  .getUser()
                  .hasAllRequiredEntitiesFor(t) || this.disable();
              },
            },
            {
              key: 'setProducableEntity',
              value(t) {
                this.producableEntityId = t;
              },
            },
            {
              key: 'setResearchId',
              value(t) {
                this.researchId = t;
              },
            },
            {
              key: 'setSpellId',
              value(t) {
                this.spellId = t;
              },
            },
            {
              key: 'setType',
              value(t) {
                this.type = t || 0;
              },
            },
            {
              key: 'setCoords',
              value(t, e) {
                return (this.x = t), (this.y = e), this;
              },
            },
            {
              key: 'setHotKeyId',
              value(t) {
                this.hotKeyId = t;
              },
            },
            {
              key: 'getId',
              value() {
                return this.id;
              },
            },
            {
              key: 'getHotkeyId',
              value() {
                return this.hotKeyId;
              },
            },
            {
              key: 'getControlPage',
              value() {
                return this.parent;
              },
            },
            {
              key: 'getProducableEntity',
              value() {
                return this.producableEntityId;
              },
            },
            {
              key: 'getResearch',
              value() {
                return this.researchId;
              },
            },
            {
              key: 'getSpell',
              value() {
                return this.spellId;
              },
            },
            {
              key: 'getType',
              value() {
                return this.type;
              },
            },
            {
              key: 'isDisabled',
              value() {
                return this.disabled;
              },
            },
            {
              key: 'isProductionButton',
              value() {
                return this.getType() === 1;
              },
            },
            {
              key: 'isConstructionButton',
              value() {
                return this.getType() === 2;
              },
            },
            {
              key: 'isResearchButton',
              value() {
                return this.getType() === 3;
              },
            },
            {
              key: 'isSpellButton',
              value() {
                return this.getType() === 4;
              },
            },
          ]),
          e
        );
      }(Phaser.Sprite));
    e.default = D;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 }),
    (e.buttonLogics = void 0);
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(611),
      s = n(o),
      u = i(604),
      l = n(u),
      c = i(605),
      h = n(c),
      d = i(584),
      f = n(d),
      p = i(583),
      g = n(p),
      y = i(603),
      v = n(y),
      m = i(598),
      b = n(m),
      _ = i(596),
      w = n(_),
      x = i(612),
      P = n(x),
      k = i(582),
      T = n(k),
      O = i(591),
      E = n(O),
      S = i(589),
      C = n(S),
      I = i(606),
      M = n(I),
      A = i(608),
      R = n(A),
      L = i(588),
      D = n(L),
      B = i(587),
      j = n(B),
      F = i(585),
      U = n(F),
      G = i(609),
      N = n(G),
      W = i(597),
      H = n(W),
      X = i(599),
      V = n(X),
      z = i(607),
      Y = n(z),
      q = i(600),
      K = n(q),
      Q = i(595),
      J = n(Q),
      Z = i(613),
      $ = n(Z),
      tt = i(610),
      et = n(tt),
      it = i(138),
      nt = n(it),
      rt = (e.buttonLogics = {
        produce: M.default,
        research: R.default,
        cancelProduction: j.default,
        cancelResearch: D.default,
        cancelConstruction: U.default,
        stop: s.default,
        move: l.default,
        patrol: h.default,
        hold: K.default,
        cancel: f.default,
        attack: g.default,
        mining: v.default,
        follow: b.default,
        dock: w.default,
        undock: P.default,
        attach: T.default,
        constructionPage: E.default,
        construct: C.default,
        setRallyPoint: N.default,
        establishBase: H.default,
        forceDelivery: V.default,
        repairpod: Y.default,
        deploy: J.default,
        upgrade: $.default,
        spell: et.default,
      }),
      at = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'getHotkeyByControlButton',
              value(t) {
                return this.getHotkeyById(t.getHotkeyId() || t.getId());
              },
            },
            {
              key: 'getLogicByControlButton',
              value(t) {
                return this.getLogicById(t.getId());
              },
            },
            {
              key: 'getLogicById',
              value(t) {
                if (!rt[t]) {
                  throw new Error('There is no ButtonLogic registered to the given Id');
                }
                return rt[t];
              },
            },
            {
              key: 'getHotkeyById',
              value(t) {
                return nt.default.getInstance().getKeyByLogicId(t);
              },
            },
            {
              key: 'getTranslationKeyById',
              value(t) {
                for (
                  let e = Object.keys(rt), i = 0, n = e.length;
                  i < n;
                  i += 1
                ) { if (e[i] === t) return `abilities.${e[i]}`; }
                return '';
              },
            },
          ]),
          t
        );
      }());
    e.default = new at();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e, i) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
          : (t[e] = i),
        t
      );
    }
    function a(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function o(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function s(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(86),
      c = n(l),
      h = i(590),
      d = n(h),
      f = i(601),
      p = n(f),
      g = i(602),
      y = n(g),
      v = i(586),
      m = n(v),
      b = i(1),
      _ = n(b),
      w = i(11),
      x = n(w),
      P = window.fivenations,
      k = (function (t) {
        function e() {
          a(this, e);
          const t = o(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, P.game.game),
          );
          return t.init(), t;
        }
        return (
          s(e, t),
          u(e, [
            {
              key: 'init',
              value() {
                let t;
                (this.entityManager = x.default.getInstance()),
                (this.controlPanelPages =
                    ((t = {}),
                    r(t, 0, this.add(new c.default(this))),
                    r(t, 1, this.add(new d.default(this))),
                    r(t, 2, this.add(new p.default(this))),
                    r(t, 3, this.add(new y.default(this))),
                    r(t, 4, this.add(new m.default(this))),
                    t)),
                this.selectMainPage(),
                this.setEventListeners();
              },
            },
            {
              key: 'selectPage',
              value(t) {
                const e =
                  !(arguments.length > 1 && void 0 !== arguments[1]) ||
                  arguments[1];
                if (this.selectedPageIndex !== t) {
                  for (
                    var i = _.default.getInstance(),
                      n = Object.keys(this.controlPanelPages),
                      r = 0;
                    r < n.length;
                    r += 1
                  ) { this.controlPanelPages[n[r]].visible = r === t; }
                  (this.selectedPageIndex = t),
                  e && i.local.dispatch('gui/controlpanel/change');
                }
              },
            },
            {
              key: 'setEventListeners',
              value() {
                const t = _.default.getInstance();
                t.local.addEventListener(
                  'gui/selection/change',
                  this.refresh.bind(this),
                ),
                t.local.addEventListener(
                  'gui/controlpage/update',
                  this.refresh.bind(this),
                ),
                t.local.addEventListener(
                  'gui/controlpanel/change',
                  this.refresh.bind(this),
                );
              },
            },
            {
              key: 'appendTo',
              value(t, e, i) {
                if (!t) throw new Error('Invalid Phaser.Sprite object!');
                (this.x = e), (this.y = i), t.addChild(this), (this.panel = t);
              },
            },
            {
              key: 'refresh',
              value() {
                const t = this.entityManager.entities(':user:selected');
                if (!t || t.length === 0) return void this.hide();
                this.show(),
                this.changePageBySelectedEntites(t),
                this.controlPanelPages[this.selectedPageIndex] &&
                    this.controlPanelPages[this.selectedPageIndex].refresh(t);
              },
            },
            {
              key: 'changePageBySelectedEntites',
              value(t) {
                (t.length === 1 && t[0].isInConstruction()) ||
                t[0].isInUpgrade()
                  ? this.selectPage(2, !1)
                  : t.length === 1 && t[0].isResearching()
                    ? this.selectPage(3, !1)
                    : (this.selectedPageIndex !== 2 &&
                      this.selectedPageIndex !== 3) ||
                    this.selectPage(0, !1);
              },
            },
            {
              key: 'selectMainPage',
              value() {
                this.selectPage(0);
              },
            },
            {
              key: 'selectConstructionPage',
              value() {
                this.selectPage(1);
              },
            },
            {
              key: 'selectInConstructionPage',
              value() {
                this.selectPage(2);
              },
            },
            {
              key: 'selectInResearchPage',
              value() {
                this.selectPage(3);
              },
            },
            {
              key: 'selectCancelPage',
              value() {
                this.selectPage(4);
              },
            },
            {
              key: 'show',
              value() {
                this.visible = !0;
              },
            },
            {
              key: 'hide',
              value() {
                _.default.getInstance().local.dispatch('gui/controlpanel/hide'),
                (this.visible = !1);
              },
            },
            {
              key: 'getEntityManager',
              value() {
                return this.entityManager;
              },
            },
            {
              key: 'getCurrentPage',
              value() {
                return this.controlPanelPages[this.selectedPageIndex];
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = k;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = i(1),
      a = n(r),
      o = i(22),
      s = n(o);
    e.default = {
      activate() {
        let t = !0,
          e = !1;
        s.default.getInstance().isDown(Phaser.KeyCode.SHIFT) &&
          ((t = !1), (e = !0)),
        a.default
          .getInstance()
          .synced.entities(':user:selected')
          .transform({ resetActivityQueue: t, addAsLast: e });
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(1),
      s = n(o),
      u = i(34),
      l = n(u),
      c = i(24),
      h = n(c),
      d = i(22),
      f = n(d),
      p = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value(t, e) {
                let i = h.default.getInstance().start(l.default),
                  n = !0,
                  r = !1;
                f.default.getInstance().isDown(Phaser.KeyCode.SHIFT) &&
                  ((n = !1), (r = !0)),
                i.on('select', () => {
                  const i = t.entities().find(t => !t.isNotClickable() && t.isHover());
                  i &&
                      (s.default
                        .getInstance()
                        .synced.entities(':user:selected')
                        .getToDock({
                          targetEntity: i,
                          resetActivityQueue: n,
                          addAsLast: r,
                        }),
                      i.selectedAsTarget()),
                  s.default
                    .getInstance()
                    .local.dispatch(
                      'user/entity/command',
                      t.entities(':user:selected'),
                    ),
                  e.selectMainPage();
                });
              },
            },
          ]),
          t
        );
      }());
    e.default = new p();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t) {
      return (
        !!t.canConstructThere() ||
        (c.default.getInstance().local.dispatch('building/placement/occupied'),
        !1)
      );
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(8),
      u = n(s),
      l = i(1),
      c = n(l),
      h = i(34),
      d = n(h),
      f = i(24),
      p = n(f),
      g = i(74),
      y = n(g),
      v = window.fivenations,
      m = (function () {
        function t() {
          r(this, t);
        }
        return (
          o(t, [
            {
              key: 'activate',
              value(t, e) {
                let i = t.entities(':user:selected'),
                  n = i[0].getDataObject().getDeployMCVTo(),
                  r = n,
                  o = p.default.getInstance(),
                  s = y.default.getInstance(),
                  l = s.getBuildingPlacementDisplay(),
                  h = o.start(d.default);
                h.on('select', () => {
                  if (!a(l)) return void h.doNotCancel();
                  const t = {
                    resetActivityQueue: !0,
                    placementCoords: l.getPlacementCoords(),
                    entityId: r,
                  };
                  c.default
                    .getInstance()
                    .synced.entities(':user:selected')
                    .createDeploymentSite(t),
                  u.default
                    .getInstance()
                    .playAudioSprite({
                      sprite: 'sfx',
                      marker: 'HUD_place_structure',
                    }),
                  h.doCancel(),
                  e.selectMainPage(),
                  l.deactivate();
                }),
                h.on('cancel', () => {
                  v.game.GUI.isSelectionLocked() ||
                      (e.selectMainPage(), l.deactivate());
                }),
                e.selectCancelPage(),
                l.activate(r);
              },
            },
          ]),
          t
        );
      }());
    e.default = new m();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(24),
      s = n(o),
      u = i(1),
      l = n(u),
      c = i(34),
      h = n(c),
      d = i(22),
      f = n(d),
      p = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value(t, e) {
                let i = s.default.getInstance().start(h.default),
                  n = !0,
                  r = !1;
                f.default.getInstance().isDown(Phaser.KeyCode.SHIFT) &&
                  ((n = !1), (r = !0)),
                i.on('select', () => {
                  const i = t.entities().find(t => !t.isNotClickable() && t.isHover());
                  i &&
                      (l.default
                        .getInstance()
                        .synced.entities(':user:selected')
                        .follow({
                          targetEntity: i,
                          resetActivityQueue: n,
                          addAsLast: r,
                        }),
                      i.selectedAsTarget()),
                  l.default
                    .getInstance()
                    .local.dispatch(
                      'user/entity/command',
                      t.entities(':user:selected'),
                    ),
                  e.selectMainPage();
                });
              },
            },
          ]),
          t
        );
      }());
    e.default = new p();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(1),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'activate',
              value() {
                o.default
                  .getInstance()
                  .synced.entities(':user:selected')
                  .forceDeliver();
              },
            },
          ]),
          t
        );
      }());
    e.default = new s();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(1),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'activate',
              value() {
                o.default
                  .getInstance()
                  .synced.entities(':user:selected')
                  .reset()
                  .holdPosition({ resetActivityQueue: !0 });
              },
            },
          ]),
          t
        );
      }());
    e.default = new s();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(86),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'populate',
              value() {
                const t = this.createControlButton('cancelConstruction');
                t.setCustomTooltipId('cancel'),
                this.addControlButtonAtPosition(t, 0);
              },
            },
            { key: 'refresh', value() {} },
          ]),
          e
        );
      }(u.default));
    e.default = l;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(86),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'populate',
              value() {
                const t = this.createControlButton('cancelResearch');
                this.addControlButtonAtPosition(t, 0);
              },
            },
            { key: 'refresh', value() {} },
          ]),
          e
        );
      }(u.default));
    e.default = l;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(24),
      s = n(o),
      u = i(1),
      l = n(u),
      c = i(34),
      h = n(c),
      d = i(22),
      f = n(d),
      p = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value(t, e) {
                let i = s.default.getInstance().start(h.default),
                  n = !0,
                  r = !1;
                f.default.getInstance().isDown(Phaser.KeyCode.SHIFT) &&
                  ((n = !1), (r = !0)),
                i.on('select', () => {
                  const i = t.entities().find(t => !t.isNotClickable() && t.isHover());
                  i &&
                      (l.default
                        .getInstance()
                        .synced.entities(':user:selected')
                        .mine({
                          targetEntity: i,
                          resetActivityQueue: n,
                          addAsLast: r,
                        }),
                      i.selectedAsTarget()),
                  l.default
                    .getInstance()
                    .local.dispatch(
                      'user/entity/command',
                      t.entities(':user:selected'),
                    ),
                  e.selectMainPage();
                });
              },
            },
          ]),
          t
        );
      }());
    e.default = new p();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(24),
      s = n(o),
      u = i(1),
      l = n(u),
      c = i(34),
      h = n(c),
      d = i(22),
      f = n(d),
      p = window.fivenations,
      g = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value(t, e) {
                let i = s.default.getInstance().start(h.default),
                  n = !0,
                  r = !1;
                f.default.getInstance().isDown(Phaser.KeyCode.SHIFT) &&
                  ((n = !1), (r = !0)),
                i.on('select', (i) => {
                  const a = i.getRealCoords();
                  l.default
                    .getInstance()
                    .synced.entities(':user:selected')
                    .move({
                      x: a.x,
                      y: a.y,
                      addAsLast: r,
                      resetActivityQueue: n,
                    }),
                  l.default
                    .getInstance()
                    .local.dispatch(
                      'user/entity/command',
                      t.entities(':user:selected'),
                    ),
                  p.game.GUI.putClickAnim(a.x, a.y),
                  e.selectMainPage();
                });
              },
            },
          ]),
          t
        );
      }());
    e.default = new g();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(1),
      s = n(o),
      u = i(34),
      l = n(u),
      c = i(24),
      h = n(c),
      d = i(22),
      f = n(d),
      p = window.fivenations,
      g = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value(t, e) {
                let i = h.default.getInstance().start(l.default),
                  n = !1,
                  r = !0;
                f.default.getInstance().isDown(Phaser.KeyCode.SHIFT) &&
                  ((r = !1), (n = !0)),
                i.on('select', (i) => {
                  const a = i.getRealCoords();
                  s.default
                    .getInstance()
                    .synced.entities(':user:selected')
                    .patrol({
                      x: a.x,
                      y: a.y,
                      resetActivityQueue: r,
                      addAsLast: n,
                    }),
                  s.default
                    .getInstance()
                    .local.dispatch(
                      'user/entity/command',
                      t.entities(':user:selected'),
                    ),
                  p.game.GUI.putClickAnim(a.x, a.y, 'click-friendly'),
                  e.selectMainPage();
                });
              },
            },
          ]),
          t
        );
      }());
    e.default = new g();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = window.fivenations,
      o = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'activate',
              value(t, e, i) {
                let n = i.getProducableEntity(),
                  r = a.game.resourceChecker
                    .getInsufficientResources(a.game.playerManager.getUser(), n)
                    .filter(t => t !== 'space');
                if (r.length) { return void a.game.eventEmitter.local.dispatch(`resources/unsufficient/${r.shift()}`); }
                a.game.eventEmitter.synced
                  .entities(':user:selected')
                  .addProduction({ targetId: n });
              },
            },
          ]),
          t
        );
      }());
    e.default = new o();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(1),
      s = n(o),
      u = i(34),
      l = n(u),
      c = i(24),
      h = n(c),
      d = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value(t, e) {
                h.default
                  .getInstance()
                  .start(l.default)
                  .on('select', () => {
                    const i = t.entities().find(t => (
                      !t.isNotClickable() && t.isHover() && !t.isSelected()
                    ));
                    i &&
                      (s.default
                        .getInstance()
                        .synced.entities(':user:selected')
                        .attack({
                          targetEntity: i,
                          resetActivityQueue: !0,
                          targetFiring: !0,
                          triggeredByUser: !0,
                        }),
                      i.selectedAsTarget()),
                    e.selectMainPage();
                  });
              },
            },
          ]),
          t
        );
      }());
    e.default = new d();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t) {
      for (
        let e = c.default.getInstance(),
          i = u.default.getInstance(),
          n = d.default.getInstance().getUser(),
          r = e.getRequiredResources(t),
          a = n.getAvailableResources(),
          o = Object.keys(r),
          s = 0;
        s < o.length;
        s += 1
      ) {
        const l = o[s];
        if (r[l] > a[l]) { return i.local.dispatch(`resources/unsufficient/${l}`), !1; }
      }
      return !0;
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(1),
      u = n(s),
      l = i(23),
      c = n(l),
      h = i(4),
      d = n(h),
      f = (function () {
        function t() {
          r(this, t);
        }
        return (
          o(t, [
            {
              key: 'activate',
              value(t, e, i) {
                let n = i.getResearch(),
                  r = u.default.getInstance();
                a(n) &&
                  (r.synced
                    .entities(':user:selected')
                    .addResearch({ targetId: n }),
                  r.local.dispatch('gui/controlpanel/change'));
              },
            },
          ]),
          t
        );
      }());
    e.default = new f();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(1),
      s = n(o),
      u = i(34),
      l = n(u),
      c = i(24),
      h = n(c),
      d = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value(t, e) {
                h.default
                  .getInstance()
                  .start(l.default)
                  .on('select', (t) => {
                    const i = t.getRealCoords();
                    s.default
                      .getInstance()
                      .synced.entities(':user:selected')
                      .setRallyPoint(i),
                    e.selectMainPage();
                  });
              },
            },
          ]),
          t
        );
      }());
    e.default = new d();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(24),
      s = n(o),
      u = i(1),
      l = n(u),
      c = i(34),
      h = n(c),
      d = i(103),
      f = n(d),
      p = i(22),
      g = n(p),
      y = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'activate',
              value(t, e, i) {
                let n = f.default.getInstance(),
                  r = i.getSpell(),
                  a = n.getSpellDataById(r),
                  o = a.selectionType;
                o === 'entity'
                  ? this.onSelectEntity(t, e, r)
                  : o === 'coords'
                    ? this.onSelectCoords(t, e, r)
                    : o === 'self' && this.onSelectSelf(t, r);
              },
            },
            {
              key: 'onSelectEntity',
              value(t, e, i) {
                let n = l.default.getInstance(),
                  r = n.synced.entities(':user:selected'),
                  a = s.default.getInstance().start(h.default),
                  o = !0,
                  u = !1;
                g.default.getInstance().isDown(Phaser.KeyCode.SHIFT) &&
                  ((o = !1), (u = !0)),
                a.on('select', () => {
                  const a = t.entities().find(t => !t.isNotClickable() && t.isHover());
                  a
                    ? (r.castSpell({
                      targetEntity: a,
                      spellId: i,
                      resetActivityQueue: o,
                      addAsLast: u,
                    }),
                    a.selectedAsTarget())
                    : n.local.dispatch('attack/invalid-target'),
                  e.selectMainPage();
                });
              },
            },
            {
              key: 'onSelectCoords',
              value(t, e, i) {
                let n = s.default.getInstance().start(h.default),
                  r = l.default.getInstance().synced.entities(':user:selected'),
                  a = !0,
                  o = !1;
                g.default.getInstance().isDown(Phaser.KeyCode.SHIFT) &&
                  ((a = !1), (o = !0)),
                n.on('select', (t) => {
                  const n = t.getRealCoords();
                  r.castSpell({
                    targetCoords: n,
                    spellId: i,
                    resetActivityQueue: a,
                    addAsLast: o,
                  }),
                  e.selectMainPage();
                });
              },
            },
            {
              key: 'onSelectSelf',
              value(t, e) {
                l.default
                  .getInstance()
                  .synced.entities(':user:selected')
                  .castSpell({
                    spellId: e,
                    resetActivityQueue: !0,
                    addAsLast: !1,
                  });
              },
            },
          ]),
          t
        );
      }());
    e.default = new y();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(1),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'activate',
              value() {
                o.default
                  .getInstance()
                  .synced.entities(':user:selected')
                  .reset()
                  .stop({ resetActivityQueue: !0 });
              },
            },
          ]),
          t
        );
      }());
    e.default = new s();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(1),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'activate',
              value() {
                o.default
                  .getInstance()
                  .synced.entities(':user:selected')
                  .reset()
                  .undock({ clearBound: !0 });
              },
            },
          ]),
          t
        );
      }());
    e.default = new s();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t) {
      for (
        let e = d.default.getInstance(),
          i = u.default.getInstance(),
          n = c.default.getInstance().getUser(),
          r = e.getRequiredResources(t),
          a = n.getAvailableResources(),
          o = Object.keys(r),
          s = 0;
        s < o.length;
        s += 1
      ) {
        const l = o[s];
        if (r[l] > a[l]) { return i.local.dispatch(`resources/unsufficient/${l}`), !1; }
      }
      return !0;
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(1),
      u = n(s),
      l = i(4),
      c = n(l),
      h = i(11),
      d = n(h),
      f = (function () {
        function t() {
          r(this, t);
        }
        return (
          o(t, [
            {
              key: 'activate',
              value(t, e, i) {
                const n = i.upgradeTo;
                a(n) &&
                  (u.default
                    .getInstance()
                    .synced.entities(':user:selected')
                    .upgrade({ upgradeTo: n }),
                  e.selectInConstructionPage());
              },
            },
          ]),
          t
        );
      }());
    e.default = new f();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(615),
      c = n(l),
      h = i(616),
      d = n(h),
      f = (function (t) {
        function e() {
          r(this, e);
          let t = s(Phaser.GAMES, 1),
            i = t[0],
            n = a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, i),
            );
          return n.initIconList(), n.initPopup(), n;
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'initIconList',
              value() {
                this.icons = [];
                for (let t = 0; t < 25; t += 1) {
                  const e = new c.default();
                  (e.x = 14 + (t % 5) * e.width),
                  (e.y = 8 + Math.floor(t / 5) * e.height),
                  this.icons.push(e),
                  this.add(e);
                }
              },
            },
            {
              key: 'initPopup',
              value() {
                this.popup = new d.default();
              },
            },
            {
              key: 'updateByEntity',
              value(t) {
                let e = this,
                  i = t.getSpellManager(),
                  n = i.getSpells().filter(t => t.isActivated() && t.getIconFrameName());
                this.icons.forEach(t => t.hide()),
                n.forEach((t, i) => {
                  const n = e.icons[i];
                  n && (n.show(), n.updateBySpell(t));
                });
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = f;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(1),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = 'gui_hud_effects',
      h = (function (t) {
        function e() {
          n(this, e);
          let t = o(Phaser.GAMES, 1),
            i = t[0],
            a = r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, i, 0, 0, c),
            );
          return (
            a.game.add.existing(a),
            a.initDefaultEventListeners(),
            a.initHelpers(),
            a
          );
        }
        return (
          a(e, t),
          s(e, [
            {
              key: 'initDefaultEventListeners',
              value() {
                (this.inputEnabled = !0),
                this.events.onInputOver.add(this.onInputOver, this),
                this.events.onInputOut.add(this.onInputOut, this);
              },
            },
            {
              key: 'initHelpers',
              value() {
                this.emitter = l.default.getInstance();
              },
            },
            {
              key: 'updateBySpell',
              value(t) {
                t &&
                  this.spell !== t &&
                  (this.updateTarget(t), this.updateIcon(t));
              },
            },
            {
              key: 'updateTarget',
              value(t) {
                this.spell = t;
              },
            },
            {
              key: 'updateIcon',
              value(t) {
                const e = t.getIconFrameName();
                this.frameName = e;
              },
            },
            {
              key: 'show',
              value() {
                this.visible = !0;
              },
            },
            {
              key: 'hide',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'onInputOver',
              value() {
                (this.alpha = 0.7),
                this.emitter.local.dispatch(
                  'gui/activespells/over',
                  this.spell,
                );
              },
            },
            {
              key: 'onInputOut',
              value() {
                (this.alpha = 1),
                this.emitter.local.dispatch(
                  'gui/activespells/out',
                  this.spell,
                );
              },
            },
          ]),
          e
        );
      }(Phaser.Sprite));
    e.default = h;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(1),
      c = n(l),
      h = i(14),
      d = n(h),
      f = i(7),
      p = n(f),
      g = i(2),
      y = {
        titleFont: '12px BerlinSansFB-Reg',
        titleColor: '#7597CD',
        descriptionFont: '11px BerlinSansFB-Reg',
        descriptionColor: '#ffffff',
      },
      v = (function (t) {
        function e() {
          r(this, e);
          let t = s(Phaser.GAMES, 1),
            i = t[0],
            n = a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, i),
            );
          return (
            n.addToGUILayer(),
            n.initBackgroundSprite(),
            n.initTextComponents(),
            n.initTranslationManager(),
            n.initEventListeners(),
            n
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'addToGUILayer',
              value() {
                d.default
                  .getInstance()
                  .getGroup(g.GROUP_GUI)
                  .add(this),
                (this.fixedToCamera = !0),
                this.cameraOffset.setTo(874, 161),
                (this.visible = !1);
              },
            },
            {
              key: 'initBackgroundSprite',
              value() {
                (this.background = this.game.add.sprite(0, 0, 'gui-hd')),
                (this.background.frameName =
                    'HD_gui_descriptionpopup_sm.png'),
                this.add(this.background);
              },
            },
            {
              key: 'initTextComponents',
              value() {
                (this.nameElm = this.add(this.game.add.text(20, 15, '', {
                  font: y.titleFont,
                  fill: y.titleColor,
                }))),
                (this.descriptionElm = this.add(this.game.add.text(20, 43, '', {
                  font: y.descriptionFont,
                  fill: y.descriptionColor,
                  align: 'left',
                  wordWrap: !0,
                  wordWrapWidth: this.background.width - 40,
                }))),
                (this.descriptionElm.lineSpacing = -5);
              },
            },
            {
              key: 'initTranslationManager',
              value() {
                this.translator = p.default.getInstance();
              },
            },
            {
              key: 'initEventListeners',
              value() {
                const t = c.default.getInstance();
                t.local.addEventListener(
                  'gui/activespells/over',
                  this.onSpellOver.bind(this),
                ),
                t.local.addEventListener(
                  'gui/activespells/out',
                  this.onSpellOut.bind(this),
                );
              },
            },
            {
              key: 'updateContent',
              value(t) {
                let e = t.getId(),
                  i = `spells.${e}`,
                  n = `spells.descriptions${e}`;
                (this.nameElm.text = this.translator.translate(i)),
                (this.descriptionElm.y = 32),
                (this.descriptionElm.text = this.translator.translate(n));
              },
            },
            {
              key: 'show',
              value() {
                this.visible = !0;
              },
            },
            {
              key: 'hide',
              value() {
                this.visible = !1;
              },
            },
            {
              key: 'onSpellOver',
              value(t) {
                this.updateContent(t), this.show();
              },
            },
            {
              key: 'onSpellOut',
              value() {
                this.hide();
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = v;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(40),
      c = n(l),
      h = i(4),
      d = n(h),
      f = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'execute',
              value(t, i) {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'execute',
                  this,
                ).call(this, t);
                let n = t.willActivityQueueReset(),
                  r = t.getTargetEntity(),
                  a = t.willBeAddedAsLast();
                this.getEventEmitter(i).attach({
                  targetEntity: r,
                  resetActivityQueue: n,
                  addAsLast: a,
                }),
                r.selectedAsTarget();
              },
            },
            {
              key: 'test',
              value(t, e) {
                if (e.isInConstruction()) return !1;
                const i = t.getTargetEntity();
                if (!e.canAttach() || !i || !i.isAttachable() || e.isAttached()) { return !1; }
                const n = d.default.getInstance();
                return !n.isEntityHostileToPlayer(i, n.getUser());
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = f;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(4),
      c = n(l),
      h = i(40),
      d = n(h),
      f = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'execute',
              value(t, i) {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'execute',
                  this,
                ).call(this, t);
                let n = t.willActivityQueueReset(),
                  r = t.willBeAddedAsLast(),
                  a = t.getTargetEntity();
                this.getEventEmitter(i).attack({
                  targetEntity: a,
                  resetActivityQueue: n,
                  triggeredByUser: !0,
                  addAsLast: r,
                }),
                a.selectedAsTarget();
              },
            },
            {
              key: 'test',
              value(t, e) {
                if (e.isInConstruction()) return !1;
                const i = t.getTargetEntity();
                if (!i) return !1;
                let n = c.default.getInstance(),
                  r = n.isEntityHostileToPlayer(i, n.getUser());
                return e.getWeaponManager().canScanFriendlyOnly() ? !r : r;
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = f;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(40),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t, i) {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'execute',
                  this,
                ).call(this, t);
                let n = t.willActivityQueueReset(),
                  r = t.willBeAddedAsLast(),
                  a = t.getTargetEntity();
                this.getEventEmitter(i).construct({
                  targetEntity: a,
                  resetActivityQueue: n,
                  addAsLast: r,
                }),
                a.selectedAsTarget();
              },
            },
            {
              key: 'test',
              value(t, e) {
                if (e.isInConstruction()) return !1;
                const i = t.getTargetEntity();
                return !!i && !!e.canConstruct() && !!i.isInConstruction();
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(40),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t, i) {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'execute',
                  this,
                ).call(this, t);
                let n = t.willActivityQueueReset(),
                  r = t.willBeAddedAsLast(),
                  a = this.getCoords(),
                  o = a.x,
                  u = a.y;
                this.getEventEmitter(i)
                  .detach({ resetActivityQueue: n, addAsLast: r })
                  .move({
                    x: o, y: u, resetActivityQueue: n, addAsLast: r,
                  }),
                this.displayClickAnimation(o, u);
              },
            },
            {
              key: 'test',
              value(t, e) {
                if (e.isInConstruction()) return !1;
                const i = t.getTargetEntity();
                return !(
                  !e.isEntityControlledByUser() ||
                  !e.isSelected() ||
                  e.hasNoUserControl() ||
                  !e.canAttach() ||
                  i ||
                  !e.isAttached()
                );
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(40),
      c = n(l),
      h = i(4),
      d = n(h),
      f = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'execute',
              value(t, i) {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'execute',
                  this,
                ).call(this, t);
                let n = t.willActivityQueueReset(),
                  r = t.getTargetEntity(),
                  a = t.willBeAddedAsLast();
                this.getEventEmitter(i).getToDock({
                  targetEntity: r,
                  resetActivityQueue: n,
                  addAsLast: a,
                }),
                r.selectedAsTarget();
              },
            },
            {
              key: 'test',
              value(t, e) {
                let i = d.default.getInstance(),
                  n = t.getTargetEntity();
                return !(
                  e.isInConstruction() ||
                  !n ||
                  !e.canDock() ||
                  i.isEntityHostileToPlayer(n, i.getUser()) ||
                  !n.isDockable()
                );
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = f;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(40),
      c = n(l),
      h = i(4),
      d = n(h),
      f = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'execute',
              value(t, i) {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'execute',
                  this,
                ).call(this, t);
                let n = t.willActivityQueueReset(),
                  r = t.getTargetEntity(),
                  a = t.willBeAddedAsLast();
                this.getEventEmitter(i).follow({
                  targetEntity: r,
                  resetActivityQueue: n,
                  addAsLast: a,
                }),
                r.selectedAsTarget();
              },
            },
            {
              key: 'test',
              value(t, e) {
                if (e.getDataObject().isBuilding()) return !1;
                if (e.isInConstruction()) return !1;
                const i = t.getTargetEntity();
                if (!i) return !1;
                const n = d.default.getInstance();
                return !n.isEntityHostileToPlayer(i, n.getUser());
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = f;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(40),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t, i) {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'execute',
                  this,
                ).call(this, t);
                let n = t.willActivityQueueReset(),
                  r = t.getTargetEntity(),
                  a = t.willBeAddedAsLast();
                this.getEventEmitter(i).mine({
                  targetEntity: r,
                  resetActivityQueue: n,
                  addAsLast: a,
                }),
                r.selectedAsTarget();
              },
            },
            {
              key: 'test',
              value(t, e) {
                if (e.isInConstruction()) return !1;
                const i = t.getTargetEntity();
                return !!i && !!e.canMine() && !!i.isMinable();
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(1),
      c = n(l),
      h = i(40),
      d = n(h),
      f = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'bulkExecute',
              value(t, i) {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'bulkExecute',
                  this,
                ).call(this, t);
                let n = c.default.getInstance(),
                  r = t.willActivityQueueReset(),
                  a = t.willBeAddedAsLast(),
                  o = this.getCoords(),
                  s = o.x,
                  l = o.y;
                n.synced
                  .entities(i)
                  .move({
                    x: s, y: l, resetActivityQueue: r, addAsLast: a,
                  }),
                this.displayClickAnimation(s, l);
              },
            },
            {
              key: 'test',
              value(t, e) {
                const i = t.getTargetEntity();
                return !(
                  e.isInConstruction() ||
                  !e.isEntityControlledByUser() ||
                  !e.isSelected() ||
                  e.hasNoUserControl() ||
                  e.getInTransform() ||
                  e.getDataObject().isBuilding() ||
                  e.isHatching() ||
                  i
                );
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = f;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(40),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t, i) {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'execute',
                  this,
                ).call(this, t);
                let n = t.willActivityQueueReset(),
                  r = t.getTargetEntity(),
                  a = t.willBeAddedAsLast();
                this.getEventEmitter(i).returnResourceToCommand({
                  targetEntity: r,
                  resetActivityQueue: n,
                  addAsLast: a,
                }),
                r.selectedAsTarget();
              },
            },
            {
              key: 'test',
              value(t, e) {
                const i = t.getTargetEntity();
                return (
                  !!i &&
                  !(
                    i.isInConstruction() ||
                    i.getDataObject().getType() !== 'mainbase' ||
                    e.getPlayer() !== i.getPlayer() ||
                    e.getDataObject().getType() !== 'Cargo' ||
                    e.getDataObject().getCargoSum() <= 0
                  )
                );
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(40),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t, i) {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'execute',
                  this,
                ).call(this, t);
                let n = t.willActivityQueueReset(),
                  r = t.getTargetEntity(),
                  a = t.willBeAddedAsLast();
                this.getEventEmitter(i).returnResourceToStation({
                  targetEntity: r,
                  resetActivityQueue: n,
                  addAsLast: a,
                }),
                r.selectedAsTarget();
              },
            },
            {
              key: 'test',
              value(t, e) {
                const i = t.getTargetEntity();
                return !(
                  !i ||
                  !e.canMine() ||
                  i.isInConstruction() ||
                  !i.getDataObject().isMiningStation()
                );
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(1),
      l = n(u),
      c = i(40),
      h = n(c),
      d = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'execute',
              value(t, e) {
                let i = l.default.getInstance(),
                  n = this.getCoords(),
                  r = n.x,
                  a = n.y;
                i.synced.entities(e).setRallyPoint({ x: r, y: a });
              },
            },
            {
              key: 'test',
              value(t, e) {
                const i = t.getTargetEntity();
                return !(
                  (i && !i.isMinable()) ||
                  !e.getDataObject().isBuilding()
                );
              },
            },
          ]),
          e
        );
      }(h.default));
    e.default = d;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(618),
      s = n(o),
      u = i(619),
      l = n(u),
      c = i(621),
      h = n(c),
      d = i(1),
      f = n(d),
      p = i(622),
      g = n(p),
      y = i(623),
      v = n(y),
      m = i(624),
      b = n(m),
      _ = i(627),
      w = n(_),
      x = i(617),
      P = n(x),
      k = i(620),
      T = n(k),
      O = i(626),
      E = n(O),
      S = i(625),
      C = n(S),
      I = void 0,
      M = [
        new P.default(),
        new T.default(),
        new s.default(),
        new E.default(),
        new C.default(),
        new v.default(),
        new l.default(),
        new h.default(),
        new g.default(),
        new w.default(),
        new b.default(),
      ],
      A = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'execute',
              value(t) {
                this.setHelpers(t);
                const e = this.executeAllShorthands();
                this.dispatchShorthandEvent(e);
              },
            },
            {
              key: 'setHelpers',
              value(t) {
                let e = t.selectedEntities,
                  i = t.targetEntity,
                  n = t.resetActivityQueue,
                  r = t.addAsLast;
                (this.selectedEntities = e),
                (this.targetEntity = i),
                (this.resetActivityQueue = n),
                (this.addAsLast = r);
              },
            },
            {
              key: 'executeAllShorthands',
              value() {
                let t = this,
                  e = !1,
                  i = this.selectedEntities.filter(e => t.executeShortHandsOnEntity(e)),
                  n = this.selectedEntities.filter(t => t.getDataObject().isUncontrolable());
                return (
                  i.length || n.length
                    ? i.length > 0 &&
                      this.passedShorthands.forEach((n) => {
                        n.bulkExecute(t, i), n instanceof s.default && (e = !0);
                      })
                    : this.dispatchInvalidTargetEvent(),
                  e
                );
              },
            },
            {
              key: 'executeShortHandsOnEntity',
              value(t) {
                if (!t.getDataObject().isUncontrolable()) {
                  this.passedShorthands = [];
                  for (let e = 0; e < M.length; e += 1) {
                    const i = M[e];
                    if (i.test(this, t)) {
                      return (
                        i.execute(this, t), this.passedShorthands.push(i), !0
                      );
                    }
                  }
                }
                return !1;
              },
            },
            {
              key: 'dispatchShorthandEvent',
              value(t) {
                f.default
                  .getInstance()
                  .local.dispatch(
                    t ? 'user/entity/attack' : 'user/entity/command',
                    this.selectedEntities,
                  );
              },
            },
            {
              key: 'dispatchInvalidTargetEvent',
              value() {
                f.default.getInstance().local.dispatch('attack/invalid-target');
              },
            },
            {
              key: 'getTargetEntity',
              value() {
                return this.targetEntity;
              },
            },
            {
              key: 'getSelectedEntities',
              value() {
                return this.selectedEntities;
              },
            },
            {
              key: 'willActivityQueueReset',
              value() {
                return this.resetActivityQueue;
              },
            },
            {
              key: 'willBeAddedAsLast',
              value() {
                return this.addAsLast;
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return I || (I = new A()), I;
      },
    };
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = [
        [
          [[0, 0, 0], [0, 0, 0], [0, 1, 0]],
          [[0, 0, 0], [0, 0, 0], [1, 0, 0]],
          [[0, 0, 0], [1, 0, 0], [0, 0, 0]],
          [[1, 0, 0], [0, 0, 0], [0, 0, 0]],
          [[0, 1, 0], [0, 0, 0], [0, 0, 0]],
          [[0, 0, 1], [0, 0, 0], [0, 0, 0]],
          [[0, 0, 0], [0, 0, 1], [0, 0, 0]],
          [[0, 0, 0], [0, 0, 0], [0, 0, 1]],
        ],
        [
          [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 1, 1, 0]],
          [[0, 0, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [1, 1, 0, 0]],
          [[0, 0, 0, 0], [1, 0, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0]],
          [[1, 1, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]],
          [[0, 1, 1, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]],
          [[0, 0, 1, 1], [0, 0, 0, 1], [0, 0, 0, 0], [0, 0, 0, 0]],
          [[0, 0, 0, 0], [0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 0]],
          [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 1], [0, 0, 1, 1]],
        ],
        [
          [
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
            [0, 1, 1, 1, 0],
          ],
          [
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
            [1, 0, 0, 0, 0],
            [1, 0, 0, 0, 0],
            [1, 1, 1, 0, 0],
          ],
          [
            [0, 0, 0, 0, 0],
            [1, 0, 0, 0, 0],
            [1, 0, 0, 0, 0],
            [1, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
          ],
          [
            [1, 1, 1, 0, 0],
            [1, 0, 0, 0, 0],
            [1, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
          ],
          [
            [0, 1, 1, 1, 0],
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
          ],
          [
            [0, 0, 1, 1, 1],
            [0, 0, 0, 0, 1],
            [0, 0, 0, 0, 1],
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
          ],
          [
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 1],
            [0, 0, 0, 0, 1],
            [0, 0, 0, 0, 1],
            [0, 0, 0, 0, 0],
          ],
          [
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 1],
            [0, 0, 0, 0, 1],
            [0, 0, 1, 1, 1],
          ],
        ],
        [
          [
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
            [0, 1, 1, 1, 1, 0],
          ],
          [
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
            [1, 0, 0, 0, 0, 0],
            [1, 0, 0, 0, 0, 0],
            [1, 0, 0, 0, 0, 0],
            [1, 1, 1, 1, 0, 0],
          ],
          [
            [0, 0, 0, 0, 0, 0],
            [1, 0, 0, 0, 0, 0],
            [1, 0, 0, 0, 0, 0],
            [1, 0, 0, 0, 0, 0],
            [1, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
          ],
          [
            [1, 1, 1, 1, 0, 0],
            [1, 0, 0, 0, 0, 0],
            [1, 0, 0, 0, 0, 0],
            [1, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
          ],
          [
            [0, 1, 1, 1, 1, 0],
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
          ],
          [
            [0, 0, 1, 1, 1, 1],
            [0, 0, 0, 0, 0, 1],
            [0, 0, 0, 0, 0, 1],
            [0, 0, 0, 0, 0, 1],
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
          ],
          [
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 1],
            [0, 0, 0, 0, 0, 1],
            [0, 0, 0, 0, 0, 1],
            [0, 0, 0, 0, 0, 1],
            [0, 0, 0, 0, 0, 0],
          ],
          [
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 1],
            [0, 0, 0, 0, 0, 1],
            [0, 0, 0, 0, 0, 1],
            [0, 0, 1, 1, 1, 1],
          ],
        ],
      ],
      o = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'getMaskByWidth',
              value(t) {
                return t ? a[Math.min(3, t - 1)] : a[0];
              },
            },
          ]),
          t
        );
      }());
    e.default = new o();
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'prepareCullingInput',
              value(t, e, i, n, r) {
                return {
                  obstacleChunk: t,
                  obstacleId: e,
                  obstacleOffsetX: r > i ? r - i : 0,
                  obstacleOffsetY: r > n ? r - n : 0,
                  offset: r,
                };
              },
            },
            {
              key: 'checkVisibility',
              value(t, e, i) {
                for (
                  let n = t.offset,
                    r = t.offset,
                    a = t.obstacleChunk.length,
                    o = Math.abs(n - e),
                    s = Math.abs(r - i),
                    u = e < n ? 1 : -1,
                    l = i < r ? 1 : -1,
                    c = e,
                    h = i,
                    d = o - s,
                    f = 2;
                  c !== n || h !== r;

                ) {
                  const p = 2 * d;
                  p > -s && ((d -= s), (c += u)), p < o && ((d += o), (h += l));
                  let g = c - t.obstacleOffsetX,
                    y = h - t.obstacleOffsetY;
                  if (g < 0 || y < 0 || g >= a || y >= a) break;
                  const v = t.obstacleChunk[y][g];
                  if (
                    v instanceof Object &&
                    v.type === t.obstacleId &&
                    v.entity.isNotClickable()
                  ) {
                    if (f <= 0) return !1;
                    f -= 1;
                  }
                }
                return !0;
              },
            },
          ]),
          t
        );
      }());
    e.default = new a();
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(14),
      u = n(s),
      l = i(2),
      c = i(197),
      h = n(c),
      d = i(198),
      f = n(d),
      p = window.fivenations,
      g = (function () {
        function t(e) {
          r(this, t);
          const i = a(Phaser.GAMES, 1);
          (this.game = i[0]),
          this.setFogOfWar(e),
          this.initBitMapDataLayers(),
          this.initNormalMask();
        }
        return (
          o(t, [
            {
              key: 'setFogOfWar',
              value(t) {
                (this.fogOfWar = t),
                (this.tileSize = t.getMap().getTileWidth());
              },
            },
            {
              key: 'initBitMapDataLayers',
              value() {
                let t = u.default.getInstance().getGroup(l.GROUP_FOGOFWAR),
                  e = p.window.width,
                  i = p.window.height;
                (this.bmd = this.game.add.bitmapData(e, i)),
                (this.body = this.game.add.sprite(0, 0, this.bmd)),
                (this.body.fixedToCamera = !0),
                t.add(this.body);
              },
            },
            {
              key: 'initNormalMask',
              value() {
                this.masks = f.default.createMasks(this.game, this.tileSize, 1);
              },
            },
            {
              key: 'getVisibleChunk',
              value() {
                let t = Math.floor(this.bmd.width / this.tileSize),
                  e = Math.floor(this.bmd.height / this.tileSize),
                  i = Math.floor(this.game.camera.x / this.tileSize) - 1,
                  n = Math.floor(this.game.camera.y / this.tileSize) - 1;
                return this.fogOfWar.getMatrixChunk({
                  x: i,
                  y: n,
                  width: t + 3,
                  height: e + 3,
                });
              },
            },
            {
              key: 'update',
              value() {
                let t = this,
                  e = this.getVisibleChunk(),
                  i = 2 * this.tileSize,
                  n = this.fogOfWar.getActiveVisibleTeam(),
                  r = function (t) {
                    return !t[n];
                  },
                  a = h.default.createPartitions(e, r);
                this.bmd.blendDestinationOut(),
                this.bmd.fill(0, 0, 0),
                this.bmd.blendReset();
                let o = this.game.camera.x % this.tileSize,
                  s = this.game.camera.y % this.tileSize;
                a.sort((t, e) => t.size - e.size).forEach((e) => {
                  let n = (e.y - 1) * t.tileSize - i - o,
                    r = (e.x - 1) * t.tileSize - i - s,
                    a = e.size + 1;
                  t.bmd.draw(t.masks[a], n, r);
                });
              },
            },
            {
              key: 'hide',
              value() {
                this.body.visible = !1;
              },
            },
          ]),
          t
        );
      }());
    e.default = g;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(14),
      u = n(s),
      l = i(2),
      c = i(142),
      h = i(197),
      d = n(h),
      f = i(198),
      p = n(f),
      g = window.fivenations,
      y = (function () {
        function t(e) {
          r(this, t);
          const i = a(Phaser.GAMES, 1);
          (this.game = i[0]),
          this.setFogOfWar(e),
          this.initBitMapDataLayers(),
          this.initNormalMask();
        }
        return (
          o(t, [
            {
              key: 'setFogOfWar',
              value(t) {
                (this.fogOfWar = t),
                (this.tileSize = t.getMap().getTileWidth());
              },
            },
            {
              key: 'initBitMapDataLayers',
              value() {
                let t = u.default.getInstance().getGroup(l.GROUP_FOGOFWAR),
                  e = g.window.width,
                  i = g.window.height;
                (this.bmdRevelaed = this.game.add.bitmapData(e, i)),
                (this.bodyRevealed = this.game.add.sprite(
                  0,
                  0,
                  this.bmdRevelaed,
                )),
                (this.bodyRevealed.fixedToCamera = !0),
                (this.bodyRevealed.alpha = 0.75),
                t.add(this.bodyRevealed);
              },
            },
            {
              key: 'initNormalMask',
              value() {
                this.masks = p.default.createMasks(
                  this.game,
                  this.tileSize,
                  0.5,
                );
              },
            },
            {
              key: 'getVisibleChunk',
              value() {
                let t = Math.floor(this.bmdRevelaed.width / this.tileSize),
                  e = Math.floor(this.bmdRevelaed.height / this.tileSize),
                  i = Math.floor(this.game.camera.x / this.tileSize) - 1,
                  n = Math.floor(this.game.camera.y / this.tileSize) - 1;
                return this.fogOfWar.getMatrixChunk({
                  x: i,
                  y: n,
                  width: t + 3,
                  height: e + 3,
                });
              },
            },
            {
              key: 'update',
              value() {
                let t = this,
                  e = this.getVisibleChunk(),
                  i = 2 * this.tileSize,
                  n = this.fogOfWar.getActiveVisibleTeam(),
                  r = function (t) {
                    return t[n] === c.CODE_REVEALED_BEFORE;
                  },
                  a = d.default.createPartitions(e, r);
                this.bmdRevelaed.blendDestinationOut(),
                this.bmdRevelaed.fill(0, 0, 0),
                this.bmdRevelaed.blendReset();
                let o = this.game.camera.x % this.tileSize,
                  s = this.game.camera.y % this.tileSize;
                a.sort((t, e) => t.size - e.size).forEach((e) => {
                  let n = (e.y - 1) * t.tileSize - i - o,
                    r = (e.x - 1) * t.tileSize - i - s,
                    a = e.size + 1;
                  t.bmdRevelaed.draw(t.masks[a], n, r);
                });
              },
            },
            {
              key: 'hide',
              value() {
                this.bodyRevealed.visible = !1;
              },
            },
          ]),
          t
        );
      }());
    e.default = y;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(1),
      s = n(o),
      u = i(677),
      l = n(u),
      c = i(142),
      h = n(c),
      d = i(632),
      f = n(d),
      p = i(631),
      g = n(p),
      y = i(195),
      v = n(y),
      m = i(3),
      b = n(m),
      _ = i(2),
      w = window.fivenations,
      x = 32 * _.TILE_WIDTH,
      P = 32 * _.TILE_HEIGHT,
      k = void 0,
      T = void 0,
      O = void 0,
      E = void 0,
      S = void 0,
      C = void 0,
      I = !0,
      M = !0,
      A = !1,
      R = { x: -1, y: -1 },
      L = (function () {
        function t(e) {
          r(this, t),
          this.initGame(e),
          this.exposeStarfield(),
          this.calculateScreenDimensionInTiles(),
          this.initDefaultEventListeners();
        }
        return (
          a(t, [
            {
              key: 'initGame',
              value(t) {
                (k = t), (k.stage.backgroundColor = '#000');
              },
            },
            {
              key: 'exposeStarfield',
              value() {
                this.Starfield = l.default;
              },
            },
            {
              key: 'calculateScreenDimensionInTiles',
              value() {
                (this.screenTileWidth = Math.floor(w.window.width / 40)),
                (this.screenTileHeight = Math.floor(w.window.height / 40));
              },
            },
            {
              key: 'new',
              value(t) {
                this.unlockScroll(), this.setSize(t), this.initLayers(t);
              },
            },
            {
              key: 'setSize',
              value(t) {
                (x = t.width),
                (P = t.height),
                k.world.setBounds(
                  0,
                  0,
                  this.getScreenWidth(),
                  this.getScreenHeight(),
                );
              },
            },
            {
              key: 'initLayers',
              value(t) {
                if (
                  ((T = new l.default(this, t.starfield)),
                  (C = new v.default(this)),
                  (O = new h.default(this, C)),
                  (E = new g.default(O)),
                  (S = new f.default(O)),
                  t.revealed)
                ) {
                  for (let e = 1; e < _.TOTAL_NUMBER_OF_PLAYERS; e += 1) { O.blackSheepWall(e); }
                }
                w.debug || (w.debug = {}),
                t.debug &&
                    ((w.debug.spying = t.debug.spying),
                    (w.debug.fastBuild = t.debug.fastBuild),
                    (w.debug.unlimitedResource = t.debug.unlimitedResource),
                    (w.debug.grid = t.debug.grid),
                    (w.debug.noMusic = t.debug.noMusic)),
                (O.optimizedUpdate = b.default.interval(
                  (t) => {
                    O.update(t),
                    O.isDirty() && (I = !0),
                    O.isRevealedDirty() && (M = !0);
                  },
                  5,
                  O,
                )),
                (C.optimizedUpdate = b.default.interval(
                  (t) => {
                    C.update(t);
                  },
                  10,
                  C,
                ));
              },
            },
            {
              key: 'initDefaultEventListeners',
              value() {
                s.default
                  .getInstance()
                  .local.addEventListener(
                    'fogofwar/vision/change',
                    this.forceRefresh.bind(this),
                  );
              },
            },
            {
              key: 'update',
              value(t) {
                T && T.update(),
                O &&
                    (O.optimizedUpdate(t),
                    (M || I) && (S.update(), (M = !1)),
                    I && (E.update(), (I = !1))),
                C &&
                    (C.optimizedUpdate(t),
                    C.calculateEasyStarPaths(),
                    w.debug.grid && C.renderGrid(),
                    (w.debugMode || w.debug.grid) && C.debug(t));
              },
            },
            {
              key: 'lockScroll',
              value() {
                this.locked = !0;
              },
            },
            {
              key: 'unlockScroll',
              value() {
                this.locked = !1;
              },
            },
            {
              key: 'scrollTo',
              value(t, e) {
                this.locked ||
                  ((k.camera.x = t),
                  (k.camera.y = e),
                  this.updateScrollDirty());
              },
            },
            {
              key: 'centerTo',
              value(t, e) {
                const i =
                  arguments.length > 2 &&
                  void 0 !== arguments[2] &&
                  arguments[2];
                if (!this.locked || i) {
                  let n = w.window.width / 2,
                    r = w.window.height / 2;
                  (k.camera.x = Math.min(
                    this.getScreenWidth() - n,
                    Math.max(0, t - n),
                  )),
                  (k.camera.y = Math.min(
                    this.getScreenHeight() - r,
                    Math.max(0, e - r),
                  )),
                  this.updateScrollDirty();
                }
              },
            },
            {
              key: 'centerEntity',
              value(t) {
                const e =
                  arguments.length > 1 &&
                  void 0 !== arguments[1] &&
                  arguments[1];
                if (t) {
                  let i = t.getSprite(),
                    n = i.x,
                    r = i.y;
                  this.centerTo(n, r, e);
                }
              },
            },
            {
              key: 'updateScrollDirty',
              value() {
                (Math.abs(k.camera.x - R.x) > 1 ||
                  Math.abs(k.camera.y - R.y) > 1) &&
                  ((I = !0), (R = { x: k.camera.x, y: k.camera.y }));
              },
            },
            {
              key: 'cinematicsCenterTo',
              value(t, e) {
                const i = this;
                return (
                  (this.previousLockState = this.locked),
                  this.lockScroll(),
                  new Promise(((n) => {
                    let r = w.window.width / 2,
                      a = w.window.height / 2,
                      o = {
                        x: Math.min(i.getScreenWidth() - r, Math.max(0, t - r)),
                        y: Math.min(
                          i.getScreenHeight() - a,
                          Math.max(0, e - a),
                        ),
                      },
                      s = k.add
                        .tween(k.camera)
                        .to(o, 2e3, Phaser.Easing.Exponential.InOut, !0);
                    s.onUpdateCallback(() => {
                      I = !0;
                    }),
                    s.onComplete.addOnce(() => {
                      n(), i.previousLockState || i.unlockScroll();
                    });
                  }))
                );
              },
            },
            {
              key: 'cinematicsCenterToEntity',
              value(t) {
                let e = t.getSprite(),
                  i = e.x,
                  n = e.y;
                return this.cinematicsCenterTo(i, n);
              },
            },
            {
              key: 'followEntity',
              value(t) {
                const e = t.getSprite();
                k.camera.follow(e), (A = !0);
              },
            },
            {
              key: 'unfollowEntity',
              value() {
                k.camera.unfollow(), (A = !1);
              },
            },
            {
              key: 'scrollToTile',
              value(t, e) {
                this.scrollTo(t * _.TILE_WIDTH, e * _.TILE_HEIGHT);
              },
            },
            {
              key: 'scrollLeft',
              value(t) {
                if (!this.locked) {
                  let e = w.scrollIntesity || 1,
                    i = w.game.time.fpsMultiplier,
                    n = e;
                  i > 1 && (n *= i / 2),
                  (k.camera.x -= (t || _.SCROLL_SPEED) * n),
                  this.updateScrollDirty();
                }
              },
            },
            {
              key: 'scrollRight',
              value(t) {
                if (!this.locked) {
                  let e = w.scrollIntesity || 1,
                    i = w.game.time.fpsMultiplier,
                    n = e;
                  i > 1 && (n *= i / 2),
                  (k.camera.x += (t || _.SCROLL_SPEED) * n),
                  this.updateScrollDirty();
                }
              },
            },
            {
              key: 'scrollUp',
              value(t) {
                if (!this.locked) {
                  let e = w.scrollIntesity || 1,
                    i = w.game.time.fpsMultiplier,
                    n = e;
                  i > 1 && (n *= i / 2),
                  (k.camera.y -= (t || _.SCROLL_SPEED) * n),
                  this.updateScrollDirty();
                }
              },
            },
            {
              key: 'scrollDown',
              value(t) {
                if (!this.locked) {
                  let e = w.scrollIntesity || 1,
                    i = w.game.time.fpsMultiplier,
                    n = e;
                  i > 1 && (n *= i / 2),
                  (k.camera.y += (t || _.SCROLL_SPEED) * n),
                  this.updateScrollDirty();
                }
              },
            },
            {
              key: 'getScreenWidth',
              value() {
                return _.TILE_WIDTH * x;
              },
            },
            {
              key: 'getScreenHeight',
              value() {
                return _.TILE_HEIGHT * P;
              },
            },
            {
              key: 'getWidth',
              value() {
                return x;
              },
            },
            {
              key: 'getHeight',
              value() {
                return P;
              },
            },
            {
              key: 'getTileWidth',
              value() {
                return _.TILE_WIDTH;
              },
            },
            {
              key: 'getTileHeight',
              value() {
                return _.TILE_HEIGHT;
              },
            },
            {
              key: 'getFogOfWar',
              value() {
                return O;
              },
            },
            {
              key: 'getFogOfWarRenderer',
              value() {
                return E;
              },
            },
            {
              key: 'getFogOfWarRevealedRenderer',
              value() {
                return S;
              },
            },
            {
              key: 'getCollisionMap',
              value() {
                return C;
              },
            },
            {
              key: 'getGame',
              value() {
                return k;
              },
            },
            {
              key: 'getStarfield',
              value() {
                return T;
              },
            },
            {
              key: 'getScreenCoordinatesOfTile',
              value(t) {
                let e = t.x,
                  i = t.y;
                return {
                  x: e * _.TILE_WIDTH + _.TILE_WIDTH / 2,
                  y: i * _.TILE_HEIGHT + _.TILE_HEIGHT / 2,
                };
              },
            },
            {
              key: 'getTileChunk',
              value(t) {
                let e = this.getWidth(),
                  i = this.getHeight(),
                  n = t.x,
                  r = t.y,
                  a = Math.floor(t.width / 2),
                  o = Math.floor(t.height / 2),
                  s = Math.min(
                    Math.max(Math.floor(n / _.TILE_WIDTH), a),
                    e - a,
                  ),
                  u = Math.min(
                    Math.max(Math.floor(r / _.TILE_HEIGHT), o),
                    i - o,
                  );
                return {
                  x: s - a,
                  y: u - o,
                  width: t.width,
                  height: t.height,
                  tileX: s,
                  tileY: u,
                };
              },
            },
            {
              key: 'isDirty',
              value() {
                return I || A;
              },
            },
            {
              key: 'isTileOnScreen',
              value(t, e) {
                let i = Math.floor(k.camera.x / 40),
                  n = Math.floor(k.camera.y / 40);
                return (
                  t >= i &&
                  e >= n &&
                  t <= i + this.screenTileWidth &&
                  e <= n + this.screenTileHeight
                );
              },
            },
            {
              key: 'forceRefresh',
              value() {
                I = !0;
              },
            },
          ]),
          t
        );
      }());
    e.default = L;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(199),
      u = n(s),
      l = i(11),
      c = n(l),
      h = 0,
      d = [],
      f = void 0,
      p = void 0,
      g = (function () {
        function t() {
          if ((r(this, t), !f)) {
            throw new Error('Invoke setGame first to pass the Phaser Game entity!');
          }
        }
        return (
          o(t, [
            {
              key: 'add',
              value(t) {
                const e = new u.default(a({ id: h, manager: this }, t));
                (h += 1), d.push(e);
              },
            },
            {
              key: 'remove',
              value(t) {
                if (t) {
                  for (let e = d.length - 1; e >= 0; e -= 1) { t === d[e] && d.splice(e, 1); }
                  t = null;
                }
              },
            },
            {
              key: 'reset',
              value() {
                d = [];
              },
            },
            {
              key: 'getLocationById',
              value(t) {
                for (let e = d.length - 1; e >= 0; e -= 1) { if (d[e].getId() === t) return d[e]; }
                return null;
              },
            },
            {
              key: 'getEntitiesInLocation',
              value(t) {
                const e = this;
                return c.default
                  .getInstance()
                  .entities(':not(hibernated)')
                  .filter(i => e.isEntityInLocation(i, t));
              },
            },
            {
              key: 'getEntitiesInLocationFromTeam',
              value(t, e) {
                return this.getEntitiesInLocation(t).filter(t => t.getDataObject().getTeam() === e);
              },
            },
            {
              key: 'hasEntitiesInLocationFromTeam',
              value(t, e) {
                return this.getEntitiesInLocation(t).some(t => t.getDataObject().getTeam() === e);
              },
            },
            {
              key: 'isEntityInLocation',
              value(t, e) {
                let i = t.sprite.x,
                  n = t.sprite.y;
                return !(
                  i > e.x + e.width ||
                  i < e.x ||
                  n > e.y + e.height ||
                  n < e.y
                );
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      setGame(t) {
        f = t;
      },
      getInstance(t) {
        if (!f) {
          throw new Error('Invoke setGame first to pass the Phaser Game entity!');
        }
        return (p && !t) || ((p = new g()), p.reset()), p;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r() {
      return q.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission1.scene1.text1',
            portraitId: 'aida',
            audio: '01ingame_aida_0',
            pauseGame: !0,
          },
          {
            text: 'ingamespeech.pre-campaign.mission1.scene1.text2',
            portraitId: 'antonvargas',
            audio: '01ingame_anton_0',
            pauseGame: !0,
          },
          {
            text: 'ingamespeech.pre-campaign.mission1.scene1.text3',
            portraitId: 'aida',
            audio: '01ingame_aida_1',
            pauseGame: !0,
          },
        ])
        .catch(() => {});
    }
    function a() {
      return q.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission1.scene2.text1',
            portraitId: 'tip',
            length: 1e4,
          },
        ])
        .catch(() => {});
    }
    function o(t) {
      let e = t.GUI.getMissionObjectivesBar(),
        i = it.default.getInstance(),
        n = i.translate('ingamespeech.pre-campaign.mission1.missionobjectives1'),
        r = new Z.default(n);
      return (
        at.push(r),
        Promise.resolve()
          .then(() => e.addObjective(r))
          .then(() => t.wait(4e3))
      );
    }
    function s(t) {
      let e = t.locationManager,
        i = t.GUI.getTutorialDisplay(),
        n = t.GUI.getControlPanel(),
        r = it.default.getInstance(),
        a = function () {
          return new Promise(((t) => {
            let n = e.getLocationById(0),
              a = e.getEntitiesInLocation(n).pop();
            i.highlightEntity({
              entity: a,
              text: r.translate('ingamespeech.pre-campaign.mission1.tutorial1.text1'),
              clickAnimation: !0,
              onClick: t,
            });
          }));
        },
        o = function () {
          return new Promise(((t) => {
            n.selectMainPage(),
            i.highlightCommandButton({
              buttonId: 'constructionPage',
              text: r.translate('ingamespeech.pre-campaign.mission1.tutorial1.text2'),
              clickAnimation: !0,
              onClick: t,
            });
          }));
        },
        s = function () {
          return new Promise(((t) => {
            n.selectConstructionPage(),
            setTimeout(() => {
              i.highlightCommandButton({
                buttonId: 'miningstation',
                text: r.translate('ingamespeech.pre-campaign.mission1.tutorial1.text3'),
                clickAnimation: !0,
                onClick: t,
              });
            }, 250);
          }));
        },
        u = function () {
          return new Promise(((e) => {
            t.GUI.lockSelection(),
            t.map.centerTo(780, 540),
            i.highlightArea({
              x: rt.window.width / 2,
              y: rt.window.height / 2 - 100,
              text: r.translate('ingamespeech.pre-campaign.mission1.tutorial1.text4'),
              clickAnimation: !0,
              onClick() {
                t.GUI.unlockSelection(), e();
              },
            });
          }));
        };
      return Promise.resolve()
        .then(a)
        .then(o)
        .then(s)
        .then(u);
    }
    function u(t) {
      return (
        t.eventEmitter,
        new Promise(((e) => {
          var i = setInterval(() => {
            let n = t.entityManager.entities(':user'),
              r = n.filter(t => t.getDataObject().getId() === 'miningstation')[0];
            r &&
              !r.isInConstruction() &&
              (t.entityManager
                .entities(':user')
                .filter(t => t.getDataObject().getId() === 'engineershuttle')
                .forEach((t, e) => {
                  t.reset();
                  let i = r.getSprite(),
                    n = i.x,
                    a = i.y;
                  (n += 40 * e - 25), (a += 75), t.moveTo(n, a);
                }),
              clearInterval(i),
              e());
          }, 1e3);
          t.timers.push(i);
        }))
      );
    }
    function l(t) {
      return c(t), t.wait(6e3);
    }
    function c(t) {
      let e = t.GUI.getMissionObjectivesBar(),
        i = (it.default.getInstance(), at.shift());
      return (
        i.complete(),
        Promise.resolve()
          .then(() => e.addObjective(i))
          .then(() => t.wait(4e3))
      );
    }
    function h() {
      return q.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission1.scene3.text1',
            portraitId: 'aida',
            audio: '01ingame_aida_2',
            pauseGame: !0,
          },
        ])
        .catch(() => {});
    }
    function d(t) {
      let e = (t.locationManager, t.GUI.getTutorialDisplay()),
        i = (t.GUI.getControlPanel(), it.default.getInstance()),
        n = function () {
          return new Promise(((n) => {
            const r = t.entityManager
              .entities(':user')
              .filter(t => t.getDataObject().getId() === 'engineershuttle')
              .shift();
            e.highlightEntity({
              entity: r,
              text: i.translate('ingamespeech.pre-campaign.mission1.tutorial2.text1'),
              clickAnimation: !0,
              onClick: n,
            });
          }));
        },
        r = function () {
          return new Promise(((n) => {
            t.GUI.lockSelection();
            const r = t.entityManager
              .entities()
              .filter(t => t.isMinable())
              .pop();
            e.highlightEntity({
              entity: r,
              text: i.translate('ingamespeech.pre-campaign.mission1.tutorial2.text2'),
              clickAnimation: !0,
              onClick() {
                t.GUI.unlockSelection(), n();
              },
            });
          }));
        };
      return Promise.resolve()
        .then(n)
        .then(r);
    }
    function f(t) {
      return new Promise(((e) => {
        var i = setInterval(() => {
          let n = t.entityManager.entities(':user'),
            r = n.filter(t => t.getDataObject().getId() === 'engineershuttle');
          r &&
            r.some(t => t.isMining()) &&
            (clearInterval(i), e());
        }, 1e3);
        t.timers.push(i);
      }));
    }
    function p() {
      return q.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission1.scene4.text1',
            portraitId: 'aida',
            audio: '01ingame_aida_3',
          },
          {
            text: 'ingamespeech.pre-campaign.mission1.scene4.text2',
            portraitId: 'tip',
            length: 7e3,
          },
        ])
        .catch(() => {});
    }
    function g(t) {
      return new Promise(((e) => {
        t.entityManager
          .entities(':user')
          .filter(t => t.getDataObject().getId() === 'icarus')[0]
          .once('droppedOffCargo', e);
      }));
    }
    function y() {
      return q.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission1.scene5.text1',
            portraitId: 'aida',
            audio: '01ingame_aida_4',
          },
        ])
        .catch(() => {});
    }
    function v(t) {
      let e = t.GUI.getMissionObjectivesBar(),
        i = it.default.getInstance(),
        n = i.translate('ingamespeech.pre-campaign.mission1.missionobjectives2'),
        r = new Z.default(n);
      return (
        at.push(r),
        Promise.resolve()
          .then(() => e.addObjective(r))
          .then(() => t.wait(4e3))
      );
    }
    function m(t) {
      let e = t.GUI.getMissionNotifications(),
        i = e.addNotification('ingamespeech.pre-campaign.mission1.missionnotification1');
      return (
        i.updateValues(0, 1),
        ot.push(i),
        Promise.resolve().then(() => t.wait(4e3))
      );
    }
    function b(t) {
      let e = t.GUI.getMissionNotifications(),
        i = ot.pop();
      e.removeNotification(i);
    }
    function _(t) {
      return new Promise(((e) => {
        var i = setInterval(() => {
          let n = t.entityManager.entities(':user'),
            r = n.filter(t => t.getDataObject().getId() === 'civilianbase')[0];
          r &&
            !r.isInConstruction() &&
            (ot[0].updateValues(1, 1), clearInterval(i), e());
        }, 1e3);
        t.timers.push(i);
      }));
    }
    function w(t) {
      return c(t), t.wait(3e3);
    }
    function x(t) {
      return q.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission1.solarstationtip',
            portraitId: 'tip',
            length: 6e3,
          },
        ])
        .catch(() => {});
    }
    function P(t) {
      let e = t.GUI.getNotificationBar(),
        i = it.default
          .getInstance()
          .translate('ingamespeech.pre-campaign.mission1.lockedentitiestip');
      e.show(i);
    }
    function k() {
      return q.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission1.scene6.text1',
            portraitId: 'aida',
            audio: '01ingame_aida_5',
          },
        ])
        .catch(() => {});
    }
    function T(t) {
      let e = t.GUI.getMissionObjectivesBar(),
        i = it.default.getInstance(),
        n = i.translate('ingamespeech.pre-campaign.mission1.missionobjectives3'),
        r = new Z.default(n);
      return (
        at.push(r),
        Promise.resolve()
          .then(() => e.addObjective(r))
          .then(() => t.wait(4e3))
      );
    }
    function O(t) {
      let e = t.entityManager.entities(':user'),
        i = e.filter(t => t.getDataObject().getId() === 'engineershuttle'),
        n = t.GUI.getMissionNotifications(),
        r = n.addNotification('ingamespeech.pre-campaign.mission1.missionnotification2');
      return (
        r.updateValues(Math.max(0, i.length - ut.length), 3),
        ot.push(r),
        Promise.resolve().then(() => t.wait(4e3))
      );
    }
    function E(t) {
      let e = t.GUI.getMissionNotifications(),
        i = ot.pop();
      e.removeNotification(i);
    }
    function S(t) {
      return new Promise(((e) => {
        var i = setInterval(() => {
          let n = t.entityManager.entities(':user'),
            r = n
              .filter(t => t.getDataObject().getId() === 'engineershuttle')
              .filter(t => ut.indexOf(t) === -1);
          r &&
            (ot[0].updateValues(r.length, 3),
            r.length >= 3 && (clearInterval(i), e()));
        }, 1e3);
        t.timers.push(i);
      }));
    }
    function C(t) {
      return c(t), t.wait(3e3);
    }
    function I(t) {
      const e = q.default.getInstance();
      return (
        W(t),
        (st = !0),
        e
          .execute([
            {
              text: 'ingamespeech.pre-campaign.mission1.scene8.text1',
              portraitId: 'aida',
              audio: '01ingame_aida_6',
            },
          ])
          .catch(() => {})
      );
    }
    function M(t) {
      return q.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission1.scene9.text1',
            portraitId: 'aida',
            audio: '01ingame_aida_7',
          },
        ])
        .catch(() => {});
    }
    function A(t) {
      let e = t.map,
        i = t.GUI.getMissionObjectivesBar(),
        n = it.default.getInstance(),
        r = n.translate('ingamespeech.pre-campaign.mission1.missionobjectives5'),
        a = new Z.default(r);
      return (
        at.push(a),
        Promise.resolve()
          .then(() => i.addObjective(a))
          .then(() => {
            t.entityManager.entities(':player(5)').forEach((i) => {
              const n = { vision: 4, revealForever: !0, entity: i };
              e.getFogOfWar().visitTilesManually(n),
              t.GUI.showMinimapNotification({
                x: i.getSprite().x,
                y: i.getSprite().y,
              });
            });
          })
          .then(() => t.wait(4e3))
      );
    }
    function R(t) {
      let e = t.map,
        i = t.entityManager.entities(':player(5)');
      return Promise.resolve().then(() => e.cinematicsCenterToEntity(i[0]));
    }
    function L(t) {
      let e = t.GUI.getMissionNotifications(),
        i = e.addNotification('ingamespeech.pre-campaign.mission1.missionnotification3'),
        n = t.entityManager.entities(':player(5)').length;
      return (
        i.updateValues(0, n),
        ot.push(i),
        Promise.resolve().then(() => t.wait(4e3))
      );
    }
    function D(t) {
      let e = t.GUI.getMissionNotifications(),
        i = ot.pop();
      e.removeNotification(i);
    }
    function B(t) {
      const e = t.entityManager.entities(':player(5)').length;
      return new Promise(((i) => {
        var n = setInterval(() => {
          const r = t.entityManager.entities(':player(5)');
          ot[0].updateValues(e - r.length, e),
          r.length === 0 && (clearInterval(n), i());
        }, 1e3);
        t.timers.push(n);
      }));
    }
    function j(t) {
      return c(t), t.wait(1e3);
    }
    function F(t) {
      let e = t.GUI,
        i = t.playerManager,
        n = i.getUser(),
        r = i.getPlayerByTeam(5),
        a = Q.default.getInstance();
      a.getPlayerSummaryCollector(n).setAsVictorious(),
      a.getPlayerSummaryCollector(r).setAsDefeated(),
      e.getVictoryDisplay().start();
    }
    function U(t) {
      let e = t.GUI,
        i = t.playerManager,
        n = i.getUser(),
        r = i.getPlayerByTeam(5),
        a = Q.default.getInstance();
      a.getPlayerSummaryCollector(r).setAsVictorious(),
      a.getPlayerSummaryCollector(n).setAsDefeated(),
      e.getDefeatDisplay().start();
    }
    function G(t) {
      const e = t.entityManager.entities(':user');
      ut = e.filter(t => t.getDataObject().getId() === 'engineershuttle');
    }
    function N(t) {
      let e = t.locationManager,
        i = e.getLocationById(3);
      e.getEntitiesInLocation(i).forEach(t => t.setNoUserControl(!0));
    }
    function W(t) {
      let e = t.locationManager,
        i = e.getLocationById(3);
      e.getEntitiesInLocation(i).forEach(t => t.setNoUserControl(!1));
    }
    function H(t) {
      var e = setInterval(() => {
        t.entityManager
          .entities(':user')
          .filter(t => t.getDataObject().getId() === 'antonvargas')
          .shift() || (clearInterval(e), U(t));
      }, 3e3);
      t.timers.push(e);
    }
    function X(t) {
      let e = t.eventEmitter,
        i = !1;
      e.local.addEventListener('resources/unsufficient/energy', () => {
        i || (x(t), (i = !0));
      });
    }
    function V(t) {
      let e = t.userPointer,
        i = t.eventEmitter,
        n = function i() {
          if (st) return void e.remove('rightbutton/down', i);
          t.entityManager.entities(':selected').some(t => (
            t.getDataObject().getId() === 'hurricane' ||
              t.getDataObject().getId() === 'antonvargas'
          )) && P(t);
        };
      i.local.addEventListener('user/entity/select', n),
      e.on('rightbutton/down', n);
    }
    function z(t) {
      G(t),
      N(t),
      H(t),
      V(t),
      t
        .wait(1e3)
        .then(r.bind(null, t))
        .then(o.bind(null, t))
        .then(s.bind(null, t))
        .then(a.bind(null, t))
        .then(u.bind(null, t))
        .then(l.bind(null, t))
        .then(h.bind(null, t))
        .then(d.bind(null, t))
        .then(f.bind(null, t))
        .then(p.bind(null, t))
        .then(g.bind(null, t))
        .then(y.bind(null, t))
        .then(v.bind(null, t))
        .then(m.bind(null, t))
        .then(_.bind(null, t))
        .then(w.bind(null, t))
        .then(b.bind(null, t))
        .then(X.bind(null, t))
        .then(k.bind(null, t))
        .then(T.bind(null, t))
        .then(O.bind(null, t))
        .then(S.bind(null, t))
        .then(C.bind(null, t))
        .then(E.bind(null, t))
        .then(I.bind(null, t))
        .then(() => t.wait(2e3))
        .then(M.bind(null, t))
        .then(R.bind(null, t))
        .then(A.bind(null, t))
        .then(L.bind(null, t))
        .then(B.bind(null, t))
        .then(j.bind(null, t))
        .then(D.bind(null, t))
        .then(F.bind(null, t));
    }
    var Y = i(73),
      q = n(Y),
      K = i(33),
      Q = n(K),
      J = i(84),
      Z = n(J),
      $ = i(45),
      tt = n($),
      et = i(7),
      it = n(et),
      nt = tt.default.getInstance(),
      rt = window.fivenations,
      at = [],
      ot = [],
      st = !1,
      ut = [];
    nt.add('prequel-mission1', (t) => {
      t.loadMap('01_precamp_tereshkova_training_station')
        .then(z.bind(null, t))
        .then(t.fadeIn.bind(t));
    });
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r() {
      return S.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission2.scene1.text1',
            portraitId: 'aida',
            audio: '02ingame_aida_0',
          },
          {
            text: 'ingamespeech.pre-campaign.mission2.scene1.text2',
            portraitId: 'antonvargas',
            audio: '02ingame_anton_0',
          },
          {
            text: 'ingamespeech.pre-campaign.mission2.scene1.text3',
            portraitId: 'tip',
            length: '8000',
          },
        ])
        .catch(() => {});
    }
    function a(t) {
      let e = t.map,
        i = t.GUI.getMissionObjectivesBar(),
        n = O.default.getInstance(),
        r = t.GUI.getMissionNotifications();
      return Promise.resolve()
        .then(() => {
          [
            'ingamespeech.pre-campaign.mission2.missionobjectives1',
            'ingamespeech.pre-campaign.mission2.missionobjectives2',
          ].forEach((t) => {
            let e = new I.default(n.translate(t)),
              a = r.addNotification(t);
            i.addObjective(e), A.push(e), R.push(a);
          });
        })
        .then(() => {
          t.entityManager.entities(':player(2)').forEach((i) => {
            t.GUI.showMinimapNotification({
              x: i.getSprite().x,
              y: i.getSprite().y,
            });
            const n = { vision: 3, revealForever: !0, entity: i };
            e.getFogOfWar().visitTilesManually(n);
          });
        })
        .then(() => t.wait(4e3));
    }
    function o(t) {
      let e = t.GUI.getMissionObjectivesBar(),
        i = t.GUI.getMissionNotifications(),
        n = (O.default.getInstance(), A.shift()),
        r = R.shift();
      return (
        i.removeNotification(r),
        n.complete(),
        Promise.resolve()
          .then(() => e.addObjective(n))
          .then(() => t.wait(4e3))
      );
    }
    function s(t) {
      return new Promise(((e) => {
        var i = t.locationManager,
          n = setInterval(() => {
            const t = i.getLocationById(1);
            i
              .getEntitiesInLocation(t)
              .filter(t => t.getDataObject().getId() === 'antonvargas')
              .pop() && (clearInterval(n), e());
          }, 1e3);
        t.timers.push(n);
      }));
    }
    function u(t) {
      let e = t.locationManager,
        i = e.getLocationById(2),
        n = e.getEntitiesInLocation(i).filter(t => t.getTeam() === 4),
        r = l(t);
      t.eventEmitter.synced
        .entities(n)
        .attack({ targetEntity: r, resetActivityQueue: !0 });
    }
    function l(t) {
      return t.entityManager.entities(':user').filter(t => t.getDataObject().getId() === 'antonvargas')[0];
    }
    function c(t) {
      const e = [
        '699c84c0-020c-4ccc-a855-0e4ecfa4176c',
        'cab657b3-a6fd-4167-bdeb-d44ce16af8b5',
        'c8137f11-d183-4fe1-8e42-c09b4b0329a6',
        'dd8e44a7-bb99-4e52-8f9c-13e735d9627d',
      ];
      return new Promise(((i) => {
        var n = t.entityManager,
          r = setInterval(() => {
            e
              .map(t => n.entities(t))
              .every(t => !t) && (clearInterval(r), i());
          }, 1e3);
        t.timers.push(r);
      }));
    }
    function h() {
      return S.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission2.scene2.text1',
            portraitId: 'antonvargas',
            audio: '02ingame_anton_1',
          },
          {
            text: 'ingamespeech.pre-campaign.mission2.scene2.text2',
            portraitId: 'jacquesboyer',
            audio: '02ingame_boyer_0',
          },
        ])
        .catch(() => {});
    }
    function d(t) {
      return new Promise(((e) => {
        var i = t.locationManager,
          n = setInterval(() => {
            const t = i.getLocationById(4);
            i
              .getEntitiesInLocation(t)
              .filter(t => t.getDataObject().getId() === 'antonvargas')
              .pop() && (clearInterval(n), e());
          }, 1e3);
        t.timers.push(n);
      }));
    }
    function f() {
      return S.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission2.scene3.text1',
            portraitId: 'aida',
            audio: '02ingame_aida_1',
          },
          {
            text: 'ingamespeech.pre-campaign.mission2.scene3.text2',
            portraitId: 'antonvargas',
            audio: '02ingame_anton_3',
          },
          {
            text: 'ingamespeech.pre-campaign.mission2.scene3.text3',
            portraitId: 'eirascientist',
            audio: '02ingame_scientist_0',
          },
        ])
        .catch(() => {});
    }
    function p(t) {
      let e = t.GUI.getMissionObjectivesBar(),
        i = O.default.getInstance(),
        n = 'ingamespeech.pre-campaign.mission2.missionobjectives3',
        r = i.translate(n),
        a = new I.default(r);
      A.push(a);
      let o = t.GUI.getMissionNotifications(),
        s = o.addNotification(n);
      return (
        R.push(s),
        Promise.resolve()
          .then(() => e.addObjective(a))
          .then(() => t.wait(4e3))
      );
    }
    function g(t) {
      let e = t.GUI.getMissionObjectivesBar(),
        i = t.GUI.getMissionNotifications(),
        n = A.pop(),
        r = R.pop();
      return (
        n.complete(),
        i.removeNotification(r),
        Promise.resolve()
          .then(() => e.addObjective(n))
          .then(() => t.wait(4e3))
      );
    }
    function y(t) {
      return new Promise(((e) => {
        var i = t.locationManager,
          n = setInterval(() => {
            const t = i.getLocationById(5);
            i
              .getEntitiesInLocation(t)
              .filter(t => t.getDataObject().getId() === 'antonvargas')
              .pop() && (clearInterval(n), e());
          }, 1e3);
        t.timers.push(n);
      }));
    }
    function v(t) {
      let e = t.GUI,
        i = t.playerManager,
        n = i.getUser(),
        r = i.getPlayerByTeam(4),
        a = x.default.getInstance();
      a.getPlayerSummaryCollector(n).setAsVictorious(),
      a.getPlayerSummaryCollector(r).setAsDefeated(),
      e.getVictoryDisplay().start();
    }
    function m(t) {
      let e = t.GUI,
        i = t.playerManager,
        n = i.getUser(),
        r = i.getPlayerByTeam(4),
        a = x.default.getInstance();
      a.getPlayerSummaryCollector(r).setAsVictorious(),
      a.getPlayerSummaryCollector(n).setAsDefeated(),
      e.getDefeatDisplay().start();
    }
    function b(t) {
      var e = setInterval(() => {
        t.entityManager
          .entities(':user')
          .filter(t => t.getDataObject().getId() === 'antonvargas')
          .shift() || (clearInterval(e), m(t));
      }, 3e3);
      t.timers.push(e);
    }
    function _(t) {
      b(t),
      t
        .wait(2e3)
        .then(r.bind(null, t))
        .then(a.bind(null, t))
        .then(c.bind(null, t))
        .then(h.bind(null, t))
        .then(s.bind(null, t))
        .then(u.bind(null, t))
        .then(d.bind(null, t))
        .then(f.bind(null, t))
        .then(o.bind(null, t))
        .then(p.bind(null, t))
        .then(y.bind(null, t))
        .then(g.bind(null, t))
        .then(v.bind(null, t));
    }
    var w = i(33),
      x = n(w),
      P = i(45),
      k = n(P),
      T = i(7),
      O = n(T),
      E = i(73),
      S = n(E),
      C = i(84),
      I = n(C),
      M = k.default.getInstance(),
      A = (window.fivenations, []),
      R = [];
    M.add('prequel-mission2', (t) => {
      t.loadMap('02_precamp_operation_broad_jump')
        .then(_.bind(null, t))
        .then(t.fadeIn.bind(t));
    });
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r() {
      return U.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission3.scene1.text1',
            portraitId: 'antonvargas',
            audio: '03ingame_anton_0',
          },
          {
            text: 'ingamespeech.pre-campaign.mission3.scene1.text2',
            portraitId: 'tip',
            length: '8000',
          },
        ])
        .catch(() => {});
    }
    function a(t) {
      let e = t.GUI.getMissionObjectivesBar(),
        i = j.default.getInstance(),
        n = t.GUI.getMissionNotifications();
      return Promise.resolve()
        .then(() => {
          [
            'ingamespeech.pre-campaign.mission3.missionobjectives1',
            'ingamespeech.pre-campaign.mission3.missionobjectives2',
          ].forEach((t) => {
            let r = new N.default(i.translate(t)),
              a = n.addNotification(t);
            e.addObjective(r), z.push(r), Y.push(a);
          });
        })
        .then(() => {
          t.entityManager.entities(':player(2)').forEach((e) => {
            t.GUI.showMinimapNotification({
              x: e.getSprite().x,
              y: e.getSprite().y,
            });
          });
        })
        .then(() => t.wait(4e3));
    }
    function o(t) {
      let e = t.GUI.getMissionObjectivesBar(),
        i = t.GUI.getMissionNotifications(),
        n = (j.default.getInstance(), z.shift()),
        r = Y.shift();
      return (
        i.removeNotification(r),
        n.complete(),
        Promise.resolve()
          .then(() => e.addObjective(n))
          .then(() => t.wait(4e3))
      );
    }
    function s(t) {
      let e = t.map,
        i = U.default.getInstance();
      return (
        t.entityManager
          .entities(`:player(${V})`)
          .filter(t => t.getDataObject().getId() === 'installationprime')
          .forEach((i) => {
            t.GUI.showMinimapNotification({
              x: i.getSprite().x,
              y: i.getSprite().y,
              repeat: 16,
            });
            const n = {
              vision: 5, onlyRevealedBefore: !0, entity: i, team: 1,
            };
            e.getFogOfWar().visitTilesManually(n),
            e.cinematicsCenterToEntity(i);
          }),
        i
          .execute([
            {
              text: 'ingamespeech.pre-campaign.mission3.scene2.text1',
              portraitId: 'aida',
              audio: '03ingame_aida_0',
            },
          ])
          .catch(() => {})
      );
    }
    function u(t) {
      let e = t.entityManager,
        i = t.eventEmitter,
        n = t.locationManager,
        r = n.getLocationById(3),
        a = n.getLocationById(2),
        o = n.getEntitiesInLocation(r);
      return (
        (q = Math.floor(o.length / 2)),
        Promise.resolve()
          .then(t.wait.bind(t, 18e4))
          .then(() => i.synced.entities(o).move(a.getCenter()))
          .then(() => new Promise(((i) => {
            var n = setInterval(() => {
              const t = e.entities(o).filter(t => t.getDataObject().getHull() > 0);
              t && t.length === 0 && ((q = 5), clearInterval(n), i());
            }, 5e3);
            t.timers.push(n);
          })))
      );
    }
    function l(t) {
      let e = t.locationManager,
        i = t.eventEmitter,
        n = setInterval(() => {
          let t = e.getLocationById(2),
            n = e.getEntitiesInLocationFromTeam(t, 4);
          if (n && n.length >= q) {
            const r = e.getLocationById(Math.round(Math.random()));
            i.synced.entities(n).patrol(r.getCenter());
          }
        }, 5e3);
      t.timers.push(n);
    }
    function c() {
      return U.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission3.scene3.text1',
            portraitId: 'aida',
            audio: '03ingame_aida_1',
          },
          {
            text: 'ingamespeech.pre-campaign.mission3.scene3.text2',
            portraitId: 'jacquesboyer',
            audio: '03ingame_boyer_0',
          },
        ])
        .catch(() => {});
    }
    function h(t) {
      let e = t.GUI.getMissionObjectivesBar(),
        i = t.GUI.getMissionNotifications(),
        n = j.default.getInstance(),
        r = 'ingamespeech.pre-campaign.mission3.missionobjectives3',
        a = n.translate(r),
        o = new N.default(a),
        s = i.addNotification(r);
      return (
        Y.push(s),
        z.push(o),
        Promise.resolve()
          .then(() => e.addObjective(o))
          .then(() => t.wait(4e3))
      );
    }
    function d(t) {
      let e = t.GUI.getMissionObjectivesBar(),
        i = t.GUI.getMissionNotifications(),
        n = z.pop(),
        r = Y.pop();
      return (
        i.removeNotification(r),
        n.complete(),
        Promise.resolve()
          .then(() => e.addObjective(n))
          .then(() => t.wait(4e3))
      );
    }
    function f(t) {
      let e = (t.entityManager, t.eventEmitter),
        i = t.locationManager,
        n = i.getLocationById(4),
        r = i.getLocationById(2),
        a = i.getEntitiesInLocation(n);
      return (
        (q = a.length),
        Promise.resolve()
          .then(t.wait.bind(t, 12e4))
          .then(() => e.synced.entities(a).move(r.getCenter()))
      );
    }
    function p(t) {
      return new Promise(((e) => {
        var i = t.entityManager,
          n = setInterval(() => {
            const t = i.entities(`:player(${V})`).filter(t => t.getDataObject().isBuilding());
            (!t || (t && t.length === 0)) && (clearInterval(n), e());
          }, 2e3);
        t.timers.push(n);
      }));
    }
    function g(t) {
      let e = t.playerManager,
        i = t.entityManager,
        n = t.eventEmitter,
        r = e.getPlayerByTeam(V),
        a = i.entities(`:player(${V})`).filter(t => t.getDataObject().getId() === 'installationprime')[0],
        o = setInterval(() => {
          i.entities(`:player(${V})`).filter(t => t.getDataObject().getId() === 'labor').length < 15 &&
            a &&
            a.getProductionManager().getAllSlots().length < 2 &&
            r.hasSufficientResources('labor') &&
            n.synced.entities(a).addProduction({ targetId: 'labor' });
        }, 5e3);
      t.timers.push(o);
    }
    function y(t) {
      let e = t.playerManager,
        i = t.entityManager,
        n = t.eventEmitter,
        r = e.getPlayerByTeam(V),
        a = i.entities(`:player(${V})`).filter(t => t.getDataObject().getId() === 'installationprime'),
        o = setInterval(() => {
          i.entities(`:player(${V})`).filter(t => t.getDataObject().getId() === 'hauler').length < 2 &&
            a &&
            r.hasSufficientResources('hauler') &&
            n.synced.entities(a).addProduction({ targetId: 'hauler' });
        }, 5e3);
      t.timers.push(o);
    }
    function v(t) {
      const e =
        (t.entityManager,
        setInterval(() => {
          m(t), b(t);
        }, 2e3));
      t.timers.push(e);
    }
    function m(t) {
      let e = t.entityManager,
        i = t.eventEmitter;
      e.entities(`:player(${V})`)
        .filter(t => t.getDataObject().getId() === 'labor')
        .filter(t => t.isIdling())
        .forEach((e) => {
          const n = x(e, t);
          i.synced
            .entities(e)
            .mine({ targetEntity: n, resetActivityQueue: !0 });
        });
    }
    function b(t) {
      let e = t.entityManager,
        i = t.eventEmitter;
      e.entities(`:player(${V})`)
        .filter(t => t.getDataObject().getId() === 'hauler')
        .filter(t => t.isIdling())
        .forEach((e) => {
          const n = P(e, t);
          n &&
            i.synced
              .entities(e)
              .attach({ targetEntity: n, resetActivityQueue: !0 });
        });
    }
    function _(t) {
      let e = t.playerManager,
        i = t.entityManager,
        n = t.eventEmitter,
        r = ['spear', 'twinblade'],
        a = e.getPlayerByTeam(V),
        o = i.entities(`:player(${V})`).filter(t => t.getDataObject().getId() === 'manufacture'),
        s = setInterval(() => {
          let t = i.entities(`:player(${V})`).filter(t => r.some(e => t.getDataObject().getId() === e)).length,
            e = o.filter(t => !t.isProducing())[0],
            s = r[H.default.rnd(0, r.length - 1)];
          t < 50 &&
            e &&
            a.hasSufficientResources(s) &&
            n.synced.entities(e).addProduction({ targetId: s });
        }, 1e4);
      t.timers.push(s);
    }
    function w(t) {
      let e = t.playerManager,
        i = (t.entityManager, t.eventEmitter),
        n = t.locationManager,
        r = n.getLocationById(2),
        a =
          (e.getPlayerByTeam(V),
          setInterval(() => {
            const e = k(t);
            e.length >= 8 &&
              i.synced
                .entities(e)
                .patrol(M({}, r.getCenter(), { terminateAtDestination: !0 }));
          }, 1e4));
      t.timers.push(a);
    }
    function x(t, e) {
      let i = e.entityManager,
        n = t.getSprite();
      return i
        .entities(':not(hibernated)')
        .filter(t => t.isMinable())
        .sort((t, e) => (
          H.default.distanceBetweenSprites(n, t.getSprite()) -
            H.default.distanceBetweenSprites(n, e.getSprite())
        ))
        .shift();
    }
    function P(t, e) {
      let i = e.entityManager,
        n = t.getSprite();
      return i
        .entities(':not(hibernated)')
        .filter(t => t.getDataObject().isClassicMiningStation())
        .sort((t, e) => (
          H.default.distanceBetweenSprites(n, t.getSprite()) -
            H.default.distanceBetweenSprites(n, e.getSprite())
        ))
        .shift();
    }
    function k(t) {
      let e = t.entityManager,
        i = ['spear', 'twinblade'],
        n = e.entities(`:player(${V})`).filter(t => t.getDataObject().getId() === 'manufacture');
      return n.length
        ? e
          .entities(`:player(${V})`)
          .filter(t => (
            !t.isHibernated() &&
                i.some(e => t.getDataObject().getId() === e)
          ))
          .filter(t => (
            n.reduce((e, i) => {
              const n = i.getSprite();
              return Math.min(
                e,
                H.default.distanceBetweenSprites(n, t.getSprite()),
              );
            }, 9999) < 200
          ))
        : [];
    }
    function T(t) {
      return t.entityManager.entities(':user').filter(t => t.getDataObject().getId() === 'antonvargas')[0];
    }
    function O(t) {
      let e = t.GUI,
        i = t.playerManager,
        n = i.getUser(),
        r = i.getPlayerByTeam(V),
        a = R.default.getInstance();
      a.getPlayerSummaryCollector(n).setAsVictorious(),
      a.getPlayerSummaryCollector(r).setAsDefeated(),
      e.getVictoryDisplay().start();
    }
    function E(t) {
      let e = t.GUI,
        i = t.playerManager,
        n = i.getUser(),
        r = i.getPlayerByTeam(V),
        a = R.default.getInstance();
      a.getPlayerSummaryCollector(r).setAsVictorious(),
      a.getPlayerSummaryCollector(n).setAsDefeated(),
      e.getDefeatDisplay().start();
    }
    function S(t) {
      var e = setInterval(() => {
        T(t) || (clearInterval(e), E(t));
      }, 3e3);
      t.timers.push(e);
    }
    function C(t) {
      S(t), l(t);
    }
    function I(t) {
      C(t),
      v(t),
      y(t),
      g(t),
      _(t),
      w(t),
      t
        .wait(1e4)
        .then(r.bind(null, t))
        .then(a.bind(null, t))
        .then(t.wait.bind(t, 6e4))
        .then(s.bind(null, t))
        .then(u.bind(null, t))
        .then(t.wait.bind(t, 6e4))
        .then(c.bind(null, t))
        .then(o.bind(null, t))
        .then(h.bind(null, t))
        .then(f.bind(null, t))
        .then(p.bind(null, t))
        .then(d.bind(null, t))
        .then(O.bind(null, t));
    }
    var M =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      A = i(33),
      R = n(A),
      L = i(45),
      D = n(L),
      B = i(7),
      j = n(B),
      F = i(73),
      U = n(F),
      G = i(84),
      N = n(G),
      W = i(3),
      H = n(W),
      X = D.default.getInstance(),
      V = (window.fivenations, 4),
      z = [],
      Y = [],
      q = 8;
    X.add('prequel-mission3', (t) => {
      t.loadMap('03_precamp_home_too_far')
        .then(I.bind(null, t))
        .then(t.fadeIn.bind(t));
    });
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t) {
      let e = t.map,
        i = t.entityManager,
        n = i.entities('e84fd615-ca33-4660-a985-1433e3a6c83a');
      return Promise.resolve().then(() => e.cinematicsCenterToEntity(n));
    }
    function a() {
      return q.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission4.scene1.text1',
            portraitId: 'antonvargas',
            audio: '04ingame_anton_0',
          },
          {
            text: 'ingamespeech.pre-campaign.mission4.scene1.text2',
            portraitId: 'aida',
            audio: '04ingame_aida_0',
          },
          {
            text: 'ingamespeech.pre-campaign.mission4.scene1.text3',
            portraitId: 'antonvargas',
            audio: '04ingame_anton_1',
          },
          {
            text: 'ingamespeech.pre-campaign.mission4.scene1.text4',
            portraitId: 'tip',
            length: '8000',
          },
        ])
        .catch(() => {});
    }
    function o(t) {
      return new Promise(((e) => {
        var i = t.entityManager,
          n = setInterval(() => {
            const t = i.entities(`:player(${tt})`).filter(t => t.getDataObject().getId() === 'commandcenter');
            t && t.length > 0 && (clearInterval(n), e());
          }, 3e3);
        t.timers.push(n);
      }));
    }
    function s(t) {
      return q.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission4.scene2.text1',
            portraitId: 'antonvargas',
            audio: '04ingame_anton_2',
          },
        ])
        .catch(() => {});
    }
    function u(t, e) {
      let i = t.GUI.getMissionObjectivesBar(),
        n = t.GUI.getMissionNotifications(),
        r = z.default.getInstance();
      return Promise.resolve()
        .then(() => e.forEach((t) => {
          let e = n.addNotification(t),
            a = new Q.default(r.translate(t));
          i.addObjective(a), rt.push(a), nt.push(e);
        }))
        .then(() => t.wait(4e3));
    }
    function l(t) {
      return u(t, ['ingamespeech.pre-campaign.mission4.missionobjectives1']);
    }
    function c(t) {
      return u(t, [
        'ingamespeech.pre-campaign.mission4.missionobjectives2',
        'ingamespeech.pre-campaign.mission4.missionobjectives3',
      ]);
    }
    function h(t) {
      return u(t, ['ingamespeech.pre-campaign.mission4.missionobjectives4']);
    }
    function d(t) {
      let e = t.entityManager,
        i = t.eventEmitter,
        n = t.locationManager,
        r = n.getLocationById(5),
        a = r.getCenter(),
        o = n.getLocationById(6),
        s = n.getLocationById(1),
        u = {
          gloom: 3, absorber: 2, twinblade: 8, spear: 15,
        },
        l = [];
      return (
        Object.keys(u).forEach((t) => {
          for (let n = a.x, r = a.y, o = u[t] - 1; o >= 0; o--) {
            const s = i.synced.entities
              .add({
                id: t,
                team: et,
                x: n + Z.default.rnd(0, 250) - 175,
                y: r + Z.default.rnd(0, 250) - 175,
              })
              .then(t => e.entities(t))
              .then(t => it.push(t));
            l.push(s);
          }
        }),
        Promise.all(l)
          .then(f.bind(null, t, it, o))
          .then(p.bind(null, t, s, it))
          .then(g.bind(null, t, it))
      );
    }
    function f(t, e, i) {
      let n = t.eventEmitter,
        r = t.locationManager;
      if (e || e.length) {
        n.synced
          .entities(e)
          .patrol(G({}, i.getCenter(), { terminateAtDestination: !0 }));
        let a = new Promise(((n) => {
            var a = setInterval(() => {
              let t = e.filter(t => !t.isHibernated() && !t.isDeleted()),
                o = r.getEntitiesInLocation(i);
              (t.length === 0 ||
                t.every(t => o.indexOf(t) !== -1)) &&
                (clearInterval(a), n());
            }, 5e3);
            t.timers.push(a);
          })),
          o = new Promise((t => setTimeout(t, 15e4)));
        return Promise.race([a, o]);
      }
    }
    function p(t, e, i) {
      t.eventEmitter.synced
        .entities(i)
        .patrol(G({}, e.getCenter(), { terminateAtDestination: !0 }));
    }
    function g(t, e) {
      return new Promise(((i) => {
        var n =
          (t.entityManager,
          setInterval(() => {
            const t = e.filter(t => !t.isDeleted());
            (!e || (t && t.length === 0)) && (clearInterval(n), i());
          }, 2e3));
        t.timers.push(n);
      }));
    }
    function y(t) {
      let e = t.inGameTimer,
        i = t.GUI;
      e.countdown({ duration: 900 }),
      i.getInGameTimerDisplay().show(e),
      v(5, e).then(m.bind(null, t)),
      e.onFinish.addOnce(() => {
        Promise.resolve()
          .then(b.bind(null, t))
          .then(d.bind(null, t))
          .then(L.bind(null, t))
          .then(_.bind(null, t))
          .then(h.bind(null, t))
          .then(D.bind(null, t))
          .then(F.bind(null, t))
          .then(w.bind(null, t))
          .then(L.bind(null, t, !0))
          .then(B.bind(null, t))
          .then(M.bind(null, t));
      });
    }
    function v(t, e) {
      return new Promise(((i) => {
        const n = function n(r) {
          r <= 60 * t && (e.onTick.remove(n), i());
        };
        e.onTick.add(n);
      }));
    }
    function m() {
      return q.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission4.scene3.text1',
            portraitId: 'aida',
            audio: '04ingame_aida_1',
          },
        ])
        .catch(() => {});
    }
    function b() {
      return q.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission4.scene4.text1',
            portraitId: 'antonvargas',
            audio: '04ingame_anton_3',
          },
        ])
        .catch(() => {});
    }
    function _() {
      return q.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission4.scene5.text1',
            portraitId: 'aida',
            audio: '04ingame_aida_2',
          },
          {
            text: 'ingamespeech.pre-campaign.mission4.scene5.text2',
            portraitId: 'jacquesboyer',
            audio: '04ingame_boyer_0',
          },
        ])
        .catch(() => {});
    }
    function w(t) {
      return new Promise(((e) => {
        var i = t.entityManager,
          n = setInterval(() => {
            const t = i.entities(`:player(${et})`).filter(t => t.getDataObject().getId() === 'advancedmanufacture');
            (!t || (t && t.length === 0)) && (clearInterval(n), e());
          }, 2e3);
        t.timers.push(n);
      }));
    }
    function x(t) {
      let e = t.playerManager,
        i = t.entityManager,
        n = t.eventEmitter,
        r = e.getPlayerByTeam(et),
        a = i.entities(`:player(${et})`).filter(t => t.getDataObject().getId() === 'installationprime'),
        o = setInterval(() => {
          i.entities(`:player(${et})`).filter(t => t.getDataObject().getId() === 'labor').length < 10 &&
            a &&
            r.hasSufficientResources('labor') &&
            n.synced.entities(a).addProduction({ targetId: 'labor' });
        }, 5e3);
      t.timers.push(o);
    }
    function P(t) {
      const e =
        (t.entityManager,
        setInterval(() => {
          k(t);
        }, 2e3));
      t.timers.push(e);
    }
    function k(t) {
      let e = t.entityManager,
        i = t.eventEmitter;
      e.entities(`:player(${et})`)
        .filter(t => t.getDataObject().getId() === 'labor')
        .filter(t => t.isIdling())
        .forEach((e) => {
          const n = S(e, t);
          i.synced
            .entities(e)
            .mine({ targetEntity: n, resetActivityQueue: !0 });
        });
    }
    function T(t) {
      let e = t.playerManager,
        i = t.entityManager,
        n = t.eventEmitter,
        r = ['spear', 'twinblade', 'absorber', 'gloom'],
        a = e.getPlayerByTeam(et),
        o = O(t, 'advancedmanufacture', et),
        s = setInterval(() => {
          let e = i.entities(`:player(${et})`).filter(t => r.some(e => t.getDataObject().getId() === e)).length,
            s = o[Z.default.rnd(0, o.length)],
            u = r[Z.default.rnd(0, r.length)];
          u === 'absorber' &&
            C(t).some(t => t.getDataObject().getId() === 'absorber') &&
            (u = 'gloom'),
          e < 60 &&
              s &&
              a.hasSufficientResources(u) &&
              n.synced.entities(s).addProduction({ targetId: u });
        }, 1e4);
      t.timers.push(s);
    }
    function O(t, e, i) {
      return t.entityManager.entities(`:player(${i})`).filter(t => t.getDataObject().getId() === e);
    }
    function E(t) {
      let e = t.playerManager,
        i = (t.entityManager, t.eventEmitter, t.locationManager),
        n = i.getLocationById(1),
        r = [
          [i.getLocationById(7), i.getLocationById(8), n],
          [
            i.getLocationById(9),
            i.getLocationById(10),
            i.getLocationById(11),
            n,
          ],
        ],
        a =
          (e.getPlayerByTeam(et),
          setInterval(() => {
            const e = C(t);
            if (e.length >= 8) {
              const i = Z.default.rnd(0, r.length);
              r[i].reduce((i, n) => i.then(() => f(t, e, n)), Promise.resolve());
            }
          }, 1e4));
      t.timers.push(a);
    }
    function S(t, e) {
      let i = e.entityManager,
        n = t.getSprite();
      return i
        .entities(':not(hibernated)')
        .filter(t => t.isMinable())
        .sort((t, e) => (
          Z.default.distanceBetweenSprites(n, t.getSprite()) -
            Z.default.distanceBetweenSprites(n, e.getSprite())
        ))
        .shift();
    }
    function C(t) {
      let e = t.entityManager,
        i = ['spear', 'twinblade', 'absorber', 'gloom'],
        n = e.entities(`:player(${et})`).filter(t => t.getDataObject().getId() === 'advancedmanufacture');
      return n.length
        ? e
          .entities(`:player(${et})`)
          .filter(t => (
            !t.isHibernated() &&
                i.some(e => t.getDataObject().getId() === e)
          ))
          .filter(t => (
            n.reduce((e, i) => {
              const n = i.getSprite();
              return Math.min(
                e,
                Z.default.distanceBetweenSprites(n, t.getSprite()),
              );
            }, 9999) < 200
          ))
        : [];
    }
    function I(t) {
      return t.entityManager.entities(':user').filter(t => t.getDataObject().getId() === 'antonvargas')[0];
    }
    function M(t) {
      let e = t.GUI,
        i = t.playerManager,
        n = i.getUser(),
        r = i.getPlayerByTeam(et),
        a = W.default.getInstance();
      a.getPlayerSummaryCollector(n).setAsVictorious(),
      a.getPlayerSummaryCollector(r).setAsDefeated(),
      e.getVictoryDisplay().start();
    }
    function A(t) {
      let e = t.GUI,
        i = t.playerManager,
        n = i.getUser(),
        r = i.getPlayerByTeam(et),
        a = W.default.getInstance();
      a.getPlayerSummaryCollector(r).setAsVictorious(),
      a.getPlayerSummaryCollector(n).setAsDefeated(),
      e.getDefeatDisplay().start();
    }
    function R(t) {
      var e = setInterval(() => {
        I(t) || (clearInterval(e), A(t));
      }, 3e3);
      t.timers.push(e);
    }
    function L(t) {
      let e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
        i = t.GUI.getMissionObjectivesBar(),
        n = t.GUI.getMissionNotifications(),
        r = void z.default.getInstance(),
        a = void 0;
      return (
        e
          ? ((r = rt.pop()), (a = nt.pop()))
          : ((r = rt.shift()), (a = nt.shift())),
        n.removeNotification(a),
        r.complete(),
        Promise.resolve()
          .then(() => i.addObjective(r))
          .then(() => t.wait(4e3))
      );
    }
    function D(t) {
      let e = t.map,
        i = t.GUI.getMissionNotifications(),
        n = i.addNotification('ingamespeech.pre-campaign.mission4.missionnotification1'),
        r = O(t, 'advancedmanufacture', et),
        a = r.length,
        o = setInterval(() => {
          let e = O(t, 'advancedmanufacture', et).length,
            i = a - e;
          n.updateValues(i, a);
        }, 2e3);
      t.timers.push(o),
      n.updateValues(0, a),
      nt.push(n),
      r.forEach((t) => {
        const i = { vision: 1, revealForever: !0, entity: t };
        e.getFogOfWar().visitTilesManually(i);
      }, Promise.resolve());
    }
    function B(t) {
      let e = t.GUI.getMissionNotifications(),
        i = nt.pop();
      e.removeNotification(i);
    }
    function j(t) {
      R(t);
    }
    function F(t) {
      P(t), x(t), T(t), E(t);
    }
    function U(t) {
      j(t),
      t
        .wait(2e3)
        .then(r.bind(null, t))
        .then(a.bind(null, t))
        .then(y.bind(null, t))
        .then(l.bind(null, t))
        .then(o.bind(null, t))
        .then(L.bind(null, t))
        .then(s.bind(null, t))
        .then(c.bind(null, t));
    }
    var G =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      N = i(33),
      W = n(N),
      H = i(45),
      X = n(H),
      V = i(7),
      z = n(V),
      Y = i(73),
      q = n(Y),
      K = i(84),
      Q = n(K),
      J = i(3),
      Z = n(J),
      $ = X.default.getInstance(),
      tt = (window.fivenations, 1),
      et = 4,
      it = [],
      nt = [],
      rt = [];
    $.add('prequel-mission4', (t) => {
      t.loadMap('04_precamp_pandora')
        .then(U.bind(null, t))
        .then(t.fadeIn.bind(t));
    });
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r() {
      return _t.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission5.scene1.text1',
            portraitId: 'jacquesboyer',
            audio: '05ingame_boyer_0',
            pauseGame: !0,
          },
          {
            text: 'ingamespeech.pre-campaign.mission5.scene1.text2',
            portraitId: 'antonvargas',
            audio: '05ingame_anton_0',
            pauseGame: !0,
          },
          {
            text: 'ingamespeech.pre-campaign.mission5.scene1.text3',
            portraitId: 'jacquesboyer',
            audio: '05ingame_boyer_1',
            pauseGame: !0,
          },
          {
            text: 'ingamespeech.pre-campaign.mission5.scene1.text4',
            portraitId: 'antonvargas',
            audio: '05ingame_anton_1',
            pauseGame: !0,
          },
          {
            text: 'ingamespeech.pre-campaign.mission5.scene1.text5',
            portraitId: 'jacquesboyer',
            audio: '05ingame_boyer_2',
            pauseGame: !0,
          },
          {
            text: 'ingamespeech.pre-campaign.mission5.scene1.text6',
            portraitId: 'antonvargas',
            audio: '05ingame_anton_2',
            pauseGame: !0,
          },
        ])
        .catch(() => {});
    }
    function a(t, e) {
      let i = t.GUI.getMissionObjectivesBar(),
        n = t.GUI.getMissionNotifications(),
        r = mt.default.getInstance();
      return Promise.resolve()
        .then(() => e.forEach((t) => {
          let e = n.addNotification(t),
            a = new xt.default(r.translate(t));
          i.addObjective(a), St.push(a), Et.push(e);
        }))
        .then(() => t.wait(4e3));
    }
    function o(t) {
      return a(t, ['ingamespeech.pre-campaign.mission5.missionobjectives3']);
    }
    function s(t) {
      return a(t, [
        'ingamespeech.pre-campaign.mission5.missionobjectives1',
        'ingamespeech.pre-campaign.mission5.missionobjectives2',
        'ingamespeech.pre-campaign.mission5.missionobjectives4',
      ]);
    }
    function u(t) {
      return a(t, ['ingamespeech.pre-campaign.mission5.missionobjectives5']);
    }
    function l(t) {
      const e = Q(t);
      t.GUI.showMinimapNotification({ x: e.getSprite().x, y: e.getSprite().y }),
      t.map.getFogOfWar().visitTilesManually({ vision: 4, entity: e });
    }
    function c(t, e) {
      t.getSprite().events.onInputDown.addOnce(() => {
        _t.default
          .getInstance()
          .execute([{ portraitId: 'tip', length: 8e3, text: e }])
          .catch(() => {});
      });
    }
    function h(t, e, i) {
      let n = t.eventEmitter,
        r = t.locationManager;
      if (e || e.length) {
        n.synced
          .entities(e)
          .patrol(dt({}, i.getCenter(), { terminateAtDestination: !0 }));
        let a = new Promise(((n) => {
            var a = setInterval(() => {
              let t = e.filter(t => !t.isHibernated() && !t.isDeleted()),
                o = r.getEntitiesInLocation(i);
              (t.length === 0 ||
                t.every(t => o.indexOf(t) !== -1)) &&
                (clearInterval(a), n());
            }, 5e3);
            t.timers.push(a);
          })),
          o = new Promise((t => setTimeout(t, 15e4)));
        return Promise.race([a, o]);
      }
    }
    function d(t, e, i) {
      let n = t.eventEmitter,
        r = e.getSprite(),
        a = { x: r.x, y: r.y };
      n.synced.entities(i).patrol(dt({}, a, { terminateAtDestination: !0 }));
    }
    function f(t) {
      t.diplomacyManager.addAlliance(1, 2),
      t.diplomacyManager.addAlliance(2, 1),
      t.diplomacyManager.addVision(1, 2),
      t.diplomacyManager.addVision(2, 1);
    }
    function p(t) {
      const e = (t.entityManager, K(t));
      return t.map.cinematicsCenterToEntity(e);
    }
    function g() {
      return _t.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission5.scene2.text1',
            portraitId: 'nephral',
            audio: '05ingame_nephral_0',
          },
          {
            text: 'ingamespeech.pre-campaign.mission5.scene2.text2',
            portraitId: 'antonvargas',
            audio: '05ingame_anton_3',
          },
        ])
        .catch(() => {});
    }
    function y(t) {
      let e = t.locationManager,
        i = e.getLocationById(0),
        n = J(t);
      return e.getEntitiesInLocation(i).indexOf(n) !== -1;
    }
    function v(t) {
      return new Promise(((e) => {
        var i = setInterval(() => {
          y(t) && (clearInterval(i), (Dt = !0), e());
        }, 2e3);
        t.timers.push(i);
      }));
    }
    function m(t) {
      return Lt ? _(t) : b(t).then(u.bind(null, t));
    }
    function b(t) {
      return _t.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission5.scene3.text1',
            portraitId: 'nephral',
            audio: '05ingame_nephral_1',
            pauseGame: !0,
          },
        ])
        .catch(() => {});
    }
    function _(t) {
      if (Dt && Lt) {
        return R(t)
          .then(tt.bind(null, t))
          .then(() => t.wait(3e3))
          .then(w.bind(null, t));
      }
    }
    function w(t) {
      (Rt = !0),
      Promise.resolve()
        .then(t.fadeOut.bind(t))
        .then(x.bind(null, t))
        .then(P.bind(null, t))
        .then(O.bind(null, t))
        .then(t.fadeIn.bind(t));
    }
    function x(t) {
      t.entityManager.reset();
    }
    function P(t) {
      let e = t.eventEmitter,
        i = t.locationManager,
        n = t.entityManager,
        r = void 0;
      return k(t)
        .then(T.bind(null, t))
        .then(() => {
          const t = i.getLocationById(13);
          e.synced.effects.add(dt({ id: 'wormhole' }, t.getCenter()));
        })
        .then(() => {
          r = n.entities(':user').filter(t => t.getDataObject().getId() === 'antonvargas')[0];
          const e = r.getSprite();
          return X(t, {
            coords: { x: e.x, y: e.y },
            entities: { hurricane: 20 },
            team: 1,
          });
        })
        .then((t) => {
          e.synced
            .entities(t)
            .getToDock({ targetEntity: r, resetActivityQueue: !0 });
        });
    }
    function k(t) {
      return X(t, {
        locationId: 15,
        entities: { absorber: 2, twinblade: 13, spear: 15 },
        team: Ot,
        random: !0,
      });
    }
    function T(t) {
      return X(t, {
        locationId: 17,
        entities: {
          antonvargas: 1,
          icarus: 8,
          pasteur: 2,
          orca: 3,
          hailstorm: 2,
        },
        team: 1,
        random: !0,
      });
    }
    function O(t) {
      let e = t.entityManager,
        i = t.map,
        n = t.locationManager,
        r = t.eventEmitter,
        a = e.entities(':player(1)').filter(t => t.getDataObject().getId() !== 'hurricane'),
        o = a.filter(t => t.getDataObject().getId() === 'antonvargas')[0],
        s = e.entities(`:player(${Ot})`),
        u = n.getLocationById(13),
        l = n.getLocationById(18);
      a.forEach(t => t.setNoUserControl(!0)),
      i.lockScroll(),
      i.centerEntity(o, !0),
      Promise.resolve()
        .then(() => {
          r.synced.entities(a).move(dt({}, u.getCenter())),
          r.synced.entities(a).move(dt({}, l.getCenter()));
        })
        .then(() => t.wait(2e3))
        .then(E.bind(null, t))
        .then(() => i.cinematicsCenterToEntity(o))
        .then(() => i.followEntity(o))
        .then(() => t.wait(2e3))
        .then(() => r.synced.entities(s).move(dt({}, l.getCenter())))
        .then(() => {
          const t = { entity: s[0], vision: 8, revealForever: !0 };
          i.getFogOfWar().visitTilesManually(t);
        })
        .then(() => i.unfollowEntity())
        .then(() => i.cinematicsCenterToEntity(s[0]))
        .then(() => M())
        .then(() => i.cinematicsCenterToEntity(o))
        .then(() => i.followEntity(o))
        .then(() => r.synced.entities(o).undock())
        .then((e) => {
          r.synced.entities(e).move(dt({}, u.getCenter())),
          r.synced.entities(e).move(dt({}, l.getCenter())),
          C(t, u);
        })
        .then(() => r.synced
          .entities(o)
          .attack({ targetEntity: s[0], resetActivityQueue: !0 }))
        .then(() => t.wait(5e3))
        .then(() => A())
        .then(() => r.synced
          .entities(s)
          .attack({ targetEntity: o, resetActivityQueue: !0 }))
        .then(() => S(t, o))
        .then(() => t.fadeOut())
        .then(() => ht())
        .then(() => r.local.dispatch('game/changescene', 'game-epilogue'));
    }
    function E(t) {
      let e = t.map,
        i = t.locationManager,
        n = i.getLocationById(13),
        r = n.getCenter(),
        a = dt({}, r, { realCoords: !0, vision: 5, revealForever: !0 });
      return Promise.resolve()
        .then(() => e.getFogOfWar().visitTilesManually(a))
        .then(() => e.cinematicsCenterTo(r.x, r.y))
        .then(I);
    }
    function S(t, e) {
      return new Promise(((i) => {
        var n =
          (t.entityManager,
          setInterval(() => {
            e.getDataObject().getHull() / e.getDataObject().getMaxHull() <
              0.6 && (clearInterval(n), i());
          }, 1e3));
        t.timers.push(n);
      }));
    }
    function C(t, e) {
      return new Promise(((i) => {
        let n = t.locationManager,
          r = setInterval(() => {
            n.getEntitiesInLocation(e).forEach(t => t.hibernate());
          }, 1e3);
        t.timers.push(r);
      }));
    }
    function I() {
      return _t.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission5.scene6.text1',
            portraitId: 'antonvargas',
            audio: '05ingame_anton_4',
            pauseGame: !0,
          },
        ])
        .catch(() => {});
    }
    function M() {
      return _t.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission5.scene6.text2',
            portraitId: 'aida',
            audio: '05ingame_aida_1',
            pauseGame: !0,
          },
          {
            text: 'ingamespeech.pre-campaign.mission5.scene6.text3',
            portraitId: 'antonvargas',
            audio: '05ingame_anton_5',
            pauseGame: !0,
          },
        ])
        .catch(() => {});
    }
    function A() {
      return _t.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission5.scene6.text4',
            portraitId: 'antonvargas',
            audio: '05ingame_anton_6',
            pauseGame: !0,
          },
          {
            text: 'ingamespeech.pre-campaign.mission5.scene6.text5',
            portraitId: 'aida',
            audio: '05ingame_aida_2',
            pauseGame: !0,
          },
          {
            text: 'ingamespeech.pre-campaign.mission5.scene6.text6',
            portraitId: 'antonvargas',
            audio: '05ingame_anton_7',
            pauseGame: !0,
          },
        ])
        .catch(() => {});
    }
    function R(t) {
      return _t.default
        .getInstance()
        .execute([
          {
            text: 'ingamespeech.pre-campaign.mission5.scene5.text1',
            portraitId: 'nephral',
            audio: '05ingame_nephral_2',
          },
        ])
        .catch(() => {});
    }
    function L() {
      if (!Bt) {
        return (
          (Bt = !0),
          _t.default
            .getInstance()
            .execute([
              {
                text: 'ingamespeech.pre-campaign.mission5.scene4.text1',
                portraitId: 'aida',
                audio: '05ingame_aida_0',
              },
            ])
            .catch(() => {})
        );
      }
    }
    function D(t) {
      return new Promise(((e) => {
        var i = t.entityManager,
          n = setInterval(() => {
            const t = i.entities(`:player(${Ot})`).filter(t => t.getDataObject().getId() === 'quantumcore');
            (!t || (t && t.length === 0)) && ((Lt = !0), clearInterval(n), e());
          }, 2e3);
        t.timers.push(n);
      }));
    }
    function B(t) {
      let e = t.playerManager,
        i = t.entityManager,
        n = t.eventEmitter,
        r = e.getPlayerByTeam(Ot),
        a = i.entities(`:player(${Ot})`).filter(t => t.getDataObject().getId() === 'installationprime'),
        o = setInterval(() => {
          i.entities(`:player(${Ot})`).filter(t => t.getDataObject().getId() === 'labor').length < 10 &&
            a &&
            r.hasSufficientResources('labor') &&
            n.synced.entities(a).addProduction({ targetId: 'labor' });
        }, 5e3);
      t.timers.push(o);
    }
    function j(t) {
      const e =
        (t.entityManager,
        setInterval(() => {
          F(t);
        }, 2e3));
      t.timers.push(e);
    }
    function F(t) {
      let e = t.entityManager,
        i = t.eventEmitter;
      e.entities(`:player(${Ot})`)
        .filter(t => t.getDataObject().getId() === 'labor')
        .filter(t => t.isIdling())
        .forEach((e) => {
          const n = z(e, t);
          i.synced
            .entities(e)
            .mine({ targetEntity: n, resetActivityQueue: !0 });
        });
    }
    function U(t) {
      let e = t.playerManager,
        i = t.entityManager,
        n = t.eventEmitter,
        r = ['spear', 'twinblade', 'absorber', 'gloom'],
        a = e.getPlayerByTeam(Ot),
        o = N(t, 'advancedmanufacture', Ot),
        s = setInterval(() => {
          let e = i.entities(`:player(${Ot})`).filter(t => r.some(e => t.getDataObject().getId() === e)).length,
            s = o[kt.default.rnd(0, o.length)],
            u = r[kt.default.rnd(0, r.length)];
          u === 'absorber' &&
            Y(t).some(t => t.getDataObject().getId() === 'absorber') &&
            (u = 'gloom'),
          e < 125 &&
              s &&
              a.hasSufficientResources(u) &&
              n.synced.entities(s).addProduction({ targetId: u });
        }, 1e4);
      t.timers.push(s);
    }
    function G(t, e, i) {
      return new Promise(((n) => {
        var r = setInterval(() => {
          const a = t.entityManager
            .entities(`:player(${e})`)
            .filter(t => t.getDataObject().getId() === i)[0];
          a && !a.isInConstruction() && (clearInterval(r), n(a));
        }, 3e3);
        t.timers.push(r);
      }));
    }
    function N(t, e, i) {
      return t.entityManager.entities(`:player(${i})`).filter(t => t.getDataObject().getId() === e);
    }
    function W(t, e) {
      return t.entityManager.entities(`:player(${e})`).filter(t => t.getDataObject().isBuilding());
    }
    function H(t, e) {
      return t.entityManager.entities(`:player(${e})`).filter(t => !t.getDataObject().isBuilding());
    }
    function X(t, e) {
      let i = t.entityManager,
        n = t.eventEmitter,
        r = t.locationManager,
        a = e.locationId,
        o = e.entities,
        s = e.team,
        u = e.random,
        l = e.coords;
      if (a) {
        const c = r.getLocationById(a);
        l = c.getCenter();
      }
      const h = [];
      return (
        Object.keys(o).forEach((t) => {
          for (let e = l, r = e.x, a = e.y, c = o[t] - 1; c >= 0; c -= 1) {
            const d = n.synced.entities
              .add({
                id: t,
                x: r + (u ? kt.default.rnd(0, 500) - 250 : 0),
                y: a + (u ? kt.default.rnd(0, 500) - 250 : 0),
                team: s,
              })
              .then(t => i.entities(t));
            h.push(d);
          }
        }),
        Promise.all(h)
      );
    }
    function V(t) {
      let e = t.playerManager,
        i = (t.entityManager, t.eventEmitter, t.locationManager),
        n = i.getLocationById(0),
        r = i.getLocationById(1),
        a = [
          [
            i.getLocationById(5),
            i.getLocationById(6),
            i.getLocationById(7),
            i.getLocationById(8),
            r,
          ],
          [
            i.getLocationById(9),
            i.getLocationById(10),
            i.getLocationById(11),
            n,
          ],
          [
            i.getLocationById(9),
            i.getLocationById(10),
            i.getLocationById(11),
            i.getLocationById(12),
            r,
          ],
        ],
        o =
          (e.getPlayerByTeam(Ot),
          setInterval(() => {
            const e = Y(t);
            if (e.length >= 10) {
              const i = kt.default.rnd(0, a.length);
              a[i].reduce((i, n) => i.then(() => h(t, e, n)), Promise.resolve());
            }
          }, 1e4));
      t.timers.push(o);
    }
    function z(t, e) {
      let i = e.entityManager,
        n = t.getSprite();
      return i
        .entities(':not(hibernated)')
        .filter(t => t.isMinable())
        .sort((t, e) => (
          kt.default.distanceBetweenSprites(n, t.getSprite()) -
            kt.default.distanceBetweenSprites(n, e.getSprite())
        ))
        .shift();
    }
    function Y(t) {
      let e = t.entityManager,
        i = ['spear', 'twinblade', 'absorber', 'gloom'],
        n = e.entities(`:player(${Ot})`).filter(t => t.getDataObject().getId() === 'advancedmanufacture');
      return n.length
        ? e
          .entities(`:player(${Ot})`)
          .filter(t => (
            !t.isHibernated() &&
                i.some(e => t.getDataObject().getId() === e)
          ))
          .filter(t => (
            n.reduce((e, i) => {
              const n = i.getSprite();
              return Math.min(
                e,
                kt.default.distanceBetweenSprites(n, t.getSprite()),
              );
            }, 9999) < 200
          ))
        : [];
    }
    function q(t) {
      return (
        It ||
          (It = t.entityManager.entities(':user').filter(t => t.getDataObject().getId() === 'antonvargas')[0]),
        It.isDeleted() ? null : It
      );
    }
    function K(t) {
      return (
        At ||
          (At = t.entityManager.entities(':player(2)').filter(t => t.getDataObject().getId() === 'centralpyramid')[0]),
        At.isDeleted() ? null : At
      );
    }
    function Q(t) {
      return (
        Mt ||
          (Mt = t.entityManager.entities(':player(4)').filter(t => t.getDataObject().getId() === 'quantumcore')[0]),
        Mt.isDeleted() ? null : Mt
      );
    }
    function J(t) {
      return (
        Ct ||
          (Ct = t.entityManager.entities(':player(1)').filter(t => t.getDataObject().getId() === 'icarus')[0]),
        Ct.isDeleted() ? null : Ct
      );
    }
    function Z(t) {
      let e = t.GUI,
        i = t.playerManager,
        n = i.getUser(),
        r = i.getPlayerByTeam(Ot),
        a = i.getPlayerByTeam(2),
        o = pt.default.getInstance();
      o.getPlayerSummaryCollector(r).setAsVictorious(),
      o.getPlayerSummaryCollector(n).setAsDefeated(),
      o.getPlayerSummaryCollector(a).setAsDefeated(),
      e.getDefeatDisplay().start();
    }
    function $(t) {
      var e = setInterval(() => {
        let i = q(t),
          n = J(t),
          r = K(t);
        if (Rt) return void clearInterval(e);
        (i && n && r) || (clearInterval(e), Z(t));
      }, 3e3);
      t.timers.push(e);
    }
    function tt(t) {
      let e = t.GUI.getMissionObjectivesBar(),
        i = t.GUI.getMissionNotifications();
      return (
        St.forEach((t) => {
          t.complete(), e.addObjective(t);
        }),
        Et.forEach(t => i.removeNotification(t)),
        t.wait(15e3)
      );
    }
    function et(t) {
      let e = t.GUI.getMissionObjectivesBar(),
        i = t.GUI.getMissionNotifications(),
        n = (mt.default.getInstance(), St.splice(1, 2)),
        r = Et.splice(1, 2);
      return (
        n.forEach(t => t.complete()),
        r.forEach(t => i.removeNotification(t)),
        Promise.resolve()
          .then(() => e.addObjective(n[0]))
          .then(() => t.wait(4e3))
      );
    }
    function it(t) {
      c(J(t), 'ingamespeech.pre-campaign.mission5.pandoratip');
    }
    function nt(t) {
      c(t, 'ingamespeech.pre-campaign.mission5.radartip');
    }
    function rt(t) {
      W(t, 2).forEach((t) => {
        t.once('damage', L);
      });
    }
    function at(t) {
      let e = W(t, 2),
        i = 0;
      e.forEach((e) => {
        e.on('damage', () => {
          if (!(t.game.time.time - i < 6e4)) {
            const n = H(t, 2);
            d(t, e, n), (i = t.game.time.time);
          }
        });
      });
    }
    function ot(t) {
      j(t),
      B(t),
      U(t),
      V(t),
      t.wait(12e5).then(() => t.eventEmitter.synced
        .players(Ot)
        .researchCompleted({ researchId: 'absorptive-plating' }));
    }
    function st(t) {
      ut(t), lt(t), ct(t);
    }
    function ut(t) {
      $(t);
    }
    function lt(t) {
      it(t),
      G(t, 1, 'shipfactory').then(nt),
      G(t, 1, 'miningstation').then(ot.bind(null, t)),
      v(t)
        .then(et.bind(null, t))
        .then(m.bind(null, t)),
      D(t).then(_.bind(null, t));
    }
    function ct(t) {
      t.wait(2e3)
        .then(r.bind(null, t))
        .then(o.bind(null, t))
        .then(() => t.wait(9e4))
        .then(f.bind(null, t))
        .then(rt.bind(null, t))
        .then(at.bind(null, t))
        .then(p.bind(null, t))
        .then(g.bind(null, t))
        .then(s.bind(null, t))
        .then(l.bind(null, t));
    }
    function ht() {
      (Ct = null),
      (It = null),
      (Mt = null),
      (At = null),
      (Rt = !1),
      (Lt = !1),
      (Dt = !1),
      (Bt = !1);
    }
    var dt =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      ft = i(33),
      pt = n(ft),
      gt = i(45),
      yt = n(gt),
      vt = i(7),
      mt = n(vt),
      bt = i(73),
      _t = n(bt),
      wt = i(84),
      xt = n(wt),
      Pt = i(3),
      kt = n(Pt),
      Tt = yt.default.getInstance(),
      Ot = (window.fivenations, 4),
      Et = [],
      St = [],
      Ct = void 0,
      It = void 0,
      Mt = void 0,
      At = void 0,
      Rt = !1,
      Lt = !1,
      Dt = !1,
      Bt = !1;
    Tt.add('prequel-mission5', (t) => {
      t.loadMap('05_precamp_thedeal')
        .then(st.bind(null, t))
        .then(t.fadeIn.bind(t));
    });
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(641),
      l = n(u),
      c = i(143),
      h = n(c),
      d = i(7),
      f = n(d),
      p = [
        { translation: 'mainmenu.campaign', page: 'campaign', available: !1 },
        { translation: 'mainmenu.skirmish', page: 'skirmish', available: !1 },
        {
          translation: 'mainmenu.multiplayer',
          page: 'multiplayer',
          available: !1,
        },
        { translation: 'mainmenu.howtoplay', page: 'howtoplay', available: !1 },
        {
          translation: 'mainmenu.spacemarket',
          page: 'spacemarket',
          available: !1,
        },
        {
          translation: 'mainmenu.exitapp',
          available: !0,
          test() {
            return !1;
          },
          onClick() {
            return window.top.close();
          },
        },
      ],
      g = (function (t) {
        function e(t) {
          r(this, e);
          const i = a(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return i.addBackground(), i.addFiveNationsLogo(), i.addButtons(), i;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'addBackground',
              value() {
                this.createElement({ id: 'mainmenu_header.png' });
              },
            },
            {
              key: 'addFiveNationsLogo',
              value() {
                (this.logo = this.createElement({
                  y: -11,
                  id: 'mainmenu_logo_fivenations.png',
                })),
                (this.logoSeparator = this.createElement({
                  x: this.logo.x + this.logo.width,
                  id: 'mainmenu_header_optionseparator.png',
                }));
              },
            },
            {
              key: 'addButtons',
              value() {
                let t = this,
                  e = f.default.getInstance(),
                  i = void 0;
                (this.buttons = []),
                p
                  .filter(t => !t.test || t.test())
                  .forEach((n) => {
                    let r = n.available,
                      a = n.onClick,
                      o = void 0;
                    o = i
                      ? i.x + i.width / 2
                      : t.logoSeparator.x + t.logoSeparator.width;
                    const s = t.addButton({
                      label: e.translate(n.translation),
                      onClick() {
                        r ? a && a() : t.showWarningPopup();
                      },
                      x: o,
                      y: 5,
                    });
                    i = s;
                  });
              },
            },
            {
              key: 'addButton',
              value(t) {
                var e = this,
                  i = t.x,
                  n = t.y,
                  r = t.label,
                  a = t.onClick,
                  o = new l.default({
                    game: this.game,
                    label: r,
                    onClick() {
                      e.selectButton(o), a();
                    },
                  });
                return (
                  (o.x = i + o.width / 2),
                  (o.y = n + o.height / 2),
                  this.add(o),
                  this.buttons.push(o),
                  o
                );
              },
            },
            {
              key: 'selectButton',
              value(t) {
                this.buttons.forEach((e) => {
                  e === t ? e.activate() : e.deactivate();
                });
              },
            },
            {
              key: 'showWarningPopup',
              value() {
                const t = this;
                this.popup ||
                  ((this.popup = new h.default({
                    game: this.game,
                    text: 'This funcationality is not available yet!',
                    textOffsetY: -50,
                    buttonLabel: 'OK',
                    onClick() {
                      return t.popup.hide();
                    },
                    overlay: !0,
                  })),
                  this.parent.add(this.popup)),
                this.popup.show();
              },
            },
            {
              key: 'createElement',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = t.id,
                  r = this.game.add.sprite(e || 0, i || 0, 'mainmenu-elements');
                return (r.frameName = n), this.add(r), r;
              },
            },
            {
              key: 'enable',
              value() {
                this.buttons.forEach(t => t.enable());
              },
            },
            {
              key: 'disable',
              value() {
                this.buttons.forEach(t => t.disable());
              },
            },
            {
              key: 'getButtons',
              value() {
                return this.buttons;
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = g;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(2),
      u = {
        font: s.MENU_FONT.font,
        fill: s.MENU_FONT.color,
        fillOnHover: s.MENU_FONT.onHover,
        fillOnDisabled: s.MENU_FONT.onDisabled,
      },
      l = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t.game),
          );
          return (
            i.addHighlight(t),
            i.addText(t),
            i.addSeparator(t),
            i.registerListeners(t),
            t.disabled && i.disable(),
            i
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'addHighlight',
              value(t) {
                (this.highlight = this.createElement({
                  id: 'mainmenu_header_option_selection_highlight.png',
                })),
                this.highlight.anchor.set(0.5),
                (this.highlight.y += 12),
                (this.highlight.visible = !1),
                t.active && this.activate(),
                this.add(this.highlight);
              },
            },
            {
              key: 'addText',
              value(t) {
                (this.label = this.add(this.game.add.text(0, 0, t.label, {
                  font: u.font,
                  fill: u.fill,
                }))),
                this.label.setShadow(0, 0, 'rgba(0, 0, 0, 0.5)', 0),
                this.label.anchor.set(0.5),
                this.add(this.label);
              },
            },
            {
              key: 'addSeparator',
              value(t) {
                (this.separator = this.createElement({
                  id: 'mainmenu_header_optionseparator.png',
                })),
                this.separator.anchor.set(0.5),
                (this.separator.x = this.label.x + this.width / 2 + 10),
                t.noSeparator && (this.separator.visible = !1),
                this.add(this.separator);
              },
            },
            {
              key: 'createClickableArea',
              value() {
                let t = this.label.width + 20,
                  e = this.label.height + 20,
                  i = this.game.add.bitmapData(t, e),
                  n = this.game.add.sprite(this.x, this.y, i);
                return (
                  (n.inputEnabled = !0),
                  (n.input.useHandCursor = !0),
                  n.anchor.set(0.5),
                  this.add(n),
                  n
                );
              },
            },
            {
              key: 'registerListeners',
              value(t) {
                let e = this,
                  i = function () {
                    e.click(t.onClick);
                  },
                  n = this.createClickableArea();
                n.events.onInputDown.add(i, this),
                n.events.onInputOver.add(this.over, this),
                n.events.onInputOut.add(this.out, this);
              },
            },
            {
              key: 'activate',
              value() {
                (this.active = !0), (this.highlight.visible = !0), this.over();
              },
            },
            {
              key: 'deactivate',
              value() {
                (this.active = !1), (this.highlight.visible = !1), this.out();
              },
            },
            {
              key: 'enable',
              value() {
                (this.disabled = !1), (this.label.fill = u.fill);
              },
            },
            {
              key: 'disable',
              value() {
                (this.disabled = !0), (this.label.fill = u.fillOnDisabled);
              },
            },
            {
              key: 'click',
              value(t) {
                t && !this.disabled && (this.activate(), t());
              },
            },
            {
              key: 'over',
              value() {
                this.disabled || (this.label.fill = u.fillOnHover);
              },
            },
            {
              key: 'out',
              value() {
                this.disabled || this.active || (this.label.fill = u.fill);
              },
            },
            {
              key: 'createElement',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = t.id,
                  r = this.game.add.sprite(e || 0, i || 0, 'mainmenu-elements');
                return (r.frameName = n), this.add(r), r;
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = l;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = window.fivenations,
      u = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return i.initOverlay(), i.setAnchorToCentre(), i;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'initOverlay',
              value() {
                let t = s.window,
                  e = t.width,
                  i = t.height;
                (this.graphics = this.game.add.graphics(0, 0)),
                this.graphics.beginFill('0x000000'),
                this.graphics.drawRect(0, 0, e, i),
                this.graphics.endFill(),
                (this.graphics.alpha = 0.75),
                this.add(this.graphics);
              },
            },
            {
              key: 'setAnchorToCentre',
              value() {
                this.graphics.anchor.setTo(0.5);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = u;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(11),
      s = n(o),
      u = i(1),
      l = n(u),
      c = i(23),
      h = n(c),
      d = i(529),
      f = n(d),
      p = i(3),
      g = n(p),
      y = i(2),
      v = window.fivenations,
      m = (function () {
        function t(e) {
          r(this, t),
          this.initDispatcher(),
          this.initEventListeners(),
          this.setGUID(e),
          this.setName(e),
          this.setRace(e),
          this.setTeamInformation(e),
          this.setAuthority(e.authorised),
          this.setTechnologies(e.technologies),
          this.setStartLocation(e.startLocation),
          (this.blockedResources = []);
        }
        return (
          a(t, [
            {
              key: 'initDispatcher',
              value() {
                this.dispatcher = new g.default.EventDispatcher();
              },
            },
            {
              key: 'initEventListeners',
              value() {
                this.onEntityNumberChangeCallback = this.onEntityNumberChange.bind(this);
                const t = l.default.getInstance().local;
                t.addEventListener(
                  'entity/number/change',
                  this.onEntityNumberChangeCallback,
                ),
                t.addEventListener(
                  'entity/production/change',
                  this.onEntityNumberChangeCallback,
                );
              },
            },
            {
              key: 'destroy',
              value() {
                l.default
                  .getInstance()
                  .local.removeEventListener(
                    'entity/number/change',
                    this.onEntityNumberChangeCallback,
                  );
              },
            },
            {
              key: 'setGUID',
              value(t) {
                this.guid = t.guid;
              },
            },
            {
              key: 'setName',
              value(t) {
                this.name = t.name;
              },
            },
            {
              key: 'setRace',
              value(t) {
                this.race = t.race;
              },
            },
            {
              key: 'setTeamInformation',
              value(t) {
                (this.team = t.team || 1),
                (this.user = t.user || !1),
                (this.independent = t.independent || !1);
              },
            },
            {
              key: 'on',
              value(t, e) {
                t && this.dispatcher.addEventListener(t, e);
              },
            },
            {
              key: 'flush',
              value() {
                this.setTitanium(this.getTitanium()),
                this.setSilicium(this.setSilicium()),
                this.setEnergy(this.setEnergy()),
                this.setUranium(this.setUranium());
              },
            },
            {
              key: 'cancelResearch',
              value(t) {
                this.researches[t] = null;
              },
            },
            {
              key: 'onEntityNumberChange',
              value() {
                const t = v.game.entityManager;
                (this.maxEnergyStorage = t
                  .entities(`:player(${this.team})`)
                  .filter(t => !t.isInConstruction())
                  .reduce((t, e) => t + e.getDataObject().getEnergyStorage(), 0)),
                this.maxEnergyStorage > 5e3 && (this.maxEnergyStorage = 5e3),
                (this.currentEntityCount = t
                  .entities(`:player(${this.team})`)
                  .reduce((t, e) => {
                    let i = e.getProductionManager(),
                      n = e.getDataObject().getSpace();
                    if (i.hasProductionStarted()) {
                      const r = i.getCurrentProductionSlot();
                      n += h.default.getInstance().getRequiredResources(r.id)
                        .space;
                    }
                    return t + n;
                  }, 0)),
                (this.supply = t
                  .entities(`:player(${this.team})`)
                  .filter(t => !t.isInConstruction())
                  .reduce((t, e) => t + e.getDataObject().getSupply(), 0)),
                this.supply > 350 && (this.supply = 350),
                this.authorised &&
                    this.energy > this.maxEnergyStorage &&
                    l.default
                      .getInstance()
                      .synced.players(this)
                      .alter({ energy: this.maxEnergyStorage, overwrite: !0 }),
                this.isControlledByUser() &&
                    l.default
                      .getInstance()
                      .local.dispatch('user/resource/alter');
              },
            },
            {
              key: 'setTitanium',
              value(t) {
                void 0 !== t &&
                  (this.dispatcher.dispatch('change/titanium', {
                    old: this.titanium,
                    new: t,
                  }),
                  (this.titanium = t));
              },
            },
            {
              key: 'setSilicium',
              value(t) {
                void 0 !== t &&
                  (this.dispatcher.dispatch('change/silicium', {
                    old: this.silicium,
                    new: t,
                  }),
                  (this.silicium = t));
              },
            },
            {
              key: 'setEnergy',
              value(t) {
                let e = t;
                void 0 !== t &&
                  (t > this.maxEnergyStorage && (e = this.maxEnergyStorage),
                  this.dispatcher.dispatch('change/energy', {
                    old: this.energy,
                    new: e,
                  }),
                  (this.energy = e));
              },
            },
            {
              key: 'setEnergyWithCapacity',
              value(t) {
                (this.maxEnergyStorage = t), this.setEnergy(t);
              },
            },
            {
              key: 'setUranium',
              value(t) {
                void 0 !== t &&
                  (this.dispatcher.dispatch('change/uranium', {
                    old: this.uranium,
                    new: t,
                  }),
                  (this.uranium = t));
              },
            },
            {
              key: 'setAuthority',
              value(t) {
                this.authorised = !!t;
              },
            },
            {
              key: 'setTechnologies',
              value(t) {
                (this.technologies = t || {}), (this.researches = {});
              },
            },
            {
              key: 'setStartLocation',
              value(t) {
                this.startLocation = t;
              },
            },
            {
              key: 'setReseachInProgress',
              value(t) {
                this.researches[t] = 1;
              },
            },
            {
              key: 'setReseachCompleted',
              value(t) {
                this.researches[t] = 2;
              },
            },
            {
              key: 'getTitanium',
              value() {
                return this.titanium;
              },
            },
            {
              key: 'getSilicium',
              value() {
                return this.silicium;
              },
            },
            {
              key: 'getEnergy',
              value() {
                return this.energy;
              },
            },
            {
              key: 'getUranium',
              value() {
                return this.uranium;
              },
            },
            {
              key: 'getTeam',
              value() {
                return this.team;
              },
            },
            {
              key: 'getCurrentEntityNumber',
              value() {
                return this.currentEntityCount;
              },
            },
            {
              key: 'getSupply',
              value() {
                return this.supply;
              },
            },
            {
              key: 'getSupplyInProduction',
              value() {
                let t = s.default.getInstance(),
                  e = 0,
                  i = 999;
                return (
                  t
                    .entities(`:player(${this.team}):building`)
                    .forEach((n) => {
                      let r = n.getDataObject(),
                        a = n.getProductionManager();
                      if (r && a.isProducing()) {
                        let o = a.getCurrentProductionSlot(),
                          s = t.getRequiredResources(o.id),
                          u = s.space;
                        a.hasProductionStarted() ? (e += u) : i > u && (i = u);
                      }
                    }),
                  { inProduction: e, smallestSuspendProduction: i }
                );
              },
            },
            {
              key: 'getAvailableResources',
              value(t) {
                const e = this.getBlockedResourceSum(t);
                return {
                  titanium: this.getTitanium() - e.titanium,
                  silicium: this.getSilicium() - e.silicium,
                  uranium: this.getUranium() - e.uranium,
                  energy: this.getEnergy() - e.energy,
                  space: Math.max(
                    0,
                    this.getSupply() - this.getCurrentEntityNumber() - e.supply,
                  ),
                };
              },
            },
            {
              key: 'addBlockedResource',
              value(t) {
                this.blockedResources.push(t);
              },
            },
            {
              key: 'removeBlockedResource',
              value(t) {
                this.blockedResources = this.blockedResources.filter(e => e.builderGuid !== t);
              },
            },
            {
              key: 'getBlockedResources',
              value() {
                return this.blockedResources;
              },
            },
            {
              key: 'getBlockedResourceSum',
              value(t) {
                return this.blockedResources
                  .filter(e => !t || e.builderGuid !== t)
                  .reduce(
                    (t, e) => (
                      (t.titanium += e.titanium || 0),
                      (t.silicium += e.silicium || 0),
                      (t.uranium += e.uranium || 0),
                      (t.energy += e.energy || 0),
                      (t.supply += e.supply || 0),
                      t
                    ),
                    {
                      titanium: 0,
                      silicium: 0,
                      uranium: 0,
                      energy: 0,
                      supply: 0,
                    },
                  );
              },
            },
            {
              key: 'getMaxEnergyStorage',
              value() {
                return this.maxEnergyStorage;
              },
            },
            {
              key: 'getTechnologoies',
              value() {
                return this.technologies;
              },
            },
            {
              key: 'getCompletedResearches',
              value() {
                const t = this;
                return Object.keys(this.researches).filter(e => t.researches[e] === 2);
              },
            },
            {
              key: 'getStartLocation',
              value() {
                return this.startLocation;
              },
            },
            {
              key: 'getName',
              value() {
                return this.name;
              },
            },
            {
              key: 'getRace',
              value() {
                return this.race;
              },
            },
            {
              key: 'getGUID',
              value() {
                return this.guid;
              },
            },
            {
              key: 'getColorizerFilter',
              value() {
                if (!this.colorizerFilter) {
                  const t = this.getColor();
                  this.colorizerFilter = new f.default(t);
                }
                return this.colorizerFilter;
              },
            },
            {
              key: 'getColor',
              value() {
                return y.PLAYER_MANAGER_COLORS[this.getTeam() - 1];
              },
            },
            {
              key: 'isControlledByUser',
              value() {
                return this.user;
              },
            },
            {
              key: 'isAuthorised',
              value() {
                return this.authorised;
              },
            },
            {
              key: 'isIndependent',
              value() {
                return this.independent;
              },
            },
            {
              key: 'isSupplyLimitExceeded',
              value() {
                return this.supply >= 350;
              },
            },
            {
              key: 'isResearching',
              value(t) {
                return this.researches[t] === 1;
              },
            },
            {
              key: 'hasAllRequiredEntitiesFor',
              value(t) {
                let e = h.default.getInstance(),
                  i = e.getTechById(t),
                  n = i.requiredEntities,
                  r = s.default.getInstance();
                if (!n || !n.length) return !0;
                let a = r
                    .entities(`:player(${this.team})`)
                    .filter(t => !t.isInConstruction()),
                  o = {};
                return (
                  a.forEach((t) => {
                    let e = t.getDataObject(),
                      i = e.getId();
                    o[i] = !0;
                  }),
                  n.every(t => o[t])
                );
              },
            },
            {
              key: 'hasSufficientResources',
              value(t) {
                for (
                  let e = h.default.getInstance(),
                    i = e.getRequiredResources(t),
                    n = this.getAvailableResources(),
                    r = Object.keys(i),
                    a = 0;
                  a < r.length;
                  a += 1
                ) {
                  const o = r[a];
                  if (i[o] > n[o]) return !1;
                }
                return !0;
              },
            },
            {
              key: 'hasResearchCompleted',
              value(t) {
                return this.researches[t] === 2;
              },
            },
            {
              key: 'hasTechnology',
              value(t) {
                return this.technologies.allTechs || this.technologies[t];
              },
            },
          ]),
          t
        );
      }());
    e.default = m;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(23),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = window.fivenations,
      u = void 0,
      l = (function () {
        function t() {
          n(this, t);
        }
        return (
          r(t, [
            {
              key: 'hasSufficientResources',
              value(t, e) {
                return (
                  s.debug.unlimitedResource ||
                  this.getInsufficientResources(t, e).length === 0
                );
              },
            },
            {
              key: 'getInsufficientResources',
              value(t, e) {
                this.techManager ||
                  (this.techManager = o.default.getInstance());
                for (
                  var i = this.techManager.getRequiredResources(e),
                    n = t.getAvailableResources(),
                    r = Object.keys(i),
                    a = [],
                    s = 0;
                  s < r.length;
                  s += 1
                ) {
                  const u = r[s];
                  i[u] > n[u] && a.push(u);
                }
                return a;
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return u || (u = new l()), u;
      },
    };
  },
  function (t, e, i) {
    Object.defineProperty(e, '__esModule', { value: !0 });
    let n = i(2),
      r = ['sfx', 'prequel-dialogs'];
    e.default = {
      load(t) {
        const e = ['ogg', 'm4a', 'mp3', 'ac3'];
        r.forEach((i) => {
          let r = `${n.PUBLIC_URL}assets/audio/${i}/${i}`,
            a = e.map(t => `${r}.${t}`);
          t.json(i, `${r}.json`), t.audio(i, a);
        });
      },
    };
  },
  function (t, e, i) {
    Object.defineProperty(e, '__esModule', { value: !0 });
    let n = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      r = i(2),
      a = window.fivenations,
      o = `${r.PUBLIC_URL}assets/images/effects/`;
    (a.effects = Object.assign(a.effects || {}, {
      'blow-1': { spriteURL: `${o}effect_blow01.png` },
      'blow-2': { spriteURL: `${o}effect_blow02.png` },
      'blow-3': { spriteURL: `${o}effect_blow03.png` },
      'blow-4': { spriteURL: `${o}effect_blow04.png` },
      'blow-5': { spriteURL: `${o}effect_blow05.png` },
      'blow-5a': { spriteURL: `${o}effect_blow05_0.png` },
      'blow-5b': { spriteURL: `${o}effect_blow05_1.png` },
      'blow-6': { spriteURL: `${o}effect_blow06.png` },
      'blow-7': { spriteURL: `${o}effect_blow07.png` },
      'blow-8': { spriteURL: `${o}effect_blow08.png` },
      'blow-9': { spriteURL: `${o}effect_blow09.png` },
      'blow-10': { spriteURL: `${o}effect_blow10.png` },
      'blow-11': { spriteURL: `${o}effect_blow11.png` },
      'blow-12': { spriteURL: `${o}effect_blow12.png` },
      'blow-13': { spriteURL: `${o}effect_blow13.png` },
      'bio-blow-1': { spriteURL: `${o}effect_bio_blow01.png` },
      'bio-blow-2': { spriteURL: `${o}effect_bio_blow02.png` },
      'bio-blow-3': { spriteURL: `${o}effect_bio_blow03.png` },
      blackhole: { spriteURL: `${o}effect_blackhole.png` },
      construction: { spriteURL: `${o}effect_construction.png` },
      'destruction-big': { spriteURL: `${o}effect_destruction_big.png` },
      'destruction-medium': { spriteURL: `${o}effect_destruction_medium.png` },
      'destruction-small': { spriteURL: `${o}effect_destruction_sm.png` },
      'destruction-bio-big': {
        spriteURL: `${o}effect_destruction_bio_big.png`,
      },
      'destruction-bio-medium': {
        spriteURL: `${o}effect_destruction_bio_medium.png`,
      },
      'destruction-bio-small': {
        spriteURL: `${o}effect_destruction_bio_sm.png`,
      },
      'destruction-thorun-big': {
        spriteURL: `${o}effect_destruction_thorun_big.png`,
      },
      'destruction-thorun-medium': {
        spriteURL: `${o}effect_destruction_thorun_medium.png`,
      },
      'destruction-thorun-small': {
        spriteURL: `${o}effect_destruction_thorun_sm.png`,
      },
      'destruction-hailstorm': {
        spriteURL: `${o}effect_destruction_medium.png`,
      },
      'destruction-labor': { spriteURL: `${o}effect_destruction_sm.png` },
      'destruction-arson': { spriteURL: `${o}effect_destruction_big.png` },
      'destruction-avenger': { spriteURL: `${o}effect_destruction_big.png` },
      'destruction-bio-guard': {
        spriteURL: `${o}effect_destruction_bio_sm.png`,
      },
      'destruction-bio-queen': {
        spriteURL: `${o}effect_destruction_bio_big.png`,
      },
      'destruction-bio-ruptor': {
        spriteURL: `${o}effect_destruction_bio_medium.png`,
      },
      'destruction-bio-spawn': {
        spriteURL: `${o}effect_destruction_bio_sm.png`,
      },
      'destruction-bio-whale': {
        spriteURL: `${o}effect_destruction_bio_big.png`,
      },
      'destruction-devastator': {
        spriteURL: `${o}effect_destruction_thorun_medium.png`,
      },
      'destruction-drone': { spriteURL: `${o}effect_destruction_sm.png` },
      'destruction-flagship': {
        spriteURL: `${o}effect_destruction_thorun_big.png`,
      },
      'destruction-galileo': { spriteURL: `${o}effect_destruction_medium.png` },
      'destruction-gloom': { spriteURL: `${o}effect_destruction_medium.png` },
      'destruction-havoc': { spriteURL: `${o}effect_destruction_medium.png` },
      'destruction-invader': { spriteURL: `${o}effect_destruction_big.png` },
      'destruction-mothership': { spriteURL: `${o}effect_destruction_big.png` },
      'destruction-plasmaraid': { spriteURL: `${o}effect_destruction_big.png` },
      'destruction-spear': { spriteURL: `${o}effect_destruction_sm.png` },
      'destruction-warpglider': { spriteURL: `${o}effect_destruction_sm.png` },
      'destruction-meteor': { spriteURL: `${o}effect_destruction_meteor.png` },
      'destruction-meteor-small': {
        spriteURL: `${o}effect_destruction_meteor_sm.png`,
      },
      'destruction-plasmoid': { spriteURL: `${o}plasmoid_blow.png` },
      destructivefield: { spriteURL: `${o}effect_destructivefield.png` },
      magneticradiation: { spriteURL: `${o}effect_magneticradiation.png` },
      nebulafog1: { spriteURL: `${o}nebulafog_01.png` },
      nebulafog2: { spriteURL: `${o}nebulafog_02.png` },
      nebulafog3: { spriteURL: `${o}nebulafog_03.png` },
      nebulafog4: { spriteURL: `${o}nebulafog_04.png` },
      nebulafog5: { spriteURL: `${o}nebulafog_05.png` },
      sporecloud: { spriteURL: `${o}effect_sporecloud.png` },
      'smoke-trail-1': { spriteURL: `${o}smoke_trail01.png` },
      'smoke-trail-2': { spriteURL: `${o}smoke_trail02.png` },
      'smoke-trail-3': { spriteURL: `${o}smoke_trail03.png` },
      'smoke-trail-4': { spriteURL: `${o}smoke_trail04.png` },
      'smoke-trail-5': { spriteURL: `${o}smoke_trail05.png` },
      'smoke-trail-6': { spriteURL: `${o}smoke_trail06.png` },
      'smoke-trail-7': { spriteURL: `${o}smoke_trail07.png` },
      'smoke-trail-8': { spriteURL: `${o}smoke_trail08.png` },
      'flash-blue-1': { spriteURL: `${o}effect_flash.png` },
      'flash-blue-2': { spriteURL: `${o}effect_flash.png` },
      'flash-blue-3': { spriteURL: `${o}effect_flash.png` },
      'flash-blue-4': { spriteURL: `${o}effect_flash.png` },
      'flash-blue-5': { spriteURL: `${o}effect_flash.png` },
      'flash-blue-6': { spriteURL: `${o}effect_flash.png` },
      'flash-blue-7': { spriteURL: `${o}effect_flash.png` },
      'flash-blue-8': { spriteURL: `${o}effect_flash.png` },
      'flash-green-1': { spriteURL: `${o}effect_flash.png` },
      'flash-green-2': { spriteURL: `${o}effect_flash.png` },
      'flash-green-3': { spriteURL: `${o}effect_flash.png` },
      'flash-green-4': { spriteURL: `${o}effect_flash.png` },
      'flash-green-5': { spriteURL: `${o}effect_flash.png` },
      'flash-green-6': { spriteURL: `${o}effect_flash.png` },
      'flash-green-7': { spriteURL: `${o}effect_flash.png` },
      'flash-green-8': { spriteURL: `${o}effect_flash.png` },
      'flash-orange-1': { spriteURL: `${o}effect_flash.png` },
      'flash-orange-2': { spriteURL: `${o}effect_flash.png` },
      'flash-orange-3': { spriteURL: `${o}effect_flash.png` },
      'flash-orange-4': { spriteURL: `${o}effect_flash.png` },
      'flash-orange-5': { spriteURL: `${o}effect_flash.png` },
      'flash-orange-6': { spriteURL: `${o}effect_flash.png` },
      'flash-orange-7': { spriteURL: `${o}effect_flash.png` },
      'flash-orange-8': { spriteURL: `${o}effect_flash.png` },
      'flash-white-1': { spriteURL: `${o}effect_flash.png` },
      'flash-white-2': { spriteURL: `${o}effect_flash.png` },
      'flash-white-3': { spriteURL: `${o}effect_flash.png` },
      'flash-white-4': { spriteURL: `${o}effect_flash.png` },
      'flash-white-5': { spriteURL: `${o}effect_flash.png` },
      'flash-white-6': { spriteURL: `${o}effect_flash.png` },
      'flash-white-7': { spriteURL: `${o}effect_flash.png` },
      'flash-white-8': { spriteURL: `${o}effect_flash.png` },
      'muzzleflash-bigcannon': {
        spriteURL: `${o}muzzleflash_bigcannon.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-bigcannon-bright': {
        spriteURL: `${o}muzzleflash_bigcannon_bright.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-flame': {
        spriteURL: `${o}muzzleflash_flame.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-blue': {
        spriteURL: `${o}muzzleflash_blue.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-electric': {
        spriteURL: `${o}muzzleflash_electric.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-green': {
        spriteURL: `${o}muzzleflash_green.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-phlegm': {
        spriteURL: `${o}muzzleflash_phlegm.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-purple': {
        spriteURL: `${o}muzzleflash_purple.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-red': {
        spriteURL: `${o}muzzleflash_red.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-spore': {
        spriteURL: `${o}muzzleflash_spore.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-yellow': {
        spriteURL: `${o}muzzleflash_yellow.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-cannon': {
        spriteURL: `${o}muzzleflash_cannon.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-greencannon': {
        spriteURL: `${o}muzzleflash_green_cannon.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-shock-blue': {
        spriteURL: `${o}muzzleflash_shock_blue.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-shock-cyan': {
        spriteURL: `${o}muzzleflash_shock_cyan.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-shock-green': {
        spriteURL: `${o}muzzleflash_shock_green.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-shock-orange': {
        spriteURL: `${o}muzzleflash_shock_orange.png`,
        dataId: 'muzzleflash',
      },
      'muzzleflash-shock-red': {
        spriteURL: `${o}muzzleflash_shock_red.png`,
        dataId: 'muzzleflash',
      },
      magic: { spriteURL: `${o}effect_magic.png` },
      magicreverse: { spriteURL: `${o}effect_magicreverse.png` },
      magicsylon: { spriteURL: `${o}effect_magicsylon.png` },
      gammapulse: { spriteURL: `${o}effect_gammapulse.png` },
      inkcloud: { spriteURL: `${o}effect_inkcloud.png` },
      mindcontrol: { spriteURL: `${o}effect_mindcontrol.png` },
      neutralize: { spriteURL: `${o}effect_neutralize.png` },
      integration: { spriteURL: `${o}effect_integration.png` },
      stickyphlegm: { spriteURL: `${o}effect_stickyphlegm.png` },
      'zho-hatch': { spriteURL: `${o}zho_unit_hatchsplash.png` },
      wormhole: { spriteURL: `${o}effect_wormhole.png` },
      uniteffect_emp: { spriteURL: `${o}uniteffect_emp.png` },
      uniteffect_expandedshield: {
        spriteURL: `${o}uniteffect_expandedshield.png`,
      },
      uniteffect_mindcontrol: { spriteURL: `${o}uniteffect_mindcontrol.png` },
      uniteffect_nanoinfection: {
        spriteURL: `${o}uniteffect_nanoinfection.png`,
      },
      uniteffect_forcedshield: { spriteURL: `${o}uniteffect_forcedshield.png` },
      uniteffect_timedistortion: {
        spriteURL: `${o}uniteffect_timedistortion.png`,
      },
      uniteffect_tractorsystem: {
        spriteURL: `${o}uniteffect_tractorsystem.png`,
      },
      'blast-shock-cyan': { spriteURL: `${o}effect_blast_shock_cyan.png` },
      'blast-shock-green': { spriteURL: `${o}effect_blast_shock_green.png` },
      'blast-shock-red': { spriteURL: `${o}effect_blast_shock_red.png` },
      'hailstorm-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'deepspacelab-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'medical-station-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'helium3-reactor-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'eirainstitute-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'galileo-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'stgeorge-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'avenger-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'avenger2-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'icarus-wreckage': { spriteURL: `${o}fed_unitandbuilding_wreckages.png` },
      'kutuzov-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'pasteur-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'dresda-wreckage': { spriteURL: `${o}fed_unitandbuilding_wreckages.png` },
      'teller-wreckage': { spriteURL: `${o}fed_unitandbuilding_wreckages.png` },
      'trinity-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'khan-wreckage': { spriteURL: `${o}fed_unitandbuilding_wreckages.png` },
      'commandcenter-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'miningstation-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'civilianbase-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'solarstation-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'shipfactory-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'dockyard-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'merchantport-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'researchcenter-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'astrometricstation-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'fleetheadquarters-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'defenseplatform-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'fusionreactor-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'keikosentrypod-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'piratebase-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'eiraresearchstation-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'flanker-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'mothership-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'invader-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'gathering-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'clairvoyant-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'theocrat-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'rector-wreckage': { spriteURL: `${o}ath_unitandbuilding_wreckages.png` },
      'rectordeployed-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'cryon-wreckage': { spriteURL: `${o}ath_unitandbuilding_wreckages.png` },
      'psyhicdome-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'dome-wreckage': { spriteURL: `${o}ath_unitandbuilding_wreckages.png` },
      'martyrium-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'craftmill-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'centralpyramid-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'masstransmitter-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'biosphere-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'powercore-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'sanctuary-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'synodum-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'conservatory-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'monumentofwill-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'basilica-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'theocratsseat-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'shieldgenerator-wreckage': {
        spriteURL: `${o}ath_unitandbuilding_wreckages.png`,
      },
      'devastator-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'grinder-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'vindicator-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'flagship-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'harvester-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'havoc-wreckage': { spriteURL: `${o}tho_unitandbuilding_wreckages.png` },
      'breaker-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'vanguard-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'corsair-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'capitol-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'materialsilo-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'habitat-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'powerplant-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'energystorage-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'hall-wreckage': { spriteURL: `${o}tho_unitandbuilding_wreckages.png` },
      'flagshipyard-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'forum-wreckage': { spriteURL: `${o}tho_unitandbuilding_wreckages.png` },
      'skycourt-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'senate-wreckage': { spriteURL: `${o}tho_unitandbuilding_wreckages.png` },
      'guardstation-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'provincialbeacon-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'ioncannon-wreckage': {
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
      },
      'forge-wreckage': { spriteURL: `${o}tho_unitandbuilding_wreckages.png` },
      'guild-wreckage': { spriteURL: `${o}tho_unitandbuilding_wreckages.png` },
      'anvil-wreckage': {
        preloading: !0,
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
        atlasURL: `${o}tho_unitandbuilding_wreckages.json`,
        dataId: 'anvil-wreckage',
      },
      'consulate-wreckage': {
        preloading: !0,
        spriteURL: `${o}tho_unitandbuilding_wreckages.png`,
        atlasURL: `${o}tho_unitandbuilding_wreckages.json`,
        dataId: 'consulate-wreckage',
      },
      'gloom-wreckage': { spriteURL: `${o}syl_unitandbuilding_wreckages.png` },
      'eclipse-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'shade-wreckage': { spriteURL: `${o}syl_unitandbuilding_wreckages.png` },
      'plasmaraid-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'hauler-wreckage': { spriteURL: `${o}syl_unitandbuilding_wreckages.png` },
      'installator-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'absorber-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'assimilator-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'mask-wreckage': { spriteURL: `${o}syl_unitandbuilding_wreckages.png` },
      'caldron-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'installationprime-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'refinery-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'supportcenter-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'manufacture-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'advancedmanufacture-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'manufactureprime-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'defensiveserver-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'offensiveserver-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'quantumcore-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'aegis-wreckage': { spriteURL: `${o}syl_unitandbuilding_wreckages.png` },
      'wormholegenerator-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'repairstation-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'supportcomplex-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'arson-wreckage': { spriteURL: `${o}syl_unitandbuilding_wreckages.png` },
      'arsondeployed-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'stellarreactor-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'transponder-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'conflux-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'array-wreckage': { spriteURL: `${o}syl_unitandbuilding_wreckages.png` },
      'nutrientcolony-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'metabolist-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'agaric-wreckage': { spriteURL: `${o}zho_unitandbuilding_wreckages.png` },
      'mindfungus-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'clathruscolony-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'symbioticorgan-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'evulatory-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'swarmmembrane-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'chrysodendron-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'chimneyplant-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'decaychamber-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'fonia-wreckage': { spriteURL: `${o}zho_unitandbuilding_wreckages.png` },
      'seed-wreckage': { spriteURL: `${o}zho_unitandbuilding_wreckages.png` },
      'birthingpool-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'pond-wreckage': { spriteURL: `${o}zho_unitandbuilding_wreckages.png` },
      'helia-wreckage': {
        preloading: !0,
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
        atlasURL: `${o}zho_unitandbuilding_wreckages.json`,
        dataId: 'helia-wreckage',
      },
      'warren-wreckage': {
        preloading: !0,
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
        atlasURL: `${o}zho_unitandbuilding_wreckages.json`,
        dataId: 'warren-wreckage',
      },
      'cradlestone-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'mind-wreckage': { spriteURL: `${o}zho_unitandbuilding_wreckages.png` },
      'overseer-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'swarmmother-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'queen-wreckage': { spriteURL: `${o}zho_unitandbuilding_wreckages.png` },
      'ruptor-wreckage': { spriteURL: `${o}zho_unitandbuilding_wreckages.png` },
      'decay-wreckage': { spriteURL: `${o}zho_unitandbuilding_wreckages.png` },
      'alpha-wreckage': { spriteURL: `${o}zho_unitandbuilding_wreckages.png` },
      'behemoth-wreckage': {
        spriteURL: `${o}zho_unitandbuilding_wreckages.png`,
      },
      'bifrostbridge-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'jumpgate-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'cormoran-wreckage': {
        spriteURL: `${o}fed_unitandbuilding_wreckages.png`,
      },
      'syluscore-wreckage': {
        spriteURL: `${o}syl_unitandbuilding_wreckages.png`,
      },
      'fed-wreck-6': { spriteURL: `${o}fed_wreck01.png` },
      decor_laserwall: { spriteURL: `${o}decor_laserwall.png` },
      obj_blazing_gas_type01: { spriteURL: `${o}obj_blazing_gas_type01.png` },
      obj_blazing_gas_type02: { spriteURL: `${o}obj_blazing_gas_type02.png` },
      obj_blazing_gas_type03: { spriteURL: `${o}obj_blazing_gas_type03.png` },
      obj_blazing_gas_type04: { spriteURL: `${o}obj_blazing_gas_type04.png` },
      obj_blazing_gas_type05: { spriteURL: `${o}obj_blazing_gas_type05.png` },
      obj_plasma_gas_type01: { spriteURL: `${o}obj_plasma_gas_type01.png` },
      obj_plasma_gas_type02: { spriteURL: `${o}obj_plasma_gas_type02.png` },
      obj_plasma_gas_type03: { spriteURL: `${o}obj_plasma_gas_type03.png` },
      obj_plasma_gas_type04: { spriteURL: `${o}obj_plasma_gas_type04.png` },
      obj_plasma_gas_type05: { spriteURL: `${o}obj_plasma_gas_type05.png` },
      obj_plasma_gas_type06: { spriteURL: `${o}obj_plasma_gas_type06.png` },
      'stellar_cloud-1': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-2': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-3': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-4': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-5': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-6': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-7': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-8': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-9': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-10': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-11': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-12': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-13': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-14': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-15': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-16': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-17': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-18': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-19': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-20': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-21': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-22': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-23': { spriteURL: `${o}stellar_cloud.png` },
      'stellar_cloud-24': { spriteURL: `${o}stellar_cloud.png` },
      'izlar_cloud-1': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-2': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-3': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-4': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-5': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-6': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-7': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-8': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-9': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-10': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-11': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-12': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-13': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-14': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-15': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-16': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-17': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-18': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-19': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-20': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-21': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-22': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-23': { spriteURL: `${o}izlar_cloud.png` },
      'izlar_cloud-24': { spriteURL: `${o}izlar_cloud.png` },
      'obj_nervespores-1': { spriteURL: `${o}obj_nervespores.png` },
      'obj_nervespores-2': { spriteURL: `${o}obj_nervespores.png` },
      'obj_nervespores-3': { spriteURL: `${o}obj_nervespores.png` },
      'obj_nervespores-4': { spriteURL: `${o}obj_nervespores.png` },
    })),
    ['fed', 'ath', 'syl', 'tho'].forEach((t) => {
      for (let e = 1; e <= 5; e += 1) {
        a.effects[`${t}-wreck-${e}`] = {
          spriteURL: `${o}${t}_wreck0${e}.png`,
        };
      }
    }),
    (e.default = {
      load(t) {
        let e = n(Phaser.GAMES, 1),
          i = e[0],
          r = i.cache.getJSON('images'),
          o = /([^\/]*)\.png/;
        Object.keys(a.effects).forEach((e) => {
          let i = a.effects[e].spriteURL,
            n = i.match(o)[1];
          t.atlasJSONHash(e, i, null, r[n]);
        }, t);
      },
      processDataCache(t) {
        Object.keys(a.effects).forEach((e) => {
          t.addJSON(e, null, t.getJSON(a.effects[e].dataId || e));
        });
      },
    });
  },
  function (t, e, i) {
    function n(t, e, i) {
      for (var n = {}, r = 1; r <= e; r += 1) { n[`${t}${r}`] = { spriteURL: `${c}${i}/${t}.png` }; }
      return n;
    }
    function r(t) {
      let e = a(Phaser.GAMES, 1),
        i = e[0],
        n = i.cache.getJSON('images'),
        r = /([^\/]*)\.png/;
      Object.keys(u.entities).forEach((e) => {
        let i = u.entities[e].spriteURL,
          a = i.match(r)[1];
        t.atlasJSONHash(e, i, null, n[a]);
      }, t);
      const o = {
        fed_build_buildingphases: `${c}fed/fed_build_buildingphases`,
        ath_build_buildingphases: `${c}ath/ath_build_buildingphases`,
        syl_build_buildingphases: `${c}syl/syl_build_buildingphases`,
        tho_build_buildingphases: `${c}tho/tho_build_buildingphases`,
        'energy-shield': `${l}effects/effect_shield`,
        'federation-thrusters': `${l}effects/federation_thrusters`,
        'athrael-thrusters': `${l}effects/athrael_thrusters`,
        'thorun-thrusters': `${l}effects/thorun_thrusters`,
        'sylon-thrusters': `${l}effects/sylon_thrusters`,
      };
      Object.keys(o).forEach((e) => {
        let i = `${o[e]}.png`,
          a = i.match(r)[1];
        t.atlasJSONHash(e, i, null, n[a]);
      });
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var a = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      o =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      s = i(2),
      u = window.fivenations,
      l = `${s.PUBLIC_URL}assets/images/`,
      c = `${l}units/`;
    (u.entities =
      u.entities ||
      o(
        {
          hurricane: { spriteURL: `${c}fed/fed_unit01.png` },
          orca: { spriteURL: `${c}fed/fed_unit02.png` },
          hailstorm: { spriteURL: `${c}fed/fed_unit03.png` },
          stgeorge: { spriteURL: `${c}fed/fed_unit04.png` },
          avenger: { spriteURL: `${c}fed/fed_unit05.png` },
          avenger2: { spriteURL: `${c}fed/fed_unit06.png` },
          icarus: { spriteURL: `${c}fed/fed_unit07.png` },
          icarusloaded: { spriteURL: `${c}fed/fed_unit_loaded07.png` },
          engineershuttle: { spriteURL: `${c}fed/fed_unit08.png` },
          kutuzov: { spriteURL: `${c}fed/fed_unit09.png` },
          pasteur: { spriteURL: `${c}fed/fed_unit10.png` },
          dresda: { spriteURL: `${c}fed/fed_unit11.png` },
          crow: { spriteURL: `${c}fed/fed_unit12.png` },
          teller: { spriteURL: `${c}fed/fed_unit13.png` },
          nuclearmissile: { spriteURL: `${c}fed/fed_unit14.png` },
          galileo: { spriteURL: `${c}fed/fed_unit15.png` },
          commandcenter: { spriteURL: `${c}fed/fed_build01.png` },
          miningstation: { spriteURL: `${c}fed/fed_build02.png` },
          civilianbase: { spriteURL: `${c}fed/fed_build03.png` },
          solarstation: { spriteURL: `${c}fed/fed_build04.png` },
          shipfactory: { spriteURL: `${c}fed/fed_build05.png` },
          dockyard: { spriteURL: `${c}fed/fed_build06.png` },
          merchantport: { spriteURL: `${c}fed/fed_build07.png` },
          researchcenter: { spriteURL: `${c}fed/fed_build08.png` },
          astrometricstation: { spriteURL: `${c}fed/fed_build09.png` },
          fleetheadquarters: { spriteURL: `${c}fed/fed_build10.png` },
          defensesatellite: { spriteURL: `${c}fed/fed_build11.png` },
          defenseplatform: { spriteURL: `${c}fed/fed_build12.png` },
          fusionreactor: { spriteURL: `${c}fed/fed_build13.png` },
          eirainstitute: { spriteURL: `${c}fed/fed_build14.png` },
          deepspacelab: { spriteURL: `${c}fed/fed_build15.png` },
          'medical-station': { spriteURL: `${c}fed/fed_build16.png` },
          'helium3-reactor': { spriteURL: `${c}fed/fed_build17.png` },
          pinkguy: { spriteURL: `${c}fed/fed_unit15.png` },
          keikosentrypod: { spriteURL: `${c}fed/exp_fed_build01.png` },
          piratebase: { spriteURL: `${c}fed/exp_fed_build02.png` },
          eiraresearchstation: { spriteURL: `${c}fed/exp_fed_build03.png` },
          bifrostbridge: { spriteURL: `${c}fed/exp_fed_build04.png` },
          jumpgate: { spriteURL: `${c}fed/exp_fed_build05.png` },
          syluscore: { spriteURL: `${c}syl/syl_build16.png` },
          cradlestone: { spriteURL: `${c}zho/zho_build17.png` },
          trinity: { spriteURL: `${c}fed/exp_fed_unit01.png` },
          khan: { spriteURL: `${c}fed/exp_fed_unit02.png` },
          piratevessel: { spriteURL: `${c}fed/exp_fed_unit03.png` },
          'bencobler-trinity': { spriteURL: `${c}fed/exp_fed_unit01.png` },
          'bencobler-hailstorm': { spriteURL: `${c}fed/fed_unit03.png` },
          sterlingbuckner: { spriteURL: `${c}fed/fed_unit04.png` },
          victorkomarov: { spriteURL: `${c}fed/fed_unit06.png` },
          salamonzamor: { spriteURL: `${c}fed/exp_fed_unit02.png` },
          'bencobler-avenger2': { spriteURL: `${c}fed/fed_unit06.png` },
          antonvargas: { spriteURL: `${c}fed/fed_unit04.png` },
          piratesolarstation: {
            spriteURL: `${c}fed/pirate_exp_fed_build02.png`,
          },
          piratesupplysilo: { spriteURL: `${c}fed/pirate_exp_fed_build03.png` },
          piratestation: { spriteURL: `${c}fed/exp_fed_build02.png` },
          piratedefensivesatellite: { spriteURL: `${c}fed/fed_build11.png` },
          piratehurricane: { spriteURL: `${c}fed/fed_unit01.png` },
          pirateorca: { spriteURL: `${c}fed/fed_unit02.png` },
          piratepiratevessel: { spriteURL: `${c}fed/exp_fed_unit03.png` },
          piratecargo: { spriteURL: `${c}fed/pirate_fed_unit07.png` },
          cormoran: { spriteURL: `${c}fed/exp_fed_unit04.png` },
          intruder: { spriteURL: `${c}ath/ath_unit01.png` },
          warpglider: { spriteURL: `${c}ath/ath_unit02.png` },
          flanker: { spriteURL: `${c}ath/ath_unit03.png` },
          mothership: { spriteURL: `${c}ath/ath_unit04.png` },
          invader: { spriteURL: `${c}ath/ath_unit05.png` },
          explorer: { spriteURL: `${c}ath/ath_unit06.png` },
          drone: { spriteURL: `${c}ath/ath_unit07.png` },
          gathering: { spriteURL: `${c}ath/ath_unit08.png` },
          clairvoyant: { spriteURL: `${c}ath/ath_unit09.png` },
          lancet: { spriteURL: `${c}ath/ath_unit10.png` },
          theocrat: { spriteURL: `${c}ath/ath_unit11.png` },
          lifevessel: { spriteURL: `${c}ath/ath_unit12.png` },
          rector: { spriteURL: `${c}ath/ath_unit13.png` },
          rectordeployed: { spriteURL: `${c}ath/ath_unit13deployed.png` },
          martyrprobe: { spriteURL: `${c}ath/ath_unit14.png` },
          cryon: { spriteURL: `${c}ath/ath_unit15.png` },
          centralpyramid: { spriteURL: `${c}ath/ath_build01.png` },
          masstransmitter: { spriteURL: `${c}ath/ath_build02.png` },
          biosphere: { spriteURL: `${c}ath/ath_build03.png` },
          powercore: { spriteURL: `${c}ath/ath_build04.png` },
          polaronsphere: { spriteURL: `${c}ath/ath_build05.png` },
          obelisk: { spriteURL: `${c}ath/ath_build06.png` },
          sanctuary: { spriteURL: `${c}ath/ath_build07.png` },
          synodum: { spriteURL: `${c}ath/ath_build08.png` },
          conservatory: { spriteURL: `${c}ath/ath_build09.png` },
          monumentofwill: { spriteURL: `${c}ath/ath_build10.png` },
          basilica: { spriteURL: `${c}ath/ath_build11.png` },
          theocratsseat: { spriteURL: `${c}ath/ath_build12.png` },
          shieldgenerator: { spriteURL: `${c}ath/ath_build13.png` },
          psyhicdome: { spriteURL: `${c}ath/ath_build14.png` },
          dome: { spriteURL: `${c}ath/ath_build15.png` },
          martyrium: { spriteURL: `${c}ath/ath_build16.png` },
          craftmill: { spriteURL: `${c}ath/ath_build17.png` },
          spear: { spriteURL: `${c}syl/syl_unit01.png` },
          twinblade: { spriteURL: `${c}syl/syl_unit02.png` },
          gloom: { spriteURL: `${c}syl/syl_unit03.png` },
          eclipse: { spriteURL: `${c}syl/syl_unit04.png` },
          shade: { spriteURL: `${c}syl/syl_unit05.png` },
          plasmaraid: { spriteURL: `${c}syl/syl_unit06.png` },
          hauler: { spriteURL: `${c}syl/syl_unit07.png` },
          haulerloaded: { spriteURL: `${c}syl/syl_unit_loaded07.png` },
          labor: { spriteURL: `${c}syl/syl_unit08.png` },
          installator: { spriteURL: `${c}syl/syl_unit09.png` },
          absorber: { spriteURL: `${c}syl/syl_unit10.png` },
          assimilator: { spriteURL: `${c}syl/syl_unit11.png` },
          mask: { spriteURL: `${c}syl/syl_unit12.png` },
          caldron: { spriteURL: `${c}syl/syl_unit13.png` },
          leechmine: { spriteURL: `${c}syl/syl_unit14.png` },
          arson: { spriteURL: `${c}syl/syl_unit15.png` },
          arsondeployed: { spriteURL: `${c}syl/syl_unit16.png` },
          installationprime: { spriteURL: `${c}syl/syl_build01.png` },
          refinery: { spriteURL: `${c}syl/syl_build02.png` },
          supportcenter: { spriteURL: `${c}syl/syl_build03.png` },
          manufacture: { spriteURL: `${c}syl/syl_build04.png` },
          advancedmanufacture: { spriteURL: `${c}syl/syl_build05.png` },
          manufactureprime: { spriteURL: `${c}syl/syl_build06.png` },
          defensiveserver: { spriteURL: `${c}syl/syl_build07.png` },
          offensiveserver: { spriteURL: `${c}syl/syl_build08.png` },
          quantumcore: { spriteURL: `${c}syl/syl_build09.png` },
          aegis: { spriteURL: `${c}syl/syl_build10.png` },
          wormholegenerator: { spriteURL: `${c}syl/syl_build11.png` },
          repairstation: { spriteURL: `${c}syl/syl_build12.png` },
          supportcomplex: { spriteURL: `${c}syl/syl_build13.png` },
          stellarreactor: { spriteURL: `${c}syl/syl_build14.png` },
          transponder: { spriteURL: `${c}syl/syl_build15.png` },
          conflux: { spriteURL: `${c}syl/syl_build17.png` },
          array: { spriteURL: `${c}syl/syl_build18.png` },
          predator: { spriteURL: `${c}tho/tho_unit01.png` },
          maraduer: { spriteURL: `${c}tho/tho_unit02.png` },
          devastator: { spriteURL: `${c}tho/tho_unit03.png` },
          grinder: { spriteURL: `${c}tho/tho_unit04.png` },
          vindicator: { spriteURL: `${c}tho/tho_unit05.png` },
          flagship: { spriteURL: `${c}tho/tho_unit06.png` },
          harvester: { spriteURL: `${c}tho/tho_unit07.png` },
          harvesterloaded: { spriteURL: `${c}tho/tho_unit_loaded07.png` },
          welder: { spriteURL: `${c}tho/tho_unit08.png` },
          hunter: { spriteURL: `${c}tho/tho_unit09.png` },
          corsair: { spriteURL: `${c}tho/tho_unit10.png` },
          havoc: { spriteURL: `${c}tho/tho_unit11.png` },
          breaker: { spriteURL: `${c}tho/tho_unit12.png` },
          vanguard: { spriteURL: `${c}tho/tho_unit13.png` },
          probe: { spriteURL: `${c}tho/tho_unit14.png` },
          predatordeployed: { spriteURL: `${c}tho/tho_unit15.png` },
          extractor: { spriteURL: `${c}tho/tho_unit16.png` },
          capitol: { spriteURL: `${c}tho/tho_build01.png` },
          materialsilo: { spriteURL: `${c}tho/tho_build02.png` },
          habitat: { spriteURL: `${c}tho/tho_build03.png` },
          powerplant: { spriteURL: `${c}tho/tho_build04.png` },
          energystorage: { spriteURL: `${c}tho/tho_build05.png` },
          hall: { spriteURL: `${c}tho/tho_build06.png` },
          flagshipyard: { spriteURL: `${c}tho/tho_build07.png` },
          forum: { spriteURL: `${c}tho/tho_build08.png` },
          skycourt: { spriteURL: `${c}tho/tho_build09.png` },
          senate: { spriteURL: `${c}tho/tho_build10.png` },
          guardstation: { spriteURL: `${c}tho/tho_build11.png` },
          provincialbeacon: { spriteURL: `${c}tho/tho_build12.png` },
          ioncannon: { spriteURL: `${c}tho/tho_build13.png` },
          forge: { spriteURL: `${c}tho/tho_build14.png` },
          guild: { spriteURL: `${c}tho/tho_build15.png` },
          anvil: {
            preloading: !0,
            spriteURL: `${c}tho/tho_build16.png`,
            atlasURL: `${c}tho/tho_build16.json`,
          },
          consulate: {
            preloading: !0,
            spriteURL: `${c}tho/tho_build17.png`,
            atlasURL: `${c}tho/tho_build17.json`,
          },
          spawn: { spriteURL: `${c}zho/zho_unit01.png` },
          guard: { spriteURL: `${c}zho/zho_unit02.png` },
          venator: { spriteURL: `${c}zho/zho_unit03.png` },
          mind: { spriteURL: `${c}zho/zho_unit04.png` },
          overseer: { spriteURL: `${c}zho/zho_unit05.png` },
          swarmmother: { spriteURL: `${c}zho/zho_unit06.png` },
          spikeworm: { spriteURL: `${c}zho/zho_unit07.png` },
          queen: { spriteURL: `${c}zho/zho_unit08.png` },
          ovum: { spriteURL: `${c}zho/zho_unit09.png` },
          ovumreincarnate: { spriteURL: `${c}zho/zho_unit09reincarnate.png` },
          mindovum: { spriteURL: `${c}zho/zho_unit10.png` },
          reincarnate: { spriteURL: `${c}zho/zho_unit11.png` },
          worker: { spriteURL: `${c}zho/zho_unit12.png` },
          rictus: { spriteURL: `${c}zho/zho_unit13.png` },
          mite: { spriteURL: `${c}zho/zho_unit14.png` },
          ruptor: { spriteURL: `${c}zho/zho_unit15.png` },
          decay: { spriteURL: `${c}zho/zho_unit16.png` },
          alpha: { spriteURL: `${c}zho/zho_unit17.png` },
          behemoth: { spriteURL: `${c}zho/zho_unit18.png` },
          cropbed: { spriteURL: `${c}zho/zho_build01.png` },
          nutrientcolony: { spriteURL: `${c}zho/zho_build02.png` },
          metabolist: { spriteURL: `${c}zho/zho_build03.png` },
          agaric: { spriteURL: `${c}zho/zho_build04.png` },
          mindfungus: { spriteURL: `${c}zho/zho_build05.png` },
          clathruscolony: { spriteURL: `${c}zho/zho_build06.png` },
          symbioticorgan: { spriteURL: `${c}zho/zho_build07.png` },
          evulatory: { spriteURL: `${c}zho/zho_build08.png` },
          swarmmembrane: { spriteURL: `${c}zho/zho_build09.png` },
          chrysodendron: { spriteURL: `${c}zho/zho_build10.png` },
          chimneyplant: { spriteURL: `${c}zho/zho_build11.png` },
          decaychamber: { spriteURL: `${c}zho/zho_build12.png` },
          fonia: { spriteURL: `${c}zho/zho_build13.png` },
          seed: { spriteURL: `${c}zho/zho_build14.png` },
          birthingpool: { spriteURL: `${c}zho/zho_build15.png` },
          pond: { spriteURL: `${c}zho/zho_build16.png` },
          helia: {
            preloading: !0,
            spriteURL: `${c}zho/zho_build18.png`,
            atlasURL: `${c}zho/zho_build18.json`,
          },
          warren: {
            preloading: !0,
            spriteURL: `${c}zho/zho_build19.png`,
            atlasURL: `${c}zho/zho_build19.json`,
          },
          elasmoruptor: { spriteURL: `${c}zho/zho_unit19.png` },
          asteroid1: { spriteURL: `${c}ast/asteroid01.png` },
          asteroid2: { spriteURL: `${c}ast/asteroid02.png` },
          asteroid3: { spriteURL: `${c}ast/asteroid03.png` },
          asteroid4: { spriteURL: `${c}ast/asteroid04.png` },
          asteroidbig1: { spriteURL: `${c}ast/asteroid_big01.png` },
          asteroidbig2: { spriteURL: `${c}ast/asteroid_big02.png` },
          asteroidsmall1: { spriteURL: `${c}ast/asteroid_sm01.png` },
          asteroidsmall2: { spriteURL: `${c}ast/asteroid_sm02.png` },
          asteroidsmall3: { spriteURL: `${c}ast/asteroid_sm03.png` },
          asteroidsmall4: { spriteURL: `${c}ast/asteroid_sm04.png` },
          asteroidice1: { spriteURL: `${c}ast/asteroid_ice01.png` },
          asteroidice2: { spriteURL: `${c}ast/asteroid_ice01.png` },
          asteroidicesmall1: { spriteURL: `${c}ast/asteroid_ice_sm01.png` },
          asteroidicesmall2: { spriteURL: `${c}ast/asteroid_ice_sm02.png` },
          asteroidsilicon1: { spriteURL: `${c}ast/asteroid_silicon01.png` },
          asteroidsilicon2: { spriteURL: `${c}ast/asteroid_silicon02.png` },
          asteroidsiliconsmall1: {
            spriteURL: `${c}ast/asteroid_silicon_sm01.png`,
          },
          asteroidsiliconsmall2: {
            spriteURL: `${c}ast/asteroid_silicon_sm02.png`,
          },
          asteroidtitanium1: { spriteURL: `${c}ast/asteroid_titanium01.png` },
          asteroidtitanium2: { spriteURL: `${c}ast/asteroid_titanium02.png` },
          asteroidtitaniumsmall1: {
            spriteURL: `${c}ast/asteroid_titanium_sm01.png`,
          },
          asteroidtitaniumsmall2: {
            spriteURL: `${c}ast/asteroid_titanium_sm02.png`,
          },
          asteroiduranium1: { spriteURL: `${c}ast/asteroid_uranium01.png` },
          asteroiduranium2: { spriteURL: `${c}ast/asteroid_uranium02.png` },
          asteroiduraniumsmall1: {
            spriteURL: `${c}ast/asteroid_uranium_sm01.png`,
          },
          asteroiduraniumsmall2: {
            spriteURL: `${c}ast/asteroid_uranium_sm02.png`,
          },
          asteroidgigantic1: { spriteURL: `${c}ast/asteroid_gigantic.png` },
          asteroidgigantic2: { spriteURL: `${c}ast/asteroid_gigantic.png` },
          asteroidgigantic3: { spriteURL: `${c}ast/asteroid_gigantic.png` },
          asteroidgigantic4: { spriteURL: `${c}ast/asteroid_gigantic.png` },
          asteroidgigantic5: { spriteURL: `${c}ast/asteroid_gigantic.png` },
          asteroidgigantic6: { spriteURL: `${c}ast/asteroid_gigantic.png` },
          asteroidgigantic7: { spriteURL: `${c}ast/asteroid_gigantic.png` },
          asteroidgigantic8: { spriteURL: `${c}ast/asteroid_gigantic.png` },
          asteroidgigantic9: { spriteURL: `${c}ast/asteroid_gigantic.png` },
          asteroidgigantic10: { spriteURL: `${c}ast/asteroid_gigantic.png` },
          asteroidswarm1: { spriteURL: `${c}ast/asteroid_swarm.png` },
          asteroidswarm2: { spriteURL: `${c}ast/asteroid_swarm.png` },
          asteroidswarm3: { spriteURL: `${c}ast/asteroid_swarm.png` },
          asteroidswarm4: { spriteURL: `${c}ast/asteroid_swarm.png` },
          asteroidswarm5: { spriteURL: `${c}ast/asteroid_swarm.png` },
          asteroidswarm6: { spriteURL: `${c}ast/asteroid_swarm.png` },
          asteroidswarm7: { spriteURL: `${c}ast/asteroid_swarm.png` },
          asteroidswarm8: { spriteURL: `${c}ast/asteroid_swarm.png` },
          plasmoid: { spriteURL: `${c}ast/plasmoid.png` },
          asteroidmagma1: { spriteURL: `${c}ast/asteroid_magma_01.png` },
          asteroidmagma2: { spriteURL: `${c}ast/asteroid_magma_02.png` },
          asteroidmagma3: { spriteURL: `${c}ast/asteroid_magma_03.png` },
          asteroidmagma4: { spriteURL: `${c}ast/asteroid_magma_04.png` },
          wrecktitanium1: { spriteURL: `${c}ast/asteroid_wrecktitanium01.png` },
          wrecktitanium2: { spriteURL: `${c}ast/asteroid_wrecktitanium02.png` },
          wrecktitanium3: { spriteURL: `${c}ast/asteroid_wrecktitanium03.png` },
          wrecktitanium4: { spriteURL: `${c}ast/asteroid_wrecktitanium04.png` },
          wrecktitanium5: { spriteURL: `${c}ast/asteroid_wrecktitanium05.png` },
          wrecktitanium6: { spriteURL: `${c}ast/asteroid_wrecktitanium06.png` },
          wrecktitanium7: { spriteURL: `${c}ast/asteroid_wrecktitanium07.png` },
          wrecksilicon1: { spriteURL: `${c}ast/asteroid_wrecksilicon01.png` },
          wrecksilicon2: { spriteURL: `${c}ast/asteroid_wrecksilicon02.png` },
          wrecksilicon3: { spriteURL: `${c}ast/asteroid_wrecksilicon03.png` },
        },
        n('obj_asteroids_ice', 20, 'ast'),
        n('obj_asteroids_normal', 22, 'ast'),
        n('obj_asteroids_vulcanic', 21, 'ast'),
        n('obj_izlar_extremophytes', 8, 'ast'),
        n('obj_izlar_izlaroflora', 11, 'ast'),
        n('obj_izlar_jellytree', 3, 'ast'),
        n('obj_lonsdaleites', 8, 'ast'),
        n('obj_sylonwalls', 3, 'ast'),
        n('obj_fed_wall', 17, 'ast'),
        n('obj_frozen_cloud', 24, 'ast'),
        n('obj_chokypuff', 17, 'ast'),
      )),
    (e.default = {
      load(t) {
        r(t), t.json('datas', `${s.PUBLIC_URL}assets/datas/datas.json`);
      },
    });
  },
  function (t, e, i) {
    Object.defineProperty(e, '__esModule', { value: !0 });
    let n = i(2),
      r = `${n.PUBLIC_URL}assets/images`;
    e.default = {
      load(t) {
        t.atlasJSONHash(
          'gui',
          `${r}/gui/GUI_element.png`,
          `${r}/gui/GUI_element.json`,
        ),
        t.atlasJSONHash(
          'gui-hd',
          `${r}/gui/GUI_HUD_hd.png`,
          `${r}/gui/GUI_HUD_hd.json`,
        ),
        t.atlasJSONHash(
          'gui.buttons',
          `${r}/gui/GUI_element_mute_fullscreen.png`,
          `${r}/gui/GUI_element_mute_fullscreen.json`,
        ),
        t.atlasJSONHash(
          'gui.researches',
          `${r}/gui/GUi_hud_upgrades.png`,
          `${r}/gui/GUi_hud_upgrades.json`,
        ),
        t.atlasJSONHash(
          'gui-hud-portraits',
          `${r}/gui/GUI_HUD_portraits.png`,
          `${r}/gui/GUI_HUD_portraits.json`,
        ),
        t.atlasJSONHash(
          'gui-dialog-portraits-fed',
          `${r}/gui/GUI_dialgoue_portraits_federation.png`,
          `${r}/gui/GUI_dialgoue_portraits_federation.json`,
        ),
        t.atlasJSONHash(
          'gui-dialog-portraits-ath',
          `${r}/gui/GUI_dialgoue_portraits_athrael.png`,
          `${r}/gui/GUI_dialgoue_portraits_athrael.json`,
        ),
        t.atlasJSONHash(
          'gui-dialog-portraits-syl',
          `${r}/gui/GUI_dialgoue_portraits_sylon.png`,
          `${r}/gui/GUI_dialgoue_portraits_sylon.json`,
        ),
        t.atlasJSONHash(
          'gui-defeat',
          `${r}/gui/game_effect_defeat.png`,
          `${r}/gui/game_effect_defeat.json`,
        ),
        t.atlasJSONHash(
          'gui-pause',
          `${r}/gui/game_effect_pause.png`,
          `${r}/gui/game_effect_pause.json`,
        ),
        t.atlasJSONHash(
          'gui-victory',
          `${r}/gui/game_effect_victory.png`,
          `${r}/gui/game_effect_victory.json`,
        ),
        t.atlasJSONHash(
          'gui-markers',
          `${r}/gui/GUI_ingame_markers.png`,
          `${r}/gui/GUI_ingame_markers.json`,
        ),
        t.atlasJSONHash(
          'gui_hud_effects',
          `${r}/gui/gui_hud_effects.png`,
          `${r}/gui/gui_hud_effects.json`,
        ),
        t.atlasJSONHash(
          'gui_hud_buttons',
          `${r}/gui/gui_hud_buttons.png`,
          `${r}/gui/gui_hud_buttons.json`,
        ),
        t.atlasJSONHash(
          'gui_ingame_menu',
          `${r}/gui/GUi_ingamemenu.png`,
          `${r}/gui/GUi_ingamemenu.json`,
        );
      },
    };
  },
  function (t, e, i) {
    Object.defineProperty(e, '__esModule', { value: !0 });
    let n = i(2),
      r = [
        'techtest',
        'allunit_test',
        '01_precamp_tereshkova_training_station',
        '02_precamp_operation_broad_jump',
        '03_precamp_home_too_far',
        '04_precamp_pandora',
        '05_precamp_thedeal',
        'trailer01_Athrael_ambush',
        'trailer02_Izlar',
        'trailer03_federation_battle',
        'trailermap_02_athrael',
        'trailermap_01',
        'trailer_sylonencounter',
        'trailer_simcity',
        'trailer_hell',
        'trailer_athrael',
        'seaupdate',
        'sylonvsthorun',
        'testmap4player',
        'test_ai',
        'test_micro',
        'testmap4player_ai',
      ];
    e.default = {
      load(t) {
        r.forEach((e) => {
          t.json(e, `${n.PUBLIC_URL}assets/maps/${e}.json`);
        });
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      const e = ['ogg', 'm4a', 'mp3', 'ac3'];
      ['prequel-prologue', 'prequel-epilogue'].forEach((i) => {
        let n = `${r.PUBLIC_URL}assets/audio/${i}/${i}`,
          a = e.map(t => `${n}.${t}`);
        t.json(i, `${n}.json`), t.audio(i, a);
      });
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var r = i(2),
      a = `${r.PUBLIC_URL}assets/images`;
    e.default = {
      load(t) {
        t.image('preloader-background', `${a}/preload/gui_loading_back.jpg`),
        t.image('preloader-bar', `${a}/preload/gui_loading_indicator.png`),
        t.image('menu-layer-1', `${a}/menu/menu_backgrounds/layer00-min.png`),
        t.image('menu-layer-2', `${a}/menu/menu_backgrounds/layer01-min.png`),
        t.image('menu-layer-3', `${a}/menu/menu_backgrounds/layer02-min.png`),
        t.image(
          'menu-layer-4',
          `${a}/menu/menu_backgrounds/layer02_godlight-min.png`,
        ),
        t.image('menu-layer-5', `${a}/menu/menu_backgrounds/layer03-min.png`),
        t.image('menu-layer-6', `${a}/menu/menu_backgrounds/layer04-min.png`),
        t.atlasJSONHash(
          'menu-effect-dust-loop',
          `${a}/menu/menu_backgrounds/menu_effect_dust_loop.png`,
          `${a}/menu/menu_backgrounds/menu_effect_dust_loop.json`,
        ),
        t.atlasJSONHash(
          'menu-effect-smoke-1',
          `${a}/menu/menu_backgrounds/menu_effect_smoke01.png`,
          `${a}/menu/menu_backgrounds/menu_effect_smoke01.json`,
        ),
        t.atlasJSONHash(
          'menu-effect-smoke-2',
          `${a}/menu/menu_backgrounds/menu_effect_smoke02.png`,
          `${a}/menu/menu_backgrounds/menu_effect_smoke02.json`,
        ),
        t.atlasJSONHash(
          'chapter-selector',
          `${a}/menu/chapters/GUI_mainmenu_chapter_selector.png`,
          `${a}/menu/chapters/GUI_mainmenu_chapter_selector.json`,
        ),
        t.image(
          'premission-background-prequel-1',
          `${a}/menu/premission_backgrounds/chapter_0_mission01.jpg`,
        ),
        t.image(
          'premission-background-prequel-2',
          `${a}/menu/premission_backgrounds/chapter_0_mission02.jpg`,
        ),
        t.image(
          'premission-background-prequel-3',
          `${a}/menu/premission_backgrounds/chapter_0_mission03.jpg`,
        ),
        t.image(
          'premission-background-prequel-4',
          `${a}/menu/premission_backgrounds/chapter_0_mission04.jpg`,
        ),
        t.image(
          'premission-background-prequel-5',
          `${a}/menu/premission_backgrounds/chapter_0_mission05.jpg`,
        ),
        t.image(
          'prologue-background-prequel-1',
          `${a}/menu/premission_backgrounds/chapter_0_prologue_pic_01.jpg`,
        ),
        t.image(
          'prologue-background-prequel-2',
          `${a}/menu/premission_backgrounds/chapter_0_prologue_pic_02.jpg`,
        ),
        t.image(
          'prologue-background-prequel-3',
          `${a}/menu/premission_backgrounds/chapter_0_prologue_pic_03.jpg`,
        ),
        t.image(
          'epilogue-background-prequel-1',
          `${a}/menu/premission_backgrounds/chapter_0_epilogue_pic_01.jpg`,
        ),
        t.image(
          'epilogue-background-prequel-2',
          `${a}/menu/premission_backgrounds/chapter_0_epilogue_pic_02.jpg`,
        ),
        t.image(
          'epilogue-background-prequel-3',
          `${a}/menu/premission_backgrounds/chapter_0_epilogue_pic_03.jpg`,
        ),
        t.image(
          'epilogue-background-prequel-4',
          `${a}/menu/premission_backgrounds/chapter_0_epilogue_pic_04.jpg`,
        ),
        t.image(
          'summary_background_federation',
          `${a}/menu/summary/summary_background_federation.jpg`,
        ),
        t.atlasJSONHash(
          'summary-elements',
          `${a}/menu/summary/GUI_summary.png`,
          `${a}/menu/summary/GUI_summary.json`,
        ),
        t.image('popup-indev-caution', `${a}/menu/popup_caution.png`),
        n(t);
      },
    };
  },
  function (t, e, i) {
    Object.defineProperty(e, '__esModule', { value: !0 });
    let n = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      r = i(2),
      a = window.fivenations,
      o = `${r.PUBLIC_URL}assets/images/projectiles`;
    (a.effects = Object.assign(a.effects || {}, {
      'laser-beam-1': { spriteURL: `${o}/weapon_projectiles.png` },
      cannonball: { spriteURL: `${o}/weapon_projectiles.png` },
      'capital-cannonball': { spriteURL: `${o}/weapon_projectiles.png` },
      'magnetic-pulse': {
        spriteURL: `${o}/weapon_projectiles_energyweapons.png`,
      },
      'photonic-beam': {
        spriteURL: `${o}/weapon_projectiles_energyweapons.png`,
      },
      'meson-disruptor': {
        spriteURL: `${o}/weapon_projectiles_energyweapons.png`,
      },
      missile: { spriteURL: `${o}/weapon_projectiles.png` },
      rommel: { spriteURL: `${o}/weapon_projectiles.png` },
      plasma: { spriteURL: `${o}/weapon_projectiles_energyweapons.png` },
      particlecut: { spriteURL: `${o}/weapon_projectiles_energyweapons.png` },
      'kinetic-torpedo': { spriteURL: `${o}/weapon_projectiles.png` },
      'asr-missile': { spriteURL: `${o}/weapon_projectiles.png` },
      'seraph-missile': { spriteURL: `${o}/weapon_projectiles.png` },
      'ragnarok-heavy-gun': { spriteURL: `${o}/weapon_projectiles.png` },
      'lancet-gun': { spriteURL: `${o}/weapon_projectiles.png` },
      'proton-torpedo': { spriteURL: `${o}/weapon_projectiles.png` },
      'thermobaric-bomb': { spriteURL: `${o}/weapon_projectiles.png` },
      'q-disruptor': { spriteURL: `${o}/weapon_projectiles.png` },
      'gravimetric-ray': {
        spriteURL: `${o}/weapon_projectiles_energyweapons.png`,
      },
      mesoncannon: { spriteURL: `${o}/weapon_projectiles.png` },
      neutrontorpedo: {
        spriteURL: `${o}/weapon_projectiles_energyweapons.png`,
      },
      'phase-torpedo': { spriteURL: `${o}/weapon_projectiles.png` },
      polaroncannon: { spriteURL: `${o}/weapon_projectiles_energyweapons.png` },
      quantumbolt: { spriteURL: `${o}/weapon_projectiles.png` },
      radiondisruptor: { spriteURL: `${o}/weapon_projectiles.png` },
      repairpod: { spriteURL: `${o}/weapon_projectiles.png` },
      shieldbattery: { spriteURL: `${o}/weapon_projectiles.png` },
      thermobeam: { spriteURL: `${o}/weapon_projectiles.png` },
      thermobeam2: { spriteURL: `${o}/weapon_projectiles.png` },
      warpbolt: { spriteURL: `${o}/weapon_projectiles.png` },
      'antimatter-beam': { spriteURL: `${o}/weapon_projectiles.png` },
      'ray-autocannon': { spriteURL: `${o}/weapon_projectiles.png` },
      'phoson-rain': { spriteURL: `${o}/weapon_projectiles.png` },
      'ion-cannon': { spriteURL: `${o}/weapon_projectiles.png` },
      'proton-discharger': { spriteURL: `${o}/weapon_projectiles.png` },
      'spatial-beam': { spriteURL: `${o}/weapon_projectiles.png` },
      'acidic-suptum': { spriteURL: `${o}/weapon_projectiles.png` },
      'fiery-breath': {
        spriteURL: `${o}/weapon_projectiles_energyweapons.png`,
      },
      'electrolyt-organ': { spriteURL: `${o}/weapon_projectiles.png` },
      'sticky-pleghm': { spriteURL: `${o}/weapon_projectiles.png` },
      'chemical-saliva': { spriteURL: `${o}/weapon_projectiles.png` },
      sawtooth: { spriteURL: `${o}/weapon_projectiles.png` },
      'fiery-glob': { spriteURL: `${o}/weapon_projectiles_energyweapons.png` },
      'smashing-claw': { spriteURL: `${o}/weapon_projectiles.png` },
      'stinging-cells': { spriteURL: `${o}/weapon_projectiles.png` },
      'defensive-spores': { spriteURL: `${o}/weapon_projectiles.png` },
      'hydro-beam': { spriteURL: `${o}/weapon_projectiles.png` },
      'nova-ray': { spriteURL: `${o}/weapon_projectiles_energyweapons.png` },
      'conductive-membrane': { spriteURL: `${o}/weapon_projectiles.png` },
      cryocannon: { spriteURL: `${o}/weapon_projectiles_energyweapons.png` },
      phasemortar: { spriteURL: `${o}/weapon_projectiles.png` },
      cycloneblades: { spriteURL: `${o}/weapon_projectiles.png` },
      selfdestruct: { spriteURL: `${o}/weapon_projectiles.png` },
      sacrafice: { spriteURL: `${o}/weapon_projectiles.png` },
      warpray: { spriteURL: `${o}/weapon_projectiles_energyweapons.png` },
      gammapulse: { spriteURL: `${o}/weapon_projectiles_energyweapons.png` },
      'plasmatic-core': {
        spriteURL: `${o}/weapon_projectiles_energyweapons.png`,
      },
      thorunreactor: { spriteURL: `${o}/weapon_projectiles.png` },
    })),
    (e.default = {
      load(t) {
        let e = {},
          i = n(Phaser.GAMES, 1),
          r = i[0],
          o = r.cache.getJSON('images'),
          s = /([^\/]*)\.png/;
        Object.keys(a.effects).forEach((i) => {
          if (a.effects[i].preloading) {
            if (!e[a.effects[i].spriteURL]) {
              let n = a.effects[i].spriteURL,
                r = n.match(s)[1];
              t.atlasJSONHash(i, a.effects[i].spriteURL, null, o[r]);
            }
            e[a.effects[i].spriteURL] = !0;
          }
        }, t);
      },
    });
  },
  function (t, e, i) {
    Object.defineProperty(e, '__esModule', { value: !0 });
    let n = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      r = i(2),
      a = `${r.PUBLIC_URL}assets/images`,
      o = [
        'background_stars',
        'bg_asteroidfields_normal',
        'bg_asteroidfields_vulcanic',
        'bg_bigfog_blue',
        'bg_bigfog_green',
        'bg_bigfog_izlar',
        'bg_bigfog_magenta',
        'bg_bigfog_purple',
        'bg_bigfog_red',
        'bg_dustfields_blue',
        'bg_dustfields_green',
        'bg_dustfields_magenta',
        'bg_dustfields_purple',
        'bg_dustfields_red',
        'bg_dustfields_izlargreen',
        'bg_dustfields_frozen',
        'bg_federation_gadgets',
        'bg_giantstars',
        'bg_izlar_extremophytes',
        'bg_izlar_jellytree',
        'bg_izlar_skeletons',
        'bg_lonsdaleitefields_normal',
        'bg_magmafields',
        'bg_planets',
        'bg_smallplanets',
        'bg_sylon_monuments',
        'bg_athrael_monuments',
        'bg_clouds',
        'bg_izlarclouds',
        'bg_wreckfields',
      ];
    e.default = {
      load(t) {
        t.image('starfield-1', `${a}/starfield/starfield-1.jpg`),
        t.image('starfield-2', `${a}/starfield/starfield-2.jpg`),
        t.image('starfield-3', `${a}/starfield/starfield-3.jpg`),
        t.image('starfield-4', `${a}/starfield/starfield-4.jpg`),
        t.image('starfield-5', `${a}/starfield/starfield-5.jpg`),
        t.image('starfield-6', `${a}/starfield/starfield-6.jpg`),
        t.image('starfield.galaxy.type-1', `${a}/starfield/bg_galaxy01.png`),
        t.image('starfield.galaxy.type-2', `${a}/starfield/bg_galaxy02.png`),
        t.image('starfield.galaxy.type-3', `${a}/starfield/bg_galaxy03.png`),
        t.image('starfield.galaxy.type-4', `${a}/starfield/bg_galaxy04.png`),
        t.image('starfield.galaxy.type-5', `${a}/starfield/bg_galaxy05.png`),
        t.image('starfield.galaxy.type-6', `${a}/starfield/bg_galaxy06.png`),
        t.image('starfield.galaxy.type-7', `${a}/starfield/bg_galaxy07.png`),
        t.image('starfield.galaxy.type-8', `${a}/starfield/bg_galaxy08.png`),
        t.image('starfield.galaxy.type-9', `${a}/starfield/bg_galaxy09.png`),
        t.image('starfield.galaxy.type-10', `${a}/starfield/bg_galaxy10.png`),
        t.image('starfield.galaxy.type-11', `${a}/starfield/bg_galaxy11.png`),
        t.image('starfield.galaxy.type-12', `${a}/starfield/bg_galaxy12.png`);
        let e = n(Phaser.GAMES, 1),
          i = e[0],
          r = i.cache.getJSON('images');
        o.forEach((e) => {
          const i = `${a}/starfield/${e}.png`;
          t.atlasJSONHash(e, i, null, r[e]);
        });
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(2),
      s = i(441),
      u = n(s),
      l = i(201),
      c = n(l),
      h = i(7),
      d = n(h),
      f = window.fivenations,
      p = `${o.PUBLIC_URL}assets/images/preload`,
      g = `${o.PUBLIC_URL}assets/images/menu`,
      y = `${o.PUBLIC_URL}assets/images/gui`,
      v = (function () {
        function t() {
          r(this, t);
        }
        return (
          a(t, [
            {
              key: 'init',
              value() {
                this.game.load = new u.default(this.game);
              },
            },
            {
              key: 'preload',
              value() {
                const t = this;
                this.loadImages(),
                this.loadWebFonts(),
                this.loadAudioForMenu(),
                c.default.load(this.game.load),
                this.game.load.onLoadComplete.addOnce(() => t.goToMenuPreload());
              },
            },
            {
              key: 'create',
              value() {
                d.default.setGame(this.game),
                (this.game.canvas.oncontextmenu = function (t) {
                  t.preventDefault();
                }),
                (this.game.stage.disableVisibilityChange = !0),
                (this.game.input.maxPointers = 1),
                this.game.device.desktop,
                (this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL),
                (this.game.scale.maxWidth = 1366),
                (this.game.scale.maxHeight = 768),
                (this.game.scale.pageAlignHorizontally = !0),
                (this.game.scale.pageAlignVertically = !0),
                this.game.add.text(0, 0, 'hack', {
                  font: '1px conthraxsemibold',
                  fill: '#FFFFFF',
                }),
                this.game.add.text(0, 0, 'hack', {
                  font: '1px BerlinSansFB-Bold',
                  fill: '#FFFFFF',
                }),
                this.game.add.text(0, 0, 'hack', {
                  font: '1px BerlinSansFB-Reg',
                  fill: '#FFFFFF',
                });
              },
            },
            {
              key: 'loadImages',
              value() {
                (this.game.load.crossOrigin = 'anonymous'),
                this.game.load.image(
                  'main-loading-screen',
                  `${p}/loading_screen_00.jpg`,
                ),
                this.game.load.image(
                  'intro-spinner',
                  `${p}/intro-spinner.png`,
                ),
                this.game.load.atlasJSONHash(
                  'mainmenu-elements',
                  `${g}/mainmenu_element.png`,
                  `${g}/mainmenu_element.json`,
                ),
                this.game.load.atlasJSONHash(
                  'gui',
                  `${y}/GUI_element.png`,
                  `${y}/GUI_element.json`,
                ),
                this.game.load.atlasJSONHash(
                  'main-loading-screen-components',
                  `${p}/GUI_mainloading.png`,
                  `${p}/GUI_mainloading.json`,
                );
              },
            },
            {
              key: 'loadWebFonts',
              value() {
                this.game.load.webfont('conthraxsemibold', 'conthraxsemibold'),
                this.game.load.webfont(
                  'BerlinSansFB-Reg',
                  'BerlinSansFB-Reg',
                ),
                this.game.load.webfont(
                  'BerlinSansFB-Bold',
                  'BerlinSansFB-Bold',
                );
              },
            },
            {
              key: 'loadAudioForMenu',
              value() {
                let t = 'menu',
                  e = ['ogg', 'm4a', 'mp3', 'ac3'],
                  i = `${o.PUBLIC_URL}assets/audio/${t}/${t}`,
                  n = e.map(t => `${i}.${t}`);
                this.game.load.json(t, `${i}.json`), this.game.load.audio(t, n);
              },
            },
            {
              key: 'goToMenuPreload',
              value() {
                let t = 'intro';
                f.skipScenes && (t = 'menu-preloader'),
                this.game.state.start(t);
              },
            },
          ]),
          t
        );
      }());
    e.default = v;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(14),
      l = n(u),
      c = i(45),
      h = n(c),
      d = i(633),
      f = n(d),
      p = i(4),
      g = n(p),
      y = i(76),
      v = n(y),
      m = i(181),
      b = n(m),
      _ = i(11),
      w = n(_),
      x = i(28),
      P = n(x),
      k = i(184),
      T = n(k),
      O = i(634),
      E = n(O),
      S = i(7),
      C = n(S),
      I = i(74),
      M = n(I),
      A = i(24),
      R = n(A),
      L = i(48),
      D = n(L),
      B = i(628),
      j = n(B),
      F = i(581),
      U = n(F),
      G = i(535),
      N = n(G),
      W = i(573),
      H = n(W),
      X = i(554),
      V = n(X),
      z = i(8),
      Y = n(z),
      q = i(82),
      K = n(q),
      Q = i(442),
      J = n(Q),
      Z = i(22),
      $ = n(Z),
      tt = i(718),
      et = n(tt),
      it = i(1),
      nt = n(it),
      rt = i(443),
      at = n(rt),
      ot = i(49),
      st = n(ot),
      ut = i(85),
      lt = n(ut),
      ct = i(186),
      ht = n(ct),
      dt = i(23),
      ft = n(dt),
      pt = i(33),
      gt = n(pt),
      yt = i(644),
      vt = n(yt),
      mt = i(2);
    i(635), i(636), i(637), i(638), i(639);
    let bt = window.fivenations,
      _t = !1,
      wt = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'create',
              value() {
                const t = this;
                (bt.game = this),
                (this.turn = 0),
                (this.timers = []),
                (this.stage.disableVisibilityChange = !1),
                (this.game.time.advancedTiming = !0),
                (this.game.time.fpsMultiplier = 1),
                (this.graphics = l.default.getInstance(!0)),
                (this.map = new f.default(this.game)),
                (this.playerManager = g.default.getInstance(!0)),
                (this.diplomacyManager = v.default.getInstance(!0)),
                (this.botManager = b.default.getInstance(!0)),
                w.default.setGame(this.game),
                (this.entityManager = w.default.getInstance(!0)),
                (this.researchManager = ht.default.getInstance(!0)),
                (this.techManager = ft.default.getInstance(!0)),
                P.default.setGame(this.game),
                (this.effectManager = P.default.getInstance(!0)),
                E.default.setGame(this.game),
                (this.locationManager = E.default.getInstance(!0)),
                T.default.setGame(this.game),
                (this.collisionManager = T.default.getInstance(!0)),
                C.default.setGame(this.game),
                (this.translationManager = C.default.getInstance()),
                nt.default.createSyncedEmitter({
                  playerManager: this.playerManager,
                  entityManager: this.entityManager,
                  effectManager: this.effectManager,
                }),
                (this.eventEmitter = nt.default.getInstance()),
                this.eventEmitter.local.addEventListener(
                  'player/create',
                  () => {
                    _t = t.playerManager.isUserAuthorised();
                  },
                ),
                Y.default.setGame(this.game),
                (this.audioManager = Y.default.getInstance()),
                this.audioManager.loadAudioSprite('sfx', 32),
                this.audioManager.loadAudioSprite('prequel-dialogs', 1),
                this.audioManager.addEventListeners(),
                (this.musicManager = K.default.getInstance()),
                this.musicManager.startMusicByRace(mt.RACE_FEDERATION),
                (this.resourceChecker = vt.default.getInstance()),
                D.default.setGame(this.game),
                (this.userPointer = D.default.getInstance(!0)),
                (this.shorthandManager = j.default.getInstance()),
                this.userPointer.on('rightbutton/down', () => {
                  let e = !0,
                    i = !1;
                  if (t.guiActivityManager.hasActiveSelection()) {
                    return (
                      t.userPointer.dispatch('rightbutton/down/activity'),
                      void M.default
                        .getInstance()
                        .getControlPanel()
                        .selectMainPage()
                    );
                  }
                  if (M.default.getInstance().isHover()) { return void t.userPointer.dispatch('rightbutton/down/gui'); }
                  $.default.getInstance().isDown(Phaser.KeyCode.SHIFT) &&
                      ((e = !1), (i = !0));
                  let n = t.entityManager
                      .entities(':user:selected')
                      .filter(t => !t.hasNoUserControl() && !t.getInTransform()),
                    r = n.length,
                    a = t.entityManager.getHoveredEntity();
                  r !== 0 &&
                      t.shorthandManager.execute({
                        targetEntity: a,
                        selectedEntities: n,
                        resetActivityQueue: e,
                        addAsLast: i,
                      });
                }),
                this.userPointer.on('leftbutton/down', e => (M.default.getInstance().isHover()
                  ? void t.userPointer.dispatch('leftbutton/down/gui')
                  : t.guiActivityManager.hasActiveSelection()
                    ? void t.userPointer.dispatch(
                      'leftbutton/down/activity',
                      e,
                    )
                    : void (
                      t.entityManager.entities().filter(t => t.isHover()).length ===
                            0 &&
                          t.userPointer.dispatch('leftbutton/down/disselect')
                    ))),
                this.userPointer.on('leftbutton/down/disselect', () => {
                  t.entityManager.unselectAll();
                }),
                this.userPointer.on('multiselector/up', (e) => {
                  if (!t.guiActivityManager.hasActiveSelection()) {
                    M.default
                      .getInstance()
                      .getControlPanel()
                      .selectMainPage();
                    const i = [];
                    t.entityManager.entities().forEach((t) => {
                      (t.isEntityControlledByUser() || bt.mapEditorMode) &&
                          (t.hasNoUserControl() ||
                            t.getDataObject().isBuilding() ||
                            t.getDataObject().isSpaceObject() ||
                            (t.isInside(e) && (t.select(), i.push(t))));
                    }),
                    i.length > 0 &&
                          t.eventEmitter.local.dispatch(
                            'user/entity/select',
                            i,
                          ),
                    i.length > 1 &&
                          t.entityManager
                            .entities(':selected')
                            .filter(t => (
                              t.getDataObject().isBuilding() ||
                                t.getDataObject().isSpaceObject()
                            ))
                            .forEach(t => t.unselect());
                  }
                });
                let e = this.eventEmitter.local,
                  i = e.dispatch;
                this.userPointer.on(
                  'leftbutton/down',
                  i.bind(e, 'pointer/leftclick'),
                ),
                this.userPointer.on(
                  'rightbutton/down',
                  i.bind(e, 'pointer/rightclick'),
                ),
                this.userPointer.on(
                  'scroll/up',
                  this.map.scrollUp.bind(this.map, 12),
                ),
                this.userPointer.on(
                  'scroll/down',
                  this.map.scrollDown.bind(this.map, 12),
                ),
                this.userPointer.on(
                  'scroll/left',
                  this.map.scrollLeft.bind(this.map, 12),
                ),
                this.userPointer.on(
                  'scroll/right',
                  this.map.scrollRight.bind(this.map, 12),
                ),
                $.default.setGame(this.game),
                (this.userKeyboard = $.default.getInstance(!0)),
                this.userKeyboard
                  .on('cursor/down', this.map.scrollDown.bind(this.map))
                  .on('cursor/up', this.map.scrollUp.bind(this.map))
                  .on('cursor/left', this.map.scrollLeft.bind(this.map))
                  .on('cursor/right', this.map.scrollRight.bind(this.map)),
                this.userKeyboard.on('key/delete', () => {
                  t.eventEmitter.synced.entities(':selected').remove();
                }),
                U.default
                  .getInstance()
                  .addKeyboardListeners(this.userKeyboard),
                N.default
                  .getInstance()
                  .addKeyboardListeners(this.userKeyboard),
                H.default
                  .getInstance()
                  .addKeyboardListeners(this.userKeyboard),
                V.default
                  .getInstance()
                  .addKeyboardListeners(this.userKeyboard),
                (this.GUI = M.default
                  .setGame(this.game)
                  .setMap(this.map)
                  .getInstance(!0)),
                (this.eventBusExecuter = et.default.getInstance()),
                this.eventBusExecuter.reset(),
                (this.scriptbox = h.default.getInstance()),
                this.scriptbox.runCurrentScript(this),
                (this.guiActivityManager = R.default.getInstance()),
                this.game.physics.startSystem(Phaser.Physics.ARCADE),
                this.entityManager.createQuadTree(this.map),
                (this.inGameTimer = new J.default()),
                (this.missionTimer = new J.default()),
                this.missionTimer.start(),
                (this.overlay = new lt.default({
                  alpha: 1,
                  fixedToCamera: !0,
                })),
                this.graphics.getGroup('gui').add(this.overlay),
                this.registerEventListeners(),
                this.executeOnCreate();
              },
            },
            {
              key: 'update',
              value() {
                (this.game.time.fpsMultiplier =
                  this.game.time.elapsed / mt.DESIRED_FPS_ELAPSED),
                (this.game.time.desiredFps =
                    bt.customFps || Math.max(1, this.game.time.suggestedFps)),
                (this.game.time.elapsedRate = this.game.time.elapsed / 1e3),
                !0 !== this.paused &&
                    (this.eventBusExecuter.run(),
                    this.entityManager.update(_t),
                    this.effectManager.update(_t),
                    this.collisionManager.update(_t),
                    this.botManager.update(),
                    (this.turn += this.game.time.fpsMultiplier)),
                this.GUI.update(),
                this.userPointer.update(),
                this.userKeyboard.update(),
                this.map.update(this.entityManager);
              },
            },
            {
              key: 'registerEventListeners',
              value() {
                const t = nt.default.getInstance().local;
                t.addEventListener(
                  'game/endMission',
                  this.onEndMission.bind(this),
                ),
                t.addEventListener(
                  'game/restart',
                  this.onRestartMission.bind(this),
                ),
                t.addEventListener('game/victory', this.onVictory.bind(this)),
                t.addEventListener('game/defeat', this.onDefeat.bind(this)),
                t.addEventListener(
                  'game/changescene',
                  this.onChangeScene.bind(this),
                );
              },
            },
            {
              key: 'exitScene',
              value() {
                return Promise.resolve()
                  .then(this.calculateGameSummary.bind(this))
                  .then(this.fadeOut.bind(this))
                  .then(this.stopMusic.bind(this))
                  .then(this.resetGame.bind(this));
              },
            },
            {
              key: 'stopMusic',
              value() {
                return this.musicManager.stopMusic();
              },
            },
            {
              key: 'resetGame',
              value() {
                (this.missionHasEnded = !1),
                (this.game.physics.arcade.isPaused = !1),
                (this.paused = !1),
                this.timers.forEach(t => clearInterval(t)),
                (this.timers = []),
                this.game.tweens.removeAll(),
                this.eventEmitter.local.reset(),
                this.eventBusExecuter.reset(),
                this.playerManager.reset(),
                this.botManager.reset(),
                this.entityManager.reset(),
                this.effectManager.reset(),
                this.locationManager.reset(),
                this.inGameTimer.reset(),
                this.missionTimer.reset(),
                this.audioManager.stopAll(),
                this.GUI.reset();
              },
            },
            {
              key: 'loadMap',
              value(t) {
                const e = this.game.cache.getJSON(t);
                if (!e) throw new Error('The given map does not exist');
                return at.default
                  .load(this, e)
                  .then(this.initGameSummaryCollector.bind(this));
              },
            },
            {
              key: 'initGameSummaryCollector',
              value() {
                const t = this;
                (this.gameSummaryCollector = gt.default.getInstance(!0)),
                this.gameSummaryCollector.setPlayerSummaryCollectors(this.playerManager),
                (this.userSummaryCollector = this.gameSummaryCollector.getUserSummaryCollector()),
                this.userKeyboard.on('key/any', () => {
                  t.userSummaryCollector.userHotKeyPressed(),
                  t.userSummaryCollector.userActionTriggered();
                }),
                this.userPointer.on('up', () => {
                  t.userSummaryCollector.userActionTriggered();
                });
              },
            },
            {
              key: 'calculateGameSummary',
              value() {
                const t = this;
                this.gameSummaryCollector
                  .getPlayerSummaryCollectors()
                  .forEach(e => e.setMapExplored(t.map.getFogOfWar())),
                this.gameSummaryCollector.setMissionTime(this.missionTimer.getElapsedSeconds());
              },
            },
            {
              key: 'fadeIn',
              value() {
                const t = this;
                return new Promise(((e) => {
                  t.game.add
                    .tween(t.overlay)
                    .to({ alpha: 0 }, 1500, Phaser.Easing.Exponential.InOut, !0)
                    .onComplete.addOnce(e);
                }));
              },
            },
            {
              key: 'fadeOut',
              value() {
                const t = this;
                return new Promise(((e) => {
                  t.game.add
                    .tween(t.overlay)
                    .to({ alpha: 1 }, 1500, Phaser.Easing.Exponential.InOut, !0)
                    .onComplete.addOnce(e);
                }));
              },
            },
            {
              key: 'pause',
              value() {
                (this.game.physics.arcade.isPaused = !0),
                (this.paused = !0),
                this.map.lockScroll(),
                this.inGameTimer.pause(),
                this.missionTimer.pause();
              },
            },
            {
              key: 'resume',
              value() {
                this.missionHasEnded ||
                  ((this.game.physics.arcade.isPaused = !1),
                  (this.paused = !1),
                  this.map.unlockScroll(),
                  this.inGameTimer.resume(),
                  this.missionTimer.resume());
              },
            },
            {
              key: 'onEndMission',
              value() {
                (this.missionHasEnded = !0),
                this.timers.forEach(t => clearInterval(t)),
                this.GUI.reset(),
                this.pause();
              },
            },
            {
              key: 'onRestartMission',
              value() {
                const t = this;
                this.exitScene().then(() => t.game.state.start('game'));
              },
            },
            {
              key: 'onVictory',
              value() {
                let t = this,
                  e = h.default.getInstance().getCurrentScript();
                localStorage.setItem(e, !0),
                this.exitScene().then(() => t.game.state.start('game-summary'));
              },
            },
            {
              key: 'onDefeat',
              value() {
                const t = this;
                this.exitScene().then(() => t.game.state.start('game-summary'));
              },
            },
            {
              key: 'onChangeScene',
              value(t) {
                const e = this;
                this.exitScene().then(() => e.game.state.start(t));
              },
            },
          ]),
          e
        );
      }(st.default));
    e.default = wt;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(2),
      l = i(8),
      c = n(l),
      h = i(53),
      d = n(h),
      f = i(135),
      p = n(f),
      g = i(49),
      y = n(g),
      v = i(45),
      m = n(v),
      b = i(7),
      _ = n(b),
      w = `${u.PUBLIC_URL}assets/videos`,
      x = {
        'prequel-mission1': 'Chapter00_briefing_00_HD.mp4',
        'prequel-mission2': 'Chapter00_briefing_01_HD.mp4',
        'prequel-mission3': 'Chapter00_briefing_02_HD.mp4',
        'prequel-mission4': 'Chapter00_briefing_03_HD.mp4',
        'prequel-mission5': 'Chapter00_briefing_04_HD.mp4',
      },
      P = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'create',
              value() {
                this.initAudio(),
                this.createVideo(),
                this.createStage(),
                this.createStartGameButton(),
                this.createReplayButton(),
                this.startEntryAnimation(),
                this.startBackgroundMusic(),
                this.executeOnCreate();
              },
            },
            {
              key: 'initAudio',
              value() {
                c.default.setGame(this.game),
                (this.audioManager = c.default.getInstance());
              },
            },
            {
              key: 'createStage',
              value() {
                this.stage = this.game.add.group();
              },
            },
            {
              key: 'createVideo',
              value() {
                let t = this,
                  e = m.default.getInstance().getCurrentScript();
                (this.video = new Phaser.Video(
                  this.game,
                  null,
                  `${w}/${x[e]}`,
                )),
                this.video.play(),
                this.video.addToWorld(),
                this.video.onComplete.add(() => t.replayButton.enable());
              },
            },
            {
              key: 'createStartGameButton',
              value() {
                let t = this,
                  e = _.default.getInstance(),
                  i = e.translate('premission.buttons.start-mission');
                (this.startButton = new d.default({
                  game: this.game,
                  size: 'fat-l',
                  onClick() {
                    return t.goToGame();
                  },
                  label: i,
                })),
                (this.startButton.x = 1071),
                (this.startButton.y = 659),
                this.stage.add(this.startButton);
              },
            },
            {
              key: 'createReplayButton',
              value() {
                let t = this,
                  e = _.default.getInstance(),
                  i = e.translate('premission.buttons.replay');
                (this.replayButton = new d.default({
                  game: this.game,
                  size: 'fat-s',
                  onClick() {
                    t.video.stop(), t.video.play(), t.replayButton.disable();
                  },
                  label: i,
                })),
                (this.replayButton.x = 226),
                (this.replayButton.y = 654),
                this.stage.add(this.replayButton),
                this.replayButton.disable();
              },
            },
            {
              key: 'startBackgroundMusic',
              value() {
                p.default.setGame(this.game),
                p.default.getInstance().playMusic('fed-briefing', 0.2);
              },
            },
            {
              key: 'startEntryAnimation',
              value() {
                (this.stage.alpha = 1),
                this.game.add
                  .tween(this.stage)
                  .from(
                    { alpha: 0 },
                    250,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                  ),
                this.game.add
                  .tween(this.startButton)
                  .from(
                    { alpha: 0, x: this.startButton.x + 150 },
                    1e3,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                    1e3,
                  ),
                this.game.add
                  .tween(this.replayButton)
                  .from(
                    { alpha: 0, x: this.replayButton.x - 150 },
                    1e3,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                    1e3,
                  );
              },
            },
            {
              key: 'goToGame',
              value() {
                const t = this;
                return Promise.resolve()
                  .then(this.disableControls.bind(this))
                  .then(this.startExitAnimation.bind(this))
                  .then(this.fadeOut.bind(this))
                  .then(this.stopMusic.bind(this))
                  .then(this.stopVideo.bind(this))
                  .then(() => {
                    t.game.state.start('game-preloader');
                  });
              },
            },
            {
              key: 'disableControls',
              value() {
                this.replayButton.disable(), this.startButton.disable();
              },
            },
            {
              key: 'startExitAnimation',
              value() {
                const t = this;
                return new Promise(((e) => {
                  const i = t.game.add
                    .tween(t.startButton)
                    .to(
                      { alpha: 0, x: t.startButton.x + 150 },
                      750,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                    );
                  t.game.add
                    .tween(t.replayButton)
                    .to(
                      { alpha: 0, x: t.replayButton.x - 150 },
                      750,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                    ),
                  i.onComplete.add(e);
                }));
              },
            },
            {
              key: 'fadeOut',
              value() {
                const t = this;
                return new Promise(((e) => {
                  t.game.camera.fade(), t.game.camera.onFadeComplete.addOnce(e);
                }));
              },
            },
            {
              key: 'stopMusic',
              value() {
                return p.default.getInstance().stopMusic();
              },
            },
            {
              key: 'stopVideo',
              value() {
                this.video.stop();
              },
            },
          ]),
          e
        );
      }(y.default));
    e.default = P;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      l = i(8),
      c = n(l),
      h = i(202),
      d = n(h),
      f = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'initAudio',
              value() {
                c.default.setGame(this.game),
                (this.audioManager = c.default.getInstance()),
                this.audioManager.loadAudioSprite('prequel-epilogue');
              },
            },
            {
              key: 'initPages',
              value() {
                this.PAGES = [
                  {
                    backgroundImage: 'epilogue-background-prequel-1',
                    audio: { sprite: 'prequel-epilogue', marker: 'epilogue_0' },
                    title: 'epilogue.prequel.title',
                    text: 'epilogue.prequel.page1',
                  },
                  {
                    backgroundImage: 'epilogue-background-prequel-2',
                    audio: { sprite: 'prequel-epilogue', marker: 'epilogue_1' },
                    text: 'epilogue.prequel.page2',
                  },
                  {
                    backgroundImage: 'epilogue-background-prequel-3',
                    audio: { sprite: 'prequel-epilogue', marker: 'epilogue_2' },
                    text: 'epilogue.prequel.page3',
                  },
                  {
                    backgroundImage: 'epilogue-background-prequel-4',
                    audio: { sprite: 'prequel-epilogue', marker: 'epilogue_3' },
                    text: 'epilogue.prequel.page4',
                  },
                ];
              },
            },
            {
              key: 'create',
              value() {
                u(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'create',
                  this,
                ).call(this),
                (this.text.y = 200);
              },
            },
            {
              key: 'onEndScene',
              value() {
                this.goToMainMenu();
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = f;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(185),
      l = n(u),
      c = i(75),
      h = n(c),
      d = i(49),
      f = n(d),
      p = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'create',
              value() {
                const t = this;
                this.initPhantomLoader(),
                this.createBackground(),
                this.createProgressBar(),
                this.loadResources()
                  .then(() => t.constructProductionIcons())
                  .then(() => t.startGame()),
                this.executeOnCreate();
              },
            },
            {
              key: 'initPhantomLoader',
              value() {
                this.phantomLoader = l.default.getInstance();
              },
            },
            {
              key: 'createBackground',
              value() {
                this.game.add.sprite(0, 0, 'preloader-background');
              },
            },
            {
              key: 'createProgressBar',
              value() {
                (this.progressBar = this.add.sprite(457, 635, 'preloader-bar')),
                (this.progressBarCrop = {
                  width: this.progressBar.width,
                  height: this.progressBar.height,
                  rect: null,
                }),
                (this.progressBarCrop.rect = new Phaser.Rectangle(
                  0,
                  0,
                  1,
                  this.progressBar.height,
                )),
                this.progressBar.crop(this.progressBarCrop.rect);
              },
            },
            {
              key: 'loadResources',
              value() {
                const t = this;
                return this.phantomLoader.isCompleted()
                  ? Promise.resolve()
                  : new Promise(((e) => {
                    const i = t.phantomLoader.getLoader();
                    (t.initialProgress = i.progress),
                    i.onLoadComplete.addOnce(e),
                    t.phantomLoader.hasStarted() || t.phantomLoader.start();
                  }));
              },
            },
            {
              key: 'constructProductionIcons',
              value() {
                return (
                  h.default.setGame(this.game), h.default.getInstance().load()
                );
              },
            },
            {
              key: 'startGame',
              value() {
                this.game.state.start('game');
              },
            },
            {
              key: 'update',
              value() {
                this.updateProgressBar();
              },
            },
            {
              key: 'updateProgressBar',
              value() {
                let t = void 0;
                (t = this.phantomLoader.isCompleted()
                  ? 1
                  : (this.phantomLoader.getLoader().progress -
                      this.initialProgress) /
                    (100 - this.initialProgress)),
                (this.progressBarCrop.rect.width = Math.floor(this.progressBarCrop.width * t)),
                this.progressBar.updateCrop();
              },
            },
          ]),
          e
        );
      }(f.default));
    e.default = p;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t) {
      const e = d.default.getInstance();
      return new Promise(((i) => {
        let n = t.text,
          r = 0;
        (t.text = ''), (t.visible = !0);
        var a = setInterval(() => {
          (t.text += n.charAt(r)),
          (r += 1),
          e.playAudioSprite({ sprite: 'menu', marker: 'HUD_typewriter' }),
          r === n.length && (clearTimeout(a), i());
        }, 16);
      }));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(53),
      c = n(l),
      h = i(8),
      d = n(h),
      f = i(135),
      p = n(f),
      g = i(72),
      y = n(g),
      v = i(49),
      m = n(v),
      b = i(45),
      _ = n(b),
      w = i(7),
      x = n(w),
      P = i(2),
      k = window.fivenations,
      T = {
        'prequel-mission1': {
          backgroundSprite: 'premission-background-prequel-1',
          title: 'premission.prequel.mission1.title',
          subtitles: [
            'premission.prequel.mission1.subtitle1',
            'premission.prequel.mission1.subtitle2',
            'premission.prequel.mission1.subtitle3',
          ],
        },
        'prequel-mission2': {
          backgroundSprite: 'premission-background-prequel-2',
          title: 'premission.prequel.mission2.title',
          subtitles: [
            'premission.prequel.mission2.subtitle1',
            'premission.prequel.mission2.subtitle2',
          ],
        },
        'prequel-mission3': {
          backgroundSprite: 'premission-background-prequel-3',
          title: 'premission.prequel.mission3.title',
          subtitles: [
            'premission.prequel.mission3.subtitle1',
            'premission.prequel.mission3.subtitle2',
            'premission.prequel.mission3.subtitle3',
          ],
        },
        'prequel-mission4': {
          backgroundSprite: 'premission-background-prequel-4',
          title: 'premission.prequel.mission4.title',
          subtitles: [
            'premission.prequel.mission4.subtitle1',
            'premission.prequel.mission4.subtitle2',
            'premission.prequel.mission4.subtitle3',
          ],
        },
        'prequel-mission5': {
          backgroundSprite: 'premission-background-prequel-5',
          title: 'premission.prequel.mission5.title',
          subtitles: [
            'premission.prequel.mission5.subtitle1',
            'premission.prequel.mission5.subtitle2',
            'premission.prequel.mission5.subtitle3',
          ],
        },
      },
      O = (function (t) {
        function e() {
          r(this, e);
          const t = a(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return (t.filterGray = new y.default(t.game)), t;
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'create',
              value() {
                this.initAudio(),
                this.initCurrentMission(),
                this.createStage(),
                this.createBackground(),
                this.createStartBriefingButton(),
                this.createTitleComponent(),
                this.createSubTitleComponent(),
                this.startEntryAnimation(),
                this.startBackgroundMusic(),
                this.executeOnCreate();
              },
            },
            {
              key: 'initAudio',
              value() {
                d.default.setGame(this.game),
                (this.audioManager = d.default.getInstance());
              },
            },
            {
              key: 'initCurrentMission',
              value() {
                this.currentMission = _.default
                  .getInstance()
                  .getCurrentScript();
              },
            },
            {
              key: 'createStage',
              value() {
                this.stage = this.game.add.group();
              },
            },
            {
              key: 'createBackground',
              value() {
                let t = k.window,
                  e = t.width,
                  i = t.height,
                  n = e / 2,
                  r = i / 2,
                  a = T[this.currentMission].backgroundSprite;
                (this.background = this.game.add.image(n, r, a)),
                this.background.anchor.set(0.5),
                this.stage.add(this.background);
              },
            },
            {
              key: 'createTitleComponent',
              value() {
                let t = k.window.height,
                  e = x.default.getInstance(),
                  i = e.translate(T[this.currentMission].title);
                (this.title = this.stage.add(this.game.add.text(50, t - 250, i, {
                  font: P.DEFAULT_FONT.font.replace('11px', '32px'),
                  fill: P.DEFAULT_FONT.color,
                  boundsAlignH: 'left',
                  boundsAlignV: 'middle',
                }))),
                this.title.setShadow(2, 2, 'rgba(0, 0, 0, 0.95)', 0),
                (this.title.visible = !1);
              },
            },
            {
              key: 'createSubTitleComponent',
              value() {
                let t = k.window.height,
                  e = x.default.getInstance(),
                  i = T[this.currentMission].subtitles
                    .map(t => e.translate(t))
                    .join('\n');
                (this.subtitle = this.stage.add(this.game.add.text(50, t - 205, i, {
                  font: P.DEFAULT_FONT.font.replace('11px', '25px'),
                  fill: '#FFFFFF',
                  align: 'left',
                  wordWrap: !0,
                  wordWrapWidth: 800,
                }))),
                this.subtitle.setShadow(2, 2, 'rgba(0, 0, 0, 0.95)', 0),
                (this.subtitle.visible = !1);
              },
            },
            {
              key: 'createStartBriefingButton',
              value() {
                let t = this,
                  e = k.window,
                  i = e.width,
                  n = e.height,
                  r = x.default.getInstance(),
                  a = r.translate('premission.buttons.start-briefing');
                (this.button = new c.default({
                  game: this.game,
                  size: 'l',
                  label: a,
                  onClick() {
                    return t.goToBriefing();
                  },
                })),
                (this.button.x = i - this.button.width / 2 - 15),
                (this.button.y = n - this.button.height / 2 - 15),
                this.stage.add(this.button);
              },
            },
            {
              key: 'startBackgroundMusic',
              value() {
                p.default.setGame(this.game),
                p.default.getInstance().playMusic('fed-briefing');
              },
            },
            {
              key: 'startEntryAnimation',
              value() {
                const t = this;
                (this.stage.alpha = 1),
                this.game.add
                  .tween(this.stage)
                  .from(
                    { alpha: 0 },
                    250,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                  ),
                s(this.title)
                  .then(() => new Promise((t => setTimeout(t, 750))))
                  .then(() => s(t.subtitle));
                let e = this.game.add
                    .tween(this.background)
                    .from(
                      { alpha: 0 },
                      500,
                      Phaser.Easing.Exponential.InOut,
                      !1,
                      500,
                    ),
                  i = this.game.add
                    .tween(this.background.scale)
                    .to({ x: 1.2, y: 1.2 }, 3e4, Phaser.Easing.Linear.None, !1);
                e.chain(i),
                e.start(),
                this.game.add
                  .tween(this.button)
                  .from(
                    { alpha: 0, x: this.button.x + 150 },
                    750,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                    500,
                  );
              },
            },
            {
              key: 'goToBriefing',
              value() {
                const t = this;
                return Promise.resolve()
                  .then(this.disableControls.bind(this))
                  .then(this.startExitAnimation.bind(this))
                  .then(this.fadeOut.bind(this))
                  .then(this.stopMusic.bind(this))
                  .then(() => {
                    t.game.state.start('game-briefing');
                  });
              },
            },
            {
              key: 'disableControls',
              value() {
                (this.button.filters = [this.filterGray]),
                (this.button.inputEnabled = !1);
              },
            },
            {
              key: 'startExitAnimation',
              value() {
                const t = this;
                return new Promise(((e) => {
                  t.game.add
                    .tween(t.button)
                    .to(
                      { alpha: 0, x: t.button.x + 150 },
                      500,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                    )
                    .onComplete.add(e);
                }));
              },
            },
            {
              key: 'fadeOut',
              value() {
                const t = this;
                return new Promise(((e) => {
                  t.game.add
                    .tween(t.stage)
                    .to({ alpha: 0 }, 500, Phaser.Easing.Exponential.InOut, !0)
                    .onComplete.add(e);
                }));
              },
            },
            {
              key: 'stopMusic',
              value() {
                return p.default.getInstance().stopMusic();
              },
            },
          ]),
          e
        );
      }(m.default));
    e.default = O;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(8),
      l = n(u),
      c = i(202),
      h = n(c),
      d = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'initAudio',
              value() {
                l.default.setGame(this.game),
                (this.audioManager = l.default.getInstance()),
                this.audioManager.loadAudioSprite('prequel-prologue');
              },
            },
            {
              key: 'initPages',
              value() {
                this.PAGES = [
                  {
                    backgroundImage: 'prologue-background-prequel-1',
                    audio: { sprite: 'prequel-prologue', marker: 'prologue_0' },
                    title: 'prologue.prequel.title',
                    text: 'prologue.prequel.page1',
                  },
                  {
                    backgroundImage: 'prologue-background-prequel-2',
                    audio: { sprite: 'prequel-prologue', marker: 'prologue_1' },
                    text: 'prologue.prequel.page2',
                  },
                  {
                    backgroundImage: 'prologue-background-prequel-3',
                    audio: { sprite: 'prequel-prologue', marker: 'prologue_2' },
                    text: 'prologue.prequel.page3',
                  },
                ];
              },
            },
            {
              key: 'onEndScene',
              value() {
                this.goToPremission();
              },
            },
          ]),
          e
        );
      }(h.default));
    e.default = d;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      l = i(180),
      c = n(l),
      h = i(53),
      d = n(h),
      f = i(8),
      p = n(f),
      g = i(72),
      y = n(g),
      v = i(33),
      m = n(v),
      b = i(664),
      _ = n(b),
      w = i(661),
      x = n(w),
      P = i(663),
      k = n(P),
      T = i(662),
      O = n(T),
      E = i(665),
      S = n(E),
      C = i(7),
      I = n(C),
      M = i(49),
      A = n(M),
      R = i(2),
      L = u({}, R.MENU_FONT, { fontSize: '18px', fill: '#71caca' }),
      D = u({}, L, { fill: '#ffffff' }),
      B = window.fivenations,
      j = (function (t) {
        function e() {
          r(this, e);
          const t = a(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return (t.filterGray = new y.default(t.game)), t;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'create',
              value() {
                this.initHelpers(),
                this.initAudio(),
                this.createStage(),
                this.createBackgroundImage(),
                this.createBackgroundFrame(),
                this.createMainTitle(),
                this.createOutcomeText(),
                this.createMissionTime(),
                this.createTabs(),
                this.createCloseButton(),
                this.startEntryAnimation(),
                this.executeOnCreate();
              },
            },
            {
              key: 'initHelpers',
              value() {
                (this.translator = I.default.getInstance()),
                (this.collector = m.default.getInstance());
              },
            },
            {
              key: 'initAudio',
              value() {
                p.default.setGame(this.game),
                (this.audioManager = p.default.getInstance());
              },
            },
            {
              key: 'createStage',
              value() {
                (this.stage = this.game.add.group()),
                (this.frame = this.game.add.group());
              },
            },
            {
              key: 'createBackgroundImage',
              value() {
                let t = B.window,
                  e = t.width,
                  i = t.height,
                  n = e / 2,
                  r = i / 2,
                  a = this.game.add.image(
                    n,
                    r,
                    'summary_background_federation',
                  );
                (a.visible = !0), a.anchor.set(0.5), this.stage.add(a);
              },
            },
            {
              key: 'createBackgroundFrame',
              value() {
                let t = B.window,
                  e = t.width,
                  i = t.height,
                  n = e / 2,
                  r = i / 2;
                (this.backgroundFrame = this.game.add.sprite(
                  n,
                  r,
                  'summary-elements',
                )),
                (this.backgroundFrame.frameName = 'summary_back.png'),
                (this.backgroundFrame.visible = !0),
                this.backgroundFrame.anchor.set(0.5),
                (this.backgroundFrameOffset = {
                  left:
                      this.backgroundFrame.x - this.backgroundFrame.width / 2,
                  top:
                      this.backgroundFrame.y - this.backgroundFrame.height / 2,
                  right:
                      this.backgroundFrame.x + this.backgroundFrame.width / 2,
                  bottom:
                      this.backgroundFrame.y + this.backgroundFrame.height / 2,
                }),
                this.frame.add(this.backgroundFrame);
              },
            },
            {
              key: 'createMainTitle',
              value() {
                let t = B.window.width,
                  e = this.translator.translate('summary.title').toUpperCase(),
                  i = this.game.add.text(t / 2, 76, e, L);
                i.anchor.set(0.5), this.frame.add(i);
              },
            },
            {
              key: 'createOutcomeText',
              value() {
                let t = this.collector.getMissionOutcome(),
                  e = this.translator
                    .translate(`summary.outcome.${t}`)
                    .toUpperCase(),
                  i = this.backgroundFrameOffset.left + 25,
                  n = this.backgroundFrameOffset.top + 30,
                  r = this.game.add.text(i, n, e, D);
                this.frame.add(r);
              },
            },
            {
              key: 'createMissionTime',
              value() {
                let t = 1e3 * this.collector.getMissionTime(),
                  e = c.default
                    .utc(c.default.duration(t, 'ms').asMilliseconds())
                    .format('HH:mm:ss'),
                  i = this.translator
                    .translate('summary.gametime')
                    .toUpperCase(),
                  n = i.indexOf('{0}'),
                  r = i.replace('{0}', e),
                  a = this.backgroundFrameOffset.right - 25,
                  o = this.backgroundFrameOffset.top + 30,
                  s = this.game.add.text(a, o, r, D);
                s.addColor('#71caca', n), s.anchor.set(1, 0), this.frame.add(s);
              },
            },
            {
              key: 'createTabs',
              value() {
                const t = this;
                (this.tabs = [
                  new _.default(),
                  new x.default(),
                  new k.default(),
                  new O.default(),
                ]),
                this.tabs.forEach((e) => {
                  (e.x = t.backgroundFrameOffset.left + 19),
                  (e.y = t.backgroundFrameOffset.top + 130),
                  t.frame.add(e);
                }),
                this.createTabButtonsByTabs(this.tabs),
                this.selectTab(this.tabs[0]);
              },
            },
            {
              key: 'createTabButtonsByTabs',
              value(t) {
                const e = this;
                (this.tabButtons = []),
                t.forEach((t, i) => {
                  let n = i === 0,
                    r = e.translator.translate(t.getName()),
                    a = function () {
                      return e.selectTab(t);
                    },
                    o = new S.default({ label: r, first: n, onClick: a }),
                    s = e.backgroundFrameOffset.left + 19 + o.width / 2,
                    u = e.backgroundFrameOffset.top + 85,
                    l =
                        i === 0
                          ? s
                          : e.tabButtons[i - 1].x +
                            e.tabButtons[i - 1].width -
                            25;
                  (o.x = l), (o.y = u), e.frame.add(o), e.tabButtons.push(o);
                });
              },
            },
            {
              key: 'createCloseButton',
              value() {
                let t = this,
                  e = B.window,
                  i = e.width,
                  n = e.height,
                  r = this.translator.translate('summary.buttons.exit');
                (this.button = new d.default({
                  game: this.game,
                  size: 'l',
                  label: r,
                  onClick() {
                    return t.onEndScene();
                  },
                })),
                (this.button.x = i - this.button.width / 2 - 15),
                (this.button.y = n - this.button.height / 2);
              },
            },
            {
              key: 'startEntryAnimation',
              value() {
                (this.exitAnimationStarted = !1),
                this.game.add
                  .tween(this.frame)
                  .from(
                    { alpha: 0, y: -500 },
                    500,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                  ),
                this.game.add
                  .tween(this.button)
                  .from(
                    { alpha: 0, x: this.button.x + 150 },
                    1e3,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                    100,
                  );
              },
            },
            {
              key: 'goToMainMenu',
              value() {
                const t = this;
                return Promise.resolve()
                  .then(this.disableControls.bind(this))
                  .then(this.startExitAnimation.bind(this))
                  .then(this.fadeOut.bind(this))
                  .then(() => {
                    t.game.state.start('mainmenu');
                  });
              },
            },
            {
              key: 'disableControls',
              value() {
                (this.button.filters = [this.filterGray]),
                (this.button.inputEnabled = !1);
              },
            },
            {
              key: 'startExitAnimation',
              value() {
                const t = this;
                return (
                  (this.exitAnimationStarted = !0),
                  new Promise(((e) => {
                    t.game.add
                      .tween(t.frame)
                      .to(
                        { alpha: 0, y: -500 },
                        500,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                      ),
                    t.game.add
                      .tween(t.button)
                      .to(
                        { alpha: 0, x: t.button.x + 150 },
                        750,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                      )
                      .onComplete.add(e);
                  }))
                );
              },
            },
            {
              key: 'selectTab',
              value(t) {
                this.tabs.forEach(e => (e === t ? e.show() : e.hide())),
                this.tabButtons.forEach(t => t.unselect());
                const e = this.tabs.indexOf(t);
                this.tabButtons[e].select();
              },
            },
            {
              key: 'fadeIn',
              value() {
                const t = this;
                return new Promise(((e) => {
                  (t.stage.alpha = 1),
                  t.game.add
                    .tween(t.stage)
                    .from(
                      { alpha: 0 },
                      250,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                    )
                    .onComplete.addOnce(e);
                }));
              },
            },
            {
              key: 'fadeOut',
              value() {
                const t = this;
                return new Promise(((e) => {
                  t.game.add
                    .tween(t.stage)
                    .to({ alpha: 0 }, 500, Phaser.Easing.Exponential.InOut, !0)
                    .onComplete.add(() => {
                      t.tearDown(), e();
                    });
                }));
              },
            },
            {
              key: 'onEndScene',
              value() {
                this.goToMainMenu();
              },
            },
            { key: 'tearDown', value() {} },
          ]),
          e
        );
      }(A.default));
    e.default = j;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(106),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = (function (t) {
        function e() {
          n(this, e);
          const t = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return t.setName('summary.tabs.economy'), t.addCategories(), t;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'addCategories',
              value() {
                const t = 'summary.economy.';
                this.addCategory(`${t}titanium`, this.getTitanium.bind(this)),
                this.addCategory(`${t}silicium`, this.getSilicium.bind(this)),
                this.addCategory(`${t}uranium`, this.getUranium.bind(this)),
                this.addCategory(`${t}energy`, this.getEnergy.bind(this)),
                this.addCategory(`${t}spent`, this.getSpent.bind(this));
              },
            },
            {
              key: 'getTitanium',
              value(t) {
                return { value: t.getTitanium(), bangUp: !0 };
              },
            },
            {
              key: 'getSilicium',
              value(t) {
                return { value: t.getSilicium(), bangUp: !0 };
              },
            },
            {
              key: 'getUranium',
              value(t) {
                return { value: t.getUranium(), bangUp: !0 };
              },
            },
            {
              key: 'getEnergy',
              value(t) {
                return { value: t.getEnergy(), bangUp: !0 };
              },
            },
            {
              key: 'getSpent',
              value(t) {
                return { value: t.getSpent(), bangUp: !0 };
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = l;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(180),
      l = n(u),
      c = i(106),
      h = n(c),
      d = (function (t) {
        function e() {
          r(this, e);
          const t = a(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return t.setName('summary.tabs.history'), t.addCategories(), t;
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'addCategories',
              value() {
                const t = 'summary.history.';
                this.addCategory(
                  `${t}firstmilitaryunit`,
                  this.getFirstMilitaryUnit.bind(this),
                ),
                this.addCategory(
                  `${t}firstmilitaryconflict`,
                  this.getFirstMilitaryConflict.bind(this),
                ),
                this.addCategory(
                  `${t}mostsuccessfulmilitaryunit`,
                  this.getMostSuccessfulMilitaryUnit.bind(this),
                ),
                this.addCategory(
                  `${t}superweapon`,
                  this.getSuperWeapon.bind(this),
                );
              },
            },
            {
              key: 'getFirstMilitaryUnit',
              value(t) {
                let e = t.getFirstMilitaryUnitInfo(),
                  i = e.id,
                  n = e.time,
                  r = l.default
                    .utc(l.default.duration(1e3 * n, 'ms').asMilliseconds())
                    .format('HH:mm:ss'),
                  a = this.techManager.getTranslationKey(i),
                  o = this.translator.translate(a),
                  s = `${o}\n(${r})`;
                return (s && i) || (s = 'N/A'), { value: s };
              },
            },
            {
              key: 'getFirstMilitaryConflict',
              value(t) {
                let e = t.getFirstMilitaryConflict(),
                  i = void 0;
                return (
                  (i =
                    e > 0
                      ? l.default
                        .utc(l.default.duration(1e3 * e, 'ms').asMilliseconds())
                        .format('HH:mm:ss')
                      : 'N/A'),
                  { value: i }
                );
              },
            },
            {
              key: 'getMostSuccessfulMilitaryUnit',
              value(t) {
                let e = t.getMostSuccessfulMilitaryUnitInfo(),
                  i = e.id,
                  n = e.count,
                  r = this.techManager.getTranslationKey(i),
                  a = this.translator.translate(r),
                  o = n,
                  s = `${a}\n({0} kills)`;
                return (
                  (o && i) || (s = 'N/A'), { value: o, bangUp: !0, template: s }
                );
              },
            },
            {
              key: 'getSuperWeapon',
              value(t) {
                return { value: 'N/A', time: t.getSuperWeaponTime() };
              },
            },
          ]),
          e
        );
      }(h.default));
    e.default = d;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(106),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = (function (t) {
        function e() {
          n(this, e);
          const t = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return t.setName('summary.tabs.military'), t.addCategories(), t;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'addCategories',
              value() {
                const t = 'summary.military.';
                this.addCategory(
                  `${t}unitsproduced`,
                  this.getUnitsProduced.bind(this),
                ),
                this.addCategory(
                  `${t}buildingsconstructed`,
                  this.getBuildingsConstructed.bind(this),
                ),
                this.addCategory(
                  `${t}unitsdestroyed`,
                  this.getUnitsKilled.bind(this),
                ),
                this.addCategory(
                  `${t}buildingsdestroyed`,
                  this.getBuildingsDestroyed.bind(this),
                ),
                this.addCategory(
                  `${t}favouriteunit`,
                  this.getFavouriteUnit.bind(this),
                );
              },
            },
            {
              key: 'getUnitsProduced',
              value(t) {
                return { value: t.getUnitsProduced(), bangUp: !0 };
              },
            },
            {
              key: 'getBuildingsConstructed',
              value(t) {
                return { value: t.getBuildingsConstructed(), bangUp: !0 };
              },
            },
            {
              key: 'getUnitsKilled',
              value(t) {
                return { value: t.getUnitsKilled(), bangUp: !0 };
              },
            },
            {
              key: 'getBuildingsDestroyed',
              value(t) {
                return { value: t.getBuildingsDestroyed(), bangUp: !0 };
              },
            },
            {
              key: 'getFavouriteUnit',
              value(t) {
                let e = t.getFavouriteUnitInfo(),
                  i = e.id,
                  n = e.count,
                  r = this.techManager.getTranslationKey(i),
                  a = this.translator.translate(r),
                  o = n,
                  s = `${a}\n({0})`;
                return (
                  (o && i) || (s = 'N/A'), { value: o, bangUp: !0, template: s }
                );
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = l;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(106),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = (function (t) {
        function e() {
          n(this, e);
          const t = r(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return t.setName('summary.tabs.overview'), t.addCategories(), t;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'addCategories',
              value() {
                const t = 'summary.overview.';
                this.addCategory(
                  `${t}mapexplored`,
                  this.getMapExplored.bind(this),
                ),
                this.addCategory(
                  `${t}hotkeyspressed`,
                  this.getHotKeysPressed.bind(this),
                ),
                this.addCategory(`${t}apm`, this.getAPM.bind(this)),
                this.addCategory(
                  `${t}totaleconomy`,
                  this.getTotalEconomy.bind(this),
                ),
                this.addCategory(
                  `${t}totalmilitary`,
                  this.getTotalMilitary.bind(this),
                );
              },
            },
            {
              key: 'getMapExplored',
              value(t) {
                let e = t.getMapExplored(),
                  i = '{0}%';
                return e || (i = 'N/A'), { value: e, bangUp: !0, template: i };
              },
            },
            {
              key: 'getHotKeysPressed',
              value(t) {
                return { value: t.getHotKeysPressed(), bangUp: !0 };
              },
            },
            {
              key: 'getAPM',
              value(t) {
                return { value: t.getAPM(), bangUp: !0 };
              },
            },
            {
              key: 'getTotalEconomy',
              value(t) {
                return { value: t.getTotalEconomy(), bangUp: !0 };
              },
            },
            {
              key: 'getTotalMilitary',
              value(t) {
                return { value: t.getTotalMilitary(), bangUp: !0 };
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = l;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          let i = [],
            n = !0,
            r = !1,
            a = void 0;
          try {
            for (
              var o, s = t[Symbol.iterator]();
              !(n = (o = s.next()).done) &&
              (i.push(o.value), !e || i.length !== e);
              n = !0
            );
          } catch (t) {
            (r = !0), (a = t);
          } finally {
            try {
              !n && s.return && s.return();
            } finally {
              if (r) throw a;
            }
          }
          return i;
        }
        return function (e, i) {
          if (Array.isArray(e)) return e;
          if (Symbol.iterator in Object(e)) return t(e, i);
          throw new TypeError('Invalid attempt to destructure non-iterable instance');
        };
      }()),
      s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      l = i(2),
      c = u({}, l.MENU_FONT, { fontSize: '18px', fill: '#71caca' }),
      h = (function (t) {
        function e(t) {
          n(this, e);
          let i = o(Phaser.GAMES, 1),
            a = i[0],
            s = r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).call(this, a),
            );
          return s.addButton(t), s.addLabel(t), s.addEventListeners(t), s;
        }
        return (
          a(e, t),
          s(e, [
            {
              key: 'addButton',
              value(t) {
                const e = t.first;
                (this.button = this.game.add.sprite(0, 0, 'summary-elements')),
                (this.button.frameName =
                    `summary_button_topic${
                      e ? '_first' : ''
                    }_inactive.png`),
                this.button.anchor.set(0.5),
                (this.button.inputEnabled = !0),
                this.add(this.button);
              },
            },
            {
              key: 'addLabel',
              value(t) {
                const e = t.label;
                (this.text = this.game.add.text(
                  0,
                  0,
                  e,
                  u({}, c, { wordWrapWidth: this.button.width }),
                )),
                this.text.anchor.set(0.5),
                this.add(this.text);
              },
            },
            {
              key: 'addEventListeners',
              value(t) {
                const e = t.onClick;
                this.button.events.onInputDown.add(this.select, this),
                this.button.events.onInputOver.add(this.onOver, this),
                this.button.events.onInputOut.add(this.onOut, this),
                this.button.events.onInputDown.add(e);
              },
            },
            {
              key: 'select',
              value() {
                (this.selected = !0),
                (this.button.frameName = this.button.frameName
                  .toString()
                  .replace('_inactive', '_active'));
              },
            },
            {
              key: 'unselect',
              value() {
                (this.selected = !1),
                (this.button.frameName = this.button.frameName
                  .toString()
                  .replace('_active', '_inactive'));
              },
            },
            {
              key: 'onOver',
              value() {
                this.selected || this.text.addColor('#ffffff', 0);
              },
            },
            {
              key: 'onOut',
              value() {
                this.text.addColor('#71caca', 0);
              },
            },
          ]),
          e
        );
      }(Phaser.Group));
    e.default = h;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(2),
      l = i(200),
      c = n(l),
      h = i(136),
      d = n(h),
      f = i(49),
      p = n(f),
      g = i(7),
      y = n(g),
      v = `${u.PUBLIC_URL}assets/videos`,
      m = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'create',
              value() {
                this.createStage(), this.createFullScreenPopup();
              },
            },
            {
              key: 'createStage',
              value() {
                this.stage = this.game.add.group();
              },
            },
            {
              key: 'createFullScreenPopup',
              value() {
                let t = this,
                  e = y.default.getInstance();
                (this.fullScreenPopup = new c.default({
                  overlay: !0,
                  noAudio: !0,
                  textOffsetY: -50,
                  text: e.translate('framework.question.fullscreen'),
                  okLabel: e.translate('framework.yes').toLocaleUpperCase(),
                  cancelLabel: e.translate('framework.no').toLocaleUpperCase(),
                  onOK() {
                    d.default.getInstance().activateFullScreen(t.game),
                    t.createAndStartVideo();
                  },
                  onCancel() {
                    t.createAndStartVideo();
                  },
                })),
                this.fullScreenPopup.show(),
                this.stage.add(this.fullScreenPopup);
              },
            },
            {
              key: 'createAndStartVideo',
              value() {
                let t = this,
                  e = `${v}/webellion_logo_HD.mp4`;
                (this.video = new Phaser.Video(this.game, null, e)),
                this.video.play(),
                this.video.addToWorld(),
                this.video.onComplete.add(() => t.goToMenu());
              },
            },
            {
              key: 'goToMenu',
              value() {
                const t = this;
                return Promise.resolve()
                  .then(this.fadeOut.bind(this))
                  .then(this.stopVideo.bind(this))
                  .then(() => {
                    t.game.state.start('menu-preloader');
                  });
              },
            },
            {
              key: 'fadeOut',
              value() {
                const t = this;
                return new Promise(((e) => {
                  t.game.add
                    .tween(t.stage)
                    .to({ alpha: 0 }, 500, Phaser.Easing.Exponential.InOut, !0)
                    .onComplete.add(e);
                }));
              },
            },
            {
              key: 'stopVideo',
              value() {
                this.video.stop();
              },
            },
          ]),
          e
        );
      }(p.default));
    e.default = m;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(8),
      c = n(l),
      h = i(200),
      d = n(h),
      f = i(72),
      p = n(f),
      g = i(640),
      y = n(g),
      v = i(135),
      m = n(v),
      b = i(185),
      _ = n(b),
      w = i(143),
      x = n(w),
      P = i(49),
      k = n(P),
      T = i(45),
      O = n(T),
      E = i(7),
      S = n(E),
      C = window.fivenations,
      I = [
        {
          title: 'Chapter 0',
          subtitle: 'Calm before the storm',
          labelSprite: 'chapter-selector',
          labelFrameName: 'chapter_selector_chapter_card00.png',
          onClick(t) {
            return t.switchToMissions();
          },
        },
        {
          title: 'Chapter 1',
          subtitle: 'Are we alone?',
          releaseDate: 'August 2019',
          preOrder: !0,
          labelSprite: 'chapter-selector',
          labelFrameName: 'chapter_selector_chapter_card01.png',
          onClick(t) {
            window.open(
              'http://fivenations.webellionlimited.com',
              '_blank',
              'width=1024,height=768',
            );
          },
        },
        {
          title: 'Chapter 2',
          labelSprite: 'chapter-selector',
          labelFrameName: 'chapter_selector_chapter_card02.png',
          disabled: !0,
        },
        {
          title: 'Chapter 3',
          labelSprite: 'chapter-selector',
          labelFrameName: 'chapter_selector_chapter_card02.png',
          disabled: !0,
        },
        {
          title: 'Chapter 4',
          labelSprite: 'chapter-selector',
          labelFrameName: 'chapter_selector_chapter_card02.png',
          disabled: !0,
        },
        {
          title: 'Chapter 5',
          labelSprite: 'chapter-selector',
          labelFrameName: 'chapter_selector_chapter_card02.png',
          disabled: !0,
        },
      ],
      M = [
        { label: 'Mission 1', script: 'prequel-mission1', prerequisite: null },
        {
          label: 'Mission 2',
          script: 'prequel-mission2',
          prerequisite: 'prequel-mission1',
        },
        {
          label: 'Mission 3',
          script: 'prequel-mission3',
          prerequisite: 'prequel-mission2',
        },
        {
          label: 'Mission 4',
          script: 'prequel-mission4',
          prerequisite: 'prequel-mission3',
        },
        {
          label: 'Mission 5',
          script: 'prequel-mission5',
          prerequisite: 'prequel-mission4',
        },
      ],
      A = (function (t) {
        function e() {
          r(this, e);
          const t = a(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
          return (
            (t.missionButtons = []),
            (t.chapterButtons = []),
            (t.filterGray = new p.default(t.game)),
            t
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'create',
              value() {
                this.initAudio(),
                this.initTranslationManager(),
                this.createStage(),
                this.createBackground(),
                this.createBackgroundAnimations(),
                this.orderBackgroundElements(),
                this.createHeader(),
                this.createWebellionLogo(),
                this.createChapterButtons(),
                this.createPrequelMissionButtons(),
                this.createBackButton(),
                this.createSkipProloguePopup(),
                this.createInDevCautionPopup(),
                this.createPreorderPopup(),
                this.startEntryAnimation(),
                this.startBackgroundMusic(),
                this.startPhantomLoader(),
                this.executeOnCreate();
              },
            },
            {
              key: 'initAudio',
              value() {
                c.default.setGame(this.game),
                (this.audioManager = c.default.getInstance()),
                this.audioManager.loadAudioSprite('menu');
              },
            },
            {
              key: 'initTranslationManager',
              value() {
                this.translator = S.default.getInstance();
              },
            },
            {
              key: 'createStage',
              value() {
                this.stage = this.game.add.group();
              },
            },
            {
              key: 'createBackground',
              value() {
                (this.backgroundLayers = []),
                (this.backgroundGodLight = this.game.add.image(
                  626,
                  385,
                  'menu-layer-4',
                )),
                this.backgroundLayers.push(this.game.add.image(604, 385, 'menu-layer-1')),
                this.backgroundLayers.push(this.game.add.image(626, 385, 'menu-layer-2')),
                this.backgroundLayers.push(this.game.add.image(626, 385, 'menu-layer-3')),
                this.backgroundLayers.push(this.backgroundGodLight),
                this.backgroundLayers.push(this.game.add.image(668, 385, 'menu-layer-5')),
                this.backgroundLayers.push(this.game.add.image(693, 385, 'menu-layer-6')),
                this.backgroundLayers.forEach((t) => {
                  t.anchor.set(0.5);
                });
              },
            },
            {
              key: 'createBackgroundAnimations',
              value() {
                (this.backgroundAnimations = []),
                this.backgroundAnimations.push(this.game.add.sprite(672, 360, 'menu-effect-dust-loop')),
                this.backgroundAnimations.push(this.game.add.sprite(672, 420, 'menu-effect-smoke-1')),
                this.backgroundAnimations.push(this.game.add.sprite(672, 420, 'menu-effect-smoke-2')),
                this.backgroundAnimations.forEach((t) => {
                  const e = t.animations.add('loop');
                  e.onComplete.add(() => {
                    setTimeout(() => e.play(20), 5e3 * Math.random());
                  }),
                  t.anchor.set(0.5);
                });
              },
            },
            {
              key: 'orderBackgroundElements',
              value() {
                this.stage.add(this.backgroundLayers[0]),
                this.stage.add(this.backgroundLayers[1]),
                this.stage.add(this.backgroundAnimations[0]),
                this.stage.add(this.backgroundAnimations[1]),
                this.stage.add(this.backgroundAnimations[2]),
                this.stage.add(this.backgroundLayers[2]),
                this.stage.add(this.backgroundLayers[3]),
                this.stage.add(this.backgroundLayers[4]),
                this.stage.add(this.backgroundLayers[5]);
              },
            },
            {
              key: 'createBackButton',
              value() {
                let t = this,
                  e = C.window.height;
                (this.backButton = this.game.add.sprite(0, e - 40, 'gui')),
                (this.backButton.frameName = 'XXXbtn_objectives_base.png'),
                (this.backButton.visible = !1),
                this.backButton.anchor.set(0.5),
                (this.backButton.inputEnabled = !0),
                (this.backButton.input.useHandCursor = !0);
                const i = this.game.add.text(10, 4, 'Back', {
                  font: '16px conthraxsemibold',
                  fill: '#000000',
                });
                i.anchor.set(0.5),
                this.backButton.addChild(i),
                this.backButton.events.onInputOver.add(() => {
                  t.audioManager.playAudioSprite({
                    sprite: 'menu',
                    marker: 'HUD_typewriter',
                  }),
                  (t.backButton.frameName =
                        'XXXbtn_objectives_onclick.png');
                }),
                this.backButton.events.onInputOut.add(() => {
                  t.backButton.frameName = 'XXXbtn_objectives_base.png';
                }),
                this.backButton.events.onInputDown.add(() => t.switchToChapters());
              },
            },
            {
              key: 'createHeader',
              value() {
                (this.header = new y.default(this.game)),
                this.stage.add(this.header);
              },
            },
            {
              key: 'createChapterButtons',
              value() {
                const t = this;
                I.forEach((e, i) => t.createChapterButton(s({ x: 200, y: 100 + 95 * i }, e)));
              },
            },
            {
              key: 'createChapterButton',
              value(t) {
                let e = this,
                  i = t.title,
                  n = t.subtitle,
                  r = t.releaseDate,
                  a = t.disabled,
                  o = t.labelSprite,
                  s = t.labelFrameName,
                  u = t.preOrder,
                  l = t.onClick,
                  c = t.x,
                  h = t.y,
                  d = function () {
                    e.audioManager.playAudioSprite({
                      sprite: 'menu',
                      marker: 'button-onclick',
                    }),
                    l && typeof l === 'function' && l(e);
                  },
                  f = void 0,
                  p = void 0,
                  g = this.game.add.sprite(0, 0, o);
                if (
                  ((g.frameName = s),
                  g.anchor.set(0.5),
                  a || ((g.inputEnabled = !0), (g.input.useHandCursor = !0)),
                  u)
                ) {
                  const y = this.game.add.sprite(84, -30, o);
                  (y.frameName = 'chapter_selector_preorder.png'),
                  g.addChild(y);
                }
                if (a) {
                  const v = this.game.add.sprite(0, 0, o);
                  (v.frameName = 'chapter_selector_locked.png'),
                  v.anchor.set(0.5),
                  g.addChild(v),
                  (g.filters = [this.filterGray]);
                }
                const m = this.game.add.text(-150, -30, i, {
                  font: '25px conthraxsemibold',
                  fill: '#99eded',
                  wordWrap: !0,
                  align: 'left',
                  wordWrapWidth: g.width,
                });
                m.setShadow(3, 3, 'rgba(0,0,0,0.85)', 5), g.addChild(m);
                const b = this.game.add.text(-150, 2, n, {
                  font: '16px conthraxsemibold',
                  fill: '#ffffff',
                  wordWrap: !0,
                  align: 'left',
                  wordWrapWidth: g.width,
                });
                b.setShadow(3, 3, 'rgba(0,0,0,0.85)', 5), g.addChild(b);
                const _ = this.game.add.text(-57, 23, r, {
                  font: '14px conthraxsemibold',
                  fill: '#ffaaff',
                  wordWrap: !0,
                  align: 'left',
                  wordWrapWidth: g.width,
                });
                _.setShadow(3, 3, 'rgba(0,0,0,1)', 5), g.addChild(_);
                let w = c + g.width / 2,
                  x = h + g.height / 2;
                return (
                  (g.x = w),
                  (g.y = x),
                  g.events.onInputOver.add(() => {
                    e.audioManager.playAudioSprite({
                      sprite: 'menu',
                      marker: 'HUD_typewriter',
                    }),
                    m.clearColors(),
                    m.addColor('#ffffff', 0),
                    b.clearColors(),
                    b.addColor('#ffaa78', 0),
                    f && f.stop(),
                    (p = e.game.add
                      .tween(g)
                      .to(
                        { x: c + 50 },
                        250,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                      ));
                  }),
                  g.events.onInputOut.add(() => {
                    m.clearColors(),
                    m.addColor('#99eded', 0),
                    b.clearColors(),
                    b.addColor('#ffffff', 0),
                    p && p.stop(),
                    (f = e.game.add
                      .tween(g)
                      .to(
                        { x: c },
                        250,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                      ));
                  }),
                  g.events.onInputDown.add(d),
                  (g.visible = !1),
                  this.stage.add(g),
                  this.chapterButtons.push(g),
                  g
                );
              },
            },
            {
              key: 'createPrequelMissionButtons',
              value() {
                const t = this;
                M.forEach((e, i) => {
                  let n = e.label,
                    r = e.script,
                    a = e.prerequisite,
                    o = t.createMissionButton({
                      x: 200,
                      y: 150 + 100 * i,
                      label: n,
                      script: r,
                    });
                  C.unlockMissions ||
                    !a ||
                    localStorage.getItem(a) ||
                    ((o.filters = [t.filterGray]), (o.inputEnabled = !1));
                });
              },
            },
            {
              key: 'createMissionButton',
              value(t) {
                let e = this,
                  i = t.script,
                  n = function () {
                    e.audioManager.playAudioSprite({
                      sprite: 'menu',
                      marker: 'button-onclick',
                    }),
                    i === 'prequel-mission1'
                      ? (e.showProloguePopup.show(),
                      e.showProloguePopup.once('dismiss', () => e.startGame(i)))
                      : e.startGame(i);
                  },
                  r = this.game.add.button(
                    0,
                    0,
                    'mainmenu-elements',
                    n,
                    this,
                    'mainmenu_01campaign_chapterframe_comingsoong.png',
                    'mainmenu_01campaign_chapterframe.png',
                    'mainmenu_01campaign_chapterframe_comingsoong.png',
                  );
                r.anchor.set(0.5);
                const a = this.game.add.text(0, 5, t.label || 'Play Demo', {
                  font: '25px conthraxsemibold',
                  fill: '#99eded',
                  boundsAlignH: 'center',
                  wordWrap: !0,
                  align: 'center',
                  wordWrapWidth: r.width,
                });
                return (
                  a.anchor.set(0.5),
                  (r.x = t.x + r.width / 2),
                  (r.y = t.y + r.height / 2),
                  r.addChild(a),
                  (r.visible = !1),
                  this.stage.add(r),
                  this.missionButtons.push(r),
                  r
                );
              },
            },
            {
              key: 'createWebellionLogo',
              value() {
                (this.companyLogo = this.createElement({
                  id: 'mainmenu_logo_webellion.png',
                })),
                (this.companyLogo.x =
                    C.window.width - this.companyLogo.width - 25),
                (this.companyLogo.y =
                    C.window.height - this.companyLogo.height - 25),
                this.stage.add(this.companyLogo);
              },
            },
            {
              key: 'createInDevCautionPopup',
              value() {
                const t = this;
                (this.inDevCationPopup = new x.default({
                  spritesheet: 'popup-indev-caution',
                  imageOnly: !0,
                  overlay: !0,
                  buttonLabel: 'OK',
                  buttonOffsetY: 38,
                  onClick() {
                    localStorage.setItem('popup-indev-caution', !0),
                    t.inDevCationPopup.hide({ alpha: 0, y: -200 });
                  },
                })),
                (this.inDevCationPopup.visible = !1),
                this.stage.add(this.inDevCationPopup);
              },
            },
            {
              key: 'createPreorderPopup',
              value() {
                const t = this;
                (this.preorderPopup = new x.default({
                  overlay: !0,
                  text: 'Visit our official website to Pre-order this Chapter!',
                  textOffsetY: -50,
                  buttonLabel: 'OK',
                  onClick() {
                    return t.preorderPopup.hide({ alpha: 0, y: -200 });
                  },
                })),
                (this.preorderPopup.visible = !1),
                this.stage.add(this.preorderPopup);
              },
            },
            {
              key: 'createSkipProloguePopup',
              value() {
                const t = this;
                (this.showProloguePopup = new d.default({
                  overlay: !0,
                  textOffsetY: -50,
                  text: this.translator.translate('framework.question.skipprologue'),
                  okLabel: this.translator
                    .translate('framework.yes')
                    .toLocaleUpperCase(),
                  cancelLabel: this.translator
                    .translate('framework.skip')
                    .toLocaleUpperCase(),
                  onOK() {
                    t.showPrologue = !0;
                  },
                  onCancel() {
                    t.showPrologue = !1;
                  },
                })),
                (this.showProloguePopup.visible = !1),
                this.stage.add(this.showProloguePopup);
              },
            },
            {
              key: 'startBackgroundMusic',
              value() {
                m.default.setGame(this.game);
                const t = m.default.getInstance();
                setTimeout(() => {
                  t.playMusic('main-menu', 0.45);
                }, 2e3);
              },
            },
            {
              key: 'startPhantomLoader',
              value() {
                _.default.getInstance().start();
              },
            },
            {
              key: 'startEntryAnimation',
              value() {
                const t = this;
                (this.introAudio = this.audioManager.playAudioSprite({
                  sprite: 'menu',
                  marker: 'main-menu-intro',
                })),
                this.introAudio.fadeOut(7e3),
                (this.stage.alpha = 1),
                this.game.add
                  .tween(this.stage)
                  .from({ alpha: 0 }, 250, Phaser.Easing.Linear.None, !0),
                this.game.add
                  .tween(this.companyLogo)
                  .from(
                    { alpha: 0 },
                    1e3,
                    Phaser.Easing.Linear.None,
                    !0,
                    2e3,
                  ),
                this.backgroundLayers.forEach((e) => {
                  t.game.add
                    .tween(e)
                    .to({ x: 594 }, 3e3, Phaser.Easing.Quadratic.Out, !0);
                }),
                this.backgroundAnimations.forEach((e) => {
                  t.game.add
                    .tween(e)
                    .to({ x: 640 }, 3e3, Phaser.Easing.Quadratic.Out, !0);
                }),
                this.backgroundAnimations.forEach((t, e) => {
                  e === 0
                    ? t.animations.play('loop', 20, !0)
                    : setTimeout(() => t.animations.play('loop', 20), 5e3 * Math.random());
                }),
                !(function e() {
                  t.game.add
                    .tween(t.backgroundGodLight)
                    .to(
                      { alpha: 0.4 * Math.random() + 0.6 },
                      100,
                      Phaser.Easing.Linear.None,
                      !0,
                    )
                    .onComplete.add(e.bind(t));
                }()),
                this.header.getButtons().forEach((e, i) => {
                  t.game.add
                    .tween(e)
                    .from(
                      { alpha: 0, y: -200 },
                      1e3,
                      Phaser.Easing.Exponential.InOut,
                      !0,
                      250 + 100 * i,
                    );
                }),
                localStorage.getItem('main-menu-missions-open')
                  ? (this.slideButtonsIn(this.missionButtons),
                  this.showBackButton())
                  : this.slideButtonsIn(this.chapterButtons),
                localStorage.getItem('popup-indev-caution') ||
                    this.wait(3e3).then(() => t.inDevCationPopup.show({ alpha: 0, y: -200 }));
              },
            },
            {
              key: 'slideButtonsIn',
              value(t) {
                const e = this;
                return t.reduce((t, i, n) => {
                  (i.visible = !0), (i.alpha = 1), (i.x = 200);
                  const r = new Promise(((t) => {
                    e.game.add
                      .tween(i)
                      .from(
                        { alpha: 0, x: -200 },
                        350,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                        50 * n,
                      )
                      .onComplete.add(t);
                  }));
                  return t.then(() => r);
                }, Promise.resolve());
              },
            },
            {
              key: 'slideButtonsOut',
              value(t) {
                const e = this;
                return t.reverse().reduce((t, i, n) => {
                  const r = new Promise(((t) => {
                    e.game.add
                      .tween(i)
                      .to(
                        { alpha: 0, x: -200 },
                        350,
                        Phaser.Easing.Exponential.InOut,
                        !0,
                        50 * n,
                      )
                      .onComplete.add(() => {
                        (i.visible = !1), t();
                      });
                  }));
                  return t.then(() => r);
                }, Promise.resolve());
              },
            },
            {
              key: 'startGame',
              value(t) {
                const e = this;
                return Promise.resolve()
                  .then(this.disableControls.bind(this))
                  .then(this.startExitAnimation.bind(this))
                  .then(this.fadeOut.bind(this))
                  .then(this.stopMusic.bind(this))
                  .then(() => {
                    const i = e.getNextSceneByScript(t);
                    e.game.state.start(i),
                    O.default.getInstance().setCurrentScript(t);
                  });
              },
            },
            {
              key: 'getNextSceneByScript',
              value(t) {
                return t === 'prequel-mission1' && this.showPrologue
                  ? 'game-prologue'
                  : 'game-premission';
              },
            },
            {
              key: 'disableControls',
              value() {
                const t = this;
                this.missionButtons.forEach((e) => {
                  (e.filters = [t.filterGray]), (e.inputEnabled = !1);
                }),
                this.header.disable();
              },
            },
            {
              key: 'enableControls',
              value() {
                this.missionButtons.forEach((t) => {
                  (t.filters = null), (t.inputEnabled = !0);
                }),
                this.header.enable();
              },
            },
            {
              key: 'switchToMissions',
              value() {
                return (
                  localStorage.setItem('main-menu-missions-open', !0),
                  this.resetButtonTweens(),
                  Promise.resolve()
                    .then(this.slideButtonsOut.bind(this, this.chapterButtons))
                    .then(this.slideButtonsIn.bind(this, this.missionButtons))
                    .then(this.showBackButton.bind(this))
                );
              },
            },
            {
              key: 'switchToChapters',
              value() {
                return (
                  localStorage.setItem('main-menu-missions-open', !1),
                  this.resetButtonTweens(),
                  Promise.resolve()
                    .then(this.hideBackButton.bind(this))
                    .then(this.slideButtonsOut.bind(this, this.missionButtons))
                    .then(this.slideButtonsIn.bind(this, this.chapterButtons))
                );
              },
            },
            {
              key: 'resetButtonTweens',
              value() {
                this.game.tweens.removeAll();
              },
            },
            {
              key: 'showBackButton',
              value() {
                (this.backButton.visible = !0),
                (this.backButton.alpha = 1),
                (this.backButton.x = 100),
                this.game.add
                  .tween(this.backButton)
                  .from(
                    { alpha: 0, x: -100 },
                    250,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                  );
              },
            },
            {
              key: 'hideBackButton',
              value() {
                const t = this;
                this.game.add
                  .tween(this.backButton)
                  .to(
                    { alpha: 0, x: -100 },
                    250,
                    Phaser.Easing.Exponential.InOut,
                    !0,
                  )
                  .onComplete.add(() => {
                    t.backButton.visible = !1;
                  });
              },
            },
            {
              key: 'showPreorderPopup',
              value() {
                this.preorderPopup.show({ alpha: 1, y: -200 });
              },
            },
            {
              key: 'changeMissionButtonsVisibility',
              value(t) {
                this.missionButtons.forEach((e) => {
                  e.visible = t;
                });
              },
            },
            {
              key: 'startExitAnimation',
              value() {
                return this.slideButtonsOut(this.missionButtons);
              },
            },
            {
              key: 'fadeOut',
              value() {
                const t = this;
                return new Promise(((e) => {
                  t.game.add
                    .tween(t.stage)
                    .to({ alpha: 0 }, 500, Phaser.Easing.Exponential.InOut, !0)
                    .onComplete.add(e);
                }));
              },
            },
            {
              key: 'stopMusic',
              value() {
                return (
                  this.introAudio.stop(), m.default.getInstance().stopMusic()
                );
              },
            },
            {
              key: 'createElement',
              value(t) {
                let e = t.x,
                  i = t.y,
                  n = t.id,
                  r = this.game.add.sprite(e || 0, i || 0, 'mainmenu-elements');
                return (r.frameName = n), r;
              },
            },
          ]),
          e
        );
      }(k.default));
    e.default = A;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t) {
      c.default.load(t);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(650),
      c = n(l),
      h = i(49),
      d = n(h),
      f = window.fivenations,
      p = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'preload',
              value() {
                const t = this;
                this.createStage(),
                this.createBackground(),
                this.createComponents();
                let e = new Promise((t => setTimeout(t, 3e3))),
                  i = new Promise((e => t.load.onLoadComplete.addOnce(e))),
                  n = this.startEntryAnimation();
                s(this.load),
                Promise.all([i, n, e]).then(this.onLoadComplete.bind(this));
              },
            },
            {
              key: 'createStage',
              value() {
                this.stage = this.game.add.group();
              },
            },
            {
              key: 'createBackground',
              value() {
                let t = f.window,
                  e = t.width,
                  i = t.height,
                  n = e / 2,
                  r = i / 2;
                (this.background = this.game.add.image(
                  n,
                  r,
                  'main-loading-screen',
                )),
                this.background.anchor.set(0.5),
                this.stage.add(this.background);
              },
            },
            {
              key: 'createComponents',
              value() {
                let t = f.window,
                  e = t.width,
                  i = t.height,
                  n = e / 2;
                (this.header = this.game.add.sprite(
                  n,
                  0,
                  'main-loading-screen-components',
                )),
                this.header.anchor.set(0.5, 0),
                (this.header.frameName = 'loading_border_top.png'),
                this.stage.add(this.header),
                (this.footer = this.game.add.sprite(
                  n,
                  i,
                  'main-loading-screen-components',
                )),
                this.footer.anchor.set(0.5, 1),
                (this.footer.frameName = 'loading_border_bottom.png'),
                this.stage.add(this.footer),
                (this.title = this.game.add.sprite(
                  n,
                  40,
                  'main-loading-screen-components',
                )),
                this.title.anchor.set(0.5, 0.5),
                (this.title.frameName = 'loading_logo.png'),
                this.stage.add(this.title),
                (this.webellionLogo = this.game.add.sprite(
                  25,
                  i - 25,
                  'main-loading-screen-components',
                )),
                this.webellionLogo.anchor.set(0, 1),
                (this.webellionLogo.frameName = 'loading_logo_webellion.png'),
                this.stage.add(this.webellionLogo),
                (this.pegiLogo = this.game.add.sprite(
                  e - 25,
                  i - 25,
                  'main-loading-screen-components',
                )),
                this.pegiLogo.anchor.set(1, 1),
                (this.pegiLogo.frameName = 'loading_pegi12.png'),
                this.stage.add(this.pegiLogo),
                (this.subtitle = this.game.add.sprite(
                  n,
                  i - 10,
                  'main-loading-screen-components',
                )),
                this.subtitle.anchor.set(0.5, 1),
                (this.subtitle.frameName = 'loading_subtitle.png'),
                this.stage.add(this.subtitle);
              },
            },
            {
              key: 'startEntryAnimation',
              value() {
                const t = this;
                return new Promise(((e) => {
                  t.game.add
                    .tween(t.header)
                    .from(
                      { alpha: 0, y: -100 },
                      500,
                      Phaser.Easing.Quadratic.InOut,
                      !0,
                    ),
                  t.game.add
                    .tween(t.footer)
                    .from(
                      { alpha: 0, y: t.footer.y + 100 },
                      500,
                      Phaser.Easing.Quadratic.InOut,
                      !0,
                    ),
                  t.game.add
                    .tween(t.title)
                    .from(
                      { alpha: 0 },
                      250,
                      Phaser.Easing.Quadratic.InOut,
                      !0,
                      300,
                    ),
                  t.game.add
                    .tween(t.subtitle)
                    .from(
                      { alpha: 0 },
                      1e3,
                      Phaser.Easing.Quadratic.InOut,
                      !0,
                      500,
                    ),
                  t.game.add
                    .tween(t.webellionLogo)
                    .from(
                      { alpha: 0, x: t.webellionLogo.x - 50 },
                      1e3,
                      Phaser.Easing.Quadratic.InOut,
                      !0,
                      700,
                    ),
                  t.game.add
                    .tween(t.pegiLogo)
                    .from(
                      { alpha: 0, x: t.pegiLogo.x + 50 },
                      1e3,
                      Phaser.Easing.Quadratic.InOut,
                      !0,
                      700,
                    )
                    .onComplete.addOnce(e);
                }));
              },
            },
            {
              key: 'onLoadComplete',
              value() {
                let t = 'mainmenu';
                f.skipScenes && (t = 'game-preloader'),
                this.game.state.start(t);
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = p;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let r = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      a = i(2),
      o = i(14),
      s = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(o)),
      u = (function () {
        function t(e, i) {
          n(this, t), this.initialise(e, i);
        }
        return (
          r(t, [
            {
              key: 'initialise',
              value(t) {
                const e =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : a.DEFAULT_STARFIELD_BACKGROUND_TILE;
                this.setGame(t), this.setGroup(), this.setTile(e);
              },
            },
            {
              key: 'setGame',
              value(t) {
                this.game = t.getGame();
              },
            },
            {
              key: 'setGroup',
              value() {
                this.group = s.default.getInstance().getGroup('starfield');
              },
            },
            {
              key: 'setTile',
              value(t) {
                this.background && this.remove(),
                (this.background = this.game.add.tileSprite(
                  0,
                  0,
                  a.DEFAULT_CANVAS_WIDTH,
                  a.DEFAULT_CANVAS_HEIGHT,
                  t,
                )),
                (this.background.fixedToCamera = !0),
                this.group.add(this.background);
              },
            },
            {
              key: 'update',
              value() {
                (this.background.tilePosition.x = 0.1 * -this.game.camera.x),
                (this.background.tilePosition.y = 0.1 * -this.game.camera.y);
              },
            },
            {
              key: 'remove',
              value() {
                this.group.remove(this.background), this.background.destroy();
              },
            },
          ]),
          t
        );
      }());
    e.default = u;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(528),
      s = n(o),
      u = i(14),
      l = n(u),
      c = window.fivenations,
      h = (function () {
        function t(e, i) {
          r(this, t), this.initialise(e, i);
        }
        return (
          a(t, [
            {
              key: 'initialise',
              value(t) {
                const e =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : {};
                this.setGame(t), this.setGroup(), this.setCloud(e);
              },
            },
            {
              key: 'setGame',
              value(t) {
                this.game = t.getGame();
              },
            },
            {
              key: 'setGroup',
              value() {
                this.group = l.default.getInstance().getGroup('starfield');
              },
            },
            {
              key: 'setCloud',
              value(t) {
                (this.cloudFilter = new s.default()),
                t.cloudVelocity &&
                    this.cloudFilter.setVelocity(t.cloudVelocity),
                t.cloudDensity && this.cloudFilter.setDensity(t.cloudDensity),
                t.cloudColor && this.cloudFilter.setColor(t.cloudColor),
                (this.cloud = this.game.add.sprite()),
                (this.cloud.width = c.window.width),
                (this.cloud.height = c.window.height),
                (this.cloud.filters = [this.cloudFilter]),
                this.group.add(this.cloud);
              },
            },
            {
              key: 'update',
              value() {
                let t = 0,
                  e = 0;
                this.game.camera.previousPosition &&
                  ((t = this.this.game.camera.previousPosition.x),
                  (e = this.this.game.camera.previousPosition.y));
                let i = 0.001 * (this.game.camera.x - t),
                  n = 0.001 * -(this.game.camera.y - e);
                this.cloudFilter.setOffset(i, n),
                c.cloudColor && this.cloudFilter.setColor(c.cloudColor),
                c.cloudDensity && this.cloudFilter.setDensity(c.cloudDensity),
                c.cloudVelocity &&
                    this.cloudFilter.setVelocity(c.cloudVelocity),
                this.cloudFilter.update();
              },
            },
          ]),
          t
        );
      }());
    e.default = h;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(87),
      l = n(u),
      c = i(88),
      h = n(c),
      d = i(3),
      f = n(d),
      p = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'generate',
              value(t) {
                this.createClouds(t);
              },
            },
            {
              key: 'createClouds',
              value() {
                for (
                  let t =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : 1,
                    e = Math.floor(100 * t),
                    i = 0;
                  i < e;
                  i += 1
                ) { this.createRandomizedCloud(); }
              },
            },
            {
              key: 'createRandomizedCloud',
              value() {
                let t = this.deepSpaceLayer.getMap(),
                  e = f.default.rnd(1, 2),
                  i = this.deepSpaceLayer.getSprite(`starfield.clouds.bg.type-${e}`),
                  n = Math.min(
                    Math.random() + 0.1,
                    Math.random() > 0.5 ? 0.25 : 0.6,
                  ),
                  r = Math.floor(f.default.rnd(0, t.getScreenWidth()) * n),
                  a = Math.floor(f.default.rnd(0, t.getScreenHeight()) * n),
                  o = f.default.rnd(0, 3),
                  s = f.default.rnd(75, 125) / 100,
                  u = new l.default(i)
                    .setX(r)
                    .setY(a)
                    .setZ(n)
                    .setScale(s)
                    .setFrame(o);
                this.addSpaceObject(u);
              },
            },
          ]),
          e
        );
      }(h.default));
    e.default = p;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(14),
      s = n(o),
      u = i(87),
      l = n(u),
      c = i(676),
      h = n(c),
      d = window.fivenations,
      f = {},
      p = (function () {
        function t(e, i) {
          r(this, t),
          this.setMap(e),
          this.setGame(e.getGame()),
          this.createTexture(),
          this.createContainer(),
          this.addContainerToStarfieldGroup(),
          i.noStars || this.createStars(),
          this.createSpaceObjects(i.starfieldGenerator),
          this.sortSpaceObjects();
        }
        return (
          a(t, [
            {
              key: 'setMap',
              value(t) {
                if (!t) {
                  throw new Error('Map instance must be passed as first parameter!');
                }
                this.map = t;
              },
            },
            {
              key: 'setGame',
              value(t) {
                if (!t) { throw new Error('Phaser.Game instance must be passed as first parameter!'); }
                this.game = t;
              },
            },
            {
              key: 'createTexture',
              value() {
                let t = d.window,
                  e = t.width,
                  i = t.height;
                this.texture = this.game.add.renderTexture(
                  e,
                  i,
                  'Starfield.Stars.Texture',
                );
              },
            },
            {
              key: 'createContainer',
              value() {
                (this.container = this.game.add.image(0, 0, this.texture)),
                (this.container.fixedToCamera = !0);
              },
            },
            {
              key: 'addContainerToStarfieldGroup',
              value() {
                (this.group = s.default.getInstance().getGroup('starfield')),
                this.group.add(this.container);
              },
            },
            {
              key: 'createSpaceObjects',
              value(t) {
                this.spaceObjects || (this.spaceObjects = []),
                t && this.generateSpaceObjects(t);
              },
            },
            {
              key: 'generateSpaceObjects',
              value(t) {
                const e = this;
                if (t) {
                  const i = new t(this);
                  i.generate(),
                  i.getSpaceObjects().forEach(t => e.spaceObjects.push(t));
                }
              },
            },
            {
              key: 'sortSpaceObjects',
              value() {
                this.spaceObjects.sort((t, e) => t.z - e.z);
              },
            },
            {
              key: 'createStars',
              value() {
                const t = this;
                this.spaceObjects || (this.spaceObjects = []);
                const e = new h.default(this);
                e.generate(),
                e.getSpaceObjects().forEach(e => t.spaceObjects.push(e));
              },
            },
            {
              key: 'update',
              value() {
                if (this.map.isDirty()) {
                  for (let t = 0, e = this.spaceObjects.length; t < e; t += 1) {
                    this.spaceObjects[t].update(
                      this.texture,
                      this.game,
                      t === 0,
                    );
                  }
                }
              },
            },
            {
              key: 'remove',
              value() {
                this.clear(), this.group.remove(this.container);
              },
            },
            {
              key: 'clear',
              value() {
                for (; this.spaceObjects.length;) { this.spaceObjects.pop().remove(); }
              },
            },
            {
              key: 'add',
              value(t) {
                if (t && t.id) {
                  let e = t.id,
                    i = t.x,
                    n = t.y,
                    r = t.z,
                    a = t.scale,
                    o = this.game.cache.getJSON(e),
                    s = o.sprite,
                    u = o.customFrame,
                    c = o.animations,
                    h = this.getSprite(s);
                  h.frame = u;
                  let d = this.game.make.sprite(0, 0, h.generateTexture()),
                    f = new l.default(d);
                  f
                    .setX(i)
                    .setY(n)
                    .setZ(r)
                    .setScale(a)
                    .setAnimation(c),
                  this.spaceObjects.push(f),
                  this.sortSpaceObjects(),
                  this.map.forceRefresh();
                }
              },
            },
            {
              key: 'getSprite',
              value(t) {
                if (!t) {
                  throw new Error('Invalid id was given the fetch SpaceOjbect sprite!');
                }
                return f[t] || (f[t] = this.game.make.sprite(0, 0, t)), f[t];
              },
            },
            {
              key: 'getGame',
              value() {
                return this.game;
              },
            },
            {
              key: 'getMap',
              value() {
                return this.map;
              },
            },
            {
              key: 'getSprites',
              value() {
                return f;
              },
            },
          ]),
          t
        );
      }());
    e.default = p;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(671),
      l = n(u),
      c = i(674),
      h = n(c),
      d = i(88),
      f = n(d),
      p = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'generate',
              value() {
                this.createPlanet(), this.createClouds();
              },
            },
            {
              key: 'createPlanet',
              value() {
                let t = this,
                  e = new h.default(this.deepSpaceLayer);
                e.generate(),
                e.getSpaceObjects().forEach((e) => {
                  t.addSpaceObject(e);
                });
              },
            },
            {
              key: 'createClouds',
              value() {
                let t = this,
                  e = new l.default(this.deepSpaceLayer);
                e.generate(0.25),
                e.getSpaceObjects().forEach((e) => {
                  t.addSpaceObject(e);
                });
              },
            },
          ]),
          e
        );
      }(f.default));
    e.default = p;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(87),
      l = n(u),
      c = i(88),
      h = n(c),
      d = i(3),
      f = n(d),
      p = window.fivenations,
      g = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'generate',
              value(t) {
                this.createPlanet(t);
              },
            },
            {
              key: 'createPlanet',
              value() {
                for (
                  let t =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : 1,
                    e = 0;
                  e < t;
                  e += 1
                ) { this.createRandomizedPlanet(); }
              },
            },
            {
              key: 'createRandomizedPlanet',
              value() {
                let t = p.window.width,
                  e = p.window.height,
                  i = this.deepSpaceLayer.getMap(),
                  n = f.default.rnd(1, 2),
                  r = this.deepSpaceLayer.getSprite(`starfield.planets.type-${n}`),
                  a = Math.min(
                    Math.random() + 0.1,
                    Math.random() > 0.5 ? 0.25 : 0.6,
                  ),
                  o = Math.floor(f.default.rnd(0, i.getScreenWidth() - t) * a),
                  s = Math.floor(f.default.rnd(0, i.getScreenHeight() - e) * a),
                  u = f.default.rnd(0, 9),
                  c = f.default.rnd(100, 200) / 100,
                  h = new l.default(r)
                    .setX(o)
                    .setY(s)
                    .setZ(a)
                    .setScale(c)
                    .setFrame(u);
                this.addSpaceObject(h);
              },
            },
          ]),
          e
        );
      }(h.default));
    e.default = g;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = function t(e, i, n) {
        e === null && (e = Function.prototype);
        const r = Object.getOwnPropertyDescriptor(e, i);
        if (void 0 === r) {
          const a = Object.getPrototypeOf(e);
          return a === null ? void 0 : t(a, i, n);
        }
        if ('value' in r) return r.value;
        const o = r.get;
        return void 0 !== o ? o.call(n) : void 0;
      },
      u = i(87),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = window.fivenations,
      h = (function (t) {
        function e(t) {
          n(this, e);
          const i = r(
            this,
            (e.__proto__ || Object.getPrototypeOf(e)).call(this, t),
          );
          return i.setOffScreenDimensions(), i;
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'setOffScreenDimensions',
              value() {
                let t = c.window,
                  e = t.width,
                  i = t.height;
                this.offScreen = { width: e, height: i };
              },
            },
            {
              key: 'update',
              value(t, i, n) {
                s(
                  e.prototype.__proto__ || Object.getPrototypeOf(e.prototype),
                  'update',
                  this,
                ).call(this, t, i, n),
                this.x + (this.sprite.width - i.camera.x * this.z) < 0
                  ? this.setX(this.x + this.sprite.width + this.offScreen.width)
                  : this.x - i.camera.x * this.z > this.offScreen.width
                    ? this.setX(this.x - this.sprite.width - this.offScreen.width)
                    : this.y + (this.sprite.height - i.camera.y * this.z) < 0
                      ? this.setY(this.y + this.sprite.height + this.offScreen.height)
                      : this.y - i.camera.y * this.z > this.offScreen.height &&
                      this.setY(this.y - this.sprite.height - this.offScreen.height);
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = h;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s() {
      return Math.min(Math.random() + 0.05, 0.5);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(675),
      c = n(l),
      h = i(88),
      d = n(h),
      f = i(3),
      p = n(f),
      g = window.fivenations,
      y = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'generate',
              value() {
                this.createStars();
              },
            },
            {
              key: 'createRandomStarSprite',
              value() {
                let t = this.deepSpaceLayer.getSprite('background_stars'),
                  e = g.game.game,
                  i = p.default.rnd(0, 6);
                return (t.frame = i), e.make.sprite(0, 0, t.generateTexture());
              },
            },
            {
              key: 'createStar',
              value() {
                let t = g.window,
                  e = t.width,
                  i = t.height,
                  n = this.createRandomStarSprite(),
                  r = s();
                return new c.default(n)
                  .setX(p.default.rnd(0, e))
                  .setY(p.default.rnd(0, i))
                  .setZ(r);
              },
            },
            {
              key: 'createStars',
              value() {
                for (let t = 0; t < 50; t += 1) {
                  const e = this.createStar();
                  this.addSpaceObject(e);
                }
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = y;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(669),
      s = n(o),
      u = i(670),
      l = n(u),
      c = i(672),
      h = n(c),
      d = i(673),
      f = n(d),
      p = i(87),
      g = n(p),
      y = i(88),
      v = n(y),
      m = (function () {
        function t(e) {
          const i =
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          r(this, t),
          this.createBackground(e, i.backgroundTile),
          this.createBackgroundClouds(e, i),
          this.createDeepSpaceObjects(e, i);
        }
        return (
          a(t, [
            {
              key: 'createBackground',
              value(t, e) {
                this.background = new s.default(t, e);
              },
            },
            {
              key: 'createBackgroundClouds',
              value(t, e) {
                this.backgroundClouds = new l.default(t, e);
              },
            },
            {
              key: 'createDeepSpaceObjects',
              value(t, e) {
                this.deepSpaceLayer = new h.default(t, e);
              },
            },
            {
              key: 'resetLayers',
              value() {
                this.layers.splice();
              },
            },
            {
              key: 'update',
              value() {
                this.background.update(),
                this.deepSpaceLayer.update(),
                this.backgroundClouds.update();
              },
            },
            {
              key: 'getBackground',
              value() {
                return this.background;
              },
            },
            {
              key: 'getDeepSpaceLayer',
              value() {
                return this.deepSpaceLayer;
              },
            },
          ]),
          t
        );
      }());
    (m.SpaceObject = g.default),
    (m.SpaceObjectGenerator = v.default),
    (m.PlanetAreaGenerator = f.default),
    (e.default = m);
  },
  function (t, e, i) {
    function n() {
      for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
      a.default.apply(this, e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var r = i(5),
      a = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(r)),
      o = window.fivenations;
    (n.prototype = Object.create(a.default.prototype)),
    (n.prototype.constructor = n),
    (n.prototype.execute = function (t) {
      if (t.data) {
        const e = t.data;
        o.game.effectManager.add(e);
      }
    }),
    (e.default = n);
  },
  function (t, e, i) {
    function n(t) {
      const e = s.game.effectManager.getEffectByGUID(t);
      e && s.game.effectManager.remove(e);
    }
    function r() {
      for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
      o.default.apply(this, e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var a = i(5),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = window.fivenations;
    (r.prototype = Object.create(o.default.prototype)),
    (r.prototype.constructor = r),
    (r.prototype.execute = function (t) {
      t.targets &&
          t.targets.forEach((t) => {
            n(t);
          });
    }),
    (e.default = r);
  },
  function (t, e, i) {
    function n() {
      for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
      a.default.apply(this, e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var r = i(5),
      a = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(r)),
      o = window.fivenations;
    (n.prototype = Object.create(a.default.prototype)),
    (n.prototype.constructor = n),
    (n.prototype.execute = function (t) {
      if (t.targets && t.data) {
        const e = t.data.addAsLast || !1;
        t.targets.forEach((i) => {
          let n = o.game.entityManager.entities(t.data.targetEntity),
            r = o.game.entityManager.entities(i),
            a = t.data,
            s = a.targetFiring,
            u = a.triggeredByUser;
          r &&
              n &&
              (t.resetActivityQueue && r.reset(),
              r.attack({
                targetEntity: n,
                addAsLast: e,
                targetFiring: s,
                triggeredByUser: u,
              }));
        });
      }
    }),
    (e.default = n);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(5),
      l = n(u),
      c = i(1),
      h = n(c),
      d = i(11),
      f = n(d),
      p = i(4),
      g = n(p),
      y = window.fivenations,
      v = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'execute',
              value(t) {
                const e = this;
                t.targets &&
                  t.targets.forEach((t) => {
                    const i = y.game.entityManager.entities(t);
                    i &&
                      (e.refundPlayerByEntity(i),
                      i.isInUpgrade()
                        ? i.cancelUpgrade()
                        : i.isInSprout()
                          ? i.cancelHatch()
                          : e.blowUpConstruction(i),
                      e.emitGUIChangeEvent());
                  });
              },
            },
            {
              key: 'refundPlayerByEntity',
              value(t) {
                let e = t.getPlayer(),
                  i = h.default.getInstance(),
                  n = f.default.getInstance(),
                  r = this.getRefundIdByEntity(t),
                  a = n.getRequiredResources(r);
                i.synced.players(e).alter(a);
              },
            },
            {
              key: 'blowUpConstruction',
              value(t) {
                const e = h.default.getInstance();
                g.default.getInstance().isUserAuthorised() &&
                  e.synced.entities(t).remove();
              },
            },
            {
              key: 'emitGUIChangeEvent',
              value() {
                h.default
                  .getInstance()
                  .local.dispatch('gui/controlpanel/change');
              },
            },
            {
              key: 'getRefundIdByEntity',
              value(t) {
                return t.isInSprout()
                  ? t
                    .getActivityManager()
                    .getCurrentActivity()
                    .getEntityId()
                  : t.getDataObject().getId();
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = v;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t, e) {
      let i = d.default.getInstance(),
        n = p.default.getInstance(),
        r = n.getRequiredResources(e);
      i.synced.players(t).alter(r);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(5),
      c = n(l),
      h = i(1),
      d = n(h),
      f = i(11),
      p = n(f),
      g = i(4),
      y = n(g),
      v = window.fivenations,
      m = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.data &&
                  t.targets.forEach((e) => {
                    const i = v.game.entityManager.entities(e);
                    if (i) {
                      let n = i.getPlayer(),
                        r = t.data.productionSlotIdx,
                        a = i.getProductionManager().getSlotByIdx(r);
                      a &&
                        (y.default.getInstance().isUserAuthorised() &&
                          s(n, a.id),
                        i.cancelProduction(r));
                    }
                  });
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = m;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t, e) {
      let i = d.default.getInstance(),
        n = y.default.getInstance(),
        r = n.getRequiredResources(e);
      i.synced.players(t).alter(r);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(5),
      c = n(l),
      h = i(1),
      d = n(h),
      f = i(4),
      p = n(f),
      g = i(23),
      y = n(g),
      v = window.fivenations,
      m = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.targets.forEach((t) => {
                    const e = v.game.entityManager.entities(t);
                    if (e) {
                      const i = e.getPlayer();
                      p.default.getInstance().isUserAuthorised() &&
                        s(
                          i,
                          e.getResearchManager().getCurrentResearchSlot().id,
                        ),
                      e.cancelResearch();
                    }
                  });
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = m;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.data &&
                  t.targets.forEach((e) => {
                    const i = l.game.entityManager.entities(e);
                    if (i) {
                      let n = i.getDataObject(),
                        r = t.data,
                        a = r.titanium,
                        o = r.silicium,
                        s = r.uranium,
                        u = r.damage,
                        c = r.overwrite,
                        h = (a || 0) + (o || 0) + (s || 0);
                      if (c) {
                        void 0 !== a && n.setCargoTitanium(a),
                        void 0 !== o && n.setCargoSilicium(o),
                        void 0 !== s && n.setCargoUranium(s);
                      } else {
                        const d = n.getCargo();
                        n.setCargoTitanium(d.titanium + (a || 0)),
                        n.setCargoSilicium(d.silicium + (o || 0)),
                        n.setCargoUranium(d.uranium + (s || 0));
                      }
                      u && i.damage({ damage: u, ignoreArmor: !0 }),
                      i.dispatch('updateCargo', h === 0);
                    }
                  });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.data &&
                  t.targets.forEach((e) => {
                    const i = l.game.entityManager.entities(e);
                    if (i) {
                      const n = l.game.entityManager.entities(t.data.targetEntity);
                      n &&
                        n.getDataObject().isClassicMiningStation() &&
                        ((i.homeStation = n),
                        (n.deliverer = i),
                        n.on('remove', () => {
                          i.homeStation = null;
                        }),
                        i.on('remove', () => {
                          n.deliverer = null;
                        }),
                        i.deliver());
                    }
                  });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.targets.forEach((t) => {
                    const e = l.game.entityManager.entities(t);
                    if (e) {
                      const i = e.getHomeStation();
                      (e.homeStation = null), (i.deliverer = null);
                    }
                  });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.data &&
                  t.targets.forEach((e) => {
                    let i = l.game.entityManager.entities(t.data.targetEntity),
                      n = l.game.entityManager.entities(e);
                    n &&
                      i &&
                      i.getDataObject().getType() === 'mainbase' &&
                      n.returnResourceToCommand(i);
                  });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(5),
      l = n(u),
      c = i(1),
      h = n(c),
      d = i(103),
      f = n(d),
      p = window.fivenations,
      g = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'execute',
              value(t) {
                const e = this;
                if (t.targets) {
                  const i = h.default.getInstance();
                  t.targets.forEach((n) => {
                    let r = p.game.entityManager.entities(n),
                      a = t.data,
                      o = a.targetCoords,
                      s = a.spellId,
                      u = t.data.targetEntity;
                    if (
                      (u &&
                        (u = p.game.entityManager.entities(t.data.targetEntity)),
                      r)
                    ) {
                      if (!e.hasRequiredPower(s, r)) {
                        return void i.local.dispatch('resources/unsufficient/power');
                      }
                      t.resetActivityQueue && r.reset(),
                      r.castSpell({
                        targetEntity: u,
                        targetCoords: o,
                        spellId: s,
                      });
                    }
                  });
                }
              },
            },
            {
              key: 'hasRequiredPower',
              value(t, e) {
                let i = f.default.getInstance(),
                  n = i.getSpellDataById(t),
                  r = n.power;
                return !(r > 0) || e.getDataObject().getPower() >= r;
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = g;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                if (t.targets && t.data) {
                  const e = l.game.entityManager.entities(t.data.targetEntity);
                  t.targets.forEach((i) => {
                    const n = l.game.entityManager.entities(i);
                    n &&
                      (t.resetActivityQueue && n.reset(),
                      n.construct(e, t.addAsLast));
                  });
                }
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(5),
      l = n(u),
      c = i(1),
      h = n(c),
      d = i(33),
      f = n(d),
      p = window.fivenations,
      g = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'execute',
              value(t) {
                const e = this;
                if (!t.targets) return [];
                const i = [];
                return (
                  t.targets.forEach((t) => {
                    let n = h.default.getInstance(),
                      r = p.game.entityManager.entities(t);
                    if (r) {
                      i.push(r);
                      let a = r.getActivityManager(),
                        o = a.getCurrentActivity();
                      o &&
                        (o.kill(),
                        r.resetFrame(),
                        n.local.dispatch('entity/number/change'),
                        n.local.dispatch('user/resource/alter'),
                        n.local.dispatch('gui/controlpanel/change'),
                        r.dispatch('updateHangar'),
                        e.updatePlayerSummary(r));
                    }
                  }),
                  i
                );
              },
            },
            {
              key: 'updatePlayerSummary',
              value(t) {
                let e = f.default.getInstance(),
                  i = t.getPlayer();
                e.getPlayerSummaryCollector(i).buildingConstructed();
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = g;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(5),
      l = n(u),
      c = i(33),
      h = n(c),
      d = i(4),
      f = n(d),
      p = i(11),
      g = n(p),
      y = i(1),
      v = n(y),
      m = window.fivenations,
      b = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'execute',
              value(t) {
                if (t.data) {
                  let e = t.data,
                    i = m.game.entityManager.add(e);
                  e.madeByEntity && this.updatePlayerSummary(e, i),
                  this.checkInterceptorCarrier(i),
                  this.checkInterceptor(i),
                  m.game.eventEmitter.local.dispatch('entities/bot-added', i);
                }
              },
            },
            {
              key: 'checkInterceptor',
              value(t) {
                t.getDataObject().isInterceptor() &&
                  !t.getParent &&
                  t.setNoUserControl(!1);
              },
            },
            {
              key: 'checkInterceptorCarrier',
              value(t) {
                const e = t.getInterceptor();
                e &&
                  (function () {
                    for (
                      var i = g.default.getInstance(),
                        n = t.getSprite(),
                        r = n.position,
                        a = v.default.getInstance(),
                        o = 0;
                      o < e.initial;
                      o += 1
                    ) {
                      a.synced.entities
                        .add({
                          readyQuote: !1,
                          madeByEntity: !0,
                          parent: t,
                          id: e.interceptor,
                          team: t.getDataObject().getTeam(),
                          x: r.x,
                          y: r.y,
                          noUserControl: !0,
                          visible: !1,
                        })
                        .then(t => i.entities(t))
                        .then(e => t.dockTarget(e));
                    }
                  }());
              },
            },
            {
              key: 'updatePlayerSummary',
              value(t, e) {
                let i = t.id,
                  n = t.team,
                  r = h.default.getInstance(),
                  a = f.default.getInstance().getPlayerByTeam(n),
                  o = r.getPlayerSummaryCollector(a);
                o && o.unitProduced(i, e);
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = b;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                if (t.targets && t.data) {
                  const e = t.targets
                    .slice(0, 5)
                    .map(t => l.game.entityManager.entities(t))
                    .filter(t => t);
                  e.forEach((i) => {
                    if (i) {
                      t.resetActivityQueue && i.reset();
                      const n = e.filter(t => t !== i);
                      i.createConstructionSite(t.data, t.addAsLast, n);
                    }
                  });
                }
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.data &&
                  t.targets.forEach((e) => {
                    const i = l.game.entityManager.entities(e);
                    i &&
                      (t.resetActivityQueue && i.reset(),
                      i.createDeploymentSite(t.data));
                  });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t, e) {
      if (t && e) {
        let i = x.default.getInstance(),
          n = t.getPlayer();
        i.getPlayerSummaryCollector(n).entityKilled(e, t);
      }
    }
    function u(t, e) {
      const i = x.default.getInstance();
      if (t) {
        const n = t.getPlayer();
        n && i.getPlayerSummaryCollector(n).setFirstMilitaryConflict();
      }
      if (e) {
        const r = e.getPlayer();
        r && i.getPlayerSummaryCollector(r).setFirstMilitaryConflict();
      }
    }
    function l(t, e) {
      let i = t.getClosestAttackableHostileEntity(),
        n = t.getClosestAllyEntitiesInRange(),
        r = e.splashRange,
        a = e.doesSplashDamageAllies,
        o = e.emitterTeam,
        s = [];
      return (
        i && (s = s.concat(i)),
        n && (s = s.concat(n)),
        s
          .map(e => ({ entity: e, distance: O.default.distanceBetween(t, e) }))
          .filter(t => t.distance <= r)
          .filter(t => !(
            (!e.CHF && t.entity.getDataObject().isFighter()) ||
              (!e.CHB && t.entity.getDataObject().isBuilding()) ||
              (!a && o === t.entity.getTeam())
          ))
      );
    }
    function c(t, e, i) {
      let n = l(t, e),
        r = e.damage,
        a = e.damageShield;
      n.forEach((t) => {
        t.entity.damage({
          damage: Math.ceil(0.5 * r),
          damageShield: Math.ceil(0.5 * a),
        }) && s(i, t.entity);
      });
    }
    function h(t) {
      return t.getClosestAllyEntitiesInRange().filter(e => !!e.isIdling() && O.default.distanceBetween(t, e) <= 80);
    }
    function d(t, e) {
      e &&
        t.isIdling() &&
        _.default
          .getInstance()
          .synced.entities(t)
          .attack({ targetEntity: e });
    }
    function f(t) {
      if (t.isIdling()) {
        let e = t.getSprite().x - 100 + 200 * Math.random(),
          i = t.getSprite().y - 100 + 200 * Math.random();
        _.default
          .getInstance()
          .synced.entities(t)
          .move({ x: e, y: i });
      }
    }
    function p(t) {
      let e = t.getDockerEntity(),
        i = t.getDataObject();
      e &&
        e.hasRepairHangar() &&
        (i.getHull() > i.getMaxHull() * E.REPAIR_HANGAR_RETURN_TRESHOLD ||
          _.default
            .getInstance()
            .synced.entities(t)
            .getToDock({ targetEntity: e }));
    }
    function g(t, e) {
      if (e) {
        const i = h(t);
        _.default
          .getInstance()
          .synced.entities(i)
          .attack({ targetEntity: e });
      }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var y = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      v = i(5),
      m = n(v),
      b = i(1),
      _ = n(b),
      w = i(33),
      x = n(w),
      P = i(4),
      k = n(P),
      T = i(3),
      O = n(T),
      E = i(2),
      S = window.fivenations,
      C = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          y(e, [
            {
              key: 'execute',
              value(t) {
                let e = this,
                  i = t.targets,
                  n = t.data,
                  r = _.default.getInstance();
                if (i && n) {
                  let a = k.default.getInstance().isUserAuthorised(),
                    o = S.game.entityManager.entities(n.emitterEntity);
                  i.forEach((t) => {
                    const i = S.game.entityManager.entities(t);
                    if (i) {
                      i.getSpellManager().isActive('expandedshield') &&
                        n.damageShield &&
                        (n.damageShield = Math.floor(0.66 * n.damageShield)),
                      i.getSpellManager().isActive('nanoInfection') &&
                          ((n.damage = Math.floor(1.25 * n.damage)),
                          n.damageShield &&
                            (n.damageShield = Math.floor(1.25 * n.damageShield))),
                      i.getWeaponManager().hasMetallicScutes() &&
                          (n.hasMetallicScutes = !0);
                      const l = i.damage(n);
                      n.killOwner &&
                        r.synced
                          .entities(n.emitterEntity)
                          .remove({ silent: !0 }),
                      l &&
                          (i.cancelResearch(),
                          i.createRevengerEntities(),
                          i.destroyInterceptorChilds());
                      let h = _.default.getInstance(),
                        y = h.local;
                      if (i.isEntityControlledByUser()) {
                        let v = i.isOnScreen(),
                          m = i.getDataObject(),
                          b = m.getHull() / m.getMaxHull();
                        v ||
                          (i.getDataObject().isBuilding()
                            ? y.dispatch('entities/building-under-attack', i)
                            : y.dispatch('entities/entity-under-attack', i)),
                        l
                          ? y.dispatch('userEntityDestroyed')
                          : (y.dispatch('userEntityAttacked'),
                          b <= 0.1 &&
                                Math.random() < 0.25 &&
                                y.dispatch('user/entity/alert', i));
                      } else {
                        y.dispatch('entities/bot-under-attack', {
                          entityToDefend: i,
                          attackerEntity: o,
                        }),
                        l && y.dispatch('entities/bot-removed', i);
                      }
                      n.splashRange && c(i, n, o),
                      a &&
                          e.areEnemies(i, o) &&
                          (g(i, o),
                          l || (o.isTargetableByEntity(i) ? d(i, o) : f(i))),
                      a && i.canDock() && p(i),
                      l && s(o, i),
                      u(o, i);
                    }
                  });
                }
              },
            },
            {
              key: 'areEnemies',
              value(t, e) {
                return !(!t || !e) && e.getTeam() !== t.getTeam();
              },
            },
          ]),
          e
        );
      }(m.default));
    e.default = C;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r() {
      for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
      u.default.apply(this, e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var a = i(8),
      o = n(a),
      s = i(5),
      u = n(s),
      l = window.fivenations;
    (r.prototype = Object.create(u.default.prototype)),
    (r.prototype.constructor = r),
    (r.prototype.execute = function (t) {
      if (t.targets && t.data) {
        const e = t.data.addAsLast || !1;
        t.targets.forEach((i) => {
          let n = l.game.entityManager.entities(t.data.targetEntity),
            r = l.game.entityManager.entities(i);
          if (r && (t.resetActivityQueue && r.reset(), n)) {
            n.dockTarget(r, e);
            const a = o.default.getInstance();
            a.playAudioSprite({
              sprite: 'sfx',
              marker: 'carrier_dock',
              volume: a.calculateVolumeByCamera(n.getSprite()),
            });
          }
        });
      }
    }),
    (e.default = r);
  },
  function (t, e, i) {
    function n() {
      for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
      a.default.apply(this, e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var r = i(5),
      a = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(r)),
      o = window.fivenations;
    (n.prototype = Object.create(a.default.prototype)),
    (n.prototype.constructor = n),
    (n.prototype.execute = function (t) {
      t.targets &&
          t.data &&
          t.targets.forEach((e, i) => {
            let n = o.game.entityManager.entities(e),
              r = o.game.entityManager.entities(t.data.targetEntity);
            if (n && r && t.data.weaponGUIDs[i]) {
              const a = n
                .getWeaponManager()
                .getWeapons()
                .filter((e) => {
                  for (let n = t.data.weaponGUIDs[i].length - 1; n >= 0; n -= 1) { if (t.data.weaponGUIDs[i][n] === e.getGUID()) return !0; }
                  return !1;
                });
              t.resetActivityQueue && n.reset(), n.fire(r, a);
            }
          });
    }),
    (e.default = n);
  },
  function (t, e, i) {
    function n() {
      for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
      a.default.apply(this, e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var r = i(5),
      a = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(r)),
      o = window.fivenations;
    (n.prototype = Object.create(a.default.prototype)),
    (n.prototype.constructor = n),
    (n.prototype.execute = function (t) {
      t.targets &&
          t.data &&
          t.targets.forEach((e) => {
            let i = o.game.entityManager.entities(t.data.targetEntity),
              n = o.game.entityManager.entities(e);
            n && (t.resetActivityQueue && n.reset(), n.follow(i, t.addAsLast));
          });
    }),
    (e.default = n);
  },
  function (t, e, i) {
    function n() {
      for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
      a.default.apply(this, e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var r = i(5),
      a = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(r)),
      o = window.fivenations;
    (n.prototype = Object.create(a.default.prototype)),
    (n.prototype.constructor = n),
    (n.prototype.execute = function (t) {
      if (t.targets && t.data) {
        const e = t.data.addAsLast || !1;
        t.targets.forEach((i) => {
          let n = o.game.entityManager.entities(t.data.targetEntity),
            r = o.game.entityManager.entities(i);
          r &&
              (r.getDataObject().isEphemeralUnit() ||
                (t.resetActivityQueue && r.reset(), r.getToDock(n, e)));
        });
      }
    }),
    (e.default = n);
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.targets.forEach((e) => {
                    const i = l.game.entityManager.entities(e);
                    i && (t.resetActivityQueue && i.reset(), i.holdPosition());
                  });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.data &&
                  t.targets.forEach((e) => {
                    let i = l.game.entityManager.entities(t.data.targetEntity),
                      n = l.game.entityManager.entities(e);
                    n &&
                      (t.resetActivityQueue && n.reset(),
                      n.returnResourceToStation(i, t.addAsLast));
                  });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.data &&
                  t.targets.forEach((e) => {
                    let i = l.game.entityManager.entities(t.data.targetEntity),
                      n = l.game.entityManager.entities(e);
                    n &&
                      (t.resetActivityQueue && n.reset(),
                      n.mine(i, t.addAsLast));
                  });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n() {
      for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
      a.default.apply(this, e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var r = i(5),
      a = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(r)),
      o = window.fivenations;
    (n.prototype = Object.create(a.default.prototype)),
    (n.prototype.constructor = n),
    (n.prototype.execute = function (t) {
      t.targets &&
          t.data &&
          t.targets.forEach((e, i) => {
            const n = o.game.entityManager.entities(e);
            if (n) {
              let r = t.data.x || t.data[i].x,
                a = t.data.y || t.data[i].y;
              t.resetActivityQueue && n.reset(),
              n.moveTo(r, a, !1, t.addAsLast);
            }
          });
    }),
    (e.default = n);
  },
  function (t, e, i) {
    function n() {
      for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
      o.default.apply(this, e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var r =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      a = i(5),
      o = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(a)),
      s = window.fivenations;
    (n.prototype = Object.create(o.default.prototype)),
    (n.prototype.constructor = n),
    (n.prototype.execute = function (t) {
      t.targets &&
          t.data &&
          t.targets.forEach((e, i) => {
            let n = s.game.entityManager.entities(e),
              a = t.data.coords[i],
              o = a.x,
              u = a.y;
            n &&
              (t.resetActivityQueue && n.reset(),
              n.patrol(r({}, t.data, { x: o, y: u })));
          });
    }),
    (e.default = n);
  },
  function (t, e, i) {
    function n() {
      for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
      a.default.apply(this, e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var r = i(5),
      a = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(r)),
      o = window.fivenations;
    (n.prototype = Object.create(a.default.prototype)),
    (n.prototype.constructor = n),
    (n.prototype.execute = function (t) {
      t.targets &&
          t.data &&
          t.targets.forEach((e) => {
            const i = o.game.entityManager.entities(e);
            if (i) {
              let n = i.getSprite(),
                r = t.data,
                a = r.x,
                s = r.y;
              i.reset(), i.getMotionManager().reset(), (n.x = a), (n.y = s);
            }
          });
    }),
    (e.default = n);
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t, e) {
      let i = f.default.getInstance(),
        n = g.default.getInstance(),
        r = n.getRequiredResources(e);
      Object.keys(r).forEach((t) => {
        r[t] *= -1;
      }),
      i.synced.players(t.getGUID()).alter(r);
    }
    function u(t, e) {
      for (
        let i = g.default.getInstance(),
          n = f.default.getInstance(),
          r = v.default.getInstance(),
          a = r.getUser(),
          o = r.isUserAuthorised(),
          u = 0;
        u < t.length;
        u += 1
      ) {
        let l = t[u],
          c = u + 1,
          h = i.getRequiredResources(e),
          d = l.getProductionManager(),
          p = !0;
        if (
          (a.getTitanium() - h.titanium * c < 0 &&
            (n.local.dispatch('resources/unsufficient/titanium'), (p = !1)),
          a.getSilicium() - h.silicium * c < 0 &&
            (n.local.dispatch('resources/unsufficient/silicium'), (p = !1)),
          a.getUranium() - h.uranium * c < 0 &&
            (n.local.dispatch('resources/unsufficient/uranium'), (p = !1)),
          !p)
        ) { return; }
        if (d.isProductionLineFull()) return;
        if ((l.produce(e), o)) {
          const y = l.getPlayer();
          d.hasEnoughSupply(e) && s(y, e);
        }
      }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var l = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      c = i(5),
      h = n(c),
      d = i(1),
      f = n(d),
      p = i(11),
      g = n(p),
      y = i(4),
      v = n(y),
      m = window.fivenations,
      b = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          l(e, [
            {
              key: 'execute',
              value(t) {
                if (t.targets && t.data) {
                  const e = [];
                  if (
                    (t.targets.forEach((t) => {
                      const i = m.game.entityManager.entities(t);
                      i && e.push(i);
                    }),
                    !(e.length <= 0))
                  ) {
                    const i = t.data.targetId;
                    u(e, i);
                  }
                }
              },
            },
          ]),
          e
        );
      }(h.default));
    e.default = b;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.targets.forEach((e) => {
                    let i = l.game,
                      n = i.entityManager.entities(e);
                    n &&
                      (n.cancelResearch(),
                      n.createRevengerEntities(),
                      n.destroyInterceptorChilds(),
                      i.entityManager.remove(n, t.data),
                      i.eventEmitter.local.dispatch('entities/bot-removed', n));
                  });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                let e = t.targets,
                  i = t.data;
                e &&
                  i &&
                  e
                    .map(t => l.game.entityManager.entities(t))
                    .forEach((t) => {
                      t && t.repair(i);
                    });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t, e) {
      let i = d.default.getInstance(),
        n = y.default.getInstance(),
        r = n.getRequiredResources(e);
      Object.keys(r).forEach((t) => {
        r[t] *= -1;
      }),
      i.synced.players(t.getGUID()).alter(r);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(5),
      c = n(l),
      h = i(1),
      d = n(h),
      f = i(4),
      p = n(f),
      g = i(23),
      y = n(g),
      v = window.fivenations,
      m = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'execute',
              value(t) {
                if (t.targets && t.data) {
                  const e = p.default.getInstance().isUserAuthorised();
                  t.targets.forEach((i) => {
                    const n = v.game.entityManager.entities(i);
                    if (n) {
                      const r = t.data.targetId;
                      !n.getResearchManager().isResearching() &&
                        (n.research(r), e) &&
                        s(n.getPlayer(), r);
                    }
                  });
                }
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = m;
  },
  function (t, e, i) {
    function n() {
      for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
      a.default.apply(this, e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var r = i(5),
      a = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(r)),
      o = window.fivenations;
    (n.prototype = Object.create(a.default.prototype)),
    (n.prototype.constructor = n),
    (n.prototype.execute = function (t) {
      t.targets &&
          t.targets.forEach((t) => {
            const e = o.game.entityManager.entities(t);
            e && e.reset();
          });
    }),
    (e.default = n);
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.data &&
                  t.targets.forEach((e) => {
                    const i = l.game.entityManager.entities(e);
                    i && i.setRallyPoint(t.data.coords);
                  });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o =
        Object.assign ||
        function (t) {
          for (let e = 1; e < arguments.length; e++) {
            const i = arguments[e];
            for (const n in i) { Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]); }
          }
          return t;
        },
      s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(5),
      l = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(u)),
      c = window.fivenations,
      h = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          s(e, [
            {
              key: 'execute',
              value(t) {
                if (t.targets && t.data) {
                  let e = t.data.emitterEntity,
                    i = e && c.game.entityManager.entities(e);
                  t.targets.forEach((e) => {
                    const n = c.game.entityManager.entities(e);
                    if (n) {
                      let r = n.getSpellManager(),
                        a = t.data.spellId;
                      r.addSpellById(a, o({}, t.data, { emitterEntity: i }));
                    }
                  });
                }
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = h;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.targets.forEach((e) => {
                    const i = l.game.entityManager.entities(e);
                    if (i) {
                      let n = i.getSpellManager(),
                        r = t.data && t.data.spellId;
                      r ? n.removeSpellById(r) : n.removeAll();
                    }
                  });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.targets.forEach((e) => {
                    let i = l.game.entityManager.entities(e),
                      n = t.data.entityId;
                    i && i.sprout(n);
                  });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n() {
      for (var t = arguments.length, e = Array(t), i = 0; i < t; i++) { e[i] = arguments[i]; }
      a.default.apply(this, e);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var r = i(5),
      a = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(r)),
      o = window.fivenations;
    (n.prototype = Object.create(a.default.prototype)),
    (n.prototype.constructor = n),
    (n.prototype.execute = function (t) {
      t.targets &&
          t.targets.forEach((t) => {
            const e = o.game.entityManager.entities(t);
            e && e.stop();
          });
    }),
    (e.default = n);
  },
  function (t, e, i) {
    function n(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function r(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function a(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let o = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      s = i(5),
      u = (function (t) {
        return t && t.__esModule ? t : { default: t };
      }(s)),
      l = window.fivenations,
      c = (function (t) {
        function e() {
          return (
            n(this, e),
            r(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          a(e, t),
          o(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  t.targets.forEach((e) => {
                    const i = l.game.entityManager.entities(e);
                    i &&
                      (t.resetActivityQueue && i.reset(),
                      i.transform(t.addAsLast));
                  });
              },
            },
          ]),
          e
        );
      }(u.default));
    e.default = c;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t) {
      return t ? f.game.entityManager.entities(t) : null;
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(8),
      c = n(l),
      h = i(5),
      d = n(h),
      f = window.fivenations,
      p = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'execute',
              value(t) {
                if (!t.targets) return [];
                t.data || (t.data = {});
                let e = [].concat(t.data.rnd),
                  i = t.data,
                  n = i.clearBound,
                  r = i.onlyRepaired,
                  a = s(t.data.targetEntity),
                  o = [];
                return (
                  t.targets.forEach((i, u) => {
                    const l = s(i);
                    if (l) {
                      let h = l.getSprite(),
                        d = e[u];
                      t.resetActivityQueue && l.reset();
                      const f = l.undock({ targetEntity: a, onlyRepaired: r });
                      if (f && f.length) {
                        f
                          .map((t) => {
                            const e = t.getSprite();
                            return (e.x = h.x), (e.y = h.y), t;
                          })
                          .forEach((t, e) => {
                            n &&
                              (t.setDockerEntity(null), t.setNoUserControl(!1));
                            let i = d[e] || 0,
                              r = i.x,
                              a = i.y,
                              o = t.getSprite(),
                              s = 300 * r - 150,
                              u = 300 * a - 150;
                            t.moveTo(o.x + s, o.y + u);
                          }),
                        (o = o.concat(f));
                        const p = c.default.getInstance();
                        p.playAudioSprite({
                          sprite: 'sfx',
                          marker: 'carrier_undock',
                          volume: p.calculateVolumeByCamera(l.getSprite()),
                        });
                      }
                    }
                  }),
                  o
                );
              },
            },
          ]),
          e
        );
      }(d.default));
    e.default = p;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    function s(t, e) {
      let i = d.default.getInstance(),
        n = p.default.getInstance(),
        r = n.getRequiredResources(e);
      Object.keys(r).forEach((t) => {
        r[t] *= -1;
      }),
      i.synced.players(t.getGUID()).alter(r);
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var u = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      l = i(5),
      c = n(l),
      h = i(1),
      d = n(h),
      f = i(11),
      p = n(f),
      g = i(4),
      y = n(g),
      v = window.fivenations,
      m = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          u(e, [
            {
              key: 'execute',
              value(t) {
                t.targets &&
                  (t.targets.forEach((e) => {
                    const i = v.game.entityManager.entities(e);
                    i &&
                      (i.upgrade(t.upgradeTo),
                      y.default.getInstance().isUserAuthorised() &&
                        s(i.getPlayer(), t.upgradeTo));
                  }),
                  d.default
                    .getInstance()
                    .local.dispatch('gui/controlpanel/change'));
              },
            },
          ]),
          e
        );
      }(c.default));
    e.default = m;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let a = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      o = i(203),
      s = n(o),
      u = i(719),
      l = n(u),
      c = i(1),
      h = n(c),
      d = void 0,
      f = (function () {
        function t() {
          r(this, t),
          (this.eventbus = s.default.getInstance()),
          (this.factory = l.default.getInstance()),
          (this.emitter = h.default.getInstance());
        }
        return (
          a(t, [
            {
              key: 'run',
              value() {
                for (let t = void 0; (t = this.eventbus.next());) {
                  let e = this.factory.getEventObjectById(t.id),
                    i = e.execute(t);
                  this.emitter.local.dispatch(t.id, i),
                  t.callback && t.callback(i);
                }
              },
            },
            {
              key: 'reset',
              value() {
                this.eventbus.reset();
              },
            },
          ]),
          t
        );
      }());
    e.default = {
      getInstance() {
        return d || (d = new f()), d;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r() {
      const t = {
        'entity/move': new o.default(),
        'entity/holdposition': new u.default(),
        'entity/patrol': new c.default(),
        'entity/stop': new d.default(),
        'entity/create': new p.default(),
        'entity/remove': new y.default(),
        'entity/reset': new m.default(),
        'entity/fire': new _.default(),
        'entity/attack': new x.default(),
        'entity/getToDock': new k.default(),
        'entity/damage': new O.default(),
        'entity/follow': new S.default(),
        'entity/dock': new I.default(),
        'entity/undock': new A.default(),
        'entity/place': new L.default(),
        'entity/mine': new B.default(),
        'entity/mine/returnCargo': new F.default(),
        'entity/cargo/alter': new G.default(),
        'entity/cargo/attach': new W.default(),
        'entity/cargo/detach': new X.default(),
        'entity/cargo/returncommand': new z.default(),
        'entity/production/add': new q.default(),
        'entity/production/cancel': new Z.default(),
        'entity/research/add': new dt.default(),
        'entity/research/cancel': new pt.default(),
        'entity/construction/create': new tt.default(),
        'entity/construction/cancel': new it.default(),
        'entity/construction/completed': new ot.default(),
        'entity/construct': new rt.default(),
        'entity/setrallypoint': new ct.default(),
        'entity/repair': new Q.default(),
        'entity/deployment/create': new ut.default(),
        'entity/spell/add': new yt.default(),
        'entity/spell/remove': new mt.default(),
        'entity/transform': new _t.default(),
        'entity/upgrade': new xt.default(),
        'entity/sprout': new Lt.default(),
        'entity/castspell': new Bt.default(),
        'player/create': new kt.default(),
        'player/resource/alter': new Ot.default(),
        'player/research/completed': new St.default(),
        'effect/create': new It.default(),
        'effect/remove': new At.default(),
      };
      return {
        getEventObjectById(e) {
          if (!e) throw new Error('ID has not been passed to fetch the Event!');
          if (!t[e]) {
            throw new Error(`There is no event registered to the given ID (${e})!`);
          }
          return t[e];
        },
      };
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    var a = i(702),
      o = n(a),
      s = i(699),
      u = n(s),
      l = i(703),
      c = n(l),
      h = i(714),
      d = n(h),
      f = i(691),
      p = n(f),
      g = i(706),
      y = n(g),
      v = i(709),
      m = n(v),
      b = i(696),
      _ = n(b),
      w = i(680),
      x = n(w),
      P = i(698),
      k = n(P),
      T = i(694),
      O = n(T),
      E = i(697),
      S = n(E),
      C = i(695),
      I = n(C),
      M = i(716),
      A = n(M),
      R = i(704),
      L = n(R),
      D = i(701),
      B = n(D),
      j = i(700),
      F = n(j),
      U = i(684),
      G = n(U),
      N = i(685),
      W = n(N),
      H = i(686),
      X = n(H),
      V = i(687),
      z = n(V),
      Y = i(705),
      q = n(Y),
      K = i(707),
      Q = n(K),
      J = i(682),
      Z = n(J),
      $ = i(692),
      tt = n($),
      et = i(681),
      it = n(et),
      nt = i(689),
      rt = n(nt),
      at = i(690),
      ot = n(at),
      st = i(693),
      ut = n(st),
      lt = i(710),
      ct = n(lt),
      ht = i(708),
      dt = n(ht),
      ft = i(683),
      pt = n(ft),
      gt = i(711),
      yt = n(gt),
      vt = i(712),
      mt = n(vt),
      bt = i(715),
      _t = n(bt),
      wt = i(717),
      xt = n(wt),
      Pt = i(720),
      kt = n(Pt),
      Tt = i(722),
      Ot = n(Tt),
      Et = i(721),
      St = n(Et),
      Ct = i(678),
      It = n(Ct),
      Mt = i(679),
      At = n(Mt),
      Rt = i(713),
      Lt = n(Rt),
      Dt = i(688),
      Bt = n(Dt),
      jt = void 0;
    e.default = {
      getInstance() {
        return jt || (jt = r()), jt;
      },
    };
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) { throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`); }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(5),
      l = n(u),
      c = i(4),
      h = n(c),
      d = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'execute',
              value(t) {
                if (!t.data || !t.data.guid) {
                  throw new Error('Invalid data attribute to create a Player instance!');
                }
                return h.default.getInstance().addPlayer(t.data);
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = d;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(5),
      l = n(u),
      c = i(1),
      h = n(c),
      d = i(11),
      f = n(d),
      p = i(4),
      g = n(p),
      y = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'execute',
              value(t) {
                if (!t.data || !t.data.guid) return null;
                let e = t.data,
                  i = e.researchId,
                  n = e.entity,
                  r = this.getPlayer(t.data);
                return (
                  r.setReseachCompleted(i),
                  this.upgradeAllEntitiesOfPlayerByReseach(r, i),
                  this.updateControlPage(),
                  n
                );
              },
            },
            {
              key: 'upgradeAllEntitiesOfPlayerByReseach',
              value(t, e) {
                f.default
                  .getInstance()
                  .entities(`:player(${t.getTeam()})`)
                  .forEach(t => t.upgradeByResearch(e));
              },
            },
            {
              key: 'updateControlPage',
              value() {
                h.default
                  .getInstance()
                  .local.dispatch('gui/controlpage/update');
              },
            },
            {
              key: 'getPlayer',
              value(t) {
                const e = t.guid;
                return g.default.getInstance().getPlayerByGUID(e);
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = y;
  },
  function (t, e, i) {
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    function r(t, e) {
      if (!(t instanceof e)) { throw new TypeError('Cannot call a class as a function'); }
    }
    function a(t, e) {
      if (!t) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return !e || (typeof e !== 'object' && typeof e !== 'function') ? t : e;
    }
    function o(t, e) {
      if (typeof e !== 'function' && e !== null) {
        throw new TypeError(`Super expression must either be null or a function, not ${typeof e}`);
      }
      (t.prototype = Object.create(e && e.prototype, {
        constructor: {
          value: t,
          enumerable: !1,
          writable: !0,
          configurable: !0,
        },
      })),
      e &&
          (Object.setPrototypeOf
            ? Object.setPrototypeOf(t, e)
            : (t.__proto__ = e));
    }
    Object.defineProperty(e, '__esModule', { value: !0 });
    let s = (function () {
        function t(t, e) {
          for (let i = 0; i < e.length; i++) {
            const n = e[i];
            (n.enumerable = n.enumerable || !1),
            (n.configurable = !0),
            'value' in n && (n.writable = !0),
            Object.defineProperty(t, n.key, n);
          }
        }
        return function (e, i, n) {
          return i && t(e.prototype, i), n && t(e, n), e;
        };
      }()),
      u = i(5),
      l = n(u),
      c = i(1),
      h = n(c),
      d = i(33),
      f = n(d),
      p = i(4),
      g = n(p),
      y = (function (t) {
        function e() {
          return (
            r(this, e),
            a(
              this,
              (e.__proto__ || Object.getPrototypeOf(e)).apply(this, arguments),
            )
          );
        }
        return (
          o(e, t),
          s(e, [
            {
              key: 'execute',
              value(t) {
                const e = g.default.getInstance().getPlayerByGUID(t.data.guid);
                this.alterPlayerResources(e, t.data),
                this.recordSpendingsForSummary(e, t.data),
                this.notifyUser(e);
              },
            },
            {
              key: 'alterPlayerResources',
              value(t, e) {
                let i = e.titanium,
                  n = e.silicium,
                  r = e.energy,
                  a = e.uranium;
                if (e.overwrite) {
                  void 0 !== i && t.setTitanium(i),
                  void 0 !== n && t.setSilicium(n),
                  void 0 !== r && t.setEnergy(r),
                  void 0 !== a && t.setUranium(a);
                } else {
                  let o = t.getTitanium(),
                    s = t.getSilicium(),
                    u = t.getEnergy(),
                    l = t.getUranium();
                  t.setTitanium(o + (i || 0)),
                  t.setSilicium(s + (n || 0)),
                  t.setEnergy(u + (r || 0)),
                  t.setUranium(l + (a || 0));
                }
                e.builderGuid && t.removeBlockedResource(e.builderGuid);
              },
            },
            {
              key: 'recordSpendingsForSummary',
              value(t, e) {
                if (!e.grantInitialResoures) {
                  let i = e.titanium,
                    n = e.silicium,
                    r = e.energy,
                    a = e.uranium,
                    o = f.default.getInstance(),
                    s = o.getPlayerSummaryCollector(t);
                  s &&
                    (i < 0 ? s.addSpent(i) : s.addTitanium(i),
                    n < 0 ? s.addSpent(n) : s.addSilicium(n),
                    a < 0 ? s.addSpent(a) : s.addUranium(a),
                    r < 0 ? s.addSpent(r) : s.addEnergy(r));
                }
              },
            },
            {
              key: 'notifyUser',
              value(t) {
                t.isControlledByUser() &&
                  h.default.getInstance().local.dispatch('user/resource/alter');
              },
            },
          ]),
          e
        );
      }(l.default));
    e.default = y;
  },
  function (t, e, i) {
    Phaser.Video.prototype.createVideoFromURL = function (t, e) {
      return (
        void 0 === e && (e = !1),
        this.texture && (this.texture.valid = !1),
        (this.video = document.createElement('video')),
        (this.video.controls = !1),
        e && this.video.setAttribute('autoplay', 'autoplay'),
        (this.video.crossOrigin = 'anonymous'),
        (this.video.src = t),
        (this.video.canplay = !0),
        this.video.load(),
        (this.retry = this.retryLimit),
        (this._retryID = window.setTimeout(
          this.checkVideoProgress.bind(this),
          this.retryInterval,
        )),
        (this.key = t),
        this
      );
    };
  },
  function (t, e, i) {
    const n = i(411);
    (e = t.exports = i(410)(!1)),
    e.push([
      t.i,
      `*{font-display:block}@font-face{font-family:BerlinSansFB-Bold;src:url(${
        n(i(725))
      }?#iefix) format("embedded-opentype"),url(${
        n(i(727))
      }) format("truetype"),url(${
        n(i(728))
      }) format("woff"),url(${
        n(i(726))
      }#BerlinSansFB-Bold) format("svg");font-weight:400;font-style:normal}@font-face{font-family:BerlinSansFB-Reg;src:url(${
        n(i(729))
      }?#iefix) format("embedded-opentype"),url(${
        n(i(731))
      }) format("truetype"),url(${
        n(i(732))
      }) format("woff"),url(${
        n(i(730))
      }#BerlinSansFB-Reg) format("svg");font-weight:400;font-style:normal}@font-face{font-family:conthraxsemibold;src:url(${
        n(i(733))
      }?#iefix) format("embedded-opentype"),url(${
        n(i(735))
      }) format("truetype"),url(${
        n(i(736))
      }) format("woff"),url(${
        n(i(734))
      }#conthraxsemibold) format("svg");font-weight:400;font-style:normal}`,
      '',
    ]);
  },
  function (t, e) {
    t.exports = 'assets/fonts/BerlinSansFB-Bold.eot';
  },
  function (t, e) {
    t.exports = 'assets/fonts/BerlinSansFB-Bold.svg';
  },
  function (t, e) {
    t.exports = 'assets/fonts/BerlinSansFB-Bold.ttf';
  },
  function (t, e) {
    t.exports = 'assets/fonts/BerlinSansFB-Bold.woff';
  },
  function (t, e) {
    t.exports = 'assets/fonts/BerlinSansFB-Reg.eot';
  },
  function (t, e) {
    t.exports = 'assets/fonts/BerlinSansFB-Reg.svg';
  },
  function (t, e) {
    t.exports = 'assets/fonts/BerlinSansFB-Reg.ttf';
  },
  function (t, e) {
    t.exports = 'assets/fonts/BerlinSansFB-Reg.woff';
  },
  function (t, e) {
    t.exports = 'assets/fonts/conthraxsemibold.eot';
  },
  function (t, e) {
    t.exports = 'assets/fonts/conthraxsemibold.svg';
  },
  function (t, e) {
    t.exports = 'assets/fonts/conthraxsemibold.ttf';
  },
  function (t, e) {
    t.exports = 'assets/fonts/conthraxsemibold.woff';
  },
  function (t, e, i) {
    function n(t, e) {
      for (let i = 0; i < t.length; i++) {
        let n = t[i],
          r = p[n.id];
        if (r) {
          r.refs++;
          for (var a = 0; a < r.parts.length; a++) r.parts[a](n.parts[a]);
          for (; a < n.parts.length; a++) r.parts.push(c(n.parts[a], e));
        } else {
          for (var o = [], a = 0; a < n.parts.length; a++) { o.push(c(n.parts[a], e)); }
          p[n.id] = { id: n.id, refs: 1, parts: o };
        }
      }
    }
    function r(t) {
      for (var e = [], i = {}, n = 0; n < t.length; n++) {
        let r = t[n],
          a = r[0],
          o = r[1],
          s = r[2],
          u = r[3],
          l = { css: o, media: s, sourceMap: u };
        i[a] ? i[a].parts.push(l) : e.push((i[a] = { id: a, parts: [l] }));
      }
      return e;
    }
    function a(t, e) {
      const i = y(t.insertInto);
      if (!i) {
        throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
      }
      const n = b[b.length - 1];
      if (t.insertAt === 'top') {
        n
          ? n.nextSibling
            ? i.insertBefore(e, n.nextSibling)
            : i.appendChild(e)
          : i.insertBefore(e, i.firstChild),
        b.push(e);
      } else {
        if (t.insertAt !== 'bottom') {
          throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");
        }
        i.appendChild(e);
      }
    }
    function o(t) {
      t.parentNode.removeChild(t);
      const e = b.indexOf(t);
      e >= 0 && b.splice(e, 1);
    }
    function s(t) {
      const e = document.createElement('style');
      return (t.attrs.type = 'text/css'), l(e, t.attrs), a(t, e), e;
    }
    function u(t) {
      const e = document.createElement('link');
      return (
        (t.attrs.type = 'text/css'),
        (t.attrs.rel = 'stylesheet'),
        l(e, t.attrs),
        a(t, e),
        e
      );
    }
    function l(t, e) {
      Object.keys(e).forEach((i) => {
        t.setAttribute(i, e[i]);
      });
    }
    function c(t, e) {
      let i,
        n,
        r;
      if (e.singleton) {
        const a = m++;
        (i = v || (v = s(e))),
        (n = h.bind(null, i, a, !1)),
        (r = h.bind(null, i, a, !0));
      } else {
        t.sourceMap &&
        typeof URL === 'function' &&
        typeof URL.createObjectURL === 'function' &&
        typeof URL.revokeObjectURL === 'function' &&
        typeof Blob === 'function' &&
        typeof btoa === 'function'
          ? ((i = u(e)),
          (n = f.bind(null, i, e)),
          (r = function () {
            o(i), i.href && URL.revokeObjectURL(i.href);
          }))
          : ((i = s(e)),
          (n = d.bind(null, i)),
          (r = function () {
            o(i);
          }));
      }
      return (
        n(t),
        function (e) {
          if (e) {
            if (
              e.css === t.css &&
              e.media === t.media &&
              e.sourceMap === t.sourceMap
            ) { return; }
            n((t = e));
          } else r();
        }
      );
    }
    function h(t, e, i, n) {
      const r = i ? '' : n.css;
      if (t.styleSheet) t.styleSheet.cssText = w(e, r);
      else {
        let a = document.createTextNode(r),
          o = t.childNodes;
        o[e] && t.removeChild(o[e]),
        o.length ? t.insertBefore(a, o[e]) : t.appendChild(a);
      }
    }
    function d(t, e) {
      let i = e.css,
        n = e.media;
      if ((n && t.setAttribute('media', n), t.styleSheet)) { t.styleSheet.cssText = i; } else {
        for (; t.firstChild;) t.removeChild(t.firstChild);
        t.appendChild(document.createTextNode(i));
      }
    }
    function f(t, e, i) {
      let n = i.css,
        r = i.sourceMap,
        a = void 0 === e.convertToAbsoluteUrls && r;
      (e.convertToAbsoluteUrls || a) && (n = _(n)),
      r &&
          (n +=
            `\n/*# sourceMappingURL=data:application/json;base64,${
              btoa(unescape(encodeURIComponent(JSON.stringify(r))))
            } */`);
      let o = new Blob([n], { type: 'text/css' }),
        s = t.href;
      (t.href = URL.createObjectURL(o)), s && URL.revokeObjectURL(s);
    }
    var p = {},
      g = (function (t) {
        let e;
        return function () {
          return void 0 === e && (e = t.apply(this, arguments)), e;
        };
      }(() => window && document && document.all && !window.atob)),
      y = (function (t) {
        const e = {};
        return function (i) {
          return void 0 === e[i] && (e[i] = t.call(this, i)), e[i];
        };
      }(t => document.querySelector(t))),
      v = null,
      m = 0,
      b = [],
      _ = i(422);
    t.exports = function (t, e) {
      if (typeof DEBUG !== 'undefined' && DEBUG && typeof document !== 'object') { throw new Error('The style-loader cannot be used in a non-browser environment'); }
      (e = e || {}),
      (e.attrs = typeof e.attrs === 'object' ? e.attrs : {}),
      void 0 === e.singleton && (e.singleton = g()),
      void 0 === e.insertInto && (e.insertInto = 'head'),
      void 0 === e.insertAt && (e.insertAt = 'bottom');
      const i = r(t);
      return (
        n(i, e),
        function (t) {
          for (var a = [], o = 0; o < i.length; o++) {
            var s = i[o],
              u = p[s.id];
            u.refs--, a.push(u);
          }
          t && n(r(t), e);
          for (var o = 0; o < a.length; o++) {
            var u = a[o];
            if (u.refs === 0) {
              for (let l = 0; l < u.parts.length; l++) u.parts[l]();
              delete p[u.id];
            }
          }
        }
      );
    };
    var w = (function () {
      const t = [];
      return function (e, i) {
        return (t[e] = i), t.filter(Boolean).join('\n');
      };
    }());
  },
  function (t, e, i) {
    let n = i(724);
    typeof n === 'string' && (n = [[t.i, n, '']]),
    i(737)(n, {}),
    n.locals && (t.exports = n.locals);
  },
  function (t, e) {
    t.exports = {
      produce: 'gui_btn_47_spc.png',
      research: 'gui_btn_47_spc.png',
      move: 'gui_btn_01_move.png',
      stop: 'gui_btn_02_stop.png',
      follow: 'gui_btn_05_defendunit.png',
      patrol: 'gui_btn_03_patrol.png',
      hold: 'gui_btn_04_hold.png',
      defend: 'gui_btn_05_defendunit.png',
      attack: 'gui_btn_06_attack.png',
      retreat: 'gui_btn_07_retreat.png',
      undock: 'gui_btn_08_undock.png',
      dock: 'gui_btn_09_dock.png',
      attach: 'gui_btn_09_dock.png',
      mining: 'gui_btn_10_mining.png',
      build: 'gui_btn_11_build.png',
      repairPod: 'gui_btn_12_repairpod.png',
      exploratoryBay: 'gui_btn_14_exploratorybay.png',
      shieldBattery: 'gui_btn_13_shieldbattery.png',
      nuclearStrike: 'gui_btn_15_nuclearstrike.png',
      warpEngine: 'gui_btn_16_warpengine.png',
      forcedShield: 'gui_btn_17_forcedshield.png',
      commandoutpost: 'gui_btn_18_commandoutpost.png',
      vision: 'gui_btn_19_vision.png',
      blackHole: 'gui_btn_20_blackhole.png',
      defensiveStasis: 'gui_btn_21_defensivestasis.png',
      assimilation: 'gui_btn_22_assimilation.png',
      recall: 'gui_btn_23_recall.png',
      nanoVirus: 'gui_btn_24_nanovirus.png',
      concealment: 'gui_btn_25_tacticalgrapling.png',
      overVoltage: 'gui_btn_26_overvoltage.png',
      antimatterCloud: 'gui_btn_27_antimattercloud.png',
      establishBase: 'gui_btn_28_buildbase.png',
      suicide: 'gui_btn_29_suicide.png',
      recycling: 'gui_btn_30_recycling.png',
      remedialIntegration: 'gui_btn_31_remedialintegration.png',
      observativelIntegration: 'gui_btn_32_observativelintegration.png',
      acidicSpores: 'gui_btn_33_acidicspores.png',
      teredoSwarm: 'gui_btn_34_controlmeteorite.png',
      protectiveCloud: 'gui_btn_35_protectivecloud.png',
      back: 'gui_btn_36_back.png',
      demolish: 'gui_btn_37_demolish.png',
      constructionPage: 'gui_btn_38_construct.png',
      cancel: 'gui_btn_39_cancel.png',
      cancelProduction: 'gui_btn_39_cancel.png',
      cancelResearch: 'gui_btn_39_cancel.png',
      cancelConstruction: 'gui_btn_39_cancel.png',
      setRallyPoint: 'gui_btn_40_setrallypoint.png',
      magneticField: 'gui_btn_42_magneticfield.png',
      subspaceShift: 'gui_btn_43_subspaceshift.png',
      tractorSystem: 'gui_btn_44_subspaceshift.png',
      adrenalin: 'gui_btn_45_adrenalin.png',
    };
  },
  function (t, e, i) {
    i(204), i(206), i(208), i(207), (t.exports = i(205));
  },
]));
